function r0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Xu(e){return r0(e)&&typeof e._ref=="string"}function lMe(e){return r0(e)&&Xu(e.asset)&&e.asset._ref.startsWith("image-")}function dve(e){return r0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function cMe(e){return r0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function eF(e){return r0(e)&&typeof e._type=="string"}function Cl(e){return r0(e)&&typeof e._key=="string"}function uMe(e){return e.level==="error"}const dMe=/_key\s*==\s*['"](.*)['"]/,fMe=/^\d*:\d*$/;function vl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Or(e){return typeof e=="string"?dMe.test(e.trim()):typeof e=="object"&&"_key"in e}function jp(e){if(typeof e=="string"&&fMe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function h2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Vf(e){return h2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>h2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>h2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Ks(e){return h2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function hMe(e){return Vf(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function tm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ha(e){return tm(e)?e.jsonType==="object":!1}function Rl(e){return tm(e)?e.jsonType==="array":!1}function tF(e){return Rl(e)&&e.of.every(t=>Ha(t))}function pMe(e){return Rl(e)&&e.of.every(t=>hve(t))}function Ux(e){return tm(e)?e.jsonType==="boolean":!1}function fve(e){return tm(e)?e.jsonType==="string":!1}function Tp(e){return tm(e)?e.jsonType==="number":!1}function hve(e){return Ux(e)||fve(e)||Tp(e)}function Su(e){return tm(e)&&(e.name==="reference"||Su(e.type))}function nF(e){return tm(e)&&(e.name==="crossDatasetReference"||nF(e.type))}function rF(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function pve(e,t){return e}function mMe(e,t){return e}function gMe(e){return e.level==="error"}function vMe(e){return e.level==="warning"}var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yMe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var mve={exports:{}},k5={},gve={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=Symbol.for("react.element"),bMe=Symbol.for("react.portal"),xMe=Symbol.for("react.fragment"),wMe=Symbol.for("react.strict_mode"),CMe=Symbol.for("react.profiler"),_Me=Symbol.for("react.provider"),SMe=Symbol.for("react.context"),EMe=Symbol.for("react.forward_ref"),kMe=Symbol.for("react.suspense"),jMe=Symbol.for("react.memo"),TMe=Symbol.for("react.lazy"),Sz=Symbol.iterator;function AMe(e){return e===null||typeof e!="object"?null:(e=Sz&&e[Sz]||e["@@iterator"],typeof e=="function"?e:null)}var vve={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yve=Object.assign,bve={};function o0(e,t,n){this.props=e,this.context=t,this.refs=bve,this.updater=n||vve}o0.prototype.isReactComponent={};o0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};o0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xve(){}xve.prototype=o0.prototype;function oF(e,t,n){this.props=e,this.context=t,this.refs=bve,this.updater=n||vve}var iF=oF.prototype=new xve;iF.constructor=oF;yve(iF,o0.prototype);iF.isPureReactComponent=!0;var Ez=Array.isArray,wve=Object.prototype.hasOwnProperty,sF={current:null},Cve={key:!0,ref:!0,__self:!0,__source:!0};function _ve(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)wve.call(t,r)&&!Cve.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Wx,type:e,key:i,ref:s,props:o,_owner:sF.current}}function DMe(e,t){return{$$typeof:Wx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function aF(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wx}function IMe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kz=/\/+/g;function uD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IMe(""+e.key):t.toString(36)}function p2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Wx:case bMe:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+uD(s,0):r,Ez(o)?(n="",e!=null&&(n=e.replace(kz,"$&/")+"/"),p2(o,t,n,"",function(u){return u})):o!=null&&(aF(o)&&(o=DMe(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(kz,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Ez(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+uD(i,a);s+=p2(i,t,n,c,o)}else if(c=AMe(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+uD(i,a++),s+=p2(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function bC(e,t,n){if(e==null)return e;var r=[],o=0;return p2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function OMe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xi={current:null},m2={transition:null},PMe={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:m2,ReactCurrentOwner:sF};Ut.Children={map:bC,forEach:function(e,t,n){bC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bC(e,function(){t++}),t},toArray:function(e){return bC(e,function(t){return t})||[]},only:function(e){if(!aF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=o0;Ut.Fragment=xMe;Ut.Profiler=CMe;Ut.PureComponent=oF;Ut.StrictMode=wMe;Ut.Suspense=kMe;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PMe;Ut.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yve({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=sF.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)wve.call(t,c)&&!Cve.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wx,type:e.type,key:o,ref:i,props:r,_owner:s}};Ut.createContext=function(e){return e={$$typeof:SMe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_Me,_context:e},e.Consumer=e};Ut.createElement=_ve;Ut.createFactory=function(e){var t=_ve.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:EMe,render:e}};Ut.isValidElement=aF;Ut.lazy=function(e){return{$$typeof:TMe,_payload:{_status:-1,_result:e},_init:OMe}};Ut.memo=function(e,t){return{$$typeof:jMe,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=m2.transition;m2.transition={};try{e()}finally{m2.transition=t}};Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ut.useCallback=function(e,t){return Xi.current.useCallback(e,t)};Ut.useContext=function(e){return Xi.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return Xi.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return Xi.current.useEffect(e,t)};Ut.useId=function(){return Xi.current.useId()};Ut.useImperativeHandle=function(e,t,n){return Xi.current.useImperativeHandle(e,t,n)};Ut.useInsertionEffect=function(e,t){return Xi.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return Xi.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return Xi.current.useMemo(e,t)};Ut.useReducer=function(e,t,n){return Xi.current.useReducer(e,t,n)};Ut.useRef=function(e){return Xi.current.useRef(e)};Ut.useState=function(e){return Xi.current.useState(e)};Ut.useSyncExternalStore=function(e,t,n){return Xi.current.useSyncExternalStore(e,t,n)};Ut.useTransition=function(){return Xi.current.useTransition()};Ut.version="18.2.0";gve.exports=Ut;var h=gve.exports;const ie=Oe(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RMe=h,$Me=Symbol.for("react.element"),MMe=Symbol.for("react.fragment"),FMe=Object.prototype.hasOwnProperty,LMe=RMe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BMe={key:!0,ref:!0,__self:!0,__source:!0};function Sve(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)FMe.call(t,r)&&!BMe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$Me,type:e,key:i,ref:s,props:o,_owner:LMe.current}}k5.Fragment=MMe;k5.jsx=Sve;k5.jsxs=Sve;mve.exports=k5;var l=mve.exports;const NMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zMe=/_key\s*==\s*['"](.*)['"]/,Eve=[],kve="$";function nm(e,t,n){const r=typeof t=="string"?_l(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(vl(s)){if(!Array.isArray(o))return n;o=o[s]}if(Or(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const dD=new Map;function rm(e){if(e.length===0)return Eve;const t=jr(e);return dD.has(t)?dD.get(t):(dD.set(t,e),Object.freeze(e),e)}function yn(e,t){return e.length===t.length&&e.every((n,r)=>j5(n,t[r]))}function VMe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!j5(e[r],t[r]))return r;return n}function j5(e,t){return Or(e)&&Or(t)?e._key===t._key:vl(e)?Number(e)===Number(t):jp(e)&&jp(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function yi(e,t){return e.every((n,r)=>j5(n,t[r]))}function Py(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return j5(n,o)?rm(Py(r,i)):t}function lF(e,t){return yi(e,t)?Py(e,t):Eve}function jr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Or(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function d3(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...d3(i,r)]}const o=nm(e,[n]);return[n,...d3(o,r)]}function HMe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return rm(d3(e,t))}function _l(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(NMe);if(!t)throw new Error("Invalid path string");return t.map(UMe)}function UMe(e){return vl(e)?WMe(e):Or(e)?YMe(e):jp(e)?qMe(e):e}function WMe(e){return Number(e.replace(/[^\d]/g,""))}function YMe(e){return{_key:e.match(zMe)[1]}}function qMe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var GMe=typeof Element<"u",KMe=typeof Map=="function",ZMe=typeof Set=="function",XMe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function g2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!g2(e[r],t[r]))return!1;return!0}var i;if(KMe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!g2(r.value[1],t.get(r.value[0])))return!1;return!0}if(ZMe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(XMe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(GMe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!g2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var QMe=function(t,n){try{return g2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const cF=Oe(QMe);function JMe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ua=JMe;const Yx=Oe(Ua);var e4e=typeof bs=="object"&&bs&&bs.Object===Object&&bs,jve=e4e,t4e=jve,n4e=typeof self=="object"&&self&&self.Object===Object&&self,r4e=t4e||n4e||Function("return this")(),$l=r4e,o4e=$l,i4e=function(){return o4e.Date.now()},s4e=i4e,a4e=/\s/;function l4e(e){for(var t=e.length;t--&&a4e.test(e.charAt(t)););return t}var c4e=l4e,u4e=c4e,d4e=/^\s+/;function f4e(e){return e&&e.slice(0,u4e(e)+1).replace(d4e,"")}var Tve=f4e,h4e=$l,p4e=h4e.Symbol,i0=p4e,jz=i0,Ave=Object.prototype,m4e=Ave.hasOwnProperty,g4e=Ave.toString,p1=jz?jz.toStringTag:void 0;function v4e(e){var t=m4e.call(e,p1),n=e[p1];try{e[p1]=void 0;var r=!0}catch{}var o=g4e.call(e);return r&&(t?e[p1]=n:delete e[p1]),o}var y4e=v4e,b4e=Object.prototype,x4e=b4e.toString;function w4e(e){return x4e.call(e)}var C4e=w4e,Tz=i0,_4e=y4e,S4e=C4e,E4e="[object Null]",k4e="[object Undefined]",Az=Tz?Tz.toStringTag:void 0;function j4e(e){return e==null?e===void 0?k4e:E4e:Az&&Az in Object(e)?_4e(e):S4e(e)}var Hf=j4e;function T4e(e){return e!=null&&typeof e=="object"}var Wa=T4e,A4e=Hf,D4e=Wa,I4e="[object Symbol]";function O4e(e){return typeof e=="symbol"||D4e(e)&&A4e(e)==I4e}var om=O4e,P4e=Tve,Dz=Ua,R4e=om,Iz=0/0,$4e=/^[-+]0x[0-9a-f]+$/i,M4e=/^0b[01]+$/i,F4e=/^0o[0-7]+$/i,L4e=parseInt;function B4e(e){if(typeof e=="number")return e;if(R4e(e))return Iz;if(Dz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Dz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=P4e(e);var n=M4e.test(e);return n||F4e.test(e)?L4e(e.slice(2),n?2:8):$4e.test(e)?Iz:+e}var Dve=B4e,N4e=Ua,fD=s4e,Oz=Dve,z4e="Expected a function",V4e=Math.max,H4e=Math.min;function U4e(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(z4e);t=Oz(t)||0,N4e(n)&&(d=!!n.leading,f="maxWait"in n,i=f?V4e(Oz(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-c,j=S-u,k=t-E;return f?H4e(k,i-j):k}function b(S){var E=S-c,j=S-u;return c===void 0||E>=t||E<0||f&&j>=i}function x(){var S=fD();if(b(S))return y(S);a=setTimeout(x,g(S))}function y(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function C(){return a===void 0?s:y(fD())}function _(){var S=fD(),E=b(S);if(r=arguments,o=this,c=S,E){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var Ive=U4e;const qx=Oe(Ive);function uF(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var Ove={exports:{}},_n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dF=Symbol.for("react.element"),fF=Symbol.for("react.portal"),T5=Symbol.for("react.fragment"),A5=Symbol.for("react.strict_mode"),D5=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),O5=Symbol.for("react.context"),W4e=Symbol.for("react.server_context"),P5=Symbol.for("react.forward_ref"),R5=Symbol.for("react.suspense"),$5=Symbol.for("react.suspense_list"),M5=Symbol.for("react.memo"),F5=Symbol.for("react.lazy"),Y4e=Symbol.for("react.offscreen"),Pve;Pve=Symbol.for("react.module.reference");function Ya(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dF:switch(e=e.type,e){case T5:case D5:case A5:case R5:case $5:return e;default:switch(e=e&&e.$$typeof,e){case W4e:case O5:case P5:case F5:case M5:case I5:return e;default:return t}}case fF:return t}}}_n.ContextConsumer=O5;_n.ContextProvider=I5;_n.Element=dF;_n.ForwardRef=P5;_n.Fragment=T5;_n.Lazy=F5;_n.Memo=M5;_n.Portal=fF;_n.Profiler=D5;_n.StrictMode=A5;_n.Suspense=R5;_n.SuspenseList=$5;_n.isAsyncMode=function(){return!1};_n.isConcurrentMode=function(){return!1};_n.isContextConsumer=function(e){return Ya(e)===O5};_n.isContextProvider=function(e){return Ya(e)===I5};_n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dF};_n.isForwardRef=function(e){return Ya(e)===P5};_n.isFragment=function(e){return Ya(e)===T5};_n.isLazy=function(e){return Ya(e)===F5};_n.isMemo=function(e){return Ya(e)===M5};_n.isPortal=function(e){return Ya(e)===fF};_n.isProfiler=function(e){return Ya(e)===D5};_n.isStrictMode=function(e){return Ya(e)===A5};_n.isSuspense=function(e){return Ya(e)===R5};_n.isSuspenseList=function(e){return Ya(e)===$5};_n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===T5||e===D5||e===A5||e===R5||e===$5||e===Y4e||typeof e=="object"&&e!==null&&(e.$$typeof===F5||e.$$typeof===M5||e.$$typeof===I5||e.$$typeof===O5||e.$$typeof===P5||e.$$typeof===Pve||e.getModuleId!==void 0)};_n.typeOf=Ya;Ove.exports=_n;var Zn=Ove.exports;const q4e=Oe(Zn);function G4e(e){function t(W,Q,N,K,z){for(var Z=0,G=0,J=0,X=0,ee,oe,de=0,le=0,ve,Ce=ve=ee=0,be=0,me=0,Ie=0,Se=0,ot=N.length,Ze=ot-1,it,_e="",he="",He="",Ye="",Me;be<ot;){if(oe=N.charCodeAt(be),be===Ze&&G+X+J+Z!==0&&(G!==0&&(oe=G===47?10:47),X=J=Z=0,ot++,Ze++),G+X+J+Z===0){if(be===Ze&&(0<me&&(_e=_e.replace(p,"")),0<_e.trim().length)){switch(oe){case 32:case 9:case 59:case 13:case 10:break;default:_e+=N.charAt(be)}oe=59}switch(oe){case 123:for(_e=_e.trim(),ee=_e.charCodeAt(0),ve=1,Se=++be;be<ot;){switch(oe=N.charCodeAt(be)){case 123:ve++;break;case 125:ve--;break;case 47:switch(oe=N.charCodeAt(be+1)){case 42:case 47:e:{for(Ce=be+1;Ce<Ze;++Ce)switch(N.charCodeAt(Ce)){case 47:if(oe===42&&N.charCodeAt(Ce-1)===42&&be+2!==Ce){be=Ce+1;break e}break;case 10:if(oe===47){be=Ce+1;break e}}be=Ce}}break;case 91:oe++;case 40:oe++;case 34:case 39:for(;be++<Ze&&N.charCodeAt(be)!==oe;);}if(ve===0)break;be++}switch(ve=N.substring(Se,be),ee===0&&(ee=(_e=_e.replace(f,"").trim()).charCodeAt(0)),ee){case 64:switch(0<me&&(_e=_e.replace(p,"")),oe=_e.charCodeAt(1),oe){case 100:case 109:case 115:case 45:me=Q;break;default:me=R}if(ve=t(Q,me,ve,oe,z+1),Se=ve.length,0<M&&(me=n(R,_e,Ie),Me=a(3,ve,me,Q,I,D,Se,oe,z,K),_e=me.join(""),Me!==void 0&&(Se=(ve=Me.trim()).length)===0&&(oe=0,ve="")),0<Se)switch(oe){case 115:_e=_e.replace(S,s);case 100:case 109:case 45:ve=_e+"{"+ve+"}";break;case 107:_e=_e.replace(y,"$1 $2"),ve=_e+"{"+ve+"}",ve=$===1||$===2&&i("@"+ve,3)?"@-webkit-"+ve+"@"+ve:"@"+ve;break;default:ve=_e+ve,K===112&&(ve=(he+=ve,""))}else ve="";break;default:ve=t(Q,n(Q,_e,Ie),ve,K,z+1)}He+=ve,ve=Ie=me=Ce=ee=0,_e="",oe=N.charCodeAt(++be);break;case 125:case 59:if(_e=(0<me?_e.replace(p,""):_e).trim(),1<(Se=_e.length))switch(Ce===0&&(ee=_e.charCodeAt(0),ee===45||96<ee&&123>ee)&&(Se=(_e=_e.replace(" ",":")).length),0<M&&(Me=a(1,_e,Q,W,I,D,he.length,K,z,K))!==void 0&&(Se=(_e=Me.trim()).length)===0&&(_e="\0\0"),ee=_e.charCodeAt(0),oe=_e.charCodeAt(1),ee){case 0:break;case 64:if(oe===105||oe===99){Ye+=_e+N.charAt(be);break}default:_e.charCodeAt(Se-1)!==58&&(he+=o(_e,ee,oe,_e.charCodeAt(2)))}Ie=me=Ce=ee=0,_e="",oe=N.charCodeAt(++be)}}switch(oe){case 13:case 10:G===47?G=0:1+ee===0&&K!==107&&0<_e.length&&(me=1,_e+="\0"),0<M*q&&a(0,_e,Q,W,I,D,he.length,K,z,K),D=1,I++;break;case 59:case 125:if(G+X+J+Z===0){D++;break}default:switch(D++,it=N.charAt(be),oe){case 9:case 32:if(X+Z+G===0)switch(de){case 44:case 58:case 9:case 32:it="";break;default:oe!==32&&(it=" ")}break;case 0:it="\\0";break;case 12:it="\\f";break;case 11:it="\\v";break;case 38:X+G+Z===0&&(me=Ie=1,it="\f"+it);break;case 108:if(X+G+Z+O===0&&0<Ce)switch(be-Ce){case 2:de===112&&N.charCodeAt(be-3)===58&&(O=de);case 8:le===111&&(O=le)}break;case 58:X+G+Z===0&&(Ce=be);break;case 44:G+J+X+Z===0&&(me=1,it+="\r");break;case 34:case 39:G===0&&(X=X===oe?0:X===0?oe:X);break;case 91:X+G+J===0&&Z++;break;case 93:X+G+J===0&&Z--;break;case 41:X+G+Z===0&&J--;break;case 40:if(X+G+Z===0){if(ee===0)switch(2*de+3*le){case 533:break;default:ee=1}J++}break;case 64:G+J+X+Z+Ce+ve===0&&(ve=1);break;case 42:case 47:if(!(0<X+Z+J))switch(G){case 0:switch(2*oe+3*N.charCodeAt(be+1)){case 235:G=47;break;case 220:Se=be,G=42}break;case 42:oe===47&&de===42&&Se+2!==be&&(N.charCodeAt(Se+2)===33&&(he+=N.substring(Se,be+1)),it="",G=0)}}G===0&&(_e+=it)}le=de,de=oe,be++}if(Se=he.length,0<Se){if(me=Q,0<M&&(Me=a(2,he,me,W,I,D,Se,K,z,K),Me!==void 0&&(he=Me).length===0))return Ye+he+He;if(he=me.join(",")+"{"+he+"}",$*O!==0){switch($!==2||i(he,2)||(O=0),O){case 111:he=he.replace(C,":-moz-$1")+he;break;case 112:he=he.replace(w,"::-webkit-input-$1")+he.replace(w,"::-moz-$1")+he.replace(w,":-ms-input-$1")+he}O=0}}return Ye+he+He}function n(W,Q,N){var K=Q.trim().split(b);Q=K;var z=K.length,Z=W.length;switch(Z){case 0:case 1:var G=0;for(W=Z===0?"":W[0]+" ";G<z;++G)Q[G]=r(W,Q[G],N).trim();break;default:var J=G=0;for(Q=[];G<z;++G)for(var X=0;X<Z;++X)Q[J++]=r(W[X]+" ",K[G],N).trim()}return Q}function r(W,Q,N){var K=Q.charCodeAt(0);switch(33>K&&(K=(Q=Q.trim()).charCodeAt(0)),K){case 38:return Q.replace(x,"$1"+W.trim());case 58:return W.trim()+Q.replace(x,"$1"+W.trim());default:if(0<1*N&&0<Q.indexOf("\f"))return Q.replace(x,(W.charCodeAt(0)===58?"":"$1")+W.trim())}return W+Q}function o(W,Q,N,K){var z=W+";",Z=2*Q+3*N+4*K;if(Z===944){W=z.indexOf(":",9)+1;var G=z.substring(W,z.length-1).trim();return G=z.substring(0,W).trim()+G+";",$===1||$===2&&i(G,1)?"-webkit-"+G+G:G}if($===0||$===2&&!i(z,1))return z;switch(Z){case 1015:return z.charCodeAt(10)===97?"-webkit-"+z+z:z;case 951:return z.charCodeAt(3)===116?"-webkit-"+z+z:z;case 963:return z.charCodeAt(5)===110?"-webkit-"+z+z:z;case 1009:if(z.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+z+z;case 978:return"-webkit-"+z+"-moz-"+z+z;case 1019:case 983:return"-webkit-"+z+"-moz-"+z+"-ms-"+z+z;case 883:if(z.charCodeAt(8)===45)return"-webkit-"+z+z;if(0<z.indexOf("image-set(",11))return z.replace(A,"$1-webkit-$2")+z;break;case 932:if(z.charCodeAt(4)===45)switch(z.charCodeAt(5)){case 103:return"-webkit-box-"+z.replace("-grow","")+"-webkit-"+z+"-ms-"+z.replace("grow","positive")+z;case 115:return"-webkit-"+z+"-ms-"+z.replace("shrink","negative")+z;case 98:return"-webkit-"+z+"-ms-"+z.replace("basis","preferred-size")+z}return"-webkit-"+z+"-ms-"+z+z;case 964:return"-webkit-"+z+"-ms-flex-"+z+z;case 1023:if(z.charCodeAt(8)!==99)break;return G=z.substring(z.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+G+"-webkit-"+z+"-ms-flex-pack"+G+z;case 1005:return v.test(z)?z.replace(m,":-webkit-")+z.replace(m,":-moz-")+z:z;case 1e3:switch(G=z.substring(13).trim(),Q=G.indexOf("-")+1,G.charCodeAt(0)+G.charCodeAt(Q)){case 226:G=z.replace(_,"tb");break;case 232:G=z.replace(_,"tb-rl");break;case 220:G=z.replace(_,"lr");break;default:return z}return"-webkit-"+z+"-ms-"+G+z;case 1017:if(z.indexOf("sticky",9)===-1)break;case 975:switch(Q=(z=W).length-10,G=(z.charCodeAt(Q)===33?z.substring(0,Q):z).substring(W.indexOf(":",7)+1).trim(),Z=G.charCodeAt(0)+(G.charCodeAt(7)|0)){case 203:if(111>G.charCodeAt(8))break;case 115:z=z.replace(G,"-webkit-"+G)+";"+z;break;case 207:case 102:z=z.replace(G,"-webkit-"+(102<Z?"inline-":"")+"box")+";"+z.replace(G,"-webkit-"+G)+";"+z.replace(G,"-ms-"+G+"box")+";"+z}return z+";";case 938:if(z.charCodeAt(5)===45)switch(z.charCodeAt(6)){case 105:return G=z.replace("-items",""),"-webkit-"+z+"-webkit-box-"+G+"-ms-flex-"+G+z;case 115:return"-webkit-"+z+"-ms-flex-item-"+z.replace(j,"")+z;default:return"-webkit-"+z+"-ms-flex-line-pack"+z.replace("align-content","").replace(j,"")+z}break;case 973:case 989:if(z.charCodeAt(3)!==45||z.charCodeAt(4)===122)break;case 931:case 953:if(T.test(W)===!0)return(G=W.substring(W.indexOf(":")+1)).charCodeAt(0)===115?o(W.replace("stretch","fill-available"),Q,N,K).replace(":fill-available",":stretch"):z.replace(G,"-webkit-"+G)+z.replace(G,"-moz-"+G.replace("fill-",""))+z;break;case 962:if(z="-webkit-"+z+(z.charCodeAt(5)===102?"-ms-"+z:"")+z,N+K===211&&z.charCodeAt(13)===105&&0<z.indexOf("transform",10))return z.substring(0,z.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+z}return z}function i(W,Q){var N=W.indexOf(Q===1?":":"{"),K=W.substring(0,Q!==3?N:10);return N=W.substring(N+1,W.length-1),H(Q!==2?K:K.replace(k,"$1"),N,Q)}function s(W,Q){var N=o(Q,Q.charCodeAt(0),Q.charCodeAt(1),Q.charCodeAt(2));return N!==Q+";"?N.replace(E," or ($1)").substring(4):"("+Q+")"}function a(W,Q,N,K,z,Z,G,J,X,ee){for(var oe=0,de=Q,le;oe<M;++oe)switch(le=V[oe].call(d,W,de,N,K,z,Z,G,J,X,ee)){case void 0:case!1:case!0:case null:break;default:de=le}if(de!==Q)return de}function c(W){switch(W){case void 0:case null:M=V.length=0;break;default:if(typeof W=="function")V[M++]=W;else if(typeof W=="object")for(var Q=0,N=W.length;Q<N;++Q)c(W[Q]);else q=!!W|0}return c}function u(W){return W=W.prefix,W!==void 0&&(H=null,W?typeof W!="function"?$=1:($=2,H=W):$=0),u}function d(W,Q){var N=W;if(33>N.charCodeAt(0)&&(N=N.trim()),U=N,N=[U],0<M){var K=a(-1,Q,N,N,I,D,0,0,0,0);K!==void 0&&typeof K=="string"&&(Q=K)}var z=t(R,N,Q,0,0);return 0<M&&(K=a(-2,z,N,N,I,D,z.length,0,0,0),K!==void 0&&(z=K)),U="",O=0,D=I=1,z}var f=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,v=/zoo|gra/,g=/([,: ])(transform)/g,b=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,C=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,j=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,D=1,I=1,O=0,$=1,R=[],V=[],M=0,H=null,q=0,U="";return d.use=c,d.set=u,e!==void 0&&u(e),d}var K4e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Z4e(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var X4e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Pz=Z4e(function(e){return X4e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Rve={exports:{}},Sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=typeof Symbol=="function"&&Symbol.for,hF=Lo?Symbol.for("react.element"):60103,pF=Lo?Symbol.for("react.portal"):60106,L5=Lo?Symbol.for("react.fragment"):60107,B5=Lo?Symbol.for("react.strict_mode"):60108,N5=Lo?Symbol.for("react.profiler"):60114,z5=Lo?Symbol.for("react.provider"):60109,V5=Lo?Symbol.for("react.context"):60110,mF=Lo?Symbol.for("react.async_mode"):60111,H5=Lo?Symbol.for("react.concurrent_mode"):60111,U5=Lo?Symbol.for("react.forward_ref"):60112,W5=Lo?Symbol.for("react.suspense"):60113,Q4e=Lo?Symbol.for("react.suspense_list"):60120,Y5=Lo?Symbol.for("react.memo"):60115,q5=Lo?Symbol.for("react.lazy"):60116,J4e=Lo?Symbol.for("react.block"):60121,eFe=Lo?Symbol.for("react.fundamental"):60117,tFe=Lo?Symbol.for("react.responder"):60118,nFe=Lo?Symbol.for("react.scope"):60119;function sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hF:switch(e=e.type,e){case mF:case H5:case L5:case N5:case B5:case W5:return e;default:switch(e=e&&e.$$typeof,e){case V5:case U5:case q5:case Y5:case z5:return e;default:return t}}case pF:return t}}}function $ve(e){return sa(e)===H5}Sn.AsyncMode=mF;Sn.ConcurrentMode=H5;Sn.ContextConsumer=V5;Sn.ContextProvider=z5;Sn.Element=hF;Sn.ForwardRef=U5;Sn.Fragment=L5;Sn.Lazy=q5;Sn.Memo=Y5;Sn.Portal=pF;Sn.Profiler=N5;Sn.StrictMode=B5;Sn.Suspense=W5;Sn.isAsyncMode=function(e){return $ve(e)||sa(e)===mF};Sn.isConcurrentMode=$ve;Sn.isContextConsumer=function(e){return sa(e)===V5};Sn.isContextProvider=function(e){return sa(e)===z5};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hF};Sn.isForwardRef=function(e){return sa(e)===U5};Sn.isFragment=function(e){return sa(e)===L5};Sn.isLazy=function(e){return sa(e)===q5};Sn.isMemo=function(e){return sa(e)===Y5};Sn.isPortal=function(e){return sa(e)===pF};Sn.isProfiler=function(e){return sa(e)===N5};Sn.isStrictMode=function(e){return sa(e)===B5};Sn.isSuspense=function(e){return sa(e)===W5};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===L5||e===H5||e===N5||e===B5||e===W5||e===Q4e||typeof e=="object"&&e!==null&&(e.$$typeof===q5||e.$$typeof===Y5||e.$$typeof===z5||e.$$typeof===V5||e.$$typeof===U5||e.$$typeof===eFe||e.$$typeof===tFe||e.$$typeof===nFe||e.$$typeof===J4e)};Sn.typeOf=sa;Rve.exports=Sn;var rFe=Rve.exports,gF=rFe,oFe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},iFe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sFe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vF={};vF[gF.ForwardRef]=sFe;vF[gF.Memo]=Mve;function Rz(e){return gF.isMemo(e)?Mve:vF[e.$$typeof]||oFe}var aFe=Object.defineProperty,lFe=Object.getOwnPropertyNames,$z=Object.getOwnPropertySymbols,cFe=Object.getOwnPropertyDescriptor,uFe=Object.getPrototypeOf,Mz=Object.prototype;function Fve(e,t,n){if(typeof t!="string"){if(Mz){var r=uFe(t);r&&r!==Mz&&Fve(e,r,n)}var o=lFe(t);$z&&(o=o.concat($z(t)));for(var i=Rz(e),s=Rz(t),a=0;a<o.length;++a){var c=o[a];if(!iFe[c]&&!(n&&n[c])&&!(s&&s[c])&&!(i&&i[c])){var u=cFe(t,c);try{aFe(e,c,u)}catch{}}}}return e}var dFe=Fve;const fFe=Oe(dFe);function fl(){return(fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fz=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},f3=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Zn.typeOf(e)},RS=Object.freeze([]),nf=Object.freeze({});function Cv(e){return typeof e=="function"}function Lz(e){return e.displayName||e.name||"Component"}function yF(e){return e&&typeof e.styledComponentId=="string"}var _v=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",bF=typeof window<"u"&&"HTMLElement"in window,hFe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),pFe={};function Ap(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var mFe=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,i=o.length,s=i;n>=s;)(s<<=1)<0&&Ap(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(n+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(c,r[u])&&(this.groupSizes[n]++,c++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),i=o+r;this.groupSizes[n]=0;for(var s=o;s<i;s++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],i=this.indexOfGroup(n),s=i+o,a=i;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},e}(),v2=new Map,$S=new Map,hD=1,xC=function(e){if(v2.has(e))return v2.get(e);for(;$S.has(hD);)hD++;var t=hD++;return v2.set(e,t),$S.set(t,e),t},gFe=function(e){return $S.get(e)},vFe=function(e,t){v2.set(e,t),$S.set(t,e)},yFe="style["+_v+'][data-styled-version="5.2.3"]',bFe=new RegExp("^"+_v+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),xFe=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},wFe=function(e,t){for(var n=t.innerHTML.split(`/*!sc*/
`),r=[],o=0,i=n.length;o<i;o++){var s=n[o].trim();if(s){var a=s.match(bFe);if(a){var c=0|parseInt(a[1],10),u=a[2];c!==0&&(vFe(u,c),xFe(e,u,a[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(s)}}},CFe=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},Lve=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){for(var c=a.childNodes,u=c.length;u>=0;u--){var d=c[u];if(d&&d.nodeType===1&&d.hasAttribute(_v))return d}}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(_v,"active"),r.setAttribute("data-styled-version","5.2.3");var s=CFe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},_Fe=function(){function e(n){var r=this.element=Lve(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var c=i[s];if(c.ownerNode===o)return c}Ap(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),SFe=function(){function e(n){var r=this.element=Lve(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),i=this.nodes[n];return this.element.insertBefore(o,i||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),EFe=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),Bz=bF,kFe={isServer:!bF,useCSSOMInjection:!hFe},MS=function(){function e(n,r,o){n===void 0&&(n=nf),r===void 0&&(r={}),this.options=fl({},kFe,{},n),this.gs=r,this.names=new Map(o),!this.options.isServer&&bF&&Bz&&(Bz=!1,function(i){for(var s=document.querySelectorAll(yFe),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(_v)!=="active"&&(wFe(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(n){return xC(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(fl({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,i=r.useCSSOMInjection,s=r.target,n=o?new EFe(s):i?new _Fe(s):new SFe(s),new mFe(n)));var n,r,o,i,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(xC(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(xC(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(xC(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,i="",s=0;s<o;s++){var a=gFe(s);if(a!==void 0){var c=n.names.get(a),u=r.getGroup(s);if(c!==void 0&&u.length!==0){var d=_v+".g"+s+'[id="'+a+'"]',f="";c!==void 0&&c.forEach(function(p){p.length>0&&(f+=p+",")}),i+=""+u+d+'{content:"'+f+`"}/*!sc*/
`}}}return i}(this)},e}(),jFe=/(a)(d)/gi,Nz=function(e){return String.fromCharCode(e+(e>25?39:97))};function h3(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Nz(t%52)+n;return(Nz(t%52)+n).replace(jFe,"$1-$2")}var gg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Bve=function(e){return gg(5381,e)};function Nve(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Cv(n)&&!yF(n))return!1}return!0}var TFe=Bve("5.2.3"),AFe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Nve(t),this.componentId=n,this.baseHash=gg(TFe,n),this.baseStyle=r,MS.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))i.push(this.staticRulesId);else{var s=Dp(this.rules,t,n,r).join(""),a=h3(gg(this.baseHash,s.length)>>>0);if(!n.hasNameForId(o,a)){var c=r(s,"."+a,void 0,o);n.insertRules(o,a,c)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=gg(this.baseHash,r.hash),f="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var v=Dp(m,t,n,r),g=Array.isArray(v)?v.join(""):v;d=gg(d,g+p),f+=g}}if(f){var b=h3(d>>>0);if(!n.hasNameForId(o,b)){var x=r(f,"."+b,void 0,o);n.insertRules(o,b,x)}i.push(b)}}return i.join(" ")},e}(),DFe=/^\s*\/\/.*$/gm,IFe=[":","[",".","#"];function OFe(e){var t,n,r,o,i=e===void 0?nf:e,s=i.options,a=s===void 0?nf:s,c=i.plugins,u=c===void 0?RS:c,d=new G4e(a),f=[],p=function(g){function b(x){if(x)try{g(x+"}")}catch{}}return function(x,y,w,C,_,S,E,j,k,T){switch(x){case 1:if(k===0&&y.charCodeAt(0)===64)return g(y+";"),"";break;case 2:if(j===0)return y+"/*|*/";break;case 3:switch(j){case 102:case 112:return g(w[0]+y),"";default:return y+(T===0?"/*|*/":"")}case-2:y.split("/*|*/}").forEach(b)}}}(function(g){f.push(g)}),m=function(g,b,x){return b===0&&IFe.indexOf(x[n.length])!==-1||x.match(o)?g:"."+t};function v(g,b,x,y){y===void 0&&(y="&");var w=g.replace(DFe,""),C=b&&x?x+" "+b+" { "+w+" }":w;return t=y,n=b,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(x||!b?"":b,C)}return d.use([].concat(u,[function(g,b,x){g===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(r,m))},p,function(g){if(g===-2){var b=f;return f=[],b}}])),v.hash=u.length?u.reduce(function(g,b){return b.name||Ap(15),gg(g,b.name)},5381).toString():"",v}var zve=ie.createContext();zve.Consumer;var Vve=ie.createContext(),PFe=(Vve.Consumer,new MS),p3=OFe();function Hve(){return h.useContext(zve)||PFe}function Uve(){return h.useContext(Vve)||p3}var Wve=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=p3);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.toString=function(){return Ap(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=p3),this.name+t.hash},e}(),RFe=/([A-Z])/,$Fe=/([A-Z])/g,MFe=/^ms-/,FFe=function(e){return"-"+e.toLowerCase()};function zz(e){return RFe.test(e)?e.replace($Fe,FFe).replace(MFe,"-ms-"):e}var Vz=function(e){return e==null||e===!1||e===""};function Dp(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],s=0,a=e.length;s<a;s+=1)(o=Dp(e[s],t,n,r))!==""&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}if(Vz(e))return"";if(yF(e))return"."+e.styledComponentId;if(Cv(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var c=e(t);return Dp(c,t,n,r)}var u;return e instanceof Wve?n?(e.inject(n,r),e.getName(r)):e:f3(e)?function d(f,p){var m,v,g=[];for(var b in f)f.hasOwnProperty(b)&&!Vz(f[b])&&(f3(f[b])?g.push.apply(g,d(f[b],b)):Cv(f[b])?g.push(zz(b)+":",f[b],";"):g.push(zz(b)+": "+(m=b,(v=f[b])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||m in K4e?String(v).trim():v+"px")+";"));return p?[p+" {"].concat(g,["}"]):g}(e):e.toString()}function fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cv(e)||f3(e)?Dp(Fz(RS,[e].concat(n))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:Dp(Fz(e,n))}var Yve=function(e,t,n){return n===void 0&&(n=nf),e.theme!==n.theme&&e.theme||t||n.theme},LFe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,BFe=/(^-|-$)/g;function pD(e){return e.replace(LFe,"-").replace(BFe,"")}var xF=function(e){return h3(Bve(e)>>>0)};function wC(e){return typeof e=="string"&&!0}var m3=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},NFe=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function zFe(e,t,n){var r=e[n];m3(t)&&m3(r)?qve(r,t):e[n]=t}function qve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];if(m3(s))for(var a in s)NFe(a)&&zFe(e,s[a],a)}return e}var Sv=ie.createContext();Sv.Consumer;function VFe(e){var t=h.useContext(Sv),n=h.useMemo(function(){return function(r,o){if(!r)return Ap(14);if(Cv(r)){var i=r(o);return i}return Array.isArray(r)||typeof r!="object"?Ap(8):o?fl({},o,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?ie.createElement(Sv.Provider,{value:n},e.children):null}var mD={};function Gve(e,t,n){var r=yF(e),o=!wC(e),i=t.attrs,s=i===void 0?RS:i,a=t.componentId,c=a===void 0?function(y,w){var C=typeof y!="string"?"sc":pD(y);mD[C]=(mD[C]||0)+1;var _=C+"-"+xF("5.2.3"+C+mD[C]);return w?w+"-"+_:_}(t.displayName,t.parentComponentId):a,u=t.displayName,d=u===void 0?function(y){return wC(y)?"styled."+y:"Styled("+Lz(y)+")"}(e):u,f=t.displayName&&t.componentId?pD(t.displayName)+"-"+t.componentId:t.componentId||c,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(y,w){return e.shouldForwardProp(y,w)&&t.shouldForwardProp(y,w)}:e.shouldForwardProp);var v,g=new AFe(n,f,r?e.componentStyle:void 0),b=g.isStatic&&s.length===0,x=function(y,w){return function(C,_,S,E){var j=C.attrs,k=C.componentStyle,T=C.defaultProps,A=C.foldedComponentIds,D=C.shouldForwardProp,I=C.styledComponentId,O=C.target,$=function(K,z,Z){K===void 0&&(K=nf);var G=fl({},z,{theme:K}),J={};return Z.forEach(function(X){var ee,oe,de,le=X;for(ee in Cv(le)&&(le=le(G)),le)G[ee]=J[ee]=ee==="className"?(oe=J[ee],de=le[ee],oe&&de?oe+" "+de:oe||de):le[ee]}),[G,J]}(Yve(_,h.useContext(Sv),T)||nf,_,j),R=$[0],V=$[1],M=function(K,z,Z,G){var J=Hve(),X=Uve(),ee=z?K.generateAndInjectStyles(nf,J,X):K.generateAndInjectStyles(Z,J,X);return ee}(k,E,R),H=S,q=V.$as||_.$as||V.as||_.as||O,U=wC(q),W=V!==_?fl({},_,{},V):_,Q={};for(var N in W)N[0]!=="$"&&N!=="as"&&(N==="forwardedAs"?Q.as=W[N]:(D?D(N,Pz):!U||Pz(N))&&(Q[N]=W[N]));return _.style&&V.style!==_.style&&(Q.style=fl({},_.style,{},V.style)),Q.className=Array.prototype.concat(A,I,M!==I?M:null,_.className,V.className).filter(Boolean).join(" "),Q.ref=H,h.createElement(q,Q)}(v,y,w,b)};return x.displayName=d,(v=ie.forwardRef(x)).attrs=p,v.componentStyle=g,v.displayName=d,v.shouldForwardProp=m,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):RS,v.styledComponentId=f,v.target=r?e.target:e,v.withComponent=function(y){var w=t.componentId,C=function(S,E){if(S==null)return{};var j,k,T={},A=Object.keys(S);for(k=0;k<A.length;k++)j=A[k],E.indexOf(j)>=0||(T[j]=S[j]);return T}(t,["componentId"]),_=w&&w+"-"+(wC(y)?y:pD(Lz(y)));return Gve(y,fl({},C,{attrs:p,componentId:_}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(y){this._foldedDefaultProps=r?qve({},e.defaultProps,y):y}}),v.toString=function(){return"."+v.styledComponentId},o&&fFe(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var g3=function(e){return function t(n,r,o){if(o===void 0&&(o=nf),!Zn.isValidElementType(r))return Ap(1,String(r));var i=function(){return n(r,o,fe.apply(void 0,arguments))};return i.withConfig=function(s){return t(n,r,fl({},o,{},s))},i.attrs=function(s){return t(n,r,fl({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},i}(Gve,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){g3[e]=g3(e)});var HFe=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=Nve(n),MS.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,o,i){var s=i(Dp(this.rules,r,o,i).join(""),""),a=this.componentId+n;o.insertRules(a,a,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,o,i){n>2&&MS.registerId(this.componentId+n),this.removeStyles(n,o),this.createStyles(n,r,o,i)},e}();function Kve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=fe.apply(void 0,[e].concat(n)),i="sc-global-"+xF(JSON.stringify(o)),s=new HFe(o,i);function a(u){var d=Hve(),f=Uve(),p=h.useContext(Sv),m=h.useRef(d.allocateGSInstance(i)).current;return h.useLayoutEffect(function(){return c(m,u,d,p,f),function(){return s.removeStyles(m,d)}},[m,u,d,p,f]),null}function c(u,d,f,p,m){if(s.isStatic)s.renderStyles(u,pFe,f,m);else{var v=fl({},d,{theme:Yve(d,p,a.defaultProps)});s.renderStyles(u,v,f,m)}}return ie.memo(a)}function im(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=fe.apply(void 0,[e].concat(n)).join(""),i=xF(o);return new Wve(i,o)}var Zve=function(){return h.useContext(Sv)};const P=g3,UFe="#101112",WFe="#fff",y2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},iy={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},YFe={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},qFe={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},v3={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},GFe={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},y3={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},b3={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},KFe={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},pe={gray:y2,blue:iy,purple:YFe,magenta:qFe,red:v3,orange:GFe,yellow:y3,green:b3,cyan:KFe},Xve=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],oc={title:"Black",hex:UFe},xa={title:"White",hex:WFe},Cf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ZFe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x3=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Zs=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XFe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),QFe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Qve=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Gx=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Jve=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),JFe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),e6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),t6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),e0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),t0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),s6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),G5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),vg=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ma=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qa=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ei=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X5=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),s0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),v6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hp=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Eu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_f=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),S6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),E6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),j6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),D6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),I6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),d0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),R6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ku=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Bo=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),F6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),B6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),N6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),aa=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),V6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_F=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),H6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),p0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),W6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),Y6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ev=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),sm=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),v0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),y0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),eLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),am=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),SF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),nLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Sf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),sLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),b0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),aLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),kF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),lLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),pLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Kx=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ju=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),jF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),TF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_Le=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Zo=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ml=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ELe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),AF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),Zx=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ALe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ILe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),ng=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),DF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),OLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),PLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),RLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$Le=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),MLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),NLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),uo=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),HLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ULe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),Ry=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),FS=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),GLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LS=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ej=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),KLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ZLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),$r=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),QLe={"access-denied":Cf,activity:ZFe,"add-circle":x3,add:Zs,api:XFe,archive:QFe,"arrow-down":Qve,"arrow-left":Gx,"arrow-right":Jve,"arrow-top-right":JFe,"arrow-up":e6e,"bar-chart":t6e,basket:n6e,bell:r6e,bill:o6e,"binary-document":s0,"block-content":e0e,"block-element":t0e,blockquote:i6e,bold:n0e,bolt:s6e,book:a6e,bottle:l6e,"bulb-filled":c6e,"bulb-outline":G5,calendar:vg,case:u6e,"chart-upward":d6e,"checkmark-circle":K5,checkmark:Ma,"chevron-down":qa,"chevron-left":Z5,"chevron-right":Dc,"chevron-up":r0e,circle:f6e,clipboard:h6e,"clipboard-image":p6e,clock:o0e,"close-circle":m6e,close:Ei,"code-block":g6e,code:i0e,cog:X5,collapse:s0e,"color-wheel":v6e,comment:a0e,component:y6e,compose:hp,controls:Q5,copy:Eu,"credit-card":b6e,crop:l0e,cube:x6e,dashboard:w6e,database:C6e,desktop:c0e,document:_f,"document-pdf":_6e,"document-remove":S6e,"document-sheet":E6e,"document-text":k6e,"document-video":j6e,"document-word":T6e,"document-zip":A6e,documents:wF,dot:D6e,"double-chevron-down":I6e,"double-chevron-left":O6e,"double-chevron-right":u0e,"double-chevron-up":P6e,download:CF,"drag-handle":d0e,drop:R6e,"earth-americas":f0e,"earth-globe":$6e,edit:ku,"ellipsis-horizontal":M6e,"ellipsis-vertical":Bo,enter:F6e,"enter-right":L6e,envelope:B6e,equal:N6e,"error-filled":z6e,"error-outline":aa,expand:h0e,"eye-closed":V6e,"eye-open":_F,filter:H6e,folder:p0e,generate:U6e,groq:W6e,"heart-filled":Y6e,heart:q6e,"help-circle":Ev,home:G6e,"ice-cream":K6e,image:Sl,"image-remove":Z6e,images:X6e,"info-filled":Q6e,"info-outline":sm,"inline-element":m0e,inline:J6e,"insert-above":g0e,"insert-below":v0e,italic:y0e,joystick:eLe,json:tLe,launch:am,leave:SF,lemon:nLe,link:Sf,"link-removed":rLe,lock:oLe,"logo-js":iLe,"logo-ts":sLe,"master-detail":b0e,menu:EF,"mobile-device":aLe,moon:kF,number:x0e,"ok-hand":lLe,olist:w0e,overage:cLe,package:uLe,"panel-left":dLe,"panel-right":fLe,pause:hLe,pin:pLe,"pin-removed":mLe,play:C0e,plug:_0e,presentation:gLe,publish:a0,"read-only":Kx,redo:vLe,refresh:yLe,"remove-circle":bLe,remove:S0e,reset:ju,restore:jF,retrieve:xLe,retry:wLe,revert:TF,robot:CLe,rocket:_Le,schema:SLe,search:Zo,select:Ml,share:ELe,sort:AF,sparkle:kLe,sparkles:jLe,spinner:Zx,"split-horizontal":TLe,"split-vertical":E0e,square:ALe,"stack-compact":k0e,stack:j0e,star:DLe,stop:ILe,strikethrough:T0e,string:ng,sun:DF,sync:l0,"tablet-device":OLe,tag:PLe,tags:RLe,terminal:$Le,text:MLe,"th-large":FLe,"th-list":LLe,tiers:BLe,"toggle-arrow-right":J5,token:NLe,transfer:zLe,translate:VLe,trash:uo,"trend-upward":HLe,"triangle-outline":ULe,trolley:WLe,truncate:YLe,twitter:qLe,ulist:Ry,underline:A0e,undo:FS,unknown:yl,unlock:GLe,unpublish:LS,upload:ej,user:KLe,users:tj,"warning-filled":ZLe,"warning-outline":$r,wrench:XLe};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=QLe[r];return i?h.createElement(i,{...o,ref:n}):null});var D0e={exports:{}},JLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e8e=JLe,t8e=e8e;function I0e(){}function O0e(){}O0e.resetWarningCache=I0e;var n8e=function(){function e(r,o,i,s,a,c){if(c!==t8e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:O0e,resetWarningCache:I0e};return n.PropTypes=n,n};D0e.exports=n8e();var P0e=D0e.exports;const mRn=Oe(P0e);var r8e=i8e,o8e=Object.prototype.hasOwnProperty;function i8e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o8e.call(n,r)&&(e[r]=n[r])}return e}var R0e=$0e,IF=$0e.prototype;IF.space=null;IF.normal={};IF.property={};function $0e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var Hz=r8e,s8e=R0e,a8e=l8e;function l8e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new s8e(Hz.apply(null,n),Hz.apply(null,r),s)}var OF=c8e;function c8e(e){return e.toLowerCase()}var M0e=F0e,Ga=F0e.prototype;Ga.space=null;Ga.attribute=null;Ga.property=null;Ga.boolean=!1;Ga.booleanish=!1;Ga.overloadedBoolean=!1;Ga.number=!1;Ga.commaSeparated=!1;Ga.spaceSeparated=!1;Ga.commaOrSpaceSeparated=!1;Ga.mustUseProperty=!1;Ga.defined=!1;function F0e(e,t){this.property=e,this.attribute=t}var Ic={},u8e=0;Ic.boolean=lm();Ic.booleanish=lm();Ic.overloadedBoolean=lm();Ic.number=lm();Ic.spaceSeparated=lm();Ic.commaSeparated=lm();Ic.commaOrSpaceSeparated=lm();function lm(){return Math.pow(2,++u8e)}var L0e=M0e,Uz=Ic,B0e=PF;PF.prototype=new L0e;PF.prototype.defined=!0;var N0e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],d8e=N0e.length;function PF(e,t,n,r){var o=-1,i;for(Wz(this,"space",r),L0e.call(this,e,t);++o<d8e;)i=N0e[o],Wz(this,i,(n&Uz[i])===Uz[i])}function Wz(e,t,n){n&&(e[t]=n)}var Yz=OF,f8e=R0e,h8e=B0e,Xx=p8e;function p8e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new h8e(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[Yz(c)]=c,a[Yz(u.attribute)]=c;return new f8e(s,a,t)}var m8e=Xx,g8e=m8e({space:"xlink",transform:v8e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function v8e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var y8e=Xx,b8e=y8e({space:"xml",transform:x8e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function x8e(e,t){return"xml:"+t.slice(3).toLowerCase()}var w8e=C8e;function C8e(e,t){return t in e?e[t]:t}var _8e=w8e,z0e=S8e;function S8e(e,t){return _8e(e,t.toLowerCase())}var E8e=Xx,k8e=z0e,j8e=E8e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:k8e,properties:{xmlns:null,xmlnsXLink:null}}),RF=Ic,T8e=Xx,as=RF.booleanish,ha=RF.number,mh=RF.spaceSeparated,A8e=T8e({transform:D8e,properties:{ariaActiveDescendant:null,ariaAtomic:as,ariaAutoComplete:null,ariaBusy:as,ariaChecked:as,ariaColCount:ha,ariaColIndex:ha,ariaColSpan:ha,ariaControls:mh,ariaCurrent:null,ariaDescribedBy:mh,ariaDetails:null,ariaDisabled:as,ariaDropEffect:mh,ariaErrorMessage:null,ariaExpanded:as,ariaFlowTo:mh,ariaGrabbed:as,ariaHasPopup:null,ariaHidden:as,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mh,ariaLevel:ha,ariaLive:null,ariaModal:as,ariaMultiLine:as,ariaMultiSelectable:as,ariaOrientation:null,ariaOwns:mh,ariaPlaceholder:null,ariaPosInSet:ha,ariaPressed:as,ariaReadOnly:as,ariaRelevant:null,ariaRequired:as,ariaRoleDescription:mh,ariaRowCount:ha,ariaRowIndex:ha,ariaRowSpan:ha,ariaSelected:as,ariaSetSize:ha,ariaSort:null,ariaValueMax:ha,ariaValueMin:ha,ariaValueNow:ha,ariaValueText:null,role:null}});function D8e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var c0=Ic,I8e=Xx,O8e=z0e,Rt=c0.boolean,P8e=c0.overloadedBoolean,m1=c0.booleanish,Jn=c0.number,Fi=c0.spaceSeparated,CC=c0.commaSeparated,R8e=I8e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:O8e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:CC,acceptCharset:Fi,accessKey:Fi,action:null,allow:null,allowFullScreen:Rt,allowPaymentRequest:Rt,allowUserMedia:Rt,alt:null,as:null,async:Rt,autoCapitalize:null,autoComplete:Fi,autoFocus:Rt,autoPlay:Rt,capture:Rt,charSet:null,checked:Rt,cite:null,className:Fi,cols:Jn,colSpan:null,content:null,contentEditable:m1,controls:Rt,controlsList:Fi,coords:Jn|CC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Rt,defer:Rt,dir:null,dirName:null,disabled:Rt,download:P8e,draggable:m1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Rt,formTarget:null,headers:Fi,height:Jn,hidden:Rt,high:Jn,href:null,hrefLang:null,htmlFor:Fi,httpEquiv:Fi,id:null,imageSizes:null,imageSrcSet:CC,inputMode:null,integrity:null,is:null,isMap:Rt,itemId:null,itemProp:Fi,itemRef:Fi,itemScope:Rt,itemType:Fi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Rt,low:Jn,manifest:null,max:null,maxLength:Jn,media:null,method:null,min:null,minLength:Jn,multiple:Rt,muted:Rt,name:null,nonce:null,noModule:Rt,noValidate:Rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Rt,optimum:Jn,pattern:null,ping:Fi,placeholder:null,playsInline:Rt,poster:null,preload:null,readOnly:Rt,referrerPolicy:null,rel:Fi,required:Rt,reversed:Rt,rows:Jn,rowSpan:Jn,sandbox:Fi,scope:null,scoped:Rt,seamless:Rt,selected:Rt,shape:null,size:Jn,sizes:null,slot:null,span:Jn,spellCheck:m1,src:null,srcDoc:null,srcLang:null,srcSet:CC,start:Jn,step:null,style:null,tabIndex:Jn,target:null,title:null,translate:null,type:null,typeMustMatch:Rt,useMap:null,value:m1,width:Jn,wrap:null,align:null,aLink:null,archive:Fi,axis:null,background:null,bgColor:null,border:Jn,borderColor:null,bottomMargin:Jn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Rt,declare:Rt,event:null,face:null,frame:null,frameBorder:null,hSpace:Jn,leftMargin:Jn,link:null,longDesc:null,lowSrc:null,marginHeight:Jn,marginWidth:Jn,noResize:Rt,noHref:Rt,noShade:Rt,noWrap:Rt,object:null,profile:null,prompt:null,rev:null,rightMargin:Jn,rules:null,scheme:null,scrolling:m1,standby:null,summary:null,text:null,topMargin:Jn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Jn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Rt,disableRemotePlayback:Rt,prefix:null,property:null,results:Jn,security:null,unselectable:null}}),$8e=a8e,M8e=g8e,F8e=b8e,L8e=j8e,B8e=A8e,N8e=R8e,z8e=$8e([F8e,M8e,L8e,B8e,N8e]),V8e=OF,H8e=B0e,U8e=M0e,$F="data",W8e=G8e,Y8e=/^data[-\w.:]+$/i,V0e=/-[a-z]/g,q8e=/[A-Z]/g;function G8e(e,t){var n=V8e(t),r=t,o=U8e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===$F&&Y8e.test(t)&&(t.charAt(4)==="-"?r=K8e(t):t=Z8e(t),o=H8e),new o(r,t))}function K8e(e){var t=e.slice(5).replace(V0e,Q8e);return $F+t.charAt(0).toUpperCase()+t.slice(1)}function Z8e(e){var t=e.slice(4);return V0e.test(t)?e:(t=t.replace(q8e,X8e),t.charAt(0)!=="-"&&(t="-"+t),$F+t)}function X8e(e){return"-"+e.toLowerCase()}function Q8e(e){return e.charAt(1).toUpperCase()}var J8e=e9e,qz=/[#.]/g;function e9e(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)qz.lastIndex=i,c=qz.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var MF={};MF.parse=r9e;MF.stringify=o9e;var Gz="",t9e=" ",n9e=/[ \t\n\r\f]+/g;function r9e(e){var t=String(e||Gz).trim();return t===Gz?[]:t.split(n9e)}function o9e(e){return e.join(t9e).trim()}var FF={};FF.parse=i9e;FF.stringify=s9e;var w3=",",Kz=" ",sy="";function i9e(e){for(var t=[],n=String(e||sy),r=n.indexOf(w3),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(w3,o);return t}function s9e(e,t){var n=t||{},r=n.padLeft===!1?sy:Kz,o=n.padRight?Kz:sy;return e[e.length-1]===sy&&(e=e.concat(sy)),e.join(o+w3+r).trim()}var a9e=W8e,Zz=OF,l9e=J8e,Xz=MF.parse,Qz=FF.parse,c9e=d9e,u9e={}.hasOwnProperty;function d9e(e,t,n){var r=n?g9e(n):null;return o;function o(s,a){var c=l9e(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&u9e.call(r,d)?r[d]:d,a&&f9e(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return H0e(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=a9e(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=Xz(f):u.commaSeparated?f=Qz(f):u.commaOrSpaceSeparated&&(f=Xz(Qz(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=m9e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=p9e(u,d,f))}}function f9e(e,t){return typeof e=="string"||"length"in e||h9e(t.tagName,e)}function h9e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function H0e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)H0e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function p9e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return Jz(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=Jz(e,t,n[r]);return i}function Jz(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||Zz(n)===Zz(t))&&(r=!0),r}function m9e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function g9e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var v9e=z8e,y9e=c9e,U0e=y9e(v9e,"div");U0e.displayName="html";var b9e=U0e,x9e=b9e;const w9e="",C9e="&",_9e="",S9e="",E9e="",k9e="",j9e="",T9e="",A9e="",D9e="",I9e="",O9e="",P9e="",R9e="",$9e="",M9e=">",F9e="",L9e="",B9e="",N9e="",z9e="<",V9e="",H9e="",U9e="",W9e="",Y9e="",q9e="",G9e="",K9e='"',Z9e="",X9e="",Q9e="",J9e="",e7e="",t7e="",n7e="",r7e="",o7e="",i7e="",s7e="",a7e="",l7e="&",c7e="",u7e="",d7e="",f7e="",h7e="",p7e="",m7e="",g7e="",v7e="",y7e="",b7e="",x7e="",w7e="",C7e="",_7e="",S7e="",E7e="",k7e="",j7e="",T7e=">",A7e="",D7e="",I7e="",O7e="",P7e="",R7e="",$7e="",M7e="<",F7e="",L7e="",B7e="",N7e="",z7e="",V7e="",H7e="",U7e="",W7e="",Y7e="",q7e="",G7e="",K7e="",Z7e="",X7e="",Q7e="",J7e="",eBe='"',tBe="",nBe="",rBe="",oBe="",iBe="",sBe="",aBe="",lBe="",cBe="",uBe="",dBe="",fBe="",hBe="",pBe="",mBe="",gBe="",vBe="",yBe="",bBe={AElig:w9e,AMP:C9e,Aacute:_9e,Acirc:S9e,Agrave:E9e,Aring:k9e,Atilde:j9e,Auml:T9e,COPY:A9e,Ccedil:D9e,ETH:I9e,Eacute:O9e,Ecirc:P9e,Egrave:R9e,Euml:$9e,GT:M9e,Iacute:F9e,Icirc:L9e,Igrave:B9e,Iuml:N9e,LT:z9e,Ntilde:V9e,Oacute:H9e,Ocirc:U9e,Ograve:W9e,Oslash:Y9e,Otilde:q9e,Ouml:G9e,QUOT:K9e,REG:Z9e,THORN:X9e,Uacute:Q9e,Ucirc:J9e,Ugrave:e7e,Uuml:t7e,Yacute:n7e,aacute:r7e,acirc:o7e,acute:i7e,aelig:s7e,agrave:a7e,amp:l7e,aring:c7e,atilde:u7e,auml:d7e,brvbar:f7e,ccedil:h7e,cedil:p7e,cent:m7e,copy:g7e,curren:v7e,deg:y7e,divide:b7e,eacute:x7e,ecirc:w7e,egrave:C7e,eth:_7e,euml:S7e,frac12:E7e,frac14:k7e,frac34:j7e,gt:T7e,iacute:A7e,icirc:D7e,iexcl:I7e,igrave:O7e,iquest:P7e,iuml:R7e,laquo:$7e,lt:M7e,macr:F7e,micro:L7e,middot:B7e,nbsp:N7e,not:z7e,ntilde:V7e,oacute:H7e,ocirc:U7e,ograve:W7e,ordf:Y7e,ordm:q7e,oslash:G7e,otilde:K7e,ouml:Z7e,para:X7e,plusmn:Q7e,pound:J7e,quot:eBe,raquo:tBe,reg:nBe,sect:rBe,shy:oBe,sup1:iBe,sup2:sBe,sup3:aBe,szlig:lBe,thorn:cBe,times:uBe,uacute:dBe,ucirc:fBe,ugrave:hBe,uml:pBe,uuml:mBe,yacute:gBe,yen:vBe,yuml:yBe},xBe={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var W0e=wBe;function wBe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var CBe=_Be;function _Be(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var SBe=EBe;function EBe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var kBe=SBe,jBe=W0e,TBe=ABe;function ABe(e){return kBe(e)||jBe(e)}var _C,DBe=59,IBe=OBe;function OBe(e){var t="&"+e+";",n;return _C=_C||document.createElement("i"),_C.innerHTML=t,n=_C.textContent,n.charCodeAt(n.length-1)===DBe&&e!=="semi"||n===t?!1:n}var eV=bBe,tV=xBe,PBe=W0e,RBe=CBe,Y0e=TBe,$Be=IBe,MBe=KBe,FBe={}.hasOwnProperty,Lm=String.fromCharCode,LBe=Function.prototype,nV={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},BBe=9,rV=10,NBe=12,zBe=32,oV=38,VBe=59,HBe=60,UBe=61,WBe=35,YBe=88,qBe=120,GBe=65533,rg="named",LF="hexadecimal",BF="decimal",NF={};NF[LF]=16;NF[BF]=10;var nj={};nj[rg]=Y0e;nj[BF]=PBe;nj[LF]=RBe;var q0e=1,G0e=2,K0e=3,Z0e=4,X0e=5,C3=6,Q0e=7,Uf={};Uf[q0e]="Named character references must be terminated by a semicolon";Uf[G0e]="Numeric character references must be terminated by a semicolon";Uf[K0e]="Named character references cannot be empty";Uf[Z0e]="Numeric character references cannot be empty";Uf[X0e]="Named character references must be known";Uf[C3]="Numeric character references cannot be disallowed";Uf[Q0e]="Numeric character references cannot be outside the permissible Unicode range";function KBe(e,t){var n={},r,o;t||(t={});for(o in nV)r=t[o],n[o]=r??nV[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),ZBe(e,n)}function ZBe(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,b=d.line||1,x="",y=[],w,C,_,S,E,j,k,T,A,D,I,O,$,R,V,M,H,q,U;for(typeof n=="string"&&(n=n.charCodeAt(0)),M=W(),T=s?Q:LBe,m--,p++;++m<p;)if(E===rV&&(g=f[v]||1),E=e.charCodeAt(m),E===oV){if(k=e.charCodeAt(m+1),k===BBe||k===rV||k===NBe||k===zBe||k===oV||k===HBe||k!==k||n&&k===n){x+=Lm(E),g++;continue}for($=m+1,O=$,U=$,k===WBe?(U=++O,k=e.charCodeAt(U),k===YBe||k===qBe?(R=LF,U=++O):R=BF):R=rg,w="",I="",S="",V=nj[R],U--;++U<p&&(k=e.charCodeAt(U),!!V(k));)S+=Lm(k),R===rg&&FBe.call(eV,S)&&(w=S,I=eV[S]);_=e.charCodeAt(U)===VBe,_&&(U++,C=R===rg?$Be(S):!1,C&&(w=S,I=C)),q=1+U-$,!_&&!r||(S?R===rg?(_&&!I?T(X0e,1):(w!==S&&(U=O+w.length,q=1+U-O,_=!1),_||(A=w?q0e:K0e,t.attribute?(k=e.charCodeAt(U),k===UBe?(T(A,q),I=null):Y0e(k)?I=null:T(A,q)):T(A,q))),j=I):(_||T(G0e,q),j=parseInt(S,NF[R]),XBe(j)?(T(Q0e,q),j=Lm(GBe)):j in tV?(T(C3,q),j=tV[j]):(D="",QBe(j)&&T(C3,q),j>65535&&(j-=65536,D+=Lm(j>>>10|55296),j=56320|j&1023),j=D+Lm(j))):R!==rg&&T(Z0e,q)),j?(N(),M=W(),m=U-1,g+=U-$+1,y.push(j),H=W(),H.offset++,i&&i.call(c,j,{start:M,end:H},e.slice($-1,U)),M=H):(S=e.slice($-1,U),x+=S,g+=S.length,m=U-1)}else E===10&&(b++,v++,g=0),E===E?(x+=Lm(E),g++):N();return y.join("");function W(){return{line:b,column:g,offset:m+(d.offset||0)}}function Q(K,z){var Z=W();Z.column+=z,Z.offset+=z,s.call(u,Uf[K],Z,K)}function N(){x&&(y.push(x),o&&o.call(a,x,{start:M,end:W()}),x="")}}function XBe(e){return e>=55296&&e<=57343||e>1114111}function QBe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var J0e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function y(w){return w instanceof c?new c(w.type,y(w.content),w.alias):Array.isArray(w)?w.map(y):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=y(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=y(j,C)}),_);default:return w}},getLanguage:function(y){for(;y;){var w=o.exec(y.className);if(w)return w[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,w){y.className=y.className.replace(RegExp(o,"gi"),""),y.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(y){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==y)return w[C]}return null}},isActive:function(y,w,C){for(var _="no-"+w;y;){var S=y.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;y=y.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(y,w){var C=a.util.clone(a.languages[y]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(y,w,C,_){_=_||a.languages;var S=_[y],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[y];return _[y]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=y&&(this[A]=E)}),E},DFS:function y(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,y(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,y(k,C,j,S))}}},plugins:{},highlightAll:function(y,w){a.highlightAllUnder(document,y,w)},highlightAllUnder:function(y,w,C){var _={callback:C,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(y,w,C){var _=a.util.getLanguage(y),S=a.languages[_];a.util.setLanguage(y,_);var E=y.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=y.textContent,k={element:y,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(y,w,C){var _={code:y,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),c.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(y,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,y),d(y,S,w,S.head,0),v(S)},hooks:{all:{},add:function(y,w){var C=a.hooks.all;C[y]=C[y]||[],C[y].push(w)},run:function(y,w){var C=a.hooks.all[y];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:c};r.Prism=a;function c(y,w,C,_){this.type=y,this.content=w,this.alias=C,this.length=(_||"").length|0}c.stringify=function y(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=y(T,C)}),_}var S={type:w.type,content:y(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(y,w,C,_){y.lastIndex=w;var S=y.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(y,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,O=!!A.greedy,$=A.alias;if(O&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var V=A.pattern||A,M=_.next,H=S;M!==w.tail&&!(E&&H>=E.reach);H+=M.value.length,M=M.next){var q=M.value;if(w.length>y.length)return;if(!(q instanceof c)){var U=1,W;if(O){if(W=u(V,H,y,I),!W||W.index>=y.length)break;var z=W.index,Q=W.index+W[0].length,N=H;for(N+=M.value.length;z>=N;)M=M.next,N+=M.value.length;if(N-=M.value.length,H=N,M.value instanceof c)continue;for(var K=M;K!==w.tail&&(N<Q||typeof K.value=="string");K=K.next)U++,N+=K.value.length;U--,q=y.slice(H,N),W.index-=H}else if(W=u(V,0,q,I),!W)continue;var z=W.index,Z=W[0],G=q.slice(0,z),J=q.slice(z+Z.length),X=H+q.length;E&&X>E.reach&&(E.reach=X);var ee=M.prev;G&&(ee=p(w,ee,G),H+=G.length),m(w,ee,U);var oe=new c(j,D?a.tokenize(Z,D):Z,$,Z);if(M=p(w,ee,oe),J&&p(w,M,J),U>1){var de={cause:j+","+T,reach:X};d(y,w,C,M.prev,H,de),E&&de.reach>E.reach&&(E.reach=de.reach)}}}}}}function f(){var y={value:null,prev:null,next:null},w={value:null,prev:y,next:null};y.next=w,this.head=y,this.tail=w,this.length=0}function p(y,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,y.length++,S}function m(y,w,C){for(var _=w.next,S=0;S<C&&_!==y.tail;S++)_=_.next;w.next=_,_.prev=w,y.length-=S}function v(y){for(var w=[],C=y.head.next;C!==y.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(y){var w=JSON.parse(y.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function b(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return a}(t);e.exports&&(e.exports=n),typeof bs<"u"&&(bs.Prism=n)})(J0e);var JBe=J0e.exports,eNe=zF;zF.displayName="markup";zF.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function zF(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var tNe=VF;VF.displayName="css";VF.aliases=[];function VF(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var nNe=HF;HF.displayName="clike";HF.aliases=[];function HF(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var e1e=UF;UF.displayName="javascript";UF.aliases=["js"];function UF(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const rNe=Oe(e1e);var ay=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof bs=="object"?bs:{},oNe=xNe();ay.Prism={manual:!0,disableWorkerMessageHandler:!0};var iNe=x9e,sNe=MBe,t1e=JBe,aNe=eNe,lNe=tNe,cNe=nNe,uNe=e1e;oNe();var WF={}.hasOwnProperty;function n1e(){}n1e.prototype=t1e;var so=new n1e,dNe=so;so.highlight=hNe;so.register=Qx;so.alias=fNe;so.registered=pNe;so.listLanguages=mNe;Qx(aNe);Qx(lNe);Qx(cNe);Qx(uNe);so.util.encode=yNe;so.Token.stringify=gNe;function Qx(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");so.languages[e.displayName]===void 0&&e(so)}function fNe(e,t){var n=so.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function hNe(e,t){var n=t1e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(so.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(WF.call(so.languages,t))r=so.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function pNe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return WF.call(so.languages,e)}function mNe(){var e=so.languages,t=[],n;for(n in e)WF.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function gNe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:so.util.type(e)==="Array"?vNe(e,t):(r={type:e.type,content:so.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),so.hooks.run("wrap",r),iNe(r.tag+"."+r.classes.join("."),bNe(r.attributes),r.content))}function vNe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=so.Token.stringify(i,t,n);return n}function yNe(e){return e}function bNe(e){var t;for(t in e)e[t]=sNe(e[t]);return e}function xNe(){var e="Prism"in ay,t=e?ay.Prism:void 0;return n;function n(){e?ay.Prism=t:delete ay.Prism,e=void 0,t=void 0}}var r1e={},wNe=h;function CNe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return wNe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(o1e(n+1)))}return e.value}function o1e(e){return function(n,r){return CNe(n,r,e)}}r1e.depth=o1e;var i1e=s1e;function s1e(e){if(e==null)return kNe;if(typeof e=="string")return ENe(e);if(typeof e=="object")return"length"in e?SNe(e):_Ne(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function _Ne(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function SNe(e){for(var t=[],n=-1;++n<e.length;)t[n]=s1e(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function ENe(e){return t;function t(n){return!!(n&&n.type===e)}}function kNe(){return!0}var jNe=i1e,TNe=DNe,ANe={}.hasOwnProperty;function DNe(e,t,n){var r=jNe(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)ANe.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var INe=ONe;function ONe(e){return e}var PNe=rj,RNe=i1e,$Ne=INe,a1e=!0,l1e="skip",_3=!1;rj.CONTINUE=a1e;rj.SKIP=l1e;rj.EXIT=_3;function rj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=RNe(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+$Ne(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,b;if((!t||i(a,c,u[u.length-1]||null))&&(v=MNe(n(a,u)),v[0]===_3))return v;if(a.children&&v[0]!==l1e)for(b=(r?a.children.length:-1)+o;b>-1&&b<a.children.length;){if(g=s(a.children[b],b,m)(),g[0]===_3)return g;b=typeof g[1]=="number"?g[1]:b+o}return v}}}function MNe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[a1e,e]:[e]}var FNe=typeof WeakMap=="function"?Jx:ew;function Jx(){this.map=new WeakMap}Jx.prototype.has=function(e){return this.map.has(e)};Jx.prototype.set=function(e,t){return this.map.set(e,t),this};Jx.prototype.get=function(e){return this.map.get(e)};Jx.prototype.clear=function(){};function ew(){this.keys=[],this.values=[]}ew.prototype.has=function(e){return this.keys.indexOf(e)!==-1};ew.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};ew.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};ew.prototype.clear=function(){this.keys=[],this.values=[]};var LNe=TNe,iV=PNe,gD=FNe;function c1e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=c1e(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function BNe(e,t){var n={type:"root",children:t},r=new gD,o=new gD,i=new gD,s=[];function a(f,p,m){s.push(p),m.forEach(function(y){f.has(y)||(f.set(y,Object.assign({},y,{children:[]})),y!==n&&s.push(y))});for(var v=m.length;v--;){var g=f.get(m[v]),b=m[v+1],x=f.get(b)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}iV(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=LNe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(iV(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(b){b.lineStart=Math.max(b.lineStart,v.lineStart),b.lineEnd=Math.max(b.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function NNe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function zNe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return BNe(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(NNe(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function VNe(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=c1e(e).nodes;return zNe(r,n,t)}var HNe=VNe,UNe=h,Os=P0e,YF=dNe,WNe=r1e,YNe=HNe,sV=UNe.createElement;function tw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=YF.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=YNe(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(WNe.depth(0)),s=sV("code",n,i);return e.inline?s:sV("pre",r,s)}tw.propTypes={className:Os.string,inline:Os.bool,language:Os.string.isRequired,value:Os.string.isRequired,markers:Os.arrayOf(Os.oneOfType([Os.number,Os.shape({line:Os.number.isRequired,className:Os.string,component:Os.oneOfType([Os.node,Os.func])})]))};tw.defaultProps={className:"refractor",inline:!1};tw.registerLanguage=function(e){return YF.register(e)};tw.hasLanguage=function(e){return YF.registered(e)};var qNe=tw;const Ip=Oe(qNe),GNe=["top","right","bottom","left"],Ef=Math.min,Ws=Math.max,BS=Math.round,SC=Math.floor,kf=e=>({x:e,y:e}),KNe={left:"right",right:"left",bottom:"top",top:"bottom"},ZNe={start:"end",end:"start"};function S3(e,t,n){return Ws(e,Ef(t,n))}function cm(e,t){return typeof e=="function"?e(t):e}function jf(e){return e.split("-")[0]}function u0(e){return e.split("-")[1]}function u1e(e){return e==="x"?"y":"x"}function qF(e){return e==="y"?"height":"width"}function nw(e){return["top","bottom"].includes(jf(e))?"y":"x"}function GF(e){return u1e(nw(e))}function XNe(e,t,n){n===void 0&&(n=!1);const r=u0(e),o=GF(e),i=qF(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=NS(s)),[s,NS(s)]}function QNe(e){const t=NS(e);return[E3(e),t,E3(t)]}function E3(e){return e.replace(/start|end/g,t=>ZNe[t])}function JNe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function eze(e,t,n,r){const o=u0(e);let i=JNe(jf(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(E3)))),i}function NS(e){return e.replace(/left|right|bottom|top/g,t=>KNe[t])}function tze(e){return{top:0,right:0,bottom:0,left:0,...e}}function d1e(e){return typeof e!="number"?tze(e):{top:e,right:e,bottom:e,left:e}}function zS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function aV(e,t,n){let{reference:r,floating:o}=e;const i=nw(t),s=GF(t),a=qF(s),c=jf(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(u0(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const nze=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=aV(u,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:x}=a[g],{x:y,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=y??d,f=w??f,m={...m,[b]:{...m[b],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=aV(u,p,c)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function kv(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=cm(t,e),v=d1e(m),b=a[p?f==="floating"?"reference":"floating":f],x=zS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=zS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const lV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=cm(e,t)||{};if(u==null)return{};const f=d1e(d),p={x:n,y:r},m=GF(o),v=qF(m),g=await s.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=Ef(f[x],k),A=Ef(f[y],k),D=T,I=E-g[v]-A,O=E/2-g[v]/2+j,$=S3(D,O,I),R=!c.arrow&&u0(o)!=null&&O!=$&&i.reference[v]/2-(O<D?T:A)-g[v]/2<0,V=R?O<D?O-D:O-I:0;return{[m]:p[m]+V,data:{[m]:$,centerOffset:O-$-V,...R&&{alignmentOffset:V}},reset:R}}}),f1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=cm(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=jf(o),y=jf(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(y||!g?[NS(a)]:QNe(a));!p&&v!=="none"&&C.push(...eze(a,g,v,w));const _=[a,...C],S=await kv(t,b),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=XNe(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let O=(T=j.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(m){case"bestFit":{var A;const $=(A=j.map(R=>[R.placement,R.overflows.filter(V=>V>0).reduce((V,M)=>V+M,0)]).sort((R,V)=>R[1]-V[1])[0])==null?void 0:A[0];$&&(O=$);break}case"initialPlacement":O=a;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function cV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uV(e){return GNe.some(t=>e[t]>=0)}const rze=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=cm(e,t);switch(r){case"referenceHidden":{const i=await kv(t,{...o,elementContext:"reference"}),s=cV(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:uV(s)}}}case"escaped":{const i=await kv(t,{...o,altBoundary:!0}),s=cV(i,n.floating);return{data:{escapedOffsets:s,escaped:uV(s)}}}default:return{}}}}};async function oze(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=jf(n),a=u0(n),c=nw(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=cm(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const h1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await oze(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},p1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...c}=cm(e,t),u={x:n,y:r},d=await kv(t,c),f=nw(jf(o)),p=u1e(f);let m=u[p],v=u[f];if(i){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=S3(y,m,w)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[b],w=v-d[x];v=S3(y,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},ize=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...a}=cm(e,t),c=await kv(t,a),u=jf(n),d=u0(n),f=nw(n)==="y",{width:p,height:m}=r.floating;let v,g;u==="top"||u==="bottom"?(v=u,g=d===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=u,v=d==="end"?"top":"bottom");const b=m-c[v],x=p-c[g],y=!t.middlewareData.shift;let w=b,C=x;if(f){const S=p-c.left-c.right;C=d||y?Ef(x,S):S}else{const S=m-c.top-c.bottom;w=d||y?Ef(b,S):S}if(y&&!d){const S=Ws(c.left,0),E=Ws(c.right,0),j=Ws(c.top,0),k=Ws(c.bottom,0);f?C=p-2*(S!==0||E!==0?S+E:Ws(c.left,c.right)):w=m-2*(j!==0||k!==0?j+k:Ws(c.top,c.bottom))}await s({...t,availableWidth:C,availableHeight:w});const _=await o.getDimensions(i.floating);return p!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function Tf(e){return m1e(e)?(e.nodeName||"").toLowerCase():"#document"}function Xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qu(e){var t;return(t=(m1e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m1e(e){return e instanceof Node||e instanceof Xs(e).Node}function Tu(e){return e instanceof Element||e instanceof Xs(e).Element}function Ec(e){return e instanceof HTMLElement||e instanceof Xs(e).HTMLElement}function dV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xs(e).ShadowRoot}function rw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Fa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function sze(e){return["table","td","th"].includes(Tf(e))}function KF(e){const t=ZF(),n=Fa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aze(e){let t=jv(e);for(;Ec(t)&&!oj(t);){if(KF(t))return t;t=jv(t)}return null}function ZF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oj(e){return["html","body","#document"].includes(Tf(e))}function Fa(e){return Xs(e).getComputedStyle(e)}function ij(e){return Tu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function jv(e){if(Tf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dV(e)&&e.host||Qu(e);return dV(t)?t.host:t}function g1e(e){const t=jv(e);return oj(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ec(t)&&rw(t)?t:g1e(t)}function Sb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=g1e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Xs(o);return i?t.concat(s,s.visualViewport||[],rw(o)?o:[],s.frameElement&&n?Sb(s.frameElement):[]):t.concat(o,Sb(o,[],n))}function v1e(e){const t=Fa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ec(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=BS(n)!==i||BS(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function XF(e){return Tu(e)?e:e.contextElement}function Vg(e){const t=XF(e);if(!Ec(t))return kf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=v1e(t);let s=(i?BS(n.width):n.width)/r,a=(i?BS(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const lze=kf(0);function y1e(e){const t=Xs(e);return!ZF()||!t.visualViewport?lze:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function cze(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xs(e)?!1:t}function Op(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=XF(e);let s=kf(1);t&&(r?Tu(r)&&(s=Vg(r)):s=Vg(e));const a=cze(i,n,r)?y1e(i):kf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=Xs(i),m=r&&Tu(r)?Xs(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Vg(v),b=v.getBoundingClientRect(),x=Fa(v),y=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=b.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=y,u+=w,v=Xs(v).frameElement}}return zS({width:d,height:f,x:c,y:u})}function uze(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Ec(n),i=Qu(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=kf(1);const c=kf(0);if((o||!o&&r!=="fixed")&&((Tf(n)!=="body"||rw(i))&&(s=ij(n)),Ec(n))){const u=Op(n);a=Vg(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function dze(e){return Array.from(e.getClientRects())}function b1e(e){return Op(Qu(e)).left+ij(e).scrollLeft}function fze(e){const t=Qu(e),n=ij(e),r=e.ownerDocument.body,o=Ws(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ws(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+b1e(e);const a=-n.scrollTop;return Fa(r).direction==="rtl"&&(s+=Ws(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function hze(e,t){const n=Xs(e),r=Qu(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=ZF();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function pze(e,t){const n=Op(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Ec(e)?Vg(e):kf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function fV(e,t,n){let r;if(t==="viewport")r=hze(e,n);else if(t==="document")r=fze(Qu(e));else if(Tu(t))r=pze(t,n);else{const o=y1e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return zS(r)}function x1e(e,t){const n=jv(e);return n===t||!Tu(n)||oj(n)?!1:Fa(n).position==="fixed"||x1e(n,t)}function mze(e,t){const n=t.get(e);if(n)return n;let r=Sb(e,[],!1).filter(a=>Tu(a)&&Tf(a)!=="body"),o=null;const i=Fa(e).position==="fixed";let s=i?jv(e):e;for(;Tu(s)&&!oj(s);){const a=Fa(s),c=KF(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||rw(s)&&!c&&x1e(e,s))?r=r.filter(d=>d!==s):o=a,s=jv(s)}return t.set(e,r),r}function gze(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?mze(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=fV(t,d,o);return u.top=Ws(f.top,u.top),u.right=Ef(f.right,u.right),u.bottom=Ef(f.bottom,u.bottom),u.left=Ws(f.left,u.left),u},fV(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vze(e){return v1e(e)}function yze(e,t,n){const r=Ec(t),o=Qu(t),i=n==="fixed",s=Op(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=kf(0);if(r||!r&&!i)if((Tf(t)!=="body"||rw(o))&&(a=ij(t)),r){const u=Op(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=b1e(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function hV(e,t){return!Ec(e)||Fa(e).position==="fixed"?null:t?t(e):e.offsetParent}function w1e(e,t){const n=Xs(e);if(!Ec(e))return n;let r=hV(e,t);for(;r&&sze(r)&&Fa(r).position==="static";)r=hV(r,t);return r&&(Tf(r)==="html"||Tf(r)==="body"&&Fa(r).position==="static"&&!KF(r))?n:r||aze(e)||n}const bze=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||w1e,i=this.getDimensions;return{reference:yze(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function xze(e){return Fa(e).direction==="rtl"}const wze={convertOffsetParentRelativeRectToViewportRelativeRect:uze,getDocumentElement:Qu,getClippingRect:gze,getOffsetParent:w1e,getElementRects:bze,getClientRects:dze,getDimensions:vze,getScale:Vg,isElement:Tu,isRTL:xze};function Cze(e,t){let n=null,r;const o=Qu(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=SC(d),v=SC(o.clientWidth-(u+f)),g=SC(o.clientHeight-(d+p)),b=SC(u),y={rootMargin:-m+"px "+-v+"px "+-g+"px "+-b+"px",threshold:Ws(0,Ef(1,c))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(e)}return s(!0),i}function C1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=XF(e),d=o||i?[...u?Sb(u):[],...Sb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?Cze(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Op(e):null;c&&b();function b(){const x=Op(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(b)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const _ze=(e,t,n)=>{const r=new Map,o={platform:wze,...n},i={...o.platform,_c:r};return nze(e,t,{...o,platform:i})};var _1e={exports:{}},la={},S1e={exports:{}},E1e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,H){var q=M.length;M.push(H);e:for(;0<q;){var U=q-1>>>1,W=M[U];if(0<o(W,H))M[U]=H,M[q]=W,q=U;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var H=M[0],q=M.pop();if(q!==H){M[0]=q;e:for(var U=0,W=M.length,Q=W>>>1;U<Q;){var N=2*(U+1)-1,K=M[N],z=N+1,Z=M[z];if(0>o(K,q))z<W&&0>o(Z,K)?(M[U]=Z,M[z]=q,U=z):(M[U]=K,M[N]=q,U=N);else if(z<W&&0>o(Z,q))M[U]=Z,M[z]=q,U=z;else break e}}return H}function o(M,H){var q=M.sortIndex-H.sortIndex;return q!==0?q:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=M)r(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(u)}}function C(M){if(g=!1,w(M),!v)if(n(c)!==null)v=!0,R(_);else{var H=n(u);H!==null&&V(C,H.startTime-M)}}function _(M,H){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var q=p;try{for(w(H),f=n(c);f!==null&&(!(f.expirationTime>H)||M&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var W=U(f.expirationTime<=H);H=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),w(H)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var N=n(u);N!==null&&V(C,N.startTime-H),Q=!1}return Q}finally{f=null,p=q,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var M=e.unstable_now();T=M;var H=!0;try{H=E(!0,M)}finally{H?I():(S=!1,E=null)}}else S=!1}var I;if(typeof y=="function")I=function(){y(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){b(D,0)};function R(M){E=M,S||(S=!0,I())}function V(M,H){j=b(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,R(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var q=p;p=H;try{return M()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=p;p=M;try{return H()}finally{p=q}},e.unstable_scheduleCallback=function(M,H,q){var U=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?U+q:U):q=U,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,M={id:d++,callback:H,priorityLevel:M,startTime:q,expirationTime:W,sortIndex:-1},q>U?(M.sortIndex=q,t(u,M),n(c)===null&&M===n(u)&&(g?(x(j),j=-1):g=!0,V(C,q-U))):(M.sortIndex=W,t(c,M),v||m||(v=!0,R(_))),M},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(M){var H=p;return function(){var q=p;p=H;try{return M.apply(this,arguments)}finally{p=q}}}})(E1e);S1e.exports=E1e;var Sze=S1e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1e=h,ea=Sze;function Ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j1e=new Set,Eb={};function um(e,t){Tv(e,t),Tv(e+"Capture",t)}function Tv(e,t){for(Eb[e]=t,e=0;e<t.length;e++)j1e.add(t[e])}var Au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k3=Object.prototype.hasOwnProperty,Eze=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pV={},mV={};function kze(e){return k3.call(mV,e)?!0:k3.call(pV,e)?!1:Eze.test(e)?mV[e]=!0:(pV[e]=!0,!1)}function jze(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tze(e,t,n,r){if(t===null||typeof t>"u"||jze(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qi(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Qo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qo[e]=new Qi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qo[t]=new Qi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qo[e]=new Qi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qo[e]=new Qi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qo[e]=new Qi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qo[e]=new Qi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qo[e]=new Qi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qo[e]=new Qi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qo[e]=new Qi(e,5,!1,e.toLowerCase(),null,!1,!1)});var QF=/[\-:]([a-z])/g;function JF(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(QF,JF);Qo[t]=new Qi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(QF,JF);Qo[t]=new Qi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(QF,JF);Qo[t]=new Qi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qo[e]=new Qi(e,1,!1,e.toLowerCase(),null,!1,!1)});Qo.xlinkHref=new Qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qo[e]=new Qi(e,1,!1,e.toLowerCase(),null,!0,!0)});function e6(e,t,n,r){var o=Qo.hasOwnProperty(t)?Qo[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tze(t,n,o,r)&&(n=null),r||o===null?kze(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ju=k1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,EC=Symbol.for("react.element"),yg=Symbol.for("react.portal"),bg=Symbol.for("react.fragment"),t6=Symbol.for("react.strict_mode"),j3=Symbol.for("react.profiler"),T1e=Symbol.for("react.provider"),A1e=Symbol.for("react.context"),n6=Symbol.for("react.forward_ref"),T3=Symbol.for("react.suspense"),A3=Symbol.for("react.suspense_list"),r6=Symbol.for("react.memo"),Ed=Symbol.for("react.lazy"),D1e=Symbol.for("react.offscreen"),gV=Symbol.iterator;function g1(e){return e===null||typeof e!="object"?null:(e=gV&&e[gV]||e["@@iterator"],typeof e=="function"?e:null)}var Pr=Object.assign,vD;function ly(e){if(vD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vD=t&&t[1]||""}return`
`+vD+e}var yD=!1;function bD(e,t){if(!e||yD)return"";yD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{yD=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ly(e):""}function Aze(e){switch(e.tag){case 5:return ly(e.type);case 16:return ly("Lazy");case 13:return ly("Suspense");case 19:return ly("SuspenseList");case 0:case 2:case 15:return e=bD(e.type,!1),e;case 11:return e=bD(e.type.render,!1),e;case 1:return e=bD(e.type,!0),e;default:return""}}function D3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bg:return"Fragment";case yg:return"Portal";case j3:return"Profiler";case t6:return"StrictMode";case T3:return"Suspense";case A3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A1e:return(e.displayName||"Context")+".Consumer";case T1e:return(e._context.displayName||"Context")+".Provider";case n6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case r6:return t=e.displayName||null,t!==null?t:D3(e.type)||"Memo";case Ed:t=e._payload,e=e._init;try{return D3(e(t))}catch{}}return null}function Dze(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D3(t);case 8:return t===t6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Af(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function I1e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ize(e){var t=I1e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kC(e){e._valueTracker||(e._valueTracker=Ize(e))}function O1e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=I1e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function VS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function I3(e,t){var n=t.checked;return Pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Af(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P1e(e,t){t=t.checked,t!=null&&e6(e,"checked",t,!1)}function O3(e,t){P1e(e,t);var n=Af(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P3(e,t.type,n):t.hasOwnProperty("defaultValue")&&P3(e,t.type,Af(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function P3(e,t,n){(t!=="number"||VS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cy=Array.isArray;function Hg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Af(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function R3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return Pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ae(92));if(cy(n)){if(1<n.length)throw Error(Ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Af(n)}}function R1e(e,t){var n=Af(t.value),r=Af(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $1e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$1e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jC,M1e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jC=jC||document.createElement("div"),jC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $y={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oze=["Webkit","ms","Moz","O"];Object.keys($y).forEach(function(e){Oze.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$y[t]=$y[e]})});function F1e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$y.hasOwnProperty(e)&&$y[e]?(""+t).trim():t+"px"}function L1e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=F1e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Pze=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M3(e,t){if(t){if(Pze[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ae(62))}}function F3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L3=null;function o6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var B3=null,Ug=null,Wg=null;function wV(e){if(e=sw(e)){if(typeof B3!="function")throw Error(Ae(280));var t=e.stateNode;t&&(t=uj(t),B3(e.stateNode,e.type,t))}}function B1e(e){Ug?Wg?Wg.push(e):Wg=[e]:Ug=e}function N1e(){if(Ug){var e=Ug,t=Wg;if(Wg=Ug=null,wV(e),t)for(e=0;e<t.length;e++)wV(t[e])}}function z1e(e,t){return e(t)}function V1e(){}var xD=!1;function H1e(e,t,n){if(xD)return e(t,n);xD=!0;try{return z1e(e,t,n)}finally{xD=!1,(Ug!==null||Wg!==null)&&(V1e(),N1e())}}function jb(e,t){var n=e.stateNode;if(n===null)return null;var r=uj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ae(231,t,typeof n));return n}var N3=!1;if(Au)try{var v1={};Object.defineProperty(v1,"passive",{get:function(){N3=!0}}),window.addEventListener("test",v1,v1),window.removeEventListener("test",v1,v1)}catch{N3=!1}function Rze(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var My=!1,HS=null,US=!1,z3=null,$ze={onError:function(e){My=!0,HS=e}};function Mze(e,t,n,r,o,i,s,a,c){My=!1,HS=null,Rze.apply($ze,arguments)}function Fze(e,t,n,r,o,i,s,a,c){if(Mze.apply(this,arguments),My){if(My){var u=HS;My=!1,HS=null}else throw Error(Ae(198));US||(US=!0,z3=u)}}function dm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function U1e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function CV(e){if(dm(e)!==e)throw Error(Ae(188))}function Lze(e){var t=e.alternate;if(!t){if(t=dm(e),t===null)throw Error(Ae(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return CV(o),e;if(i===r)return CV(o),t;i=i.sibling}throw Error(Ae(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Ae(189))}}if(n.alternate!==r)throw Error(Ae(190))}if(n.tag!==3)throw Error(Ae(188));return n.stateNode.current===n?e:t}function W1e(e){return e=Lze(e),e!==null?Y1e(e):null}function Y1e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Y1e(e);if(t!==null)return t;e=e.sibling}return null}var q1e=ea.unstable_scheduleCallback,_V=ea.unstable_cancelCallback,Bze=ea.unstable_shouldYield,Nze=ea.unstable_requestPaint,Yr=ea.unstable_now,zze=ea.unstable_getCurrentPriorityLevel,i6=ea.unstable_ImmediatePriority,G1e=ea.unstable_UserBlockingPriority,WS=ea.unstable_NormalPriority,Vze=ea.unstable_LowPriority,K1e=ea.unstable_IdlePriority,sj=null,vc=null;function Hze(e){if(vc&&typeof vc.onCommitFiberRoot=="function")try{vc.onCommitFiberRoot(sj,e,void 0,(e.current.flags&128)===128)}catch{}}var bl=Math.clz32?Math.clz32:Yze,Uze=Math.log,Wze=Math.LN2;function Yze(e){return e>>>=0,e===0?32:31-(Uze(e)/Wze|0)|0}var TC=64,AC=4194304;function uy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function YS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=uy(a):(i&=s,i!==0&&(r=uy(i)))}else s=n&~o,s!==0?r=uy(s):i!==0&&(r=uy(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bl(t),o=1<<n,r|=e[n],t&=~o;return r}function qze(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gze(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-bl(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=qze(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function V3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Z1e(){var e=TC;return TC<<=1,!(TC&4194240)&&(TC=64),e}function wD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ow(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bl(t),e[t]=n}function Kze(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-bl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function s6(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wn=0;function X1e(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q1e,a6,J1e,eye,tye,H3=!1,DC=[],rf=null,of=null,sf=null,Tb=new Map,Ab=new Map,Rd=[],Zze="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SV(e,t){switch(e){case"focusin":case"focusout":rf=null;break;case"dragenter":case"dragleave":of=null;break;case"mouseover":case"mouseout":sf=null;break;case"pointerover":case"pointerout":Tb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ab.delete(t.pointerId)}}function y1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=sw(t),t!==null&&a6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Xze(e,t,n,r,o){switch(t){case"focusin":return rf=y1(rf,e,t,n,r,o),!0;case"dragenter":return of=y1(of,e,t,n,r,o),!0;case"mouseover":return sf=y1(sf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Tb.set(i,y1(Tb.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ab.set(i,y1(Ab.get(i)||null,e,t,n,r,o)),!0}return!1}function nye(e){var t=Xh(e.target);if(t!==null){var n=dm(t);if(n!==null){if(t=n.tag,t===13){if(t=U1e(n),t!==null){e.blockedOn=t,tye(e.priority,function(){J1e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function b2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=U3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);L3=r,n.target.dispatchEvent(r),L3=null}else return t=sw(n),t!==null&&a6(t),e.blockedOn=n,!1;t.shift()}return!0}function EV(e,t,n){b2(e)&&n.delete(t)}function Qze(){H3=!1,rf!==null&&b2(rf)&&(rf=null),of!==null&&b2(of)&&(of=null),sf!==null&&b2(sf)&&(sf=null),Tb.forEach(EV),Ab.forEach(EV)}function b1(e,t){e.blockedOn===t&&(e.blockedOn=null,H3||(H3=!0,ea.unstable_scheduleCallback(ea.unstable_NormalPriority,Qze)))}function Db(e){function t(o){return b1(o,e)}if(0<DC.length){b1(DC[0],e);for(var n=1;n<DC.length;n++){var r=DC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rf!==null&&b1(rf,e),of!==null&&b1(of,e),sf!==null&&b1(sf,e),Tb.forEach(t),Ab.forEach(t),n=0;n<Rd.length;n++)r=Rd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rd.length&&(n=Rd[0],n.blockedOn===null);)nye(n),n.blockedOn===null&&Rd.shift()}var Yg=Ju.ReactCurrentBatchConfig,qS=!0;function Jze(e,t,n,r){var o=wn,i=Yg.transition;Yg.transition=null;try{wn=1,l6(e,t,n,r)}finally{wn=o,Yg.transition=i}}function eVe(e,t,n,r){var o=wn,i=Yg.transition;Yg.transition=null;try{wn=4,l6(e,t,n,r)}finally{wn=o,Yg.transition=i}}function l6(e,t,n,r){if(qS){var o=U3(e,t,n,r);if(o===null)ID(e,t,r,GS,n),SV(e,r);else if(Xze(o,e,t,n,r))r.stopPropagation();else if(SV(e,r),t&4&&-1<Zze.indexOf(e)){for(;o!==null;){var i=sw(o);if(i!==null&&Q1e(i),i=U3(e,t,n,r),i===null&&ID(e,t,r,GS,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ID(e,t,r,null,n)}}var GS=null;function U3(e,t,n,r){if(GS=null,e=o6(r),e=Xh(e),e!==null)if(t=dm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=U1e(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return GS=e,null}function rye(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zze()){case i6:return 1;case G1e:return 4;case WS:case Vze:return 16;case K1e:return 536870912;default:return 16}default:return 16}}var Bd=null,c6=null,x2=null;function oye(){if(x2)return x2;var e,t=c6,n=t.length,r,o="value"in Bd?Bd.value:Bd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return x2=o.slice(e,1<r?1-r:void 0)}function w2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function IC(){return!0}function kV(){return!1}function ca(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?IC:kV,this.isPropagationStopped=kV,this}return Pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=IC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=IC)},persist:function(){},isPersistent:IC}),t}var d0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u6=ca(d0),iw=Pr({},d0,{view:0,detail:0}),tVe=ca(iw),CD,_D,x1,aj=Pr({},iw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==x1&&(x1&&e.type==="mousemove"?(CD=e.screenX-x1.screenX,_D=e.screenY-x1.screenY):_D=CD=0,x1=e),CD)},movementY:function(e){return"movementY"in e?e.movementY:_D}}),jV=ca(aj),nVe=Pr({},aj,{dataTransfer:0}),rVe=ca(nVe),oVe=Pr({},iw,{relatedTarget:0}),SD=ca(oVe),iVe=Pr({},d0,{animationName:0,elapsedTime:0,pseudoElement:0}),sVe=ca(iVe),aVe=Pr({},d0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lVe=ca(aVe),cVe=Pr({},d0,{data:0}),TV=ca(cVe),uVe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dVe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fVe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hVe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fVe[e])?!!t[e]:!1}function d6(){return hVe}var pVe=Pr({},iw,{key:function(e){if(e.key){var t=uVe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=w2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dVe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d6,charCode:function(e){return e.type==="keypress"?w2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?w2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mVe=ca(pVe),gVe=Pr({},aj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AV=ca(gVe),vVe=Pr({},iw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d6}),yVe=ca(vVe),bVe=Pr({},d0,{propertyName:0,elapsedTime:0,pseudoElement:0}),xVe=ca(bVe),wVe=Pr({},aj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CVe=ca(wVe),_Ve=[9,13,27,32],f6=Au&&"CompositionEvent"in window,Fy=null;Au&&"documentMode"in document&&(Fy=document.documentMode);var SVe=Au&&"TextEvent"in window&&!Fy,iye=Au&&(!f6||Fy&&8<Fy&&11>=Fy),DV=String.fromCharCode(32),IV=!1;function sye(e,t){switch(e){case"keyup":return _Ve.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aye(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xg=!1;function EVe(e,t){switch(e){case"compositionend":return aye(t);case"keypress":return t.which!==32?null:(IV=!0,DV);case"textInput":return e=t.data,e===DV&&IV?null:e;default:return null}}function kVe(e,t){if(xg)return e==="compositionend"||!f6&&sye(e,t)?(e=oye(),x2=c6=Bd=null,xg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iye&&t.locale!=="ko"?null:t.data;default:return null}}var jVe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jVe[e.type]:t==="textarea"}function lye(e,t,n,r){B1e(r),t=KS(t,"onChange"),0<t.length&&(n=new u6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ly=null,Ib=null;function TVe(e){bye(e,0)}function lj(e){var t=_g(e);if(O1e(t))return e}function AVe(e,t){if(e==="change")return t}var cye=!1;if(Au){var ED;if(Au){var kD="oninput"in document;if(!kD){var PV=document.createElement("div");PV.setAttribute("oninput","return;"),kD=typeof PV.oninput=="function"}ED=kD}else ED=!1;cye=ED&&(!document.documentMode||9<document.documentMode)}function RV(){Ly&&(Ly.detachEvent("onpropertychange",uye),Ib=Ly=null)}function uye(e){if(e.propertyName==="value"&&lj(Ib)){var t=[];lye(t,Ib,e,o6(e)),H1e(TVe,t)}}function DVe(e,t,n){e==="focusin"?(RV(),Ly=t,Ib=n,Ly.attachEvent("onpropertychange",uye)):e==="focusout"&&RV()}function IVe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lj(Ib)}function OVe(e,t){if(e==="click")return lj(t)}function PVe(e,t){if(e==="input"||e==="change")return lj(t)}function RVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var El=typeof Object.is=="function"?Object.is:RVe;function Ob(e,t){if(El(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!k3.call(t,o)||!El(e[o],t[o]))return!1}return!0}function $V(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function MV(e,t){var n=$V(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$V(n)}}function dye(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dye(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fye(){for(var e=window,t=VS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=VS(e.document)}return t}function h6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $Ve(e){var t=fye(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dye(n.ownerDocument.documentElement,n)){if(r!==null&&h6(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=MV(n,i);var s=MV(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MVe=Au&&"documentMode"in document&&11>=document.documentMode,wg=null,W3=null,By=null,Y3=!1;function FV(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Y3||wg==null||wg!==VS(r)||(r=wg,"selectionStart"in r&&h6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),By&&Ob(By,r)||(By=r,r=KS(W3,"onSelect"),0<r.length&&(t=new u6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wg)))}function OC(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cg={animationend:OC("Animation","AnimationEnd"),animationiteration:OC("Animation","AnimationIteration"),animationstart:OC("Animation","AnimationStart"),transitionend:OC("Transition","TransitionEnd")},jD={},hye={};Au&&(hye=document.createElement("div").style,"AnimationEvent"in window||(delete Cg.animationend.animation,delete Cg.animationiteration.animation,delete Cg.animationstart.animation),"TransitionEvent"in window||delete Cg.transitionend.transition);function cj(e){if(jD[e])return jD[e];if(!Cg[e])return e;var t=Cg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hye)return jD[e]=t[n];return e}var pye=cj("animationend"),mye=cj("animationiteration"),gye=cj("animationstart"),vye=cj("transitionend"),yye=new Map,LV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wf(e,t){yye.set(e,t),um(t,[e])}for(var TD=0;TD<LV.length;TD++){var AD=LV[TD],FVe=AD.toLowerCase(),LVe=AD[0].toUpperCase()+AD.slice(1);Wf(FVe,"on"+LVe)}Wf(pye,"onAnimationEnd");Wf(mye,"onAnimationIteration");Wf(gye,"onAnimationStart");Wf("dblclick","onDoubleClick");Wf("focusin","onFocus");Wf("focusout","onBlur");Wf(vye,"onTransitionEnd");Tv("onMouseEnter",["mouseout","mouseover"]);Tv("onMouseLeave",["mouseout","mouseover"]);Tv("onPointerEnter",["pointerout","pointerover"]);Tv("onPointerLeave",["pointerout","pointerover"]);um("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));um("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));um("onBeforeInput",["compositionend","keypress","textInput","paste"]);um("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));um("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));um("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BVe=new Set("cancel close invalid load scroll toggle".split(" ").concat(dy));function BV(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fze(r,t,void 0,e),e.currentTarget=null}function bye(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;BV(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;BV(o,a,u),i=c}}}if(US)throw e=z3,US=!1,z3=null,e}function er(e,t){var n=t[X3];n===void 0&&(n=t[X3]=new Set);var r=e+"__bubble";n.has(r)||(xye(t,e,2,!1),n.add(r))}function DD(e,t,n){var r=0;t&&(r|=4),xye(n,e,r,t)}var PC="_reactListening"+Math.random().toString(36).slice(2);function Pb(e){if(!e[PC]){e[PC]=!0,j1e.forEach(function(n){n!=="selectionchange"&&(BVe.has(n)||DD(n,!1,e),DD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[PC]||(t[PC]=!0,DD("selectionchange",!1,t))}}function xye(e,t,n,r){switch(rye(t)){case 1:var o=Jze;break;case 4:o=eVe;break;default:o=l6}n=o.bind(null,t,n,e),o=void 0,!N3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ID(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Xh(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}H1e(function(){var u=i,d=o6(n),f=[];e:{var p=yye.get(e);if(p!==void 0){var m=u6,v=e;switch(e){case"keypress":if(w2(n)===0)break e;case"keydown":case"keyup":m=mVe;break;case"focusin":v="focus",m=SD;break;case"focusout":v="blur",m=SD;break;case"beforeblur":case"afterblur":m=SD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rVe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yVe;break;case pye:case mye:case gye:m=sVe;break;case vye:m=xVe;break;case"scroll":m=tVe;break;case"wheel":m=CVe;break;case"copy":case"cut":case"paste":m=lVe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=AV}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=jb(y,x),C!=null&&g.push(Rb(y,C,w)))),b)break;y=y.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==L3&&(v=n.relatedTarget||n.fromElement)&&(Xh(v)||v[Du]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Xh(v):null,v!==null&&(b=dm(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=jV,C="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=AV,C="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?p:_g(m),w=v==null?p:_g(v),p=new g(C,y+"leave",m,n,d),p.target=b,p.relatedTarget=w,C=null,Xh(d)===u&&(g=new g(x,y+"enter",v,n,d),g.target=w,g.relatedTarget=b,C=g),b=C,m&&v)t:{for(g=m,x=v,y=0,w=g;w;w=Bm(w))y++;for(w=0,C=x;C;C=Bm(C))w++;for(;0<y-w;)g=Bm(g),y--;for(;0<w-y;)x=Bm(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Bm(g),x=Bm(x)}g=null}else g=null;m!==null&&NV(f,p,m,g,!1),v!==null&&b!==null&&NV(f,b,v,g,!0)}}e:{if(p=u?_g(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=AVe;else if(OV(p))if(cye)_=PVe;else{_=IVe;var S=DVe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=OVe);if(_&&(_=_(e,u))){lye(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&P3(p,"number",p.value)}switch(S=u?_g(u):window,e){case"focusin":(OV(S)||S.contentEditable==="true")&&(wg=S,W3=u,By=null);break;case"focusout":By=W3=wg=null;break;case"mousedown":Y3=!0;break;case"contextmenu":case"mouseup":case"dragend":Y3=!1,FV(f,n,d);break;case"selectionchange":if(MVe)break;case"keydown":case"keyup":FV(f,n,d)}var E;if(f6)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else xg?sye(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(iye&&n.locale!=="ko"&&(xg||j!=="onCompositionStart"?j==="onCompositionEnd"&&xg&&(E=oye()):(Bd=d,c6="value"in Bd?Bd.value:Bd.textContent,xg=!0)),S=KS(u,j),0<S.length&&(j=new TV(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=aye(n),E!==null&&(j.data=E)))),(E=SVe?EVe(e,n):kVe(e,n))&&(u=KS(u,"onBeforeInput"),0<u.length&&(d=new TV("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}bye(f,t)})}function Rb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function KS(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=jb(e,n),i!=null&&r.unshift(Rb(e,i,o)),i=jb(e,t),i!=null&&r.push(Rb(e,i,o))),e=e.return}return r}function Bm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function NV(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=jb(n,i),c!=null&&s.unshift(Rb(n,c,a))):o||(c=jb(n,i),c!=null&&s.push(Rb(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var NVe=/\r\n?/g,zVe=/\u0000|\uFFFD/g;function zV(e){return(typeof e=="string"?e:""+e).replace(NVe,`
`).replace(zVe,"")}function RC(e,t,n){if(t=zV(t),zV(e)!==t&&n)throw Error(Ae(425))}function ZS(){}var q3=null,G3=null;function K3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Z3=typeof setTimeout=="function"?setTimeout:void 0,VVe=typeof clearTimeout=="function"?clearTimeout:void 0,VV=typeof Promise=="function"?Promise:void 0,HVe=typeof queueMicrotask=="function"?queueMicrotask:typeof VV<"u"?function(e){return VV.resolve(null).then(e).catch(UVe)}:Z3;function UVe(e){setTimeout(function(){throw e})}function OD(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Db(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Db(t)}function af(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function HV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var f0=Math.random().toString(36).slice(2),lc="__reactFiber$"+f0,$b="__reactProps$"+f0,Du="__reactContainer$"+f0,X3="__reactEvents$"+f0,WVe="__reactListeners$"+f0,YVe="__reactHandles$"+f0;function Xh(e){var t=e[lc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Du]||n[lc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=HV(e);e!==null;){if(n=e[lc])return n;e=HV(e)}return t}e=n,n=e.parentNode}return null}function sw(e){return e=e[lc]||e[Du],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _g(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ae(33))}function uj(e){return e[$b]||null}var Q3=[],Sg=-1;function Yf(e){return{current:e}}function or(e){0>Sg||(e.current=Q3[Sg],Q3[Sg]=null,Sg--)}function Wn(e,t){Sg++,Q3[Sg]=e.current,e.current=t}var Df={},ki=Yf(Df),_s=Yf(!1),Pp=Df;function Av(e,t){var n=e.type.contextTypes;if(!n)return Df;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ss(e){return e=e.childContextTypes,e!=null}function XS(){or(_s),or(ki)}function UV(e,t,n){if(ki.current!==Df)throw Error(Ae(168));Wn(ki,t),Wn(_s,n)}function wye(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Ae(108,Dze(e)||"Unknown",o));return Pr({},n,r)}function QS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Df,Pp=ki.current,Wn(ki,e),Wn(_s,_s.current),!0}function WV(e,t,n){var r=e.stateNode;if(!r)throw Error(Ae(169));n?(e=wye(e,t,Pp),r.__reactInternalMemoizedMergedChildContext=e,or(_s),or(ki),Wn(ki,e)):or(_s),Wn(_s,n)}var iu=null,dj=!1,PD=!1;function Cye(e){iu===null?iu=[e]:iu.push(e)}function qVe(e){dj=!0,Cye(e)}function qf(){if(!PD&&iu!==null){PD=!0;var e=0,t=wn;try{var n=iu;for(wn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}iu=null,dj=!1}catch(o){throw iu!==null&&(iu=iu.slice(e+1)),q1e(i6,qf),o}finally{wn=t,PD=!1}}return null}var Eg=[],kg=0,JS=null,eE=0,Ca=[],_a=0,Rp=null,cu=1,uu="";function jh(e,t){Eg[kg++]=eE,Eg[kg++]=JS,JS=e,eE=t}function _ye(e,t,n){Ca[_a++]=cu,Ca[_a++]=uu,Ca[_a++]=Rp,Rp=e;var r=cu;e=uu;var o=32-bl(r)-1;r&=~(1<<o),n+=1;var i=32-bl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,cu=1<<32-bl(t)+o|n<<o|r,uu=i+e}else cu=1<<i|n<<o|r,uu=e}function p6(e){e.return!==null&&(jh(e,1),_ye(e,1,0))}function m6(e){for(;e===JS;)JS=Eg[--kg],Eg[kg]=null,eE=Eg[--kg],Eg[kg]=null;for(;e===Rp;)Rp=Ca[--_a],Ca[_a]=null,uu=Ca[--_a],Ca[_a]=null,cu=Ca[--_a],Ca[_a]=null}var Qs=null,qs=null,br=!1,al=null;function Sye(e,t){var n=Aa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function YV(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qs=e,qs=af(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qs=e,qs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rp!==null?{id:cu,overflow:uu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Aa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qs=e,qs=null,!0):!1;default:return!1}}function J3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eR(e){if(br){var t=qs;if(t){var n=t;if(!YV(e,t)){if(J3(e))throw Error(Ae(418));t=af(n.nextSibling);var r=Qs;t&&YV(e,t)?Sye(r,n):(e.flags=e.flags&-4097|2,br=!1,Qs=e)}}else{if(J3(e))throw Error(Ae(418));e.flags=e.flags&-4097|2,br=!1,Qs=e}}}function qV(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qs=e}function $C(e){if(e!==Qs)return!1;if(!br)return qV(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K3(e.type,e.memoizedProps)),t&&(t=qs)){if(J3(e))throw Eye(),Error(Ae(418));for(;t;)Sye(e,t),t=af(t.nextSibling)}if(qV(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qs=af(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qs=null}}else qs=Qs?af(e.stateNode.nextSibling):null;return!0}function Eye(){for(var e=qs;e;)e=af(e.nextSibling)}function Dv(){qs=Qs=null,br=!1}function g6(e){al===null?al=[e]:al.push(e)}var GVe=Ju.ReactCurrentBatchConfig;function il(e,t){if(e&&e.defaultProps){t=Pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var tE=Yf(null),nE=null,jg=null,v6=null;function y6(){v6=jg=nE=null}function b6(e){var t=tE.current;or(tE),e._currentValue=t}function tR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qg(e,t){nE=e,v6=jg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xs=!0),e.firstContext=null)}function La(e){var t=e._currentValue;if(v6!==e)if(e={context:e,memoizedValue:t,next:null},jg===null){if(nE===null)throw Error(Ae(308));jg=e,nE.dependencies={lanes:0,firstContext:e}}else jg=jg.next=e;return t}var Qh=null;function x6(e){Qh===null?Qh=[e]:Qh.push(e)}function kye(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,x6(t)):(n.next=o.next,o.next=n),t.interleaved=n,Iu(e,r)}function Iu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kd=!1;function w6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jye(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,tn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Iu(e,n)}return o=r.interleaved,o===null?(t.next=t,x6(r)):(t.next=o.next,o.next=t),r.interleaved=t,Iu(e,n)}function C2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s6(e,n)}}function GV(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rE(e,t,n,r){var o=e.updateQueue;kd=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Pr({},f,p);break e;case 2:kd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Mp|=s,e.lanes=s,e.memoizedState=f}}function KV(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ae(191,o));o.call(r)}}}var Tye=new k1e.Component().refs;function nR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fj={isMounted:function(e){return(e=e._reactInternals)?dm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qi(),o=uf(e),i=vu(r,o);i.payload=t,n!=null&&(i.callback=n),t=lf(e,i,o),t!==null&&(xl(t,e,o,r),C2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qi(),o=uf(e),i=vu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=lf(e,i,o),t!==null&&(xl(t,e,o,r),C2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qi(),r=uf(e),o=vu(n,r);o.tag=2,t!=null&&(o.callback=t),t=lf(e,o,r),t!==null&&(xl(t,e,r,n),C2(t,e,r))}};function ZV(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ob(n,r)||!Ob(o,i):!0}function Aye(e,t,n){var r=!1,o=Df,i=t.contextType;return typeof i=="object"&&i!==null?i=La(i):(o=Ss(t)?Pp:ki.current,r=t.contextTypes,i=(r=r!=null)?Av(e,o):Df),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function XV(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fj.enqueueReplaceState(t,t.state,null)}function rR(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Tye,w6(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=La(i):(i=Ss(t)?Pp:ki.current,o.context=Av(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nR(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&fj.enqueueReplaceState(o,o.state,null),rE(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function w1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ae(309));var r=n.stateNode}if(!r)throw Error(Ae(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===Tye&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ae(284));if(!n._owner)throw Error(Ae(290,e))}return e}function MC(e,t){throw e=Object.prototype.toString.call(t),Error(Ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QV(e){var t=e._init;return t(e._payload)}function Dye(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=df(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,C){return y===null||y.tag!==6?(y=ND(w,x.mode,C),y.return=x,y):(y=o(y,w),y.return=x,y)}function c(x,y,w,C){var _=w.type;return _===bg?d(x,y,w.props.children,C,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ed&&QV(_)===y.type)?(C=o(y,w.props),C.ref=w1(x,y,w),C.return=x,C):(C=T2(w.type,w.key,w.props,null,x.mode,C),C.ref=w1(x,y,w),C.return=x,C)}function u(x,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=zD(w,x.mode,C),y.return=x,y):(y=o(y,w.children||[]),y.return=x,y)}function d(x,y,w,C,_){return y===null||y.tag!==7?(y=mp(w,x.mode,C,_),y.return=x,y):(y=o(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ND(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case EC:return w=T2(y.type,y.key,y.props,null,x.mode,w),w.ref=w1(x,null,y),w.return=x,w;case yg:return y=zD(y,x.mode,w),y.return=x,y;case Ed:var C=y._init;return f(x,C(y._payload),w)}if(cy(y)||g1(y))return y=mp(y,x.mode,w,null),y.return=x,y;MC(x,y)}return null}function p(x,y,w,C){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case EC:return w.key===_?c(x,y,w,C):null;case yg:return w.key===_?u(x,y,w,C):null;case Ed:return _=w._init,p(x,y,_(w._payload),C)}if(cy(w)||g1(w))return _!==null?null:d(x,y,w,C,null);MC(x,w)}return null}function m(x,y,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(y,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case EC:return x=x.get(C.key===null?w:C.key)||null,c(y,x,C,_);case yg:return x=x.get(C.key===null?w:C.key)||null,u(y,x,C,_);case Ed:var S=C._init;return m(x,y,w,S(C._payload),_)}if(cy(C)||g1(C))return x=x.get(w)||null,d(y,x,C,_,null);MC(y,C)}return null}function v(x,y,w,C){for(var _=null,S=null,E=y,j=y=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),br&&jh(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(y=i(E,y,j),S===null?_=E:S.sibling=E,S=E);return br&&jh(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),y=i(k,y,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),br&&jh(x,j),_}function g(x,y,w,C){var _=g1(w);if(typeof _!="function")throw Error(Ae(150));if(w=_.call(w),w==null)throw Error(Ae(151));for(var S=_=null,E=y,j=y=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),y=i(A,y,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),br&&jh(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return br&&jh(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),br&&jh(x,j),_}function b(x,y,w,C){if(typeof w=="object"&&w!==null&&w.type===bg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case EC:e:{for(var _=w.key,S=y;S!==null;){if(S.key===_){if(_=w.type,_===bg){if(S.tag===7){n(x,S.sibling),y=o(S,w.props.children),y.return=x,x=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ed&&QV(_)===S.type){n(x,S.sibling),y=o(S,w.props),y.ref=w1(x,S,w),y.return=x,x=y;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===bg?(y=mp(w.props.children,x.mode,C,w.key),y.return=x,x=y):(C=T2(w.type,w.key,w.props,null,x.mode,C),C.ref=w1(x,y,w),C.return=x,x=C)}return s(x);case yg:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=o(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=zD(w,x.mode,C),y.return=x,x=y}return s(x);case Ed:return S=w._init,b(x,y,S(w._payload),C)}if(cy(w))return v(x,y,w,C);if(g1(w))return g(x,y,w,C);MC(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,w),y.return=x,x=y):(n(x,y),y=ND(w,x.mode,C),y.return=x,x=y),s(x)):n(x,y)}return b}var Iv=Dye(!0),Iye=Dye(!1),aw={},yc=Yf(aw),Mb=Yf(aw),Fb=Yf(aw);function Jh(e){if(e===aw)throw Error(Ae(174));return e}function C6(e,t){switch(Wn(Fb,t),Wn(Mb,e),Wn(yc,aw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$3(t,e)}or(yc),Wn(yc,t)}function Ov(){or(yc),or(Mb),or(Fb)}function Oye(e){Jh(Fb.current);var t=Jh(yc.current),n=$3(t,e.type);t!==n&&(Wn(Mb,e),Wn(yc,n))}function _6(e){Mb.current===e&&(or(yc),or(Mb))}var kr=Yf(0);function oE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var RD=[];function S6(){for(var e=0;e<RD.length;e++)RD[e]._workInProgressVersionPrimary=null;RD.length=0}var _2=Ju.ReactCurrentDispatcher,$D=Ju.ReactCurrentBatchConfig,$p=0,Ir=null,bo=null,Do=null,iE=!1,Ny=!1,Lb=0,KVe=0;function li(){throw Error(Ae(321))}function E6(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!El(e[n],t[n]))return!1;return!0}function k6(e,t,n,r,o,i){if($p=i,Ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_2.current=e===null||e.memoizedState===null?JVe:eHe,e=n(r,o),Ny){i=0;do{if(Ny=!1,Lb=0,25<=i)throw Error(Ae(301));i+=1,Do=bo=null,t.updateQueue=null,_2.current=tHe,e=n(r,o)}while(Ny)}if(_2.current=sE,t=bo!==null&&bo.next!==null,$p=0,Do=bo=Ir=null,iE=!1,t)throw Error(Ae(300));return e}function j6(){var e=Lb!==0;return Lb=0,e}function ec(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Do===null?Ir.memoizedState=Do=e:Do=Do.next=e,Do}function Ba(){if(bo===null){var e=Ir.alternate;e=e!==null?e.memoizedState:null}else e=bo.next;var t=Do===null?Ir.memoizedState:Do.next;if(t!==null)Do=t,bo=e;else{if(e===null)throw Error(Ae(310));bo=e,e={memoizedState:bo.memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},Do===null?Ir.memoizedState=Do=e:Do=Do.next=e}return Do}function Bb(e,t){return typeof t=="function"?t(e):t}function MD(e){var t=Ba(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=bo,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if(($p&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,Ir.lanes|=d,Mp|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,El(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ir.lanes|=i,Mp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function FD(e){var t=Ba(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);El(i,t.memoizedState)||(xs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Pye(){}function Rye(e,t){var n=Ir,r=Ba(),o=t(),i=!El(r.memoizedState,o);if(i&&(r.memoizedState=o,xs=!0),r=r.queue,T6(Fye.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Do!==null&&Do.memoizedState.tag&1){if(n.flags|=2048,Nb(9,Mye.bind(null,n,r,o,t),void 0,null),$o===null)throw Error(Ae(349));$p&30||$ye(n,t,o)}return o}function $ye(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mye(e,t,n,r){t.value=n,t.getSnapshot=r,Lye(t)&&Bye(e)}function Fye(e,t,n){return n(function(){Lye(t)&&Bye(e)})}function Lye(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!El(e,n)}catch{return!0}}function Bye(e){var t=Iu(e,1);t!==null&&xl(t,e,1,-1)}function JV(e){var t=ec();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bb,lastRenderedState:e},t.queue=e,e=e.dispatch=QVe.bind(null,Ir,e),[t.memoizedState,e]}function Nb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nye(){return Ba().memoizedState}function S2(e,t,n,r){var o=ec();Ir.flags|=e,o.memoizedState=Nb(1|t,n,void 0,r===void 0?null:r)}function hj(e,t,n,r){var o=Ba();r=r===void 0?null:r;var i=void 0;if(bo!==null){var s=bo.memoizedState;if(i=s.destroy,r!==null&&E6(r,s.deps)){o.memoizedState=Nb(t,n,i,r);return}}Ir.flags|=e,o.memoizedState=Nb(1|t,n,i,r)}function eH(e,t){return S2(8390656,8,e,t)}function T6(e,t){return hj(2048,8,e,t)}function zye(e,t){return hj(4,2,e,t)}function Vye(e,t){return hj(4,4,e,t)}function Hye(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uye(e,t,n){return n=n!=null?n.concat([e]):null,hj(4,4,Hye.bind(null,t,e),n)}function A6(){}function Wye(e,t){var n=Ba();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&E6(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yye(e,t){var n=Ba();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&E6(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qye(e,t,n){return $p&21?(El(n,t)||(n=Z1e(),Ir.lanes|=n,Mp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n)}function ZVe(e,t){var n=wn;wn=n!==0&&4>n?n:4,e(!0);var r=$D.transition;$D.transition={};try{e(!1),t()}finally{wn=n,$D.transition=r}}function Gye(){return Ba().memoizedState}function XVe(e,t,n){var r=uf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kye(e))Zye(t,n);else if(n=kye(e,t,n,r),n!==null){var o=qi();xl(n,e,r,o),Xye(n,t,r)}}function QVe(e,t,n){var r=uf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kye(e))Zye(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,El(a,s)){var c=t.interleaved;c===null?(o.next=o,x6(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=kye(e,t,o,r),n!==null&&(o=qi(),xl(n,e,r,o),Xye(n,t,r))}}function Kye(e){var t=e.alternate;return e===Ir||t!==null&&t===Ir}function Zye(e,t){Ny=iE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xye(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s6(e,n)}}var sE={readContext:La,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},JVe={readContext:La,useCallback:function(e,t){return ec().memoizedState=[e,t===void 0?null:t],e},useContext:La,useEffect:eH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,S2(4194308,4,Hye.bind(null,t,e),n)},useLayoutEffect:function(e,t){return S2(4194308,4,e,t)},useInsertionEffect:function(e,t){return S2(4,2,e,t)},useMemo:function(e,t){var n=ec();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ec();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=XVe.bind(null,Ir,e),[r.memoizedState,e]},useRef:function(e){var t=ec();return e={current:e},t.memoizedState=e},useState:JV,useDebugValue:A6,useDeferredValue:function(e){return ec().memoizedState=e},useTransition:function(){var e=JV(!1),t=e[0];return e=ZVe.bind(null,e[1]),ec().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ir,o=ec();if(br){if(n===void 0)throw Error(Ae(407));n=n()}else{if(n=t(),$o===null)throw Error(Ae(349));$p&30||$ye(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,eH(Fye.bind(null,r,i,e),[e]),r.flags|=2048,Nb(9,Mye.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ec(),t=$o.identifierPrefix;if(br){var n=uu,r=cu;n=(r&~(1<<32-bl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=KVe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eHe={readContext:La,useCallback:Wye,useContext:La,useEffect:T6,useImperativeHandle:Uye,useInsertionEffect:zye,useLayoutEffect:Vye,useMemo:Yye,useReducer:MD,useRef:Nye,useState:function(){return MD(Bb)},useDebugValue:A6,useDeferredValue:function(e){var t=Ba();return qye(t,bo.memoizedState,e)},useTransition:function(){var e=MD(Bb)[0],t=Ba().memoizedState;return[e,t]},useMutableSource:Pye,useSyncExternalStore:Rye,useId:Gye,unstable_isNewReconciler:!1},tHe={readContext:La,useCallback:Wye,useContext:La,useEffect:T6,useImperativeHandle:Uye,useInsertionEffect:zye,useLayoutEffect:Vye,useMemo:Yye,useReducer:FD,useRef:Nye,useState:function(){return FD(Bb)},useDebugValue:A6,useDeferredValue:function(e){var t=Ba();return bo===null?t.memoizedState=e:qye(t,bo.memoizedState,e)},useTransition:function(){var e=FD(Bb)[0],t=Ba().memoizedState;return[e,t]},useMutableSource:Pye,useSyncExternalStore:Rye,useId:Gye,unstable_isNewReconciler:!1};function Pv(e,t){try{var n="",r=t;do n+=Aze(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function LD(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oR(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nHe=typeof WeakMap=="function"?WeakMap:Map;function Qye(e,t,n){n=vu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lE||(lE=!0,pR=r),oR(e,t)},n}function Jye(e,t,n){n=vu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){oR(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){oR(e,t),typeof r!="function"&&(cf===null?cf=new Set([this]):cf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function tH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nHe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=gHe.bind(null,e,t,n),t.then(e,e))}function nH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vu(-1,1),t.tag=2,lf(n,t,1))),n.lanes|=1),e)}var rHe=Ju.ReactCurrentOwner,xs=!1;function Vi(e,t,n,r){t.child=e===null?Iye(t,null,n,r):Iv(t,e.child,n,r)}function oH(e,t,n,r,o){n=n.render;var i=t.ref;return qg(t,o),r=k6(e,t,n,r,i,o),n=j6(),e!==null&&!xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ou(e,t,o)):(br&&n&&p6(t),t.flags|=1,Vi(e,t,r,o),t.child)}function iH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!F6(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ebe(e,t,i,r,o)):(e=T2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ob,n(s,r)&&e.ref===t.ref)return Ou(e,t,o)}return t.flags|=1,e=df(i,r),e.ref=t.ref,e.return=t,t.child=e}function ebe(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Ob(i,r)&&e.ref===t.ref)if(xs=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(xs=!0);else return t.lanes=e.lanes,Ou(e,t,o)}return iR(e,t,n,r,o)}function tbe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Ag,Ls),Ls|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(Ag,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Wn(Ag,Ls),Ls|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Wn(Ag,Ls),Ls|=r;return Vi(e,t,o,n),t.child}function nbe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function iR(e,t,n,r,o){var i=Ss(n)?Pp:ki.current;return i=Av(t,i),qg(t,o),n=k6(e,t,n,r,i,o),r=j6(),e!==null&&!xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ou(e,t,o)):(br&&r&&p6(t),t.flags|=1,Vi(e,t,n,o),t.child)}function sH(e,t,n,r,o){if(Ss(n)){var i=!0;QS(t)}else i=!1;if(qg(t,o),t.stateNode===null)E2(e,t),Aye(t,n,r),rR(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=La(u):(u=Ss(n)?Pp:ki.current,u=Av(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&XV(t,s,r,u),kd=!1;var p=t.memoizedState;s.state=p,rE(t,r,s,o),c=t.memoizedState,a!==r||p!==c||_s.current||kd?(typeof d=="function"&&(nR(t,n,d,r),c=t.memoizedState),(a=kd||ZV(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jye(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:il(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=La(c):(c=Ss(n)?Pp:ki.current,c=Av(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&XV(t,s,r,c),kd=!1,p=t.memoizedState,s.state=p,rE(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||_s.current||kd?(typeof m=="function"&&(nR(t,n,m,r),v=t.memoizedState),(u=kd||ZV(t,n,u,r,p,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return sR(e,t,n,r,i,o)}function sR(e,t,n,r,o,i){nbe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&WV(t,n,!1),Ou(e,t,i);r=t.stateNode,rHe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Iv(t,e.child,null,i),t.child=Iv(t,null,a,i)):Vi(e,t,a,i),t.memoizedState=r.state,o&&WV(t,n,!0),t.child}function rbe(e){var t=e.stateNode;t.pendingContext?UV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UV(e,t.context,!1),C6(e,t.containerInfo)}function aH(e,t,n,r,o){return Dv(),g6(o),t.flags|=256,Vi(e,t,n,r),t.child}var aR={dehydrated:null,treeContext:null,retryLane:0};function lR(e){return{baseLanes:e,cachePool:null,transitions:null}}function obe(e,t,n){var r=t.pendingProps,o=kr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Wn(kr,o&1),e===null)return eR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=gj(s,r,0,null),e=mp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lR(n),t.memoizedState=aR,e):D6(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return oHe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=df(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=df(a,i):(i=mp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?lR(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=aR,r}return i=e.child,e=i.sibling,r=df(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function D6(e,t){return t=gj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function FC(e,t,n,r){return r!==null&&g6(r),Iv(t,e.child,null,n),e=D6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oHe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=LD(Error(Ae(422))),FC(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=gj({mode:"visible",children:r.children},o,0,null),i=mp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Iv(t,e.child,null,s),t.child.memoizedState=lR(s),t.memoizedState=aR,i);if(!(t.mode&1))return FC(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Ae(419)),r=LD(i,r,void 0),FC(e,t,s,r)}if(a=(s&e.childLanes)!==0,xs||a){if(r=$o,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Iu(e,o),xl(r,e,o,-1))}return M6(),r=LD(Error(Ae(421))),FC(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=vHe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,qs=af(o.nextSibling),Qs=t,br=!0,al=null,e!==null&&(Ca[_a++]=cu,Ca[_a++]=uu,Ca[_a++]=Rp,cu=e.id,uu=e.overflow,Rp=t),t=D6(t,r.children),t.flags|=4096,t)}function lH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tR(e.return,t,n)}function BD(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ibe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Vi(e,t,r.children,n),r=kr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lH(e,n,t);else if(e.tag===19)lH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(kr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&oE(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),BD(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&oE(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}BD(t,!0,n,null,i);break;case"together":BD(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function E2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ou(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ae(153));if(t.child!==null){for(e=t.child,n=df(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=df(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iHe(e,t,n){switch(t.tag){case 3:rbe(t),Dv();break;case 5:Oye(t);break;case 1:Ss(t.type)&&QS(t);break;case 4:C6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Wn(tE,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(kr,kr.current&1),t.flags|=128,null):n&t.child.childLanes?obe(e,t,n):(Wn(kr,kr.current&1),e=Ou(e,t,n),e!==null?e.sibling:null);Wn(kr,kr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ibe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Wn(kr,kr.current),r)break;return null;case 22:case 23:return t.lanes=0,tbe(e,t,n)}return Ou(e,t,n)}var sbe,cR,abe,lbe;sbe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cR=function(){};abe=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Jh(yc.current);var i=null;switch(n){case"input":o=I3(e,o),r=I3(e,r),i=[];break;case"select":o=Pr({},o,{value:void 0}),r=Pr({},r,{value:void 0}),i=[];break;case"textarea":o=R3(e,o),r=R3(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ZS)}M3(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&er("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};lbe=function(e,t,n,r){n!==r&&(t.flags|=4)};function C1(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ci(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sHe(e,t,n){var r=t.pendingProps;switch(m6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(t),null;case 1:return Ss(t.type)&&XS(),ci(t),null;case 3:return r=t.stateNode,Ov(),or(_s),or(ki),S6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($C(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,al!==null&&(vR(al),al=null))),cR(e,t),ci(t),null;case 5:_6(t);var o=Jh(Fb.current);if(n=t.type,e!==null&&t.stateNode!=null)abe(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ae(166));return ci(t),null}if(e=Jh(yc.current),$C(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[lc]=t,r[$b]=i,e=(t.mode&1)!==0,n){case"dialog":er("cancel",r),er("close",r);break;case"iframe":case"object":case"embed":er("load",r);break;case"video":case"audio":for(o=0;o<dy.length;o++)er(dy[o],r);break;case"source":er("error",r);break;case"img":case"image":case"link":er("error",r),er("load",r);break;case"details":er("toggle",r);break;case"input":vV(r,i),er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},er("invalid",r);break;case"textarea":bV(r,i),er("invalid",r)}M3(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&RC(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&RC(r.textContent,a,e),o=["children",""+a]):Eb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&er("scroll",r)}switch(n){case"input":kC(r),yV(r,i,!0);break;case"textarea":kC(r),xV(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ZS)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$1e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[lc]=t,e[$b]=r,sbe(e,t,!1,!1),t.stateNode=e;e:{switch(s=F3(n,r),n){case"dialog":er("cancel",e),er("close",e),o=r;break;case"iframe":case"object":case"embed":er("load",e),o=r;break;case"video":case"audio":for(o=0;o<dy.length;o++)er(dy[o],e);o=r;break;case"source":er("error",e),o=r;break;case"img":case"image":case"link":er("error",e),er("load",e),o=r;break;case"details":er("toggle",e),o=r;break;case"input":vV(e,r),o=I3(e,r),er("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Pr({},r,{value:void 0}),er("invalid",e);break;case"textarea":bV(e,r),o=R3(e,r),er("invalid",e);break;default:o=r}M3(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?L1e(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M1e(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kb(e,c):typeof c=="number"&&kb(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&e6(e,i,c,s))}switch(n){case"input":kC(e),yV(e,r,!1);break;case"textarea":kC(e),xV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Af(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hg(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ZS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ci(t),null;case 6:if(e&&t.stateNode!=null)lbe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ae(166));if(n=Jh(Fb.current),Jh(yc.current),$C(t)){if(r=t.stateNode,n=t.memoizedProps,r[lc]=t,(i=r.nodeValue!==n)&&(e=Qs,e!==null))switch(e.tag){case 3:RC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&RC(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lc]=t,t.stateNode=r}return ci(t),null;case 13:if(or(kr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&qs!==null&&t.mode&1&&!(t.flags&128))Eye(),Dv(),t.flags|=98560,i=!1;else if(i=$C(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ae(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ae(317));i[lc]=t}else Dv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ci(t),i=!1}else al!==null&&(vR(al),al=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||kr.current&1?wo===0&&(wo=3):M6())),t.updateQueue!==null&&(t.flags|=4),ci(t),null);case 4:return Ov(),cR(e,t),e===null&&Pb(t.stateNode.containerInfo),ci(t),null;case 10:return b6(t.type._context),ci(t),null;case 17:return Ss(t.type)&&XS(),ci(t),null;case 19:if(or(kr),i=t.memoizedState,i===null)return ci(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)C1(i,!1);else{if(wo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=oE(e),s!==null){for(t.flags|=128,C1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(kr,kr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Yr()>Rv&&(t.flags|=128,r=!0,C1(i,!1),t.lanes=4194304)}else{if(!r)if(e=oE(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),C1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!br)return ci(t),null}else 2*Yr()-i.renderingStartTime>Rv&&n!==1073741824&&(t.flags|=128,r=!0,C1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Yr(),t.sibling=null,n=kr.current,Wn(kr,r?n&1|2:n&1),t):(ci(t),null);case 22:case 23:return $6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ls&1073741824&&(ci(t),t.subtreeFlags&6&&(t.flags|=8192)):ci(t),null;case 24:return null;case 25:return null}throw Error(Ae(156,t.tag))}function aHe(e,t){switch(m6(t),t.tag){case 1:return Ss(t.type)&&XS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ov(),or(_s),or(ki),S6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _6(t),null;case 13:if(or(kr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ae(340));Dv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(kr),null;case 4:return Ov(),null;case 10:return b6(t.type._context),null;case 22:case 23:return $6(),null;case 24:return null;default:return null}}var LC=!1,bi=!1,lHe=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Tg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fr(e,t,r)}else n.current=null}function uR(e,t,n){try{n()}catch(r){Fr(e,t,r)}}var cH=!1;function cHe(e,t){if(q3=qS,e=fye(),h6(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(G3={focusedElem:e,selectionRange:n},qS=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:il(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(C){Fr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return v=cH,cH=!1,v}function zy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&uR(t,n,i)}o=o.next}while(o!==r)}}function pj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dR(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cbe(e){var t=e.alternate;t!==null&&(e.alternate=null,cbe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lc],delete t[$b],delete t[X3],delete t[WVe],delete t[YVe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ube(e){return e.tag===5||e.tag===3||e.tag===4}function uH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ube(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ZS));else if(r!==4&&(e=e.child,e!==null))for(fR(e,t,n),e=e.sibling;e!==null;)fR(e,t,n),e=e.sibling}function hR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hR(e,t,n),e=e.sibling;e!==null;)hR(e,t,n),e=e.sibling}var Uo=null,sl=!1;function md(e,t,n){for(n=n.child;n!==null;)dbe(e,t,n),n=n.sibling}function dbe(e,t,n){if(vc&&typeof vc.onCommitFiberUnmount=="function")try{vc.onCommitFiberUnmount(sj,n)}catch{}switch(n.tag){case 5:bi||Tg(n,t);case 6:var r=Uo,o=sl;Uo=null,md(e,t,n),Uo=r,sl=o,Uo!==null&&(sl?(e=Uo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Uo.removeChild(n.stateNode));break;case 18:Uo!==null&&(sl?(e=Uo,n=n.stateNode,e.nodeType===8?OD(e.parentNode,n):e.nodeType===1&&OD(e,n),Db(e)):OD(Uo,n.stateNode));break;case 4:r=Uo,o=sl,Uo=n.stateNode.containerInfo,sl=!0,md(e,t,n),Uo=r,sl=o;break;case 0:case 11:case 14:case 15:if(!bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&uR(n,t,s),o=o.next}while(o!==r)}md(e,t,n);break;case 1:if(!bi&&(Tg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fr(n,t,a)}md(e,t,n);break;case 21:md(e,t,n);break;case 22:n.mode&1?(bi=(r=bi)||n.memoizedState!==null,md(e,t,n),bi=r):md(e,t,n);break;default:md(e,t,n)}}function dH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lHe),t.forEach(function(r){var o=yHe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function tl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Uo=a.stateNode,sl=!1;break e;case 3:Uo=a.stateNode.containerInfo,sl=!0;break e;case 4:Uo=a.stateNode.containerInfo,sl=!0;break e}a=a.return}if(Uo===null)throw Error(Ae(160));dbe(i,s,o),Uo=null,sl=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Fr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fbe(t,e),t=t.sibling}function fbe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tl(t,e),Wl(e),r&4){try{zy(3,e,e.return),pj(3,e)}catch(g){Fr(e,e.return,g)}try{zy(5,e,e.return)}catch(g){Fr(e,e.return,g)}}break;case 1:tl(t,e),Wl(e),r&512&&n!==null&&Tg(n,n.return);break;case 5:if(tl(t,e),Wl(e),r&512&&n!==null&&Tg(n,n.return),e.flags&32){var o=e.stateNode;try{kb(o,"")}catch(g){Fr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&P1e(o,i),F3(a,s);var u=F3(a,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?L1e(o,f):d==="dangerouslySetInnerHTML"?M1e(o,f):d==="children"?kb(o,f):e6(o,d,f,u)}switch(a){case"input":O3(o,i);break;case"textarea":R1e(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Hg(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Hg(o,!!i.multiple,i.defaultValue,!0):Hg(o,!!i.multiple,i.multiple?[]:"",!1))}o[$b]=i}catch(g){Fr(e,e.return,g)}}break;case 6:if(tl(t,e),Wl(e),r&4){if(e.stateNode===null)throw Error(Ae(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Fr(e,e.return,g)}}break;case 3:if(tl(t,e),Wl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Db(t.containerInfo)}catch(g){Fr(e,e.return,g)}break;case 4:tl(t,e),Wl(e);break;case 13:tl(t,e),Wl(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(P6=Yr())),r&4&&dH(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(bi=(u=bi)||d,tl(t,e),bi=u):tl(t,e),Wl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(f=Ue=d;Ue!==null;){switch(p=Ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:zy(4,p,p.return);break;case 1:Tg(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Fr(r,n,g)}}break;case 5:Tg(p,p.return);break;case 22:if(p.memoizedState!==null){hH(f);continue}}m!==null?(m.return=p,Ue=m):hH(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=F1e("display",s))}catch(g){Fr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Fr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tl(t,e),Wl(e),r&4&&dH(e);break;case 21:break;default:tl(t,e),Wl(e)}}function Wl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ube(n)){var r=n;break e}n=n.return}throw Error(Ae(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(kb(o,""),r.flags&=-33);var i=uH(e);hR(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=uH(e);fR(e,a,s);break;default:throw Error(Ae(161))}}catch(c){Fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uHe(e,t,n){Ue=e,hbe(e)}function hbe(e,t,n){for(var r=(e.mode&1)!==0;Ue!==null;){var o=Ue,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||LC;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||bi;a=LC;var u=bi;if(LC=s,(bi=c)&&!u)for(Ue=o;Ue!==null;)s=Ue,c=s.child,s.tag===22&&s.memoizedState!==null?pH(o):c!==null?(c.return=s,Ue=c):pH(o);for(;i!==null;)Ue=i,hbe(i),i=i.sibling;Ue=o,LC=a,bi=u}fH(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ue=i):fH(e)}}function fH(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bi||pj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:il(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&KV(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}KV(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Db(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}bi||t.flags&512&&dR(t)}catch(p){Fr(t,t.return,p)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function hH(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function pH(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pj(4,t)}catch(c){Fr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Fr(t,o,c)}}var i=t.return;try{dR(t)}catch(c){Fr(t,i,c)}break;case 5:var s=t.return;try{dR(t)}catch(c){Fr(t,s,c)}}}catch(c){Fr(t,t.return,c)}if(t===e){Ue=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ue=a;break}Ue=t.return}}var dHe=Math.ceil,aE=Ju.ReactCurrentDispatcher,I6=Ju.ReactCurrentOwner,Pa=Ju.ReactCurrentBatchConfig,tn=0,$o=null,io=null,Xo=0,Ls=0,Ag=Yf(0),wo=0,zb=null,Mp=0,mj=0,O6=0,Vy=null,ms=null,P6=0,Rv=1/0,nu=null,lE=!1,pR=null,cf=null,BC=!1,Nd=null,cE=0,Hy=0,mR=null,k2=-1,j2=0;function qi(){return tn&6?Yr():k2!==-1?k2:k2=Yr()}function uf(e){return e.mode&1?tn&2&&Xo!==0?Xo&-Xo:GVe.transition!==null?(j2===0&&(j2=Z1e()),j2):(e=wn,e!==0||(e=window.event,e=e===void 0?16:rye(e.type)),e):1}function xl(e,t,n,r){if(50<Hy)throw Hy=0,mR=null,Error(Ae(185));ow(e,n,r),(!(tn&2)||e!==$o)&&(e===$o&&(!(tn&2)&&(mj|=n),wo===4&&$d(e,Xo)),Es(e,r),n===1&&tn===0&&!(t.mode&1)&&(Rv=Yr()+500,dj&&qf()))}function Es(e,t){var n=e.callbackNode;Gze(e,t);var r=YS(e,e===$o?Xo:0);if(r===0)n!==null&&_V(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_V(n),t===1)e.tag===0?qVe(mH.bind(null,e)):Cye(mH.bind(null,e)),HVe(function(){!(tn&6)&&qf()}),n=null;else{switch(X1e(r)){case 1:n=i6;break;case 4:n=G1e;break;case 16:n=WS;break;case 536870912:n=K1e;break;default:n=WS}n=wbe(n,pbe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pbe(e,t){if(k2=-1,j2=0,tn&6)throw Error(Ae(327));var n=e.callbackNode;if(Gg()&&e.callbackNode!==n)return null;var r=YS(e,e===$o?Xo:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uE(e,r);else{t=r;var o=tn;tn|=2;var i=gbe();($o!==e||Xo!==t)&&(nu=null,Rv=Yr()+500,pp(e,t));do try{pHe();break}catch(a){mbe(e,a)}while(1);y6(),aE.current=i,tn=o,io!==null?t=0:($o=null,Xo=0,t=wo)}if(t!==0){if(t===2&&(o=V3(e),o!==0&&(r=o,t=gR(e,o))),t===1)throw n=zb,pp(e,0),$d(e,r),Es(e,Yr()),n;if(t===6)$d(e,r);else{if(o=e.current.alternate,!(r&30)&&!fHe(o)&&(t=uE(e,r),t===2&&(i=V3(e),i!==0&&(r=i,t=gR(e,i))),t===1))throw n=zb,pp(e,0),$d(e,r),Es(e,Yr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Ae(345));case 2:Th(e,ms,nu);break;case 3:if($d(e,r),(r&130023424)===r&&(t=P6+500-Yr(),10<t)){if(YS(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){qi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Z3(Th.bind(null,e,ms,nu),t);break}Th(e,ms,nu);break;case 4:if($d(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-bl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dHe(r/1960))-r,10<r){e.timeoutHandle=Z3(Th.bind(null,e,ms,nu),r);break}Th(e,ms,nu);break;case 5:Th(e,ms,nu);break;default:throw Error(Ae(329))}}}return Es(e,Yr()),e.callbackNode===n?pbe.bind(null,e):null}function gR(e,t){var n=Vy;return e.current.memoizedState.isDehydrated&&(pp(e,t).flags|=256),e=uE(e,t),e!==2&&(t=ms,ms=n,t!==null&&vR(t)),e}function vR(e){ms===null?ms=e:ms.push.apply(ms,e)}function fHe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!El(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $d(e,t){for(t&=~O6,t&=~mj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bl(t),r=1<<n;e[n]=-1,t&=~r}}function mH(e){if(tn&6)throw Error(Ae(327));Gg();var t=YS(e,0);if(!(t&1))return Es(e,Yr()),null;var n=uE(e,t);if(e.tag!==0&&n===2){var r=V3(e);r!==0&&(t=r,n=gR(e,r))}if(n===1)throw n=zb,pp(e,0),$d(e,t),Es(e,Yr()),n;if(n===6)throw Error(Ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Th(e,ms,nu),Es(e,Yr()),null}function R6(e,t){var n=tn;tn|=1;try{return e(t)}finally{tn=n,tn===0&&(Rv=Yr()+500,dj&&qf())}}function Fp(e){Nd!==null&&Nd.tag===0&&!(tn&6)&&Gg();var t=tn;tn|=1;var n=Pa.transition,r=wn;try{if(Pa.transition=null,wn=1,e)return e()}finally{wn=r,Pa.transition=n,tn=t,!(tn&6)&&qf()}}function $6(){Ls=Ag.current,or(Ag)}function pp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VVe(n)),io!==null)for(n=io.return;n!==null;){var r=n;switch(m6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&XS();break;case 3:Ov(),or(_s),or(ki),S6();break;case 5:_6(r);break;case 4:Ov();break;case 13:or(kr);break;case 19:or(kr);break;case 10:b6(r.type._context);break;case 22:case 23:$6()}n=n.return}if($o=e,io=e=df(e.current,null),Xo=Ls=t,wo=0,zb=null,O6=mj=Mp=0,ms=Vy=null,Qh!==null){for(t=0;t<Qh.length;t++)if(n=Qh[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Qh=null}return e}function mbe(e,t){do{var n=io;try{if(y6(),_2.current=sE,iE){for(var r=Ir.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}iE=!1}if($p=0,Do=bo=Ir=null,Ny=!1,Lb=0,I6.current=null,n===null||n.return===null){wo=1,zb=t,io=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=Xo,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nH(s);if(m!==null){m.flags&=-257,rH(m,s,a,i,t),m.mode&1&&tH(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){tH(i,u,t),M6();break e}c=Error(Ae(426))}}else if(br&&a.mode&1){var b=nH(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),rH(b,s,a,i,t),g6(Pv(c,a));break e}}i=c=Pv(c,a),wo!==4&&(wo=2),Vy===null?Vy=[i]:Vy.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Qye(i,c,t);GV(i,x);break e;case 1:a=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(cf===null||!cf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=Jye(i,a,t);GV(i,C);break e}}i=i.return}while(i!==null)}ybe(n)}catch(_){t=_,io===n&&n!==null&&(io=n=n.return);continue}break}while(1)}function gbe(){var e=aE.current;return aE.current=sE,e===null?sE:e}function M6(){(wo===0||wo===3||wo===2)&&(wo=4),$o===null||!(Mp&268435455)&&!(mj&268435455)||$d($o,Xo)}function uE(e,t){var n=tn;tn|=2;var r=gbe();($o!==e||Xo!==t)&&(nu=null,pp(e,t));do try{hHe();break}catch(o){mbe(e,o)}while(1);if(y6(),tn=n,aE.current=r,io!==null)throw Error(Ae(261));return $o=null,Xo=0,wo}function hHe(){for(;io!==null;)vbe(io)}function pHe(){for(;io!==null&&!Bze();)vbe(io)}function vbe(e){var t=xbe(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,t===null?ybe(e):io=t,I6.current=null}function ybe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aHe(n,t),n!==null){n.flags&=32767,io=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wo=6,io=null;return}}else if(n=sHe(n,t,Ls),n!==null){io=n;return}if(t=t.sibling,t!==null){io=t;return}io=t=e}while(t!==null);wo===0&&(wo=5)}function Th(e,t,n){var r=wn,o=Pa.transition;try{Pa.transition=null,wn=1,mHe(e,t,n,r)}finally{Pa.transition=o,wn=r}return null}function mHe(e,t,n,r){do Gg();while(Nd!==null);if(tn&6)throw Error(Ae(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ae(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Kze(e,i),e===$o&&(io=$o=null,Xo=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||BC||(BC=!0,wbe(WS,function(){return Gg(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pa.transition,Pa.transition=null;var s=wn;wn=1;var a=tn;tn|=4,I6.current=null,cHe(e,n),fbe(n,e),$Ve(G3),qS=!!q3,G3=q3=null,e.current=n,uHe(n),Nze(),tn=a,wn=s,Pa.transition=i}else e.current=n;if(BC&&(BC=!1,Nd=e,cE=o),i=e.pendingLanes,i===0&&(cf=null),Hze(n.stateNode),Es(e,Yr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(lE)throw lE=!1,e=pR,pR=null,e;return cE&1&&e.tag!==0&&Gg(),i=e.pendingLanes,i&1?e===mR?Hy++:(Hy=0,mR=e):Hy=0,qf(),null}function Gg(){if(Nd!==null){var e=X1e(cE),t=Pa.transition,n=wn;try{if(Pa.transition=null,wn=16>e?16:e,Nd===null)var r=!1;else{if(e=Nd,Nd=null,cE=0,tn&6)throw Error(Ae(331));var o=tn;for(tn|=4,Ue=e.current;Ue!==null;){var i=Ue,s=i.child;if(Ue.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:zy(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ue=f;else for(;Ue!==null;){d=Ue;var p=d.sibling,m=d.return;if(cbe(d),d===u){Ue=null;break}if(p!==null){p.return=m,Ue=p;break}Ue=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Ue=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ue=s;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zy(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ue=x;break e}Ue=i.return}}var y=e.current;for(Ue=y;Ue!==null;){s=Ue;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ue=w;else e:for(s=y;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pj(9,a)}}catch(_){Fr(a,a.return,_)}if(a===s){Ue=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ue=C;break e}Ue=a.return}}if(tn=o,qf(),vc&&typeof vc.onPostCommitFiberRoot=="function")try{vc.onPostCommitFiberRoot(sj,e)}catch{}r=!0}return r}finally{wn=n,Pa.transition=t}}return!1}function gH(e,t,n){t=Pv(n,t),t=Qye(e,t,1),e=lf(e,t,1),t=qi(),e!==null&&(ow(e,1,t),Es(e,t))}function Fr(e,t,n){if(e.tag===3)gH(e,e,n);else for(;t!==null;){if(t.tag===3){gH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cf===null||!cf.has(r))){e=Pv(n,e),e=Jye(t,e,1),t=lf(t,e,1),e=qi(),t!==null&&(ow(t,1,e),Es(t,e));break}}t=t.return}}function gHe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qi(),e.pingedLanes|=e.suspendedLanes&n,$o===e&&(Xo&n)===n&&(wo===4||wo===3&&(Xo&130023424)===Xo&&500>Yr()-P6?pp(e,0):O6|=n),Es(e,t)}function bbe(e,t){t===0&&(e.mode&1?(t=AC,AC<<=1,!(AC&130023424)&&(AC=4194304)):t=1);var n=qi();e=Iu(e,t),e!==null&&(ow(e,t,n),Es(e,n))}function vHe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bbe(e,n)}function yHe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ae(314))}r!==null&&r.delete(t),bbe(e,n)}var xbe;xbe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_s.current)xs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xs=!1,iHe(e,t,n);xs=!!(e.flags&131072)}else xs=!1,br&&t.flags&1048576&&_ye(t,eE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;E2(e,t),e=t.pendingProps;var o=Av(t,ki.current);qg(t,n),o=k6(null,t,r,e,o,n);var i=j6();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ss(r)?(i=!0,QS(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,w6(t),o.updater=fj,t.stateNode=o,o._reactInternals=t,rR(t,r,e,n),t=sR(null,t,r,!0,i,n)):(t.tag=0,br&&i&&p6(t),Vi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(E2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=xHe(r),e=il(r,e),o){case 0:t=iR(null,t,r,e,n);break e;case 1:t=sH(null,t,r,e,n);break e;case 11:t=oH(null,t,r,e,n);break e;case 14:t=iH(null,t,r,il(r.type,e),n);break e}throw Error(Ae(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:il(r,o),iR(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:il(r,o),sH(e,t,r,o,n);case 3:e:{if(rbe(t),e===null)throw Error(Ae(387));r=t.pendingProps,i=t.memoizedState,o=i.element,jye(e,t),rE(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Pv(Error(Ae(423)),t),t=aH(e,t,r,n,o);break e}else if(r!==o){o=Pv(Error(Ae(424)),t),t=aH(e,t,r,n,o);break e}else for(qs=af(t.stateNode.containerInfo.firstChild),Qs=t,br=!0,al=null,n=Iye(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dv(),r===o){t=Ou(e,t,n);break e}Vi(e,t,r,n)}t=t.child}return t;case 5:return Oye(t),e===null&&eR(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,K3(r,o)?s=null:i!==null&&K3(r,i)&&(t.flags|=32),nbe(e,t),Vi(e,t,s,n),t.child;case 6:return e===null&&eR(t),null;case 13:return obe(e,t,n);case 4:return C6(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Iv(t,null,r,n):Vi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:il(r,o),oH(e,t,r,o,n);case 7:return Vi(e,t,t.pendingProps,n),t.child;case 8:return Vi(e,t,t.pendingProps.children,n),t.child;case 12:return Vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Wn(tE,r._currentValue),r._currentValue=s,i!==null)if(El(i.value,s)){if(i.children===o.children&&!_s.current){t=Ou(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=vu(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),tR(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ae(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),tR(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Vi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,qg(t,n),o=La(o),r=r(o),t.flags|=1,Vi(e,t,r,n),t.child;case 14:return r=t.type,o=il(r,t.pendingProps),o=il(r.type,o),iH(e,t,r,o,n);case 15:return ebe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:il(r,o),E2(e,t),t.tag=1,Ss(r)?(e=!0,QS(t)):e=!1,qg(t,n),Aye(t,r,o),rR(t,r,o,n),sR(null,t,r,!0,e,n);case 19:return ibe(e,t,n);case 22:return tbe(e,t,n)}throw Error(Ae(156,t.tag))};function wbe(e,t){return q1e(e,t)}function bHe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(e,t,n,r){return new bHe(e,t,n,r)}function F6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xHe(e){if(typeof e=="function")return F6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===n6)return 11;if(e===r6)return 14}return 2}function df(e,t){var n=e.alternate;return n===null?(n=Aa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function T2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")F6(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case bg:return mp(n.children,o,i,t);case t6:s=8,o|=8;break;case j3:return e=Aa(12,n,t,o|2),e.elementType=j3,e.lanes=i,e;case T3:return e=Aa(13,n,t,o),e.elementType=T3,e.lanes=i,e;case A3:return e=Aa(19,n,t,o),e.elementType=A3,e.lanes=i,e;case D1e:return gj(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T1e:s=10;break e;case A1e:s=9;break e;case n6:s=11;break e;case r6:s=14;break e;case Ed:s=16,r=null;break e}throw Error(Ae(130,e==null?e:typeof e,""))}return t=Aa(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function mp(e,t,n,r){return e=Aa(7,e,r,t),e.lanes=n,e}function gj(e,t,n,r){return e=Aa(22,e,r,t),e.elementType=D1e,e.lanes=n,e.stateNode={isHidden:!1},e}function ND(e,t,n){return e=Aa(6,e,null,t),e.lanes=n,e}function zD(e,t,n){return t=Aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wHe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wD(0),this.expirationTimes=wD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function L6(e,t,n,r,o,i,s,a,c){return e=new wHe(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Aa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w6(i),e}function CHe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cbe(e){if(!e)return Df;e=e._reactInternals;e:{if(dm(e)!==e||e.tag!==1)throw Error(Ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ae(171))}if(e.tag===1){var n=e.type;if(Ss(n))return wye(e,n,t)}return t}function _be(e,t,n,r,o,i,s,a,c){return e=L6(n,r,!0,e,o,i,s,a,c),e.context=Cbe(null),n=e.current,r=qi(),o=uf(n),i=vu(r,o),i.callback=t??null,lf(n,i,o),e.current.lanes=o,ow(e,o,r),Es(e,r),e}function vj(e,t,n,r){var o=t.current,i=qi(),s=uf(o);return n=Cbe(n),t.context===null?t.context=n:t.pendingContext=n,t=vu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lf(o,t,s),e!==null&&(xl(e,o,s,i),C2(e,o,s)),s}function dE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function B6(e,t){vH(e,t),(e=e.alternate)&&vH(e,t)}function _He(){return null}var Sbe=typeof reportError=="function"?reportError:function(e){console.error(e)};function N6(e){this._internalRoot=e}yj.prototype.render=N6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ae(409));vj(e,t,null,null)};yj.prototype.unmount=N6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fp(function(){vj(null,e,null,null)}),t[Du]=null}};function yj(e){this._internalRoot=e}yj.prototype.unstable_scheduleHydration=function(e){if(e){var t=eye();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rd.length&&t!==0&&t<Rd[n].priority;n++);Rd.splice(n,0,e),n===0&&nye(e)}};function z6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yH(){}function SHe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=dE(s);i.call(u)}}var s=_be(t,r,e,0,null,!1,!1,"",yH);return e._reactRootContainer=s,e[Du]=s.current,Pb(e.nodeType===8?e.parentNode:e),Fp(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=dE(c);a.call(u)}}var c=L6(e,0,!1,null,null,!1,!1,"",yH);return e._reactRootContainer=c,e[Du]=c.current,Pb(e.nodeType===8?e.parentNode:e),Fp(function(){vj(t,c,n,r)}),c}function xj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=dE(s);a.call(c)}}vj(t,s,e,o)}else s=SHe(n,t,e,o,r);return dE(s)}Q1e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uy(t.pendingLanes);n!==0&&(s6(t,n|1),Es(t,Yr()),!(tn&6)&&(Rv=Yr()+500,qf()))}break;case 13:Fp(function(){var r=Iu(e,1);if(r!==null){var o=qi();xl(r,e,1,o)}}),B6(e,1)}};a6=function(e){if(e.tag===13){var t=Iu(e,134217728);if(t!==null){var n=qi();xl(t,e,134217728,n)}B6(e,134217728)}};J1e=function(e){if(e.tag===13){var t=uf(e),n=Iu(e,t);if(n!==null){var r=qi();xl(n,e,t,r)}B6(e,t)}};eye=function(){return wn};tye=function(e,t){var n=wn;try{return wn=e,t()}finally{wn=n}};B3=function(e,t,n){switch(t){case"input":if(O3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=uj(r);if(!o)throw Error(Ae(90));O1e(r),O3(r,o)}}}break;case"textarea":R1e(e,n);break;case"select":t=n.value,t!=null&&Hg(e,!!n.multiple,t,!1)}};z1e=R6;V1e=Fp;var EHe={usingClientEntryPoint:!1,Events:[sw,_g,uj,B1e,N1e,R6]},_1={findFiberByHostInstance:Xh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kHe={bundleType:_1.bundleType,version:_1.version,rendererPackageName:_1.rendererPackageName,rendererConfig:_1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ju.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W1e(e),e===null?null:e.stateNode},findFiberByHostInstance:_1.findFiberByHostInstance||_He,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NC.isDisabled&&NC.supportsFiber)try{sj=NC.inject(kHe),vc=NC}catch{}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EHe;la.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z6(t))throw Error(Ae(200));return CHe(e,t,null,n)};la.createRoot=function(e,t){if(!z6(e))throw Error(Ae(299));var n=!1,r="",o=Sbe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=L6(e,1,!1,null,null,n,!1,r,o),e[Du]=t.current,Pb(e.nodeType===8?e.parentNode:e),new N6(t)};la.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ae(188)):(e=Object.keys(e).join(","),Error(Ae(268,e)));return e=W1e(t),e=e===null?null:e.stateNode,e};la.flushSync=function(e){return Fp(e)};la.hydrate=function(e,t,n){if(!bj(t))throw Error(Ae(200));return xj(null,e,t,!0,n)};la.hydrateRoot=function(e,t,n){if(!z6(e))throw Error(Ae(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Sbe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=_be(t,null,e,1,n??null,o,!1,i,s),e[Du]=t.current,Pb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new yj(t)};la.render=function(e,t,n){if(!bj(t))throw Error(Ae(200));return xj(null,e,t,!1,n)};la.unmountComponentAtNode=function(e){if(!bj(e))throw Error(Ae(40));return e._reactRootContainer?(Fp(function(){xj(null,null,e,!1,function(){e._reactRootContainer=null,e[Du]=null})}),!0):!1};la.unstable_batchedUpdates=R6;la.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bj(n))throw Error(Ae(200));if(e==null||e._reactInternals===void 0)throw Error(Ae(38));return xj(e,t,n,!1,r)};la.version="18.2.0-next-9e3b772b8-20220608";function Ebe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ebe)}catch(e){console.error(e)}}Ebe(),_1e.exports=la;var cc=_1e.exports;const jHe=Oe(cc),kbe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?lV({element:t.current,padding:n}).fn(o):{}:t?lV({element:t,padding:n}).fn(o):{}}}};var A2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function fE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!fE(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!fE(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jbe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bH(e,t){const n=jbe(e);return Math.round(t*n)/n}function xH(e){const t=h.useRef(e);return A2(()=>{t.current=e}),t}function Tbe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);fE(p,r)||m(r);const[v,g]=h.useState(null),[b,x]=h.useState(null),y=h.useCallback(R=>{R!=S.current&&(S.current=R,g(R))},[g]),w=h.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[x]),C=i||v,_=s||b,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=xH(c),T=xH(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const R={placement:t,strategy:n,middleware:p};T.current&&(R.platform=T.current),_ze(S.current,E.current,R).then(V=>{const M={...V,isPositioned:!0};D.current&&!fE(j.current,M)&&(j.current=M,cc.flushSync(()=>{f(M)}))})},[p,t,n,T]);A2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);A2(()=>(D.current=!0,()=>{D.current=!1}),[]),A2(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:w}),[y,w]),O=h.useMemo(()=>({reference:C,floating:_}),[C,_]),$=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!O.floating)return R;const V=bH(O.floating,d.x),M=bH(O.floating,d.y);return a?{...R,transform:"translate("+V+"px, "+M+"px)",...jbe(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:M}},[n,a,O.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:O,floatingStyles:$}),[d,A,I,O,$])}const Abe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),wj=h.createContext({}),Cj=h.createContext(null),_j=typeof document<"u",V6=_j?h.useLayoutEffect:h.useEffect,Dbe=h.createContext({strict:!1}),H6=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),THe="framerAppearId",Ibe="data-"+H6(THe);function AHe(e,t,n,r){const{visualElement:o}=h.useContext(wj),i=h.useContext(Dbe),s=h.useContext(Cj),a=h.useContext(Abe).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!n[Ibe]);return V6(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(window.HandoffAppearAnimations=!1,d.current=!1))}),u}function Dg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function DHe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Dg(n)&&(n.current=r))},[t])}function Vb(e){return typeof e=="string"||Array.isArray(e)}function Sj(e){return typeof e=="object"&&typeof e.start=="function"}const U6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W6=["initial",...U6];function Ej(e){return Sj(e.animate)||W6.some(t=>Vb(e[t]))}function Obe(e){return!!(Ej(e)||e.variants)}function IHe(e,t){if(Ej(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Vb(n)?n:void 0,animate:Vb(r)?r:void 0}}return e.inherit!==!1?t:{}}function OHe(e){const{initial:t,animate:n}=IHe(e,h.useContext(wj));return h.useMemo(()=>({initial:t,animate:n}),[wH(t),wH(n)])}function wH(e){return Array.isArray(e)?e.join(" "):e}const CH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hb={};for(const e in CH)Hb[e]={isEnabled:t=>CH[e].some(n=>!!t[n])};function PHe(e){for(const t in e)Hb[t]={...Hb[t],...e[t]}}const Y6=h.createContext({}),Pbe=h.createContext({}),RHe=Symbol.for("motionComponentSymbol");function $He({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&PHe(e);function i(a,c){let u;const d={...h.useContext(Abe),...a,layoutId:MHe(a)},{isStatic:f}=d,p=OHe(a),m=r(a,f);if(!f&&_j){p.visualElement=AHe(o,m,d,t);const v=h.useContext(Pbe),g=h.useContext(Dbe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(wj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,DHe(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[RHe]=o,s}function MHe({layoutId:e}){const t=h.useContext(Y6).id;return t&&e!==void 0?t+"-"+e:e}function FHe(e){function t(r,o={}){return $He(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const LHe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function q6(e){return typeof e!="string"||e.includes("-")?!1:!!(LHe.indexOf(e)>-1||/[A-Z]/.test(e))}const hE={};function BHe(e){Object.assign(hE,e)}const lw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fm=new Set(lw);function Rbe(e,{layout:t,layoutId:n}){return fm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!hE[e]||e==="opacity")}const js=e=>!!(e&&e.getVelocity),NHe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zHe=lw.length;function VHe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<zHe;s++){const a=lw[s];if(e[a]!==void 0){const c=NHe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const $be=e=>t=>typeof t=="string"&&t.startsWith(e),Mbe=$be("--"),yR=$be("var(--"),HHe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,UHe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,If=(e,t,n)=>Math.min(Math.max(n,e),t),hm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uy={...hm,transform:e=>If(0,1,e)},zC={...hm,default:1},Wy=e=>Math.round(e*1e5)/1e5,kj=/(-)?([\d]*\.?[\d])+/g,Fbe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,WHe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cw(e){return typeof e=="string"}const uw=e=>({test:t=>cw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wd=uw("deg"),bc=uw("%"),st=uw("px"),YHe=uw("vh"),qHe=uw("vw"),_H={...bc,parse:e=>bc.parse(e)/100,transform:e=>bc.transform(e*100)},SH={...hm,transform:Math.round},Lbe={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:wd,rotateX:wd,rotateY:wd,rotateZ:wd,scale:zC,scaleX:zC,scaleY:zC,scaleZ:zC,skew:wd,skewX:wd,skewY:wd,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Uy,originX:_H,originY:_H,originZ:st,zIndex:SH,fillOpacity:Uy,strokeOpacity:Uy,numOctaves:SH};function G6(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(Mbe(f)){i[f]=p;continue}const m=Lbe[f],v=UHe(p,m);if(fm.has(f)){if(c=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=VHe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const K6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bbe(e,t,n){for(const r in t)!js(t[r])&&!Rbe(r,n)&&(e[r]=t[r])}function GHe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=K6();return G6(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function KHe(e,t,n){const r=e.style||{},o={};return Bbe(o,r,e),Object.assign(o,GHe(e,t,n)),e.transformValues?e.transformValues(o):o}function ZHe(e,t,n){const r={},o=KHe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const XHe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function pE(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||XHe.has(e)}let Nbe=e=>!pE(e);function QHe(e){e&&(Nbe=t=>t.startsWith("on")?!pE(t):e(t))}try{QHe(require("@emotion/is-prop-valid").default)}catch{}function JHe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Nbe(o)||n===!0&&pE(o)||!t&&!pE(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function EH(e,t,n){return typeof e=="string"?e:st.transform(t+n*e)}function eUe(e,t,n){const r=EH(t,e.x,e.width),o=EH(n,e.y,e.height);return`${r} ${o}`}const tUe={offset:"stroke-dashoffset",array:"stroke-dasharray"},nUe={offset:"strokeDashoffset",array:"strokeDasharray"};function rUe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?tUe:nUe;e[i.offset]=st.transform(-r);const s=st.transform(t),a=st.transform(n);e[i.array]=`${s} ${a}`}function Z6(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(G6(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=eUe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&rUe(m,s,a,c,!1)}const zbe=()=>({...K6(),attrs:{}}),X6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oUe(e,t,n,r){const o=h.useMemo(()=>{const i=zbe();return Z6(i,t,{enableHardwareAcceleration:!1},X6(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Bbe(i,e.style,e),o.style={...i,...o.style}}return o}function iUe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=(q6(n)?oUe:ZHe)(r,i,s,n),d={...JHe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>js(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}function Vbe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Hbe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ube(e,t,n,r){Vbe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Hbe.has(o)?o:H6(o),t.attrs[o])}function Q6(e,t){const{style:n}=e,r={};for(const o in n)(js(n[o])||t.style&&js(t.style[o])||Rbe(o,e))&&(r[o]=n[o]);return r}function Wbe(e,t){const n=Q6(e,t);for(const r in e)if(js(e[r])||js(t[r])){const o=lw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function J6(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function Ybe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const mE=e=>Array.isArray(e),sUe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),aUe=e=>mE(e)?e[e.length-1]||0:e;function D2(e){const t=js(e)?e.get():e;return sUe(t)?t.toValue():t}function lUe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:cUe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const qbe=e=>(t,n)=>{const r=h.useContext(wj),o=h.useContext(Cj),i=()=>lUe(e,t,r,o);return n?i():Ybe(i)};function cUe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=D2(i[p]);let{initial:s,animate:a}=e;const c=Ej(e),u=Obe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!Sj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=J6(e,m);if(!v)return;const{transitionEnd:g,transition:b,...x}=v;for(const y in x){let w=x[y];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[y]=w)}for(const y in g)o[y]=g[y]}),o}const Lr=e=>e;class kH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function uUe(e){let t=new kH,n=new kH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const VC=["prepare","read","update","preRender","render","postRender"],dUe=40;function fUe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=VC.reduce((f,p)=>(f[p]=uUe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,dUe),1),o.timestamp=f,o.isProcessing=!0,VC.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:VC.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,b=!1)=>(n||c(),m.schedule(v,g,b)),f},{}),cancel:f=>VC.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Yn,cancel:Pu,state:jo,steps:VD}=fUe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),hUe={useVisualState:qbe({scrapeMotionValuesFromProps:Wbe,createRenderState:zbe,onMount:(e,t,{renderState:n,latestValues:r})=>{Yn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Yn.render(()=>{Z6(n,r,{enableHardwareAcceleration:!1},X6(t.tagName),e.transformTemplate),Ube(t,n)})}})},pUe={useVisualState:qbe({scrapeMotionValuesFromProps:Q6,createRenderState:K6})};function mUe(e,{forwardMotionProps:t=!1},n,r){return{...q6(e)?hUe:pUe,preloadedFeatures:n,useRender:iUe(t),createVisualElement:r,Component:e}}function du(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Gbe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function jj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const gUe=e=>t=>Gbe(t)&&e(t,jj(t));function yu(e,t,n,r){return du(e,t,gUe(n),r)}const vUe=(e,t)=>n=>t(e(n)),ff=(...e)=>e.reduce(vUe);function Kbe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const jH=Kbe("dragHorizontal"),TH=Kbe("dragVertical");function Zbe(e){let t=!1;if(e==="y")t=TH();else if(e==="x")t=jH();else{const n=jH(),r=TH();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Xbe(){const e=Zbe(!0);return e?(e(),!1):!0}class Gf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function AH(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||Xbe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Yn.update(()=>a[r](i,s))};return yu(e.current,n,o,{passive:!e.getProps()[r]})}class yUe extends Gf{mount(){this.unmount=ff(AH(this.node,!0),AH(this.node,!1))}unmount(){}}class bUe extends Gf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ff(du(this.node.current,"focus",()=>this.onFocus()),du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Qbe=(e,t)=>t?e===t?!0:Qbe(e,t.parentElement):!1;function HD(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,jj(n))}class xUe extends Gf{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=yu(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Yn.update(()=>{Qbe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=yu(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ff(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||HD("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Yn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=du(this.node.current,"keyup",s),HD("down",(a,c)=>{this.startPress(a,c)})},n=du(this.node.current,"keydown",t),r=()=>{this.isPressing&&HD("cancel",(i,s)=>this.cancelPress(i,s))},o=du(this.node.current,"blur",r);this.removeAccessibleListeners=ff(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Yn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xbe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Yn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=yu(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=du(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ff(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bR=new WeakMap,UD=new WeakMap,wUe=e=>{const t=bR.get(e.target);t&&t(e)},CUe=e=>{e.forEach(wUe)};function _Ue({root:e,...t}){const n=e||document;UD.has(n)||UD.set(n,{});const r=UD.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(CUe,{root:e,...t})),r[o]}function SUe(e,t,n){const r=_Ue(t);return bR.set(e,n),r.observe(e),()=>{bR.delete(e),r.unobserve(e)}}const EUe={some:0,all:1};class kUe extends Gf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:EUe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return SUe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jUe(t,n))&&this.startObserver()}unmount(){}}function jUe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const TUe={inView:{Feature:kUe},tap:{Feature:xUe},focus:{Feature:bUe},hover:{Feature:yUe}};function Jbe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function AUe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function DUe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Tj(e,t,n){const r=e.getProps();return J6(r,t,n!==void 0?n:r.custom,AUe(e),DUe(e))}let IUe=Lr,eL=Lr;const hf=e=>e*1e3,bu=e=>e/1e3,OUe={current:!1},exe=e=>Array.isArray(e)&&typeof e[0]=="number";function txe(e){return!!(!e||typeof e=="string"&&nxe[e]||exe(e)||Array.isArray(e)&&e.every(txe))}const fy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,nxe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fy([0,.65,.55,1]),circOut:fy([.55,0,1,.45]),backIn:fy([.31,.01,.66,-.59]),backOut:fy([.33,1.53,.69,.99])};function rxe(e){if(e)return exe(e)?fy(e):Array.isArray(e)?e.map(rxe):nxe[e]}function PUe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=rxe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function RUe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const oxe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,$Ue=1e-7,MUe=12;function FUe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=oxe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>$Ue&&++a<MUe);return s}function dw(e,t,n,r){if(e===t&&n===r)return Lr;const o=i=>FUe(i,0,1,e,n);return i=>i===0||i===1?i:oxe(o(i),t,r)}const LUe=dw(.42,0,1,1),BUe=dw(0,0,.58,1),ixe=dw(.42,0,.58,1),NUe=e=>Array.isArray(e)&&typeof e[0]!="number",sxe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,axe=e=>t=>1-e(1-t),lxe=e=>1-Math.sin(Math.acos(e)),tL=axe(lxe),zUe=sxe(tL),cxe=dw(.33,1.53,.69,.99),nL=axe(cxe),VUe=sxe(nL),HUe=e=>(e*=2)<1?.5*nL(e):.5*(2-Math.pow(2,-10*(e-1))),UUe={linear:Lr,easeIn:LUe,easeInOut:ixe,easeOut:BUe,circIn:lxe,circInOut:zUe,circOut:tL,backIn:nL,backInOut:VUe,backOut:cxe,anticipate:HUe},DH=e=>{if(Array.isArray(e)){eL(e.length===4);const[t,n,r,o]=e;return dw(t,n,r,o)}else if(typeof e=="string")return UUe[e];return e},rL=(e,t)=>n=>!!(cw(n)&&WHe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),uxe=(e,t,n)=>r=>{if(!cw(r))return r;const[o,i,s,a]=r.match(kj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},WUe=e=>If(0,255,e),WD={...hm,transform:e=>Math.round(WUe(e))},ep={test:rL("rgb","red"),parse:uxe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+WD.transform(e)+", "+WD.transform(t)+", "+WD.transform(n)+", "+Wy(Uy.transform(r))+")"};function YUe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const xR={test:rL("#"),parse:YUe,transform:ep.transform},Ig={test:rL("hsl","hue"),parse:uxe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+bc.transform(Wy(t))+", "+bc.transform(Wy(n))+", "+Wy(Uy.transform(r))+")"},zi={test:e=>ep.test(e)||xR.test(e)||Ig.test(e),parse:e=>ep.test(e)?ep.parse(e):Ig.test(e)?Ig.parse(e):xR.parse(e),transform:e=>cw(e)?e:e.hasOwnProperty("red")?ep.transform(e):Ig.transform(e)},Tr=(e,t,n)=>-n*e+n*t+e;function YD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qUe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=YD(c,a,e+1/3),i=YD(c,a,e),s=YD(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const qD=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},GUe=[xR,ep,Ig],KUe=e=>GUe.find(t=>t.test(e));function IH(e){const t=KUe(e);let n=t.parse(e);return t===Ig&&(n=qUe(n)),n}const dxe=(e,t)=>{const n=IH(e),r=IH(t),o={...n};return i=>(o.red=qD(n.red,r.red,i),o.green=qD(n.green,r.green,i),o.blue=qD(n.blue,r.blue,i),o.alpha=Tr(n.alpha,r.alpha,i),ep.transform(o))};function ZUe(e){var t,n;return isNaN(e)&&cw(e)&&(((t=e.match(kj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Fbe))===null||n===void 0?void 0:n.length)||0)>0}const fxe={regex:HHe,countKey:"Vars",token:"${v}",parse:Lr},hxe={regex:Fbe,countKey:"Colors",token:"${c}",parse:zi.parse},pxe={regex:kj,countKey:"Numbers",token:"${n}",parse:hm.parse};function GD(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function gE(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&GD(n,fxe),GD(n,hxe),GD(n,pxe),n}function mxe(e){return gE(e).values}function gxe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=gE(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(fxe.token,s[c]):c<r+n?a=a.replace(hxe.token,zi.transform(s[c])):a=a.replace(pxe.token,Wy(s[c]));return a}}const XUe=e=>typeof e=="number"?0:e;function QUe(e){const t=mxe(e);return gxe(e)(t.map(XUe))}const Of={test:ZUe,parse:mxe,createTransformer:gxe,getAnimatableNone:QUe},vxe=(e,t)=>n=>`${n>0?t:e}`;function yxe(e,t){return typeof e=="number"?n=>Tr(e,t,n):zi.test(e)?dxe(e,t):e.startsWith("var(")?vxe(e,t):xxe(e,t)}const bxe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>yxe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},JUe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=yxe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},xxe=(e,t)=>{const n=Of.createTransformer(t),r=gE(e),o=gE(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?ff(bxe(r.values,o.values),n):vxe(e,t)},Ub=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},OH=(e,t)=>n=>Tr(e,t,n);function eWe(e){return typeof e=="number"?OH:typeof e=="string"?zi.test(e)?dxe:xxe:Array.isArray(e)?bxe:typeof e=="object"?JUe:OH}function tWe(e,t,n){const r=[],o=n||eWe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Lr:t;a=ff(c,a)}r.push(a)}return r}function wxe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(eL(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=tWe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Ub(e[d],e[d+1],u);return s[d](f)};return n?u=>c(If(e[0],e[i-1],u)):c}function nWe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ub(0,t,r);e.push(Tr(n,1,o))}}function rWe(e){const t=[0];return nWe(t,e.length-1),t}function oWe(e,t){return e.map(n=>n*t)}function iWe(e,t){return e.map(()=>t||ixe).splice(0,e.length-1)}function vE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=NUe(r)?r.map(DH):DH(r),i={done:!1,value:t[0]},s=oWe(n&&n.length===t.length?n:rWe(t),e),a=wxe(s,t,{ease:Array.isArray(o)?o:iWe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function Cxe(e,t){return t?e*(1e3/t):0}const sWe=5;function _xe(e,t,n){const r=Math.max(t-sWe,0);return Cxe(n-e(r),t-r)}const KD=.001,aWe=.01,PH=10,lWe=.05,cWe=1;function uWe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;IUe(e<=hf(PH));let s=1-t;s=If(lWe,cWe,s),e=If(aWe,PH,bu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=wR(u,s),v=Math.exp(-f);return KD-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=wR(Math.pow(u,2),s);return(-o(u)+KD>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-KD+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=fWe(o,i,a);if(e=hf(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const dWe=12;function fWe(e,t,n){let r=n;for(let o=1;o<dWe;o++)r=r-e(r)/t(r);return r}function wR(e,t){return e*Math.sqrt(1-t*t)}const hWe=["duration","bounce"],pWe=["stiffness","damping","mass"];function RH(e,t){return t.some(n=>e[n]!==void 0)}function mWe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!RH(e,pWe)&&RH(e,hWe)){const n=uWe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function Sxe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=mWe(r),m=d?-bu(d):0,v=c/(2*Math.sqrt(a*u)),g=i-o,b=bu(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(v<1){const w=wR(b,v);y=C=>{const _=Math.exp(-v*b*C);return i-_*((m+v*b*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)y=w=>i-Math.exp(-b*w)*(g+(m+b*g)*w);else{const w=b*Math.sqrt(v*v-1);y=C=>{const _=Math.exp(-v*b*C),S=Math.min(w*C,300);return i-_*((m+v*b*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=y(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=_xe(y,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function $H({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,v=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let g=n*t;const b=f+g,x=s===void 0?b:s(b);x!==b&&(g=x-f);const y=j=>-g*Math.exp(-j/r),w=j=>x+y(j),C=j=>{const k=y(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=Sxe({keyframes:[p.value,v(p.value)],velocity:_xe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const gWe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Yn.update(t,!0),stop:()=>Pu(t),now:()=>jo.isProcessing?jo.timestamp:performance.now()}},MH=2e4;function FH(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<MH;)t+=n,r=e.next(t);return t>=MH?1/0:t}const vWe={decay:$H,inertia:$H,tween:vE,keyframes:vE,spring:Sxe};function yE({autoplay:e=!0,delay:t=0,driver:n=gWe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,b;const x=()=>{b=new Promise(U=>{g=U})};x();let y;const w=vWe[o]||vE;let C;w!==vE&&typeof r[0]!="number"&&(C=wxe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=FH(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let O=0;const $=U=>{if(k===null)return;m>0&&(k=Math.min(k,U)),m<0&&(k=Math.min(U-I/m,k)),j!==null?O=j:O=Math.round(U-k)*m;const W=O-t*(m>=0?1:-1),Q=m>=0?W<0:W>I;O=Math.max(W,0),E==="finished"&&j===null&&(O=I);let N=O,K=_;if(i){const J=O/D;let X=Math.floor(J),ee=J%1;!ee&&J>=1&&(ee=1),ee===1&&X--,X=Math.min(X,i+1);const oe=!!(X%2);oe&&(a==="reverse"?(ee=1-ee,s&&(ee-=s/D)):a==="mirror"&&(K=S));let de=If(0,1,ee);O>I&&(de=a==="reverse"&&oe?1:0),N=de*D}const z=Q?{done:!1,value:r[0]}:K.next(N);C&&(z.value=C(z.value));let{done:Z}=z;!Q&&A!==null&&(Z=m>=0?O>=I:O<=0);const G=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(z.value),G&&M(),z},R=()=>{y&&y.stop(),y=void 0},V=()=>{E="idle",R(),g(),x(),k=T=null},M=()=>{E="finished",d&&d(),R(),g()},H=()=>{if(v)return;y||(y=n($));const U=y.now();c&&c(),j!==null?k=U-j:(!k||E==="finished")&&(k=U),E==="finished"&&x(),T=k,j=null,E="running",y.start()};e&&H();const q={then(U,W){return b.then(U,W)},get time(){return bu(O)},set time(U){U=hf(U),O=U,j!==null||!y||m===0?j=U:k=y.now()-U/m},get duration(){const U=_.calculatedDuration===null?FH(_):_.calculatedDuration;return bu(U)},get speed(){return m},set speed(U){U===m||!y||(m=U,q.time=bu(O))},get state(){return E},play:H,pause:()=>{E="paused",j=O},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),V())},cancel:()=>{T!==null&&$(T),V()},complete:()=>{E="finished"},sample:U=>(k=0,$(U))};return q}function yWe(e){let t;return()=>(t===void 0&&(t=e()),t)}const bWe=yWe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xWe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),HC=10,wWe=2e4,CWe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!txe(t.ease);function _We(e,t,{onUpdate:n,onComplete:r,...o}){if(!(bWe()&&xWe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(y=>{a=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(CWe(t,o)){const y=yE({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<wWe;)w=y.sample(_),C.push(w.value),_+=HC;m=void 0,d=C,f=_-HC,p="linear"}const v=PUe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=jo.isProcessing?jo.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),b=()=>{Yn.update(g),a(),u()};return v.onfinish=()=>{e.set(RUe(d,o)),r&&r(),b()},{then(y,w){return c.then(y,w)},attachTimeline(y){return v.timeline=y,v.onfinish=null,Lr},get time(){return bu(v.currentTime||0)},set time(y){v.currentTime=hf(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return bu(f)},play:()=>{s||(v.play(),Pu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const w=yE({...o,autoplay:!1});e.setWithVelocity(w.sample(y-HC).value,w.sample(y).value,HC)}b()},complete:()=>v.finish(),cancel:b}}function SWe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Lr,pause:Lr,stop:Lr,then:i=>(i(),Promise.resolve()),cancel:Lr,complete:Lr});return t?yE({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const EWe={type:"spring",stiffness:500,damping:25,restSpeed:10},kWe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jWe={type:"keyframes",duration:.8},TWe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AWe=(e,{keyframes:t})=>t.length>2?jWe:fm.has(e)?e.startsWith("scale")?kWe(t[1]):EWe:TWe,CR=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Of.test(t)||t==="0")&&!t.startsWith("url(")),DWe=new Set(["brightness","contrast","saturate","opacity"]);function IWe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(kj)||[];if(!r)return e;const o=n.replace(r,"");let i=DWe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const OWe=/([a-z-]*)\(.*?\)/g,_R={...Of,getAnimatableNone:e=>{const t=e.match(OWe);return t?t.map(IWe).join(" "):e}},PWe={...Lbe,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:_R,WebkitFilter:_R},oL=e=>PWe[e];function Exe(e,t){let n=oL(e);return n!==_R&&(n=Of),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const kxe=e=>/^0[^.\s]+$/.test(e);function RWe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||kxe(e)}function $We(e,t,n,r){const o=CR(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),RWe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Exe(t,a)}return i}function MWe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function iL(e,t){return e[t]||e.default||e}const sL=(e,t,n,r={})=>o=>{const i=iL(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-hf(s);const c=$We(t,e,n,i),u=c[0],d=c[c.length-1],f=CR(e,u),p=CR(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(MWe(i)||(m={...m,...AWe(e,m)}),m.duration&&(m.duration=hf(m.duration)),m.repeatDelay&&(m.repeatDelay=hf(m.repeatDelay)),!f||!p||OUe.current||i.type===!1)return SWe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=_We(t,e,m);if(v)return v}return yE(m)};function bE(e){return!!(js(e)&&e.add)}const jxe=e=>/^\-?\d*\.?\d+$/.test(e);function aL(e,t){e.indexOf(t)===-1&&e.push(t)}function lL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cL{constructor(){this.subscriptions=[]}add(t){return aL(this.subscriptions,t),()=>lL(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FWe=e=>!isNaN(parseFloat(e));class LWe{constructor(t,n={}){this.version="10.16.12",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=jo;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Yn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Yn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=FWe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new cL);const r=this.events[t].add(n);return t==="change"?()=>{r(),Yn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Cxe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $v(e,t){return new LWe(e,t)}const Txe=e=>t=>t.test(e),BWe={test:e=>e==="auto",parse:e=>e},Axe=[hm,st,bc,wd,qHe,YHe,BWe],S1=e=>Axe.find(Txe(e)),NWe=[...Axe,zi,Of],zWe=e=>NWe.find(Txe(e));function VWe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$v(n))}function HWe(e,t){const n=Tj(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=aUe(i[s]);VWe(e,s,a)}}function UWe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(jxe(d)||kxe(d))?d=parseFloat(d):!zWe(d)&&Of.test(u)&&(d=Exe(c,u)),e.addValue(c,$v(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function WWe(e,t){return t?(t[e]||t.default||t).from:void 0}function YWe(e,t,n){const r={};for(const o in e){const i=WWe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function qWe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Dxe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&qWe(d,f))continue;const v={delay:n,elapsed:0,...iL(i||{},f)};let g=!0;if(window.HandoffAppearAnimations&&!p.hasAnimated){const y=e.getProps()[Ibe];y&&(g=!1,v.elapsed=window.HandoffAppearAnimations(y,f,p,Yn),v.syncStart=!0)}let b=g&&m===p.get();if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(b=!1),p.animation&&(b=!1),b)continue;p.start(sL(f,p,m,e.shouldReduceMotion&&fm.has(f)?{type:!1}:v));const x=p.animation;bE(c)&&(c.add(f),x.then(()=>c.remove(f))),u.push(x)}return s&&Promise.all(u).then(()=>{s&&HWe(e,s)}),u}function SR(e,t,n={}){const r=Tj(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Dxe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return GWe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function GWe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(KWe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(SR(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function KWe(e,t){return e.sortNodePosition(t)}function ZWe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>SR(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=SR(e,t,n);else{const o=typeof t=="function"?Tj(e,t,n.custom):t;r=Promise.all(Dxe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const XWe=[...U6].reverse(),QWe=U6.length;function JWe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ZWe(e,n,r)))}function eYe(e){let t=JWe(e);const n=nYe();let r=!0;const o=(c,u)=>{const d=Tj(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<QWe;x++){const y=XWe[x],w=n[y],C=d[y]!==void 0?d[y]:f[y],_=Vb(C),S=y===u?w.isActive:null;S===!1&&(g=x);let E=C===f[y]&&C!==d[y]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||Sj(C)||typeof C=="boolean")continue;const j=tYe(w.prevProp,C);let k=j||y===u&&w.isActive&&!E&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},O=$=>{k=!0,m.delete($),w.needsAnimating[$]=!0};for(const $ in I){const R=A[$],V=D[$];v.hasOwnProperty($)||(R!==V?mE(R)&&mE(V)?!Jbe(R,V)||j?O($):w.protectedKeys[$]=!0:R!==void 0?O($):m.add($):R!==void 0&&m.has($)?O($):w.protectedKeys[$]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map($=>({animation:$,options:{type:y,...c}})))}if(m.size){const x={};m.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(x[y]=w)}),p.push({animation:x})}let b=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function tYe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jbe(t,e):!1}function gh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nYe(){return{animate:gh(!0),whileInView:gh(),whileHover:gh(),whileTap:gh(),whileDrag:gh(),whileFocus:gh(),exit:gh()}}class rYe extends Gf{constructor(t){super(t),t.animationState||(t.animationState=eYe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Sj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let oYe=0;class iYe extends Gf{constructor(){super(...arguments),this.id=oYe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const sYe={animation:{Feature:rYe},exit:{Feature:iYe}},LH=(e,t)=>Math.abs(e-t);function aYe(e,t){const n=LH(e.x,t.x),r=LH(e.y,t.y);return Math.sqrt(n**2+r**2)}class Ixe{constructor(t,n,{transformPagePoint:r,contextWindow:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=XD(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=aYe(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:v}=jo;this.history.push({...m,timestamp:v});const{onStart:g,onMove:b}=this.handlers;f||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ZD(f,this.transformPagePoint),Yn.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:p,onSessionEnd:m}=this.handlers,v=XD(d.type==="pointercancel"?this.lastMoveEventInfo:ZD(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),m&&m(d,v)},!Gbe(t))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=jj(t),s=ZD(i,this.transformPagePoint),{point:a}=s,{timestamp:c}=jo;this.history=[{...a,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,XD(s,this.history)),this.removeListeners=ff(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pu(this.updatePoint)}}function ZD(e,t){return t?{point:t(e.point)}:e}function BH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function XD({point:e},t){return{point:e,delta:BH(e,Oxe(t)),offset:BH(e,lYe(t)),velocity:cYe(t,.1)}}function lYe(e){return e[0]}function Oxe(e){return e[e.length-1]}function cYe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Oxe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>hf(t)));)n--;if(!r)return{x:0,y:0};const i=bu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ta(e){return e.max-e.min}function ER(e,t=0,n=.01){return Math.abs(e-t)<=n}function NH(e,t,n,r=.5){e.origin=r,e.originPoint=Tr(t.min,t.max,e.origin),e.scale=ta(n)/ta(t),(ER(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Tr(n.min,n.max,e.origin)-e.originPoint,(ER(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Yy(e,t,n,r){NH(e.x,t.x,n.x,r?r.originX:void 0),NH(e.y,t.y,n.y,r?r.originY:void 0)}function zH(e,t,n){e.min=n.min+t.min,e.max=e.min+ta(t)}function uYe(e,t,n){zH(e.x,t.x,n.x),zH(e.y,t.y,n.y)}function VH(e,t,n){e.min=t.min-n.min,e.max=e.min+ta(t)}function qy(e,t,n){VH(e.x,t.x,n.x),VH(e.y,t.y,n.y)}function dYe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Tr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Tr(n,e,r.max):Math.min(e,n)),e}function HH(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fYe(e,{top:t,left:n,bottom:r,right:o}){return{x:HH(e.x,n,o),y:HH(e.y,t,r)}}function UH(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hYe(e,t){return{x:UH(e.x,t.x),y:UH(e.y,t.y)}}function pYe(e,t){let n=.5;const r=ta(e),o=ta(t);return o>r?n=Ub(t.min,t.max-r,e.min):r>o&&(n=Ub(e.min,e.max-o,t.min)),If(0,1,n)}function mYe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kR=.35;function gYe(e=kR){return e===!1?e=0:e===!0&&(e=kR),{x:WH(e,"left","right"),y:WH(e,"top","bottom")}}function WH(e,t,n){return{min:YH(e,t),max:YH(e,n)}}function YH(e,t){return typeof e=="number"?e:e[t]||0}const qH=()=>({translate:0,scale:1,origin:0,originPoint:0}),Og=()=>({x:qH(),y:qH()}),GH=()=>({min:0,max:0}),Jr=()=>({x:GH(),y:GH()});function tc(e){return[e("x"),e("y")]}function Pxe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vYe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yYe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function QD(e){return e===void 0||e===1}function jR({scale:e,scaleX:t,scaleY:n}){return!QD(e)||!QD(t)||!QD(n)}function Ah(e){return jR(e)||Rxe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Rxe(e){return KH(e.x)||KH(e.y)}function KH(e){return e&&e!=="0%"}function xE(e,t,n){const r=e-n,o=t*r;return n+o}function ZH(e,t,n,r,o){return o!==void 0&&(e=xE(e,o,r)),xE(e,n,r)+t}function TR(e,t=0,n=1,r,o){e.min=ZH(e.min,t,n,r,o),e.max=ZH(e.max,t,n,r,o)}function $xe(e,{x:t,y:n}){TR(e.x,t.translate,t.scale,t.originPoint),TR(e.y,n.translate,n.scale,n.originPoint)}function bYe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Pg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,$xe(e,s)),r&&Ah(i.latestValues)&&Pg(e,i.latestValues))}t.x=XH(t.x),t.y=XH(t.y)}function XH(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jd(e,t){e.min=e.min+t,e.max=e.max+t}function QH(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Tr(e.min,e.max,i);TR(e,t[n],t[r],s,t.scale)}const xYe=["x","scaleX","originX"],wYe=["y","scaleY","originY"];function Pg(e,t){QH(e.x,t,xYe),QH(e.y,t,wYe)}function Mxe(e,t){return Pxe(yYe(e.getBoundingClientRect(),t))}function CYe(e,t,n){const r=Mxe(e,n),{scroll:o}=t;return o&&(jd(r.x,o.offset.x),jd(r.y,o.offset.y)),r}const Fxe=({current:e})=>e?e.ownerDocument.defaultView:null,_Ye=new WeakMap;class SYe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(jj(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zbe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tc(v=>{let g=this.getAxisMotionValue(v).get()||0;if(bc.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[v];x&&(g=ta(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Yn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=EYe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new Ixe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:Fxe(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Yn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!UC(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=dYe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Dg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=fYe(o.layoutBox,n):this.constraints=!1,this.elastic=gYe(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&tc(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=mYe(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Dg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=CYe(r,o.root,this.visualElement.getTransformPagePoint());let s=hYe(o.layout.layoutBox,i);if(n){const a=n(vYe(s));this.hasMutatedConstraints=!!a,a&&(s=Pxe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=tc(d=>{if(!UC(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(sL(t,r,0,n))}stopAnimation(){tc(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){tc(n=>{const{drag:r}=this.getProps();if(!UC(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Tr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tc(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=pYe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tc(s=>{if(!UC(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Tr(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;_Ye.set(this.visualElement,this);const t=this.visualElement.current,n=yu(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Dg(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=du(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(tc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=kR,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function UC(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EYe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class kYe extends Gf{constructor(t){super(t),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new SYe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const JH=e=>(t,n)=>{e&&Yn.update(()=>e(t,n))};class jYe extends Gf{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(t){this.session=new Ixe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fxe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:JH(t),onStart:JH(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Yn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function TYe(){const e=h.useContext(Cj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const I2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const E1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=eU(e,t.target.x),r=eU(e,t.target.y);return`${n}% ${r}%`}},AYe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Of.parse(e);if(o.length>5)return r;const i=Of.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Tr(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class DYe extends ie.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;BHe(IYe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),I2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Yn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lxe(e){const[t,n]=TYe(),r=h.useContext(Y6);return ie.createElement(DYe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Pbe),isPresent:t,safeToRemove:n})}const IYe={borderRadius:{...E1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:E1,borderTopRightRadius:E1,borderBottomLeftRadius:E1,borderBottomRightRadius:E1,boxShadow:AYe},Bxe=["TopLeft","TopRight","BottomLeft","BottomRight"],OYe=Bxe.length,tU=e=>typeof e=="string"?parseFloat(e):e,nU=e=>typeof e=="number"||st.test(e);function PYe(e,t,n,r,o,i){o?(e.opacity=Tr(0,n.opacity!==void 0?n.opacity:1,RYe(r)),e.opacityExit=Tr(t.opacity!==void 0?t.opacity:1,0,$Ye(r))):i&&(e.opacity=Tr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<OYe;s++){const a=`border${Bxe[s]}Radius`;let c=rU(t,a),u=rU(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||nU(c)===nU(u)?(e[a]=Math.max(Tr(tU(c),tU(u),r),0),(bc.test(u)||bc.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Tr(t.rotate||0,n.rotate||0,r))}function rU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RYe=Nxe(0,.5,tL),$Ye=Nxe(.5,.95,Lr);function Nxe(e,t,n){return r=>r<e?0:r>t?1:n(Ub(e,t,r))}function oU(e,t){e.min=t.min,e.max=t.max}function pa(e,t){oU(e.x,t.x),oU(e.y,t.y)}function iU(e,t,n,r,o){return e-=t,e=xE(e,1/n,r),o!==void 0&&(e=xE(e,1/o,r)),e}function MYe(e,t=0,n=1,r=.5,o,i=e,s=e){if(bc.test(t)&&(t=parseFloat(t),t=Tr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Tr(i.min,i.max,r);e===i&&(a-=t),e.min=iU(e.min,t,n,a,o),e.max=iU(e.max,t,n,a,o)}function sU(e,t,[n,r,o],i,s){MYe(e,t[n],t[r],t[o],t.scale,i,s)}const FYe=["x","scaleX","originX"],LYe=["y","scaleY","originY"];function aU(e,t,n,r){sU(e.x,t,FYe,n?n.x:void 0,r?r.x:void 0),sU(e.y,t,LYe,n?n.y:void 0,r?r.y:void 0)}function lU(e){return e.translate===0&&e.scale===1}function zxe(e){return lU(e.x)&&lU(e.y)}function BYe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Vxe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function cU(e){return ta(e.x)/ta(e.y)}class NYe{constructor(){this.members=[]}add(t){aL(this.members,t),t.scheduleRender()}remove(t){if(lL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uU(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const zYe=(e,t)=>e.depth-t.depth;class VYe{constructor(){this.children=[],this.isDirty=!1}add(t){aL(this.children,t),this.isDirty=!0}remove(t){lL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zYe),this.isDirty=!1,this.children.forEach(t)}}function HYe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Pu(r),e(i-t))};return Yn.read(r,!0),()=>Pu(r)}function UYe(e){window.MotionDebug&&window.MotionDebug.record(e)}function WYe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function YYe(e,t,n){const r=js(e)?e:$v(e);return r.start(sL("",r,t,n)),r.animation}const dU=["","X","Y","Z"],qYe={visibility:"hidden"},fU=1e3;let GYe=0;const Dh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Hxe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=GYe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dh.totalNodes=Dh.resolvedTargetDeltas=Dh.recalculatedProjection=0,this.nodes.forEach(XYe),this.nodes.forEach(nqe),this.nodes.forEach(rqe),this.nodes.forEach(QYe),UYe(Dh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new VYe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new cL),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WYe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=HYe(p,250),I2.hasAnimatedSinceResize&&(I2.hasAnimatedSinceResize=!1,this.nodes.forEach(pU))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||lqe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!Vxe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...iL(g,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||pU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oqe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hU);return}this.isUpdating||this.nodes.forEach(eqe),this.isUpdating=!1,this.nodes.forEach(tqe),this.nodes.forEach(KYe),this.nodes.forEach(ZYe),this.clearAllSnapshots();const a=performance.now();jo.delta=If(0,1e3/60,a-jo.timestamp),jo.timestamp=a,jo.isProcessing=!0,VD.update.process(jo),VD.preRender.process(jo),VD.render.process(jo),jo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(JYe),this.sharedNodes.forEach(iqe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!zxe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Ah(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),cqe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Jr();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(jd(a.x,c.offset.x),jd(a.y,c.offset.y)),a}removeElementScroll(s){const a=Jr();pa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){pa(a,s);const{scroll:p}=this.root;p&&(jd(a.x,-p.offset.x),jd(a.y,-p.offset.y))}jd(a.x,d.offset.x),jd(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=Jr();pa(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Pg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ah(d.latestValues)&&Pg(c,d.latestValues)}return Ah(this.latestValues)&&Pg(c,this.latestValues),c}removeTransform(s){const a=Jr();pa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ah(u.latestValues))continue;jR(u.latestValues)&&u.updateSnapshot();const d=Jr(),f=u.measurePageBox();pa(d,f),aU(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ah(this.latestValues)&&aU(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=jo.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),qy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uYe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pa(this.target,this.layout.layoutBox),$xe(this.target,this.targetDelta)):pa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),qy(this.relativeTargetOrigin,this.target,m.target),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jR(this.parent.latestValues)||Rxe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===jo.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;pa(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;bYe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Og(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Og(),this.projectionDeltaWithTransform=Og());const g=this.projectionTransform;Yy(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=uU(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Dh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Og();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Jr(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,b=this.getStack(),x=!b||b.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(aqe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;mU(f.x,s.x,_),mU(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sqe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&BYe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Jr()),pa(w,this.relativeTarget)),g&&(this.animationValues=d,PYe(d,u,this.latestValues,_,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yn.update(()=>{I2.hasAnimatedSinceResize=!0,this.currentAnimation=YYe(0,fU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&Uxe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Jr();const f=ta(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=ta(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}pa(a,c),Pg(a,d),Yy(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new NYe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<dU.length;d++){const f="rotate"+dU[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qYe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=D2(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=D2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ah(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=uU(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in hE){if(p[g]===void 0)continue;const{correct:b,applyTo:x}=hE[g],y=u.transform==="none"?p[g]:b(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=f===this?D2(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hU),this.root.sharedNodes.clear()}}}function KYe(e){e.updateLayout()}function ZYe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?tc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ta(p);p.min=r[f].min,p.max=p.min+m}):Uxe(i,n.layoutBox,r)&&tc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ta(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Og();Yy(a,r,n.layoutBox);const c=Og();s?Yy(c,e.applyTransform(o,!0),n.measuredBox):Yy(c,r,n.layoutBox);const u=!zxe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=Jr();qy(v,n.layoutBox,p.layoutBox);const g=Jr();qy(g,r,m.layoutBox),Vxe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function XYe(e){Dh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function QYe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JYe(e){e.clearSnapshot()}function hU(e){e.clearMeasurements()}function eqe(e){e.isLayoutDirty=!1}function tqe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nqe(e){e.resolveTargetDelta()}function rqe(e){e.calcProjection()}function oqe(e){e.resetRotation()}function iqe(e){e.removeLeadSnapshot()}function mU(e,t,n){e.translate=Tr(t.translate,0,n),e.scale=Tr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gU(e,t,n,r){e.min=Tr(t.min,n.min,r),e.max=Tr(t.max,n.max,r)}function sqe(e,t,n,r){gU(e.x,t.x,n.x,r),gU(e.y,t.y,n.y,r)}function aqe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lqe={duration:.45,ease:[.4,0,.1,1]},vU=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),yU=vU("applewebkit/")&&!vU("chrome/")?Math.round:Lr;function bU(e){e.min=yU(e.min),e.max=yU(e.max)}function cqe(e){bU(e.x),bU(e.y)}function Uxe(e,t,n){return e==="position"||e==="preserve-aspect"&&!ER(cU(t),cU(n),.2)}const uqe=Hxe({attachResizeListener:(e,t)=>du(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JD={current:void 0},Wxe=Hxe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!JD.current){const e=new uqe({});e.mount(window),e.setOptions({layoutScroll:!0}),JD.current=e}return JD.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dqe={pan:{Feature:jYe},drag:{Feature:kYe,ProjectionNode:Wxe,MeasureLayout:Lxe}},fqe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hqe(e){const t=fqe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function AR(e,t,n=1){const[r,o]=hqe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return jxe(s)?parseFloat(s):s}else return yR(o)?AR(o,t,n+1):o}function pqe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!yR(i))return;const s=AR(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!yR(i))continue;const s=AR(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const mqe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Yxe=e=>mqe.has(e),gqe=e=>Object.keys(e).some(Yxe),xU=e=>e===hm||e===st,wU=(e,t)=>parseFloat(e.split(", ")[t]),CU=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return wU(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?wU(i[1],e):0}},vqe=new Set(["x","y","z"]),yqe=lw.filter(e=>!vqe.has(e));function bqe(e){const t=[];return yqe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Mv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:CU(4,13),y:CU(5,14)};Mv.translateX=Mv.x;Mv.translateY=Mv.y;const xqe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Mv[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Mv[u](c,i)}),e},wqe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Yxe);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=S1(d);const p=t[c];let m;if(mE(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=S1(d);for(let b=g;b<v&&p[b]!==null;b++)m?eL(S1(p[b])===m):m=S1(p[b])}else m=S1(p);if(f!==m)if(xU(f)&&xU(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===st&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=bqe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=xqe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),_j&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Cqe(e,t,n,r){return gqe(t)?wqe(e,t,n,r):{target:t,transitionEnd:r}}const _qe=(e,t,n,r)=>{const o=pqe(e,t,r);return t=o.target,r=o.transitionEnd,Cqe(e,t,n,r)},DR={current:null},qxe={current:!1};function Sqe(){if(qxe.current=!0,!!_j)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>DR.current=e.matches;e.addListener(t),t()}else DR.current=!1}function Eqe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(js(i))e.addValue(o,i),bE(r)&&r.add(o);else if(js(s))e.addValue(o,$v(i,{owner:e})),bE(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,$v(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const _U=new WeakMap,Gxe=Object.keys(Hb),kqe=Gxe.length,SU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jqe=W6.length;class Tqe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Yn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Ej(n),this.isVariantNode=Obe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&js(p)&&(p.set(a[f],!1),bE(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,_U.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qxe.current||Sqe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:DR.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_U.delete(this.current),this.projection&&this.projection.unmount(),Pu(this.notifyUpdate),Pu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=fm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Yn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<kqe;c++){const u=Gxe[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Hb[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Dg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SU.length;r++){const o=SU[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=Eqe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<jqe;r++){const o=W6[r],i=this.props[o];(Vb(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=$v(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=J6(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!js(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new cL),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Kxe extends Tqe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=YWe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){UWe(this,r,s);const a=_qe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function Aqe(e){return window.getComputedStyle(e)}class Dqe extends Kxe{readValueFromInstance(t,n){if(fm.has(n)){const r=oL(n);return r&&r.default||0}else{const r=Aqe(t),o=(Mbe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Mxe(t,n)}build(t,n,r,o){G6(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Q6(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;js(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){Vbe(t,n,r,o)}}class Iqe extends Kxe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fm.has(n)){const r=oL(n);return r&&r.default||0}return n=Hbe.has(n)?n:H6(n),t.getAttribute(n)}measureInstanceViewportBox(){return Jr()}scrapeMotionValuesFromProps(t,n){return Wbe(t,n)}build(t,n,r,o){Z6(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){Ube(t,n,r,o)}mount(t){this.isSVGTag=X6(t.tagName),super.mount(t)}}const Oqe=(e,t)=>q6(e)?new Iqe(t,{enableHardwareAcceleration:!1}):new Dqe(t,{enableHardwareAcceleration:!0}),Pqe={layout:{ProjectionNode:Wxe,MeasureLayout:Lxe}},Rqe={...sYe,...TUe,...dqe,...Pqe},ed=FHe((e,t)=>mUe(e,t,Rqe,Oqe));function Zxe(){const e=h.useRef(!1);return V6(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function $qe(){const e=Zxe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Yn.postRender(r),[r]),t]}class Mqe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Fqe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(Mqe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const eI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=Ybe(Lqe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(Fqe,{isPresent:n},e)),h.createElement(Cj.Provider,{value:u},e)};function Lqe(){return new Map}function Bqe(e){return h.useEffect(()=>()=>e(),[])}const Ih=e=>e.key||"";function Nqe(e,t){e.forEach(n=>{const r=Ih(n);t.set(r,n)})}function zqe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const uL=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(Y6).forceRender||$qe()[0],c=Zxe(),u=zqe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(V6(()=>{v.current=!1,Nqe(u,m),p.current=d}),Bqe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(y=>h.createElement(eI,{key:Ih(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},y)));d=[...d];const g=p.current.map(Ih),b=u.map(Ih),x=g.length;for(let y=0;y<x;y++){const w=g[y];b.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(b.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=y;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!b.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=Ih(k);return T===w||j.includes(T)}),!f.size){if(c.current===!1)return;a(),r&&r()}};S=h.createElement(eI,{key:Ih(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:h.createElement(eI,{key:Ih(y),isPresent:!0,presenceAffectsLayout:i,mode:s},y)}),h.createElement(h.Fragment,null,f.size?d:d.map(y=>h.cloneElement(y)))},fw=[],pf={},Xxe={top:"bottom",right:"left",bottom:"top",left:"right"};function Vqe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ye(e){return e===0?0:"".concat(e/16,"rem")}function pt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function Hqe(e,t){return e===void 0?t||fw:Array.isArray(e)?e:[e]}function ps(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:pt(e.sanity.media,n,r=>Vqe(t,ye(e.sanity.space[r])))}function Fv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Fv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),Fv.warned=!0),[p];const m=pt(s,n,v=>Uqe(c[v]||f));return[p,...m]}function Uqe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:ye(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ye(i),transform:"translateY(".concat(ye(n),")"),"&:before":{marginTop:"calc(".concat(ye(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ye(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ye(u)}}}function Wqe(e){return Fv("code",e)}function Yqe(e){return Fv("heading",e)}function qqe(e){return Fv("label",e)}function dL(e){const{theme:t}=e;return pt(t.sanity.media,e.$align,n=>({textAlign:n}))}function Gqe(e){return Fv("text",e)}function we(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>Hqe(e,t),[n])}function EU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function lr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>EU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=EU(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var gp=[],Kqe=function(){return gp.some(function(e){return e.activeTargets.length>0})},Zqe=function(){return gp.some(function(e){return e.skippedTargets.length>0})},kU="ResizeObserver loop completed with undelivered notifications.",Xqe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:kU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=kU),window.dispatchEvent(e)},Wb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Wb||(Wb={}));var vp=function(e){return Object.freeze(e)},Qqe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,vp(this)}return e}(),Qxe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,vp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),fL=function(e){return e instanceof SVGElement&&"getBBox"in e},Jxe=function(e){if(fL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},jU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Jqe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Gy=typeof window<"u"?window:{},WC=new WeakMap,TU=/auto|scroll/,eGe=/^tb|vertical/,tGe=/msie|trident/i.test(Gy.navigator&&Gy.navigator.userAgent),Yl=function(e){return parseFloat(e||"0")},Kg=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Qqe((n?t:e)||0,(n?e:t)||0)},AU=vp({devicePixelContentBoxSize:Kg(),borderBoxSize:Kg(),contentBoxSize:Kg(),contentRect:new Qxe(0,0,0,0)}),ewe=function(e,t){if(t===void 0&&(t=!1),WC.has(e)&&!t)return WC.get(e);if(Jxe(e))return WC.set(e,AU),AU;var n=getComputedStyle(e),r=fL(e)&&e.ownerSVGElement&&e.getBBox(),o=!tGe&&n.boxSizing==="border-box",i=eGe.test(n.writingMode||""),s=!r&&TU.test(n.overflowY||""),a=!r&&TU.test(n.overflowX||""),c=r?0:Yl(n.paddingTop),u=r?0:Yl(n.paddingRight),d=r?0:Yl(n.paddingBottom),f=r?0:Yl(n.paddingLeft),p=r?0:Yl(n.borderTopWidth),m=r?0:Yl(n.borderRightWidth),v=r?0:Yl(n.borderBottomWidth),g=r?0:Yl(n.borderLeftWidth),b=f+u,x=c+d,y=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:Yl(n.width)-S-_,k=r?r.height:Yl(n.height)-E-C,T=j+b+_+y,A=k+x+C+w,D=vp({devicePixelContentBoxSize:Kg(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:Kg(T,A,i),contentBoxSize:Kg(j,k,i),contentRect:new Qxe(f,c,j,k)});return WC.set(e,D),D},twe=function(e,t,n){var r=ewe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Wb.DEVICE_PIXEL_CONTENT_BOX:return s;case Wb.BORDER_BOX:return o;default:return i}},nGe=function(){function e(t){var n=ewe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=vp([n.borderBoxSize]),this.contentBoxSize=vp([n.contentBoxSize]),this.devicePixelContentBoxSize=vp([n.devicePixelContentBoxSize])}return e}(),nwe=function(e){if(Jxe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},rGe=function(){var e=1/0,t=[];gp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new nGe(u.target),f=nwe(u.target);a.push(d),u.lastReportedSize=twe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},DU=function(e){gp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(nwe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},oGe=function(){var e=0;for(DU(e);Kqe();)e=rGe(),DU(e);return Zqe()&&Xqe(),e>0},tI,rwe=[],iGe=function(){return rwe.splice(0).forEach(function(e){return e()})},sGe=function(e){if(!tI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return iGe()}).observe(n,r),tI=function(){n.textContent="".concat(t?t--:t++)}}rwe.push(e),tI()},aGe=function(e){sGe(function(){requestAnimationFrame(e)})},O2=0,lGe=function(){return!!O2},cGe=250,uGe={attributes:!0,characterData:!0,childList:!0,subtree:!0},IU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],OU=function(e){return e===void 0&&(e=0),Date.now()+e},nI=!1,dGe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=cGe),!nI){nI=!0;var r=OU(t);aGe(function(){var o=!1;try{o=oGe()}finally{if(nI=!1,t=r-OU(),!lGe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,uGe)};document.body?n():Gy.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),IU.forEach(function(n){return Gy.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),IU.forEach(function(n){return Gy.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),IR=new dGe,PU=function(e){!O2&&e>0&&IR.start(),O2+=e,!O2&&IR.stop()},fGe=function(e){return!fL(e)&&!Jqe(e)&&getComputedStyle(e).display==="inline"},hGe=function(){function e(t,n){this.target=t,this.observedBox=n||Wb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=twe(this.target,this.observedBox,!0);return fGe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),pGe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),YC=new WeakMap,RU=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},qC=function(){function e(){}return e.connect=function(t,n){var r=new pGe(t,n);YC.set(t,r)},e.observe=function(t,n,r){var o=YC.get(t),i=o.observationTargets.length===0;RU(o.observationTargets,n)<0&&(i&&gp.push(o),o.observationTargets.push(new hGe(n,r&&r.box)),PU(1),IR.schedule())},e.unobserve=function(t,n){var r=YC.get(t),o=RU(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&gp.splice(gp.indexOf(r),1),r.observationTargets.splice(o,1),PU(-1))},e.disconnect=function(t){var n=this,r=YC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),mGe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");qC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");qC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");qC.unobserve(this,t)},e.prototype.disconnect=function(){qC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const owe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:mGe,gGe=yGe();function vGe(){return{subscribe(e,t){const n=new owe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function yGe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=vGe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function Aj(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return gGe.subscribe(e,n)},[e]),t}function td(e){const t=Aj(e);return(t==null?void 0:t._contentRect)||null}function Ji(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function rI(e,t){return e*t}function bGe(e,t){return{r:Math.round(oI(rI(e.r/255,t.r/255)*255)),g:Math.round(oI(rI(e.g/255,t.g/255)*255)),b:Math.round(oI(rI(e.b/255,t.b/255)*255))}}function oI(e){return Math.max(Math.min(e,255),0)}function iI(e,t){return e+t-e*t}function xGe(e,t){return{r:Math.round(sI(iI(e.r/255,t.r/255)*255)),g:Math.round(sI(iI(e.g/255,t.g/255)*255)),b:Math.round(sI(iI(e.b/255,t.b/255)*255))}}function sI(e){return Math.max(Math.min(e,255),0)}function wGe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function iwe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function CGe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const _Ge="0123456789ABCDEFabcdef",SGe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function EGe(e){for(const t of e)if(_Ge.indexOf(t)===-1)return!1;return!0}function kGe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:EGe(e.slice(1))}function jGe(e){const t=SGe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function Yb(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(kGe(e))return wGe(e);if(e.startsWith("hsl("))return CGe(jGe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function At(e,t){const n=Yb(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function aI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function TGe(e,t,n,r,o){return{default:aI(e,t,n,r,o,"default"),ghost:aI(e,t,n,r,o,"ghost"),bleed:aI(e,t,n,r,o,"bleed")}}function AGe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const Te="hsl(0, 0%, 0%)",Nm="hsl(0, 0%, 100%)",mt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},DGe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},GC={transparent:{bg:[mt.transparent.darkest,mt.transparent.lightest],fg:[mt.transparent.lightest,mt.transparent.darkest],border:[mt.transparent.darker,mt.transparent.lighter],focusRing:[mt.transparent.base,mt.transparent.base]},primary:{bg:[mt.primary.darkest,mt.primary.lightest],fg:[mt.primary.lightest,mt.primary.darkest],border:[mt.primary.darker,mt.primary.lighter],focusRing:[mt.primary.base,mt.primary.base]},positive:{bg:[mt.positive.darkest,mt.positive.lightest],fg:[mt.positive.lightest,mt.positive.darkest],border:[mt.positive.darker,mt.positive.lighter],focusRing:[mt.positive.base,mt.positive.base]},caution:{bg:[mt.caution.darkest,mt.caution.lightest],fg:[mt.caution.lightest,mt.caution.darkest],border:[mt.caution.darker,mt.caution.lighter],focusRing:[mt.caution.base,mt.caution.base]},critical:{bg:[mt.critical.darkest,mt.critical.lightest],fg:[mt.critical.lightest,mt.critical.darkest],border:[mt.critical.darker,mt.critical.lighter],focusRing:[mt.critical.base,mt.critical.base]}},IGe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?Te:Nm,fg:t?Nm:Te,border:t?mt.default.darkest:mt.default.lightest,focusRing:mt.primary.base,shadow:{outline:Te,umbra:Te,penumbra:Te,ambient:Te},skeleton:{from:t?Nm:Te,to:t?Nm:Te}}:{bg:GC[n].bg[t?0:1],fg:GC[n].fg[t?0:1],border:GC[n].border[t?0:1],focusRing:GC[n].focusRing[t?0:1],shadow:{outline:Te,umbra:Te,penumbra:Te,ambient:Te},skeleton:{from:t?Nm:Te,to:t?Nm:Te}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=mt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:Te},accent:{fg:Te},link:{fg:Te},code:{bg:Te,fg:Te},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:Te},accent:{fg:Te},link:{fg:Te},code:{bg:Te,fg:Te},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=mt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:Te},accent:{fg:Te},link:{fg:Te},code:{bg:Te,fg:Te},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:Te},accent:{fg:Te},link:{fg:Te},code:{bg:Te,fg:Te},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:Te},accent:{fg:Te},link:{fg:Te},code:{bg:Te,fg:Te},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:Te},accent:{fg:Te},link:{fg:Te},code:{bg:Te,fg:Te},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:Te,bg2:Te,fg:Te,border:Te,muted:{fg:Te},accent:{fg:Te},link:{fg:Te},code:{bg:Te,fg:Te},skeleton:t.skeleton}},input:()=>({bg:Te,fg:Te,border:Te,placeholder:Te}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return DGe[t]},syntax:()=>({atrule:Te,attrName:Te,attrValue:Te,attribute:Te,boolean:Te,builtin:Te,cdata:Te,char:Te,class:Te,className:Te,comment:Te,constant:Te,deleted:Te,doctype:Te,entity:Te,function:Te,hexcode:Te,id:Te,important:Te,inserted:Te,keyword:Te,number:Te,operator:Te,prolog:Te,property:Te,pseudoClass:Te,pseudoElement:Te,punctuation:Te,regex:Te,selector:Te,string:Te,symbol:Te,tag:Te,unit:Te,url:Te,variable:Te})};function OGe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function PGe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function RGe(e,t,n,r,o){return{default:k1(e,t,n,r,o,"default"),primary:k1(e,t,n,r,o,"primary"),positive:k1(e,t,n,r,o,"positive"),caution:k1(e,t,n,r,o,"caution"),critical:k1(e,t,n,r,o,"critical")}}function k1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function $Ge(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function MGe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function FGe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...IGe,...e};return{light:$U(t,!1),dark:$U(t,!0)}}function $U(e,t){return{default:zm(e,t,"default"),transparent:zm(e,t,"transparent"),primary:zm(e,t,"primary"),positive:zm(e,t,"positive"),caution:zm(e,t,"caution"),critical:zm(e,t,"critical")}}function zm(e,t,n){const r=e.base({dark:t,name:n}),o=$Ge(e,r,t,n),i=PGe(e,r,t,n);return{base:r,button:TGe(e,r,t,o,i),card:AGe(e,r,t,n,o,i),dark:t,input:OGe(e,r,t,o,i),selectable:RGe(e,r,t,o,i),spot:MGe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function vh(e,t){const n=Yb(e),r=Yb(t);return iwe(bGe(n,r))}function yh(e,t){const n=Yb(e),r=Yb(t);return iwe(xGe(n,r))}const Li={default:pe.gray,transparent:pe.gray,primary:pe.blue,positive:pe.green,caution:pe.yellow,critical:pe.red},j1=["default","transparent"],LGe=FGe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=pe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?xa.hex:oc.hex,bg:t?oc.hex:xa.hex,border:i[t?800:200].hex,focusRing:pe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[950].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[950].hex,.28):At(i[500].hex,.14),ambient:t?At(i[950].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}if(n==="transparent"){const i=Li.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:pe.blue[500].hex,shadow:{outline:At(i[500].hex,.4),umbra:t?At(i[900].hex,.4):At(i[500].hex,.2),penumbra:t?At(i[900].hex,.28):At(i[500].hex,.14),ambient:t?At(i[900].hex,.24):At(i[500].hex,.12)},skeleton:{from:s,to:At(s,.5)}}}const r=Li[n]||Li.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:At(r[500].hex,.4),umbra:t?At(r[900].hex,.4):At(r[500].hex,.2),penumbra:t?At(r[900].hex,.28):At(r[500].hex,.14),ambient:t?At(r[900].hex,.24):At(r[500].hex,.12)},skeleton:{from:o,to:At(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?yh:vh,a=n?vh:yh,c=Li[r]||Li.default,u=j1.includes(r)&&j1.includes(i);let d=Li[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?oc.hex:xa.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?oc.hex:xa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?oc.hex:xa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}if(o==="selected"){u&&(d=Li.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?oc.hex:xa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:At(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?oc.hex:xa.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,pe.red[n?900:100].hex)},link:{fg:a(f,pe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:At(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?yh:vh,a=Li[r]||Li.default,c=j1.includes(r)&&j1.includes(i);let u=Li[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:At(m,.5),to:At(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="pressed"){c&&(u=Li.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}if(o==="selected"){c&&(u=Li.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:At(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:At(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=j1.includes(o),c=Li[o]||Li.default,u=n?yh:vh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,pe.red[n?400:500].hex)},link:{fg:u(t.bg,pe.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:At(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?yh:vh;if(r==="invalid"){const s=Li.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,pe.gray[n?700:300].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?700:300].hex),border:i(t.bg,pe.gray[n?900:100].hex),placeholder:i(t.bg,pe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?200:800].hex),border:i(t.bg,pe.gray[n?800:200].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,pe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?yh:vh)(t.bg,pe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?yh:vh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,pe.purple[o].hex),attrName:r(t.bg,pe.green[o].hex),attrValue:r(t.bg,pe.yellow[o].hex),attribute:r(t.bg,pe.yellow[o].hex),boolean:r(t.bg,pe.purple[o].hex),builtin:r(t.bg,pe.purple[o].hex),cdata:r(t.bg,pe.yellow[o].hex),char:r(t.bg,pe.yellow[o].hex),class:r(t.bg,pe.orange[o].hex),className:r(t.bg,pe.cyan[o].hex),comment:r(t.bg,pe.gray[i].hex),constant:r(t.bg,pe.purple[o].hex),deleted:r(t.bg,pe.red[o].hex),doctype:r(t.bg,pe.gray[i].hex),entity:r(t.bg,pe.red[o].hex),function:r(t.bg,pe.green[o].hex),hexcode:r(t.bg,pe.blue[o].hex),id:r(t.bg,pe.purple[o].hex),important:r(t.bg,pe.purple[o].hex),inserted:r(t.bg,pe.yellow[o].hex),keyword:r(t.bg,pe.magenta[o].hex),number:r(t.bg,pe.purple[o].hex),operator:r(t.bg,pe.magenta[o].hex),prolog:r(t.bg,pe.gray[i].hex),property:r(t.bg,pe.blue[o].hex),pseudoClass:r(t.bg,pe.yellow[o].hex),pseudoElement:r(t.bg,pe.yellow[o].hex),punctuation:r(t.bg,pe.gray[o].hex),regex:r(t.bg,pe.blue[o].hex),selector:r(t.bg,pe.red[o].hex),string:r(t.bg,pe.yellow[o].hex),symbol:r(t.bg,pe.purple[o].hex),tag:r(t.bg,pe.red[o].hex),unit:r(t.bg,pe.orange[o].hex),url:r(t.bg,pe.red[o].hex),variable:r(t.bg,pe.red[o].hex)}}}),BGe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Pf={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:LGe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:BGe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},NGe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function zGe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Qt=zGe(),OR=Symbol.for("@sanity/ui/context/theme");Qt[OR]=Qt[OR]||h.createContext(null);const PR=Qt[OR];function wE(e){const t=h.useContext(PR),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||NGe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(PR.Provider,{value:a,children:l.jsx(VFe,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function h0(e){return!!(e&&typeof e=="object")}function p0(){const e=h.useContext(PR);if(!e)throw new Error("useRootTheme(): missing context value");if(!h0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function swe(e){const{children:t,scheme:n,tone:r}=e,o=p0();return l.jsx(wE,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function Ts(){return Zve()}const MU=new WeakMap;function VGe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function HGe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=VGe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function UGe(){return 0}function pm(){const e=Ts(),{media:t}=e.sanity;let n=MU.get(t);return n||(n=HGe(t),MU.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,UGe)}let lI;function awe(){return lI||(lI=window.matchMedia("(prefers-color-scheme: dark)")),lI}function WGe(e){const t=awe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function YGe(){return awe().matches}function qGe(){return!1}function GGe(){return h.useSyncExternalStore(WGe,YGe,qGe)}const KGe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function cr(e){const t=h.useRef(null);return KGe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function hw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const pw="1px solid var(--card-border-color)";function ZGe(){return[XGe,QGe,JGe,eKe,tKe]}function XGe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$border,r=>r?{"&&":{border:pw}}:{"&&":{border:0}})}function QGe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderTop,r=>r?{"&&":{borderTop:pw}}:{"&&":{borderTop:0}})}function JGe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderRight,r=>r?{"&&":{borderRight:pw}}:{"&&":{borderRight:0}})}function eKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:pw}}:{"&&":{borderBottom:0}})}function tKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:pw}}:{"&&":{borderLeft:0}})}const nKe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},rKe={content:"content-box",border:"border-box"},oKe={stretch:"stretch",fill:"100%"};function iKe(){return nKe}function sKe(){return[lKe,cKe,uKe,aKe]}function aKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function lKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$sizing,r=>({boxSizing:rKe[r]}))}function cKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$height,r=>({height:oKe[r]}))}function uKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$overflow,r=>({overflow:r}))}const dKe={"&&:not([hidden])":{display:"flex"}};function fKe(){return[dKe,hKe,pKe,mKe,gKe,vKe]}function hKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$align,r=>({alignItems:r}))}function pKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gap,o=>({gap:o?ye(r[o]):void 0}))}function mKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$wrap,r=>({flexWrap:r}))}function gKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$justify,r=>({justifyContent:r}))}function vKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$direction,r=>({flexDirection:r}))}const yKe={minWidth:0,minHeight:0};function lwe(){return[yKe,bKe]}function bKe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?pt(n,e.$flex,r=>({flex:r})):fw}function Co(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function kc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&Co(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const xKe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},wKe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},CKe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function _Ke(){return[xKe,SKe,EKe,kKe,jKe,TKe,AKe,DKe,IKe]}function SKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function EKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$autoRows,r=>({gridAutoRows:r&&CKe[r]}))}function kKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$autoCols,r=>({gridAutoColumns:r&&wKe[r]}))}function jKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function TKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function AKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gap,o=>({gridGap:o?ye(r[o]):void 0}))}function DKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gapX,o=>({columnGap:o?ye(r[o]):void 0}))}function IKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$gapY,o=>({rowGap:o?ye(r[o]):void 0}))}function OKe(){return[$Ke,MKe,FKe,LKe,BKe,NKe]}const PKe={auto:"auto",full:"1 / -1"},RKe={auto:"auto",full:"1 / -1"};function $Ke(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:PKe[r]})}function MKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$rowStart,r=>({gridRowStart:r}))}function FKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function LKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:RKe[r]})}function BKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$columnStart,r=>({gridColumnStart:r}))}function NKe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function hL(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return pt(c,f,(v,g)=>{const b=a.text.sizes[m[g]]||a.text.sizes[2],x=b.lineHeight-b.ascenderHeight-b.descenderHeight,y=u[f[g]],w=u[p[g]],C={paddingTop:ye(y-b.ascenderHeight),paddingRight:ye(y),paddingBottom:ye(y-b.descenderHeight),paddingLeft:ye(y)};return r&&(C.paddingRight=ye(y+x+w)),n&&(C.paddingLeft=ye(y+x+w)),C})}function zKe(e){return hL({...e,$iconRight:!0})}var FU=Object.freeze,VKe=Object.defineProperty,pL=(e,t)=>FU(VKe(e,"raw",{value:FU(t||e.slice())})),LU,BU,NU;const HKe=fe(LU||(LU=pL([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function cwe(){return HKe}function uwe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return fe(BU||(BU=pL([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function dwe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return pt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function fwe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return fe(NU||(NU=pL([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,Co({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,Co({color:c.invalid.enabled.border,width:a.border.width}),kc({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),kc({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,Co({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,Co({color:c.default.hovered.border,width:a.border.width}))}function UKe(e){const{theme:t}=e;return[ps(t,["margin"],e.$margin),ps(t,["marginLeft","marginRight"],e.$marginX),ps(t,["marginTop","marginBottom"],e.$marginY),ps(t,["marginTop"],e.$marginTop),ps(t,["marginRight"],e.$marginRight),ps(t,["marginBottom"],e.$marginBottom),ps(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function hwe(e){const{theme:t}=e;return[ps(t,["padding"],e.$padding),ps(t,["paddingLeft","paddingRight"],e.$paddingX),ps(t,["paddingTop","paddingBottom"],e.$paddingY),ps(t,["paddingTop"],e.$paddingTop),ps(t,["paddingRight"],e.$paddingRight),ps(t,["paddingBottom"],e.$paddingBottom),ps(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function nd(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return pt(n,e.$radius,o=>({borderRadius:ye(r[o])}))}function cI(e,t){return"".concat(e.map(ye).join(" ")," ").concat(t)}function WKe(e){if(!e)return pf;const t="0 0 0 ".concat(ye(1)," var(--card-shadow-outline-color)"),n=cI(e.umbra,"var(--card-shadow-umbra-color)"),r=cI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=cI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function YKe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return pt(n,e.$shadow,o=>WKe(r[o]))}var zU=Object.freeze,qKe=Object.defineProperty,uI=(e,t)=>zU(qKe(e,"raw",{value:zU(t||e.slice())})),VU,HU,UU;function GKe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return fe(UU||(UU=uI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&fe(VU||(VU=uI([`
      color: var(--card-accent-fg-color);
    `]))),n&&fe(HU||(HU=uI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var WU=Object.freeze,KKe=Object.defineProperty,ZKe=(e,t)=>WU(KKe(e,"raw",{value:WU(t||e.slice())})),YU;const XKe=P.div(Gqe,dL,GKe),QKe=P.span(YU||(YU=ZKe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),B=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(QKe,{children:f})),l.jsx(XKe,{"data-ui":"Text",...d,$accent:r,$align:we(o),$muted:s,ref:n,$size:we(a),$weight:u,children:l.jsx("span",{children:f})})}),mw={root:eZe,arrow:JKe,bgStroke:rZe,stroke:oZe,initials:nZe};function JKe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function eZe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:kc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function tZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return pt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2),"&>svg":{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2)}}})}function nZe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function rZe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function oZe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const iZe=P.div(tZe,mw.root),sZe=P.div(mw.arrow),aZe=P.ellipse(mw.bgStroke),lZe=P.ellipse(mw.stroke),cZe=P.div(mw.initials),pwe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=q4e.isValidElementType(r)?r:"div",g=we(p),b=Ts(),x=b.sanity.color.spot[o]||b.sanity.color.spot.gray,w=(b.sanity.avatar.sizes[g[0]]||b.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return l.jsxs(iZe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(sZe,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),l.jsx(aZe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),l.jsx(lZe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(cZe,{children:l.jsx(B,{as:"span",size:D,children:l.jsx("strong",{children:a})})})})]})});var qU=Object.freeze,uZe=Object.defineProperty,dZe=(e,t)=>qU(uZe(e,"raw",{value:qU(t||e.slice())})),GU;function fZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return pt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ye(i.size/2),minWidth:ye(i.size),height:ye(i.size)}:pf})}function hZe(e){const{theme:t}=e;return fe(GU||(GU=dZe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ye(t.sanity.space[2]))}const pZe=P.div(fZe,hZe),RR=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=we(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(pZe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(B,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function mwe(e){return(Array.isArray(e)?e:[e]).filter(n=>Zn.isElement(n)||Zn.isFragment(n)||typeof n=="string")}var KU=Object.freeze,mZe=Object.defineProperty,gZe=(e,t)=>KU(mZe(e,"raw",{value:KU(t||e.slice())})),ZU;const vZe=fe(ZU||(ZU=gZe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function yZe(){return vZe}function bZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return pt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ye(i.distance)}}:pf})}const xZe=P.div(bZe,yZe),Dj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=mwe(r).filter(v=>typeof v!="string"),c=Math.max(o,0),u=we(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(xZe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(RR,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(RR,{count:p,size:u})}),m.map((v,g)=>l.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),wZe=P.div(iKe,lwe,sKe,OKe,UKe,hwe),F=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:b,overflow:x,padding:y=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return l.jsx(wZe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:we(o),$columnStart:we(i),$columnEnd:we(s),$display:we(a),$flex:we(c),$height:we(u),$margin:we(d),$marginX:we(f),$marginY:we(p),$marginTop:we(m),$marginRight:we(v),$marginBottom:we(g),$marginLeft:we(b),$overflow:we(x),$padding:we(y),$paddingX:we(w),$paddingY:we(C),$paddingTop:we(_),$paddingRight:we(S),$paddingBottom:we(E),$paddingLeft:we(j),$row:we(k),$rowStart:we(T),$rowEnd:we(A),$sizing:we(D),as:r,ref:n,children:t.children})});var XU=Object.freeze,CZe=Object.defineProperty,dI=(e,t)=>XU(CZe(e,"raw",{value:XU(t||e.slice())})),QU,JU,eW;function _Ze(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return fe(eW||(eW=dI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&fe(QU||(QU=dI([`
      color: var(--card-accent-fg-color);
    `]))),n&&fe(JU||(JU=dI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var tW=Object.freeze,SZe=Object.defineProperty,EZe=(e,t)=>tW(SZe(e,"raw",{value:tW(t||e.slice())})),nW;const kZe=P.div(qqe,dL,_Ze),jZe=P.span(nW||(nW=EZe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),zt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(jZe,{children:f}):f=l.jsx("span",{children:f}),l.jsx(kZe,{"data-ui":"Label",...d,$accent:r,$align:we(o),$muted:s,$size:we(a),$weight:u,ref:n,children:f})});function TZe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const AZe=P(F)(nd,TZe),mL=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(AZe,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:we(a),padding:we(s),ref:n,children:l.jsx(zt,{size:o,children:r})})}),DZe=P(F)(lwe,fKe),Y=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(DZe,{"data-ui":"Flex",...u,$align:we(r),$direction:we(i),$gap:we(s),$justify:we(a),$wrap:we(c),forwardedAs:o,ref:n})});var rW=Object.freeze,IZe=Object.defineProperty,gwe=(e,t)=>rW(IZe(e,"raw",{value:rW(t||e.slice())})),oW,iW;const OZe=im(oW||(oW=gwe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),PZe=P(B)(iW||(iW=gwe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),OZe),ur=h.forwardRef(function(t,n){return l.jsx(PZe,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(Zx,{})})});function Nt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var sW=Object.freeze,RZe=Object.defineProperty,$Ze=(e,t)=>sW(RZe(e,"raw",{value:sW(t||e.slice())})),aW;function MZe(){return fe(aW||(aW=$Ze([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const FZe={border:{width:1}};function LZe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:FZe.border.width,color:"var(--card-border-color)"};return[Nt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:Co(u),'&:disabled, &[data-disabled="true"]':Nt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:kc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:Co(u)},"@media (hover: hover)":{"&:hover":Nt(s,c.hovered),"&:active":Nt(s,c.pressed),"&[data-hovered]":Nt(s,c.hovered)},"&[data-selected]":Nt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var lW=Object.freeze,BZe=Object.defineProperty,NZe=(e,t)=>lW(BZe(e,"raw",{value:lW(t||e.slice())})),cW;const zZe=P.button(nd,MZe,LZe),VZe=P.div(cW||(cW=NZe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),se=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:b,paddingRight:x,radius:y=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=we(c),A=we(f),D=we(p),I=we(m),O=we(v),$=we(g),R=we(b),V=we(x),M=we(y),H=we(C),q=Ts(),U=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:O,paddingBottom:$,paddingLeft:R,paddingRight:V}),[A,D,I,O,$,R,V]);return l.jsxs(zZe,{"data-ui":"Button",...k,$mode:d,$radius:M,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(VZe,{children:l.jsx(ur,{})}),(s||_||a)&&l.jsx(F,{as:"span",...U,children:l.jsxs(Y,{as:"span",justify:T,children:[s&&l.jsxs(B,{size:i,children:[h.isValidElement(s)&&s,Zn.isValidElementType(s)&&h.createElement(s)]}),_&&l.jsx(F,{flex:a?1:void 0,marginLeft:s?H:void 0,marginRight:a?H:void 0,children:l.jsx(B,{align:S,size:i,textOverflow:"ellipsis",weight:q.sanity.button.textWeight,children:_})}),a&&l.jsxs(B,{size:i,children:[h.isValidElement(a)&&a,Zn.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(F,{as:"span",...U,children:r})]})});var uW=Object.freeze,HZe=Object.defineProperty,$R=(e,t)=>uW(HZe(e,"raw",{value:uW(t||e.slice())})),dW,fW,hW;function UZe(e){return[WZe(e),YZe(e)]}function WZe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return fe(fW||(fW=$R([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&fe(dW||(dW=$R([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function YZe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return fe(hW||(hW=$R([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Nt(a,c.enabled,r),Nt(a,c.disabled,r),Nt(a,c.pressed,r),Nt(a,c.selected,r),Nt(a,c.hovered,r),Nt(a,c.pressed,r),o?kc({base:a,border:d,focusRing:s}):void 0,o?Co(d):void 0,Nt(a,c.disabled,r),Nt(a,c.pressed,r),Nt(a,c.selected,r),Nt(a,c.hovered,r),Nt(a,c.pressed,r),o?kc({base:a,border:d,focusRing:s}):void 0,o?Co(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const qZe=P(F)(ZGe,nd,YKe,UZe),te=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:b="default",...x}=t,y=Zn.isValidElementType(i)?i:"div",w=p0(),C=b==="inherit"?w.tone:b;return l.jsx(swe,{scheme:m,tone:C,children:l.jsx(qZe,{"data-as":typeof y=="string"?y:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:we(s),$borderTop:we(a),$borderRight:we(c),$borderBottom:we(u),$borderLeft:we(d),$checkered:r,$focusRing:o,$radius:we(p),$shadow:we(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:y,ref:n,selected:v})})});var pW=Object.freeze,GZe=Object.defineProperty,vwe=(e,t)=>pW(GZe(e,"raw",{value:pW(t||e.slice())})),mW,gW;function KZe(){return fe(mW||(mW=vwe([`
    position: relative;
    display: inline-block;
  `])))}function ZZe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return fe(gW||(gW=vwe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ye(o.checkbox.size),ye(o.checkbox.size),Co({color:n.default.enabled.border,width:o.border.width}),ye(i[2]),n.default.enabled.bg,kc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),Co({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,Co({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,Co({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const XZe=P.div(KZe),QZe=P.input(ZZe),Ij=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=cr(n);return hw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(XZe,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(QZe,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(Ma,{}),l.jsx(S0e,{})]})]})});var vW=Object.freeze,JZe=Object.defineProperty,eXe=(e,t)=>vW(JZe(e,"raw",{value:vW(t||e.slice())})),yW;function tXe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function nXe(){return fe(yW||(yW=eXe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),tXe)}const rXe=P.pre(nXe,Wqe),ir=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?Ip.hasLanguage(c):!1;return l.jsxs(rXe,{"data-ui":"Code",...a,$size:we(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(Ip,{inline:!0,language:c,value:String(r)})]})}),oXe={width:"100%",margin:"0 auto"};function iXe(){return oXe}function sXe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return pt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ye(n[o])}))}const aXe=P(F)(iXe,sXe),ao=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(aXe,{"data-ui":"Container",...i,$width:we(o),forwardedAs:r,ref:n})}),lXe=P(F)(_Ke),on=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(lXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:we(o),$autoCols:we(i),$autoFlow:we(s),$columns:we(a),$gap:we(c),$gapX:we(u),$gapY:we(d),$rows:we(f),forwardedAs:r,ref:n,children:p})});var bW=Object.freeze,cXe=Object.defineProperty,fI=(e,t)=>bW(cXe(e,"raw",{value:bW(t||e.slice())})),xW,wW,CW;function uXe(e){const{$accent:t,$muted:n,theme:r}=e;return fe(CW||(CW=fI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&fe(xW||(xW=fI([`
      color: var(--card-accent-fg-color);
    `]))),n&&fe(wW||(wW=fI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var _W=Object.freeze,dXe=Object.defineProperty,fXe=(e,t)=>_W(dXe(e,"raw",{value:_W(t||e.slice())})),SW;const hXe=P.div(uXe,dL,Yqe),pXe=P.span(SW||(SW=fXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),No=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(pXe,{children:f})),l.jsx(hXe,{"data-ui":"Heading",...d,$accent:r,$align:we(o),$muted:s,$size:we(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function mXe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function gXe(e){const{theme:t}=e;return pt(t.sanity.media,e.$space,n=>{const r=ye(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const vXe=P(F)(mXe,gXe),qt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>mwe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(vXe,{"data-ui":"Inline",...s,$space:we(i),forwardedAs:r,ref:n,children:a})});var EW=Object.freeze,yXe=Object.defineProperty,bXe=(e,t)=>EW(yXe(e,"raw",{value:EW(t||e.slice())})),kW;function xXe(){return fe(kW||(kW=bXe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const wXe=P.kbd(nd,xXe),MR=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx(wXe,{"data-ui":"KBD",...a,$radius:we(s),ref:n,children:l.jsx(F,{as:"span",padding:i,children:l.jsx(ir,{as:"span",muted:!0,size:o,children:r})})})}),FR=Symbol.for("@sanity/ui/context/boundaryElement");Qt[FR]=Qt[FR]||h.createContext(null);const ywe=Qt[FR];function Ru(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(ywe.Provider,{value:r,children:t})}const CXe={version:0,element:null};function Kf(){const e=h.useContext(ywe);if(e&&(!h0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||CXe}function _Xe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function SXe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const EXe=h.forwardRef(function(t,n){const r=Ts(),{children:o,media:i=r.sanity.media,...s}=t,a=cr(n),[c,u]=h.useState(null),d=Aj(c),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>_Xe(i,f),[i,f]),m=h.useMemo(()=>SXe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var kXe=Object.defineProperty,jXe=(e,t,n)=>t in e?kXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TXe=(e,t,n)=>(jXe(e,typeof t!="symbol"?t+"":t,n),n);class m0 extends h.Component{constructor(){super(...arguments),TXe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(ir,{children:n})}return this.props.children}}function bwe(e){if(!h0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const LR=Symbol.for("@sanity/ui/context/layer");Qt[LR]=Qt[LR]||h.createContext(null);const BR=Qt[LR];function Ka(){const e=h.useContext(BR);if(!e)throw new Error("useLayer(): missing context value");try{return bwe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function NR(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function AXe(e){let t=null;const n=NR(()=>{t=NR(e)});return()=>{t&&t(),n()}}function DXe(e){return gL(e)||vL(e)}function Oc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function gL(e){return Oc(e)&&e.nodeName==="A"}function IXe(e){return Oc(e)&&e.nodeName==="INPUT"}function vL(e){return Oc(e)&&e.nodeName==="BUTTON"}function OXe(e){return Oc(e)&&e.nodeName==="SELECT"}function PXe(e){return Oc(e)&&e.nodeName==="TEXTAREA"}function zR(e,t){return e.contains(t)||e===t}function RXe(e){return!!document.activeElement&&e.contains(document.activeElement)}function $Xe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:gL(e)?!!e.href&&e.rel!=="ignore":IXe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:vL(e)||OXe(e)||PXe(e)?!e.disabled:!1}function xwe(e){if(!$Xe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Lv(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Oc(n)&&(xwe(n)||Lv(n)))return!0}return!1}function wwe(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Oc(n)&&(xwe(n)||wwe(n)))return!0}return!1}function MXe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function $u(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(BR),i=o&&bwe(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=we(r),d=u.length-1,f=Math.min(pm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),b=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const y=h.useMemo(()=>({version:0,isTopLayer:b,level:c,registerChild:x,size:v,zIndex:p}),[b,c,x,v,p]);return l.jsx(BR.Provider,{value:y,children:n})}const FXe=P.div({position:"relative"}),LXe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=pf,...a}=t,{zIndex:c,isTopLayer:u}=Ka(),d=h.useRef(null),f=cr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,b=document.activeElement;!u||!g||!b||Oc(b)&&zR(g,b)&&(d.current=b)},[f,u,i]);return l.jsx(FXe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),es=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx($u,{zOffset:o,children:l.jsx(LXe,{...i,ref:n,children:r})})}),VR=Symbol.for("@sanity/ui/context/portal"),Oh=Symbol.for("@sanity/ui/context/portal/element");Qt[Oh]=null;const BXe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Qt[Oh]||(Qt[Oh]=document.createElement("div"),Qt[Oh].setAttribute("data-portal",""),document.body.appendChild(Qt[Oh])),Qt[Oh])}};Qt[VR]=Qt[VR]||h.createContext(BXe);const Cwe=Qt[VR];function g0(){const e=h.useContext(Cwe);if(!e)throw new Error("usePortal(): missing context value");if(!h0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function mm(e){var t;const{children:n,__unstable_name:r}=e,o=g0(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?cc.createPortal(n,i):null}function NXe(e){const t=h.useRef(e);return zXe(t.current,e)||(t.current=e),t.current}function zXe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const VXe=typeof document<"u";function rd(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=NXe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||VXe&&document.body||null,elements:i}),[t,r,i]);return l.jsx(Cwe.Provider,{value:s,children:n})}var jW=Object.freeze,HXe=Object.defineProperty,UXe=(e,t)=>jW(HXe(e,"raw",{value:jW(t||e.slice())})),TW;const WXe=P.div(TW||(TW=UXe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(WXe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var AW=Object.freeze,YXe=Object.defineProperty,_we=(e,t)=>AW(YXe(e,"raw",{value:AW(t||e.slice())})),DW,IW;const qXe=P.div(DW||(DW=_we([`
  position: relative;
`]))),OW=P.div(IW||(IW=_we([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=Ts().sanity,f=cr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,b]=h.useState(0),[x,y]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&y(k.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!MXe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const O=new owe($=>{b($[0].contentRect.height)});return O.observe(D),I(),()=>{D.removeEventListener("scroll",I),O.unobserve(D),O.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{b(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),b(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(OW,{children:c(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=c(k),I=i?i(k,A):A;return l.jsx(OW,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:C}),[C]);return l.jsx(qXe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:E})})});const GXe=4,og=4,nc=27,KXe=11,Swe=[0,0,0,0],ZXe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function XXe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await kv(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const b=await a.getDimensions(i.floating),x=b.height,y=b.width;return v!==y||g!==x?{reset:{rects:!0}}:{}}}}function QXe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function JXe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-og*2)}var PW=Object.freeze,eQe=Object.defineProperty,yL=(e,t)=>PW(eQe(e,"raw",{value:PW(t||e.slice())})),RW,$W,MW;const tQe=P.div(RW||(RW=yL([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),nc,nc,nc/2,nc/2,nc,nc,nc,nc),nQe=P.path($W||($W=yL([`
  fill: var(--card-shadow-outline-color);
`]))),rQe=P.path(MW||(MW=yL([`
  fill: var(--card-bg-color);
`]))),oQe=h.forwardRef(function(t,n){return l.jsx(tQe,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:nc,height:KXe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(nQe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx(rQe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),iQe=P(te)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),Ewe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:b,tone:x,width:y,x:w,y:C,..._}=t,{zIndex:S}=Ka(),E=h.useMemo(()=>r||Swe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:y,zIndex:S,...b}),[g,b,y,j,k,S]),A=d&&Xxe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-nc),I},[s,a,A]);return l.jsxs(iQe,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[l.jsx(Y,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(Y,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(oQe,{ref:i,style:D})]})}));Ewe.displayName="PopoverCard";const an=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=Ts(),m=Kf(),{__unstable_margins:v=Swe,arrow:g=!0,boundaryElement:b=m.element,children:x,constrainSize:y=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:ZXe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:O=3,referenceBoundary:$=(s=t.boundaryElement)!=null?s:m.element,referenceElement:R,scheme:V,shadow:M=3,tone:H="inherit",width:q="auto",zOffset:U=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:W,...Q}=t,N=(c=Aj(b))==null?void 0:c.border,K=we(T),z=we(O),Z=we(M),G=we(q),J=we(U),X=cr(n),ee=h.useRef(null),oe="viewport",de=pm(),le=y||I?N==null?void 0:N.width:void 0,ve=QXe({mediaIndex:de,theme:p,width:G}),Ce=h.useRef(ve);h.useEffect(()=>{Ce.current=ve},[ve]);const be=JXe({boundaryWidth:le,currentWidth:ve}),me=h.useRef(be);h.useEffect(()=>{me.current=be},[be]);const Ie=h.useRef();h.useEffect(()=>{const Wt=X.current;if(!j||!Wt)return;const Ur=Ie.current;S?Ur!==void 0&&(Wt.style.width="".concat(Ur,"px")):ve!==void 0&&(Wt.style.width="".concat(ve,"px")),typeof be=="number"&&(Wt.style.maxWidth="".concat(be,"px"))},[ve,X,S,be,j]);const Se=h.useMemo(()=>{const Wt=[];return(y||I)&&Wt.push(f1e({boundary:E||void 0,fallbackPlacements:_,padding:og,rootBoundary:oe})),Wt.push(h1e({mainAxis:g?GXe:0})),(y||S)&&Wt.push(XXe({apply(Ur){let{availableWidth:Hl,availableHeight:el,elements:ii,referenceWidth:Fn}=Ur;Ie.current=Fn;const Mr=Ce.current,Zr=me.current;S?ii.floating.style.width="".concat(Fn,"px"):Mr!==void 0&&(ii.floating.style.width="".concat(Mr,"px")),y&&(ii.floating.style.maxWidth="".concat(Math.min(Hl,Zr??1/0),"px"),ii.floating.style.maxHeight="".concat(el,"px"))},boundaryElement:E||void 0,constrainSize:y,margins:v,matchReferenceWidth:S,padding:og})),I&&Wt.push(p1e({boundary:E||void 0,rootBoundary:oe,padding:og})),g&&Wt.push(kbe({element:ee,padding:og})),Wt.push(rze({boundary:$||void 0,padding:og,strategy:"referenceHidden"})),Wt},[g,y,_,E,v,S,I,$]),{x:ot,y:Ze,middlewareData:it,placement:_e,refs:he,strategy:He,update:Ye}=Tbe({middleware:Se,placement:A,whileElementsMounted:C1e}),Me=(u=it.hide)==null?void 0:u.referenceHidden,Ct=(d=it.arrow)==null?void 0:d.x,Tt=(f=it.arrow)==null?void 0:f.y,Et=h.useCallback(Wt=>{ee.current=Wt},[]),Zt=h.useCallback(Wt=>{X.current=Wt,he.setFloating(Wt)},[X,he]),Mi=h.useCallback(Wt=>{he.setReference(Wt);const Ur=x==null?void 0:x.ref;typeof Ur=="function"?Ur(Wt):Ur&&(Ur.current=Wt)},[x,he]),is=h.useMemo(()=>!x||R?null:h.cloneElement(x,{ref:Mi}),[x,R,Mi]);if(h.useEffect(()=>{W&&(typeof W=="function"?W(Ye):W&&(W.current=Ye))},[Ye,W]),h.useEffect(()=>{he.setReference(R||null)},[R,he]),C)return x||l.jsx(l.Fragment,{});const Ds=l.jsx($u,{zOffset:J,children:l.jsx(Ewe,{...Q,__unstable_margins:v,arrow:g,arrowRef:Et,arrowX:Ct,arrowY:Tt,hidden:Me,overflow:k,padding:K,placement:_e,radius:z,ref:Zt,scheme:V,shadow:Z,strategy:He,tone:H,width:S?Ie.current:ve,x:ot,y:Ze,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:D?l.jsx(mm,{__unstable_name:typeof D=="string"?D:void 0,children:Ds}):Ds}),is]})}));an.displayName="Popover";var FW=Object.freeze,sQe=Object.defineProperty,kwe=(e,t)=>FW(sQe(e,"raw",{value:FW(t||e.slice())})),LW,BW;function aQe(){return fe(LW||(LW=kwe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function lQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return fe(BW||(BW=kwe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ye(r.radio.size/2),ye(r.radio.size),ye(r.radio.size),ye(r.radio.size/2),o.default.enabled.bg,Co({color:o.default.enabled.border,width:r.border.width}),ye(i),ye(i),ye(r.radio.markSize),ye(r.radio.markSize),ye(r.radio.markSize/2),o.default.enabled.fg,kc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),Co({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const cQe=P.div(aQe),uQe=P.input(lQe),dQe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=cr(n);return hw(u,s),l.jsxs(cQe,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(uQe,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var NW=Object.freeze,fQe=Object.defineProperty,Oj=(e,t)=>NW(fQe(e,"raw",{value:NW(t||e.slice())})),zW,VW,HW,UW;function hQe(){return fe(zW||(zW=Oj([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function pQe(e){const{theme:t}=e,n=t.sanity.fonts.text;return fe(VW||(VW=Oj([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function mQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return fe(HW||(HW=Oj([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,Co({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,Co({color:o.default.hovered.border,width:r.border.width}),kc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,Co({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,Co({color:o.default.disabled.border,width:r.border.width}))}function gQe(e){return{fontSize:ye(e.fontSize),lineHeight:ye(e.lineHeight)}}function vQe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return pt(t.sanity.media,n,o=>gQe(r[o]||r[2]))}function yQe(){return[nd,pQe,mQe,vQe,zKe]}function bQe(e){const{theme:t}=e,n=t.sanity.color.input;return fe(UW||(UW=Oj([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const bL={root:hQe,input:yQe,iconBox:bQe},xQe=P.div(bL.root),wQe=P.select(bL.input),CQe=P(F)(bL.iconBox),Rf=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=cr(n);return hw(p,o),l.jsxs(xQe,{"data-ui":"Select",children:[l.jsx(wQe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:we(s),$padding:we(a),$radius:we(c),$space:we(d),disabled:i||u,ref:p,children:r}),l.jsx(CQe,{padding:a,children:l.jsx(B,{size:s,children:l.jsx(Ml,{})})})]})}),_Qe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function SQe(){return _Qe}function EQe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return pt(n,e.$space,o=>({gridGap:ye(r[o])}))}const kQe=P(F)(SQe,EQe),re=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx(kQe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:we(o),forwardedAs:r,ref:n})});var WW=Object.freeze,jQe=Object.defineProperty,yp=(e,t)=>WW(jQe(e,"raw",{value:WW(t||e.slice())})),YW,qW,GW,KW,ZW,XW,QW;function TQe(){return fe(YW||(YW=yp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function AQe(){return fe(qW||(qW=yp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function DQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return fe(GW||(GW=yp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ye(r.switch.width),ye(r.switch.height),ye(r.switch.height/2),kc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function IQe(e){const{theme:t}=e,{input:n}=t.sanity;return fe(KW||(KW=yp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ye(n.switch.width),ye(n.switch.height),ye(n.switch.height/2))}function OQe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return fe(QW||(QW=yp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ye(s),ye(s),ye(a),ye(a),ye(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&fe(ZW||(ZW=yp([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&fe(XW||(XW=yp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const PQe=P.span(TQe),RQe=P.input(AQe),$Qe=P.span(DQe),MQe=P.span(IQe),FQe=P.span(OQe),jwe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=cr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(PQe,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(RQe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs($Qe,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(MQe,{}),l.jsx(FQe,{$checked:r,$indeterminate:s})]})]})});var JW=Object.freeze,LQe=Object.defineProperty,BQe=(e,t)=>JW(LQe(e,"raw",{value:JW(t||e.slice())})),eY;const NQe=P.span(cwe),zQe=P.span(eY||(eY=BQe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),VQe=P.textarea(hL,uwe,dwe),HQe=P.div(nd,fwe),Twe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=cr(n),p=p0();return hw(f,o),l.jsx(NQe,{"data-ui":"TextArea",children:l.jsxs(zQe,{children:[l.jsx(VQe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:we(s),$padding:we(a),$scheme:p.scheme,$space:we(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(HQe,{$radius:we(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var tY=Object.freeze,UQe=Object.defineProperty,v0=(e,t)=>tY(UQe(e,"raw",{value:tY(t||e.slice())})),nY,rY,oY,iY,sY,aY;const WQe={zIndex:2},YQe=P(te).attrs({forwardedAs:"span"})(cwe),qQe=P.span(nY||(nY=v0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),GQe=P(te).attrs({forwardedAs:"span"})(rY||(rY=v0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),KQe=P(te).attrs({forwardedAs:"span"})(oY||(oY=v0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),ZQe=P.input(hL,uwe,dwe),XQe=P.span(nd,fwe),QQe=P(F)(iY||(iY=v0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),JQe=P(F)(sY||(sY=v0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),eJe=P(te)(aY||(aY=v0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),tJe=P(se)({"&:not([hidden])":{display:"block"}}),Rr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:b,type:x="text",weight:y,...w}=t,C=cr(n),_=p0(),S=we(s),E=we(d),j=we(p),k=we(v),T=!!o,A=!!a,D=!!c,I=!!g,O=!!f;hw(C,b);const $=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),R=h.useCallback(N=>{var K;N.preventDefault(),N.stopPropagation(),u&&u(),(K=C.current)==null||K.focus()},[u,C]),V=h.useMemo(()=>f&&l.jsx(GQe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),M=h.useMemo(()=>l.jsxs(XQe,{$hasPrefix:O,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&l.jsx(QQe,{padding:E,children:l.jsxs(B,{size:S,children:[h.isValidElement(a)&&a,Zn.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(JQe,{padding:E,children:l.jsxs(B,{size:S,children:[h.isValidElement(c)&&c,Zn.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,E,j,_,T,O,I]),H=h.useMemo(()=>E.map(N=>N===0?0:N===1||N===2?1:N-2),[E]),q=h.useMemo(()=>E.map(N=>N===0||N===1?0:N===2?1:N-1),[E]),U=h.useMemo(()=>typeof o=="object"?o:pf,[o]),W=h.useMemo(()=>!i&&!m&&o&&l.jsx(eJe,{forwardedAs:"span",padding:H,style:WQe,tone:b?"critical":"inherit",children:l.jsx(tJe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Ei,mode:"bleed",padding:q,radius:j,...U,onClick:R,onMouseDown:$})}),[o,H,q,U,b,i,S,R,$,j,m]),Q=h.useMemo(()=>g&&l.jsx(KQe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:g})}),[j,g]);return l.jsxs(YQe,{"data-ui":"TextInput",tone:_.tone,children:[V,l.jsxs(qQe,{children:[l.jsx(ZQe,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:y,disabled:i,readOnly:m,ref:C,type:x}),M,W]}),Q]})});function HR(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const nJe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var lY=Object.freeze,rJe=Object.defineProperty,xL=(e,t)=>lY(rJe(e,"raw",{value:lY(t||e.slice())})),cY,uY,dY;const oJe=P.div(cY||(cY=xL([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),iJe=P.path(uY||(uY=xL([`
  fill: var(--card-shadow-outline-color);
`]))),sJe=P.path(dY||(dY=xL([`
  fill: var(--card-bg-color);
`]))),aJe=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(oJe,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(iJe,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(sJe,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),UR=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Qt[UR]=Qt[UR]||h.createContext(null);const Awe=Qt[UR];function Dwe(){return h.useContext(Awe)}function lJe(e){const{children:t,delay:n}=e,[r,o]=HR(!1),[i,s]=HR(null);if(Dwe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(Awe.Provider,{value:d,children:t})}var fY=Object.freeze,cJe=Object.defineProperty,uJe=(e,t)=>fY(cJe(e,"raw",{value:fY(t||e.slice())})),hY;const dJe=P(es)(hY||(hY=uJe([`
  pointer-events: none;
`]))),lt=h.forwardRef(function(t,n){var r,o,i,s,a;const c=Kf(),u=Ts(),{boundaryElement:d=c==null?void 0:c.element,children:f,content:p,disabled:m,fallbackPlacements:v=(o=t.fallbackPlacements)!=null?o:nJe[(r=t.placement)!=null?r:"bottom"],padding:g,placement:b="bottom",portal:x,scheme:y,shadow:w=2,zOffset:C=(i=u.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:_,...S}=t,E=we(v),j=cr(n),[k,T]=h.useState(null),A=h.useRef(null),D="viewport",I=h.useMemo(()=>{const _e=[];return _e.push(f1e({boundary:d||void 0,fallbackPlacements:E,padding:4,rootBoundary:D,mainAxis:!1})),_e.push(h1e({mainAxis:3})),_e.push(ize({apply(he){let{availableWidth:He,availableHeight:Ye,elements:Me}=he;Object.assign(Me.floating.style,{maxWidth:"".concat(He-4*2,"px"),maxHeight:"".concat(Ye-4*2,"px")})}})),_e.push(p1e({boundary:d||void 0,rootBoundary:D,padding:4})),_e.push(kbe({element:A,padding:2})),_e},[d,E]),{floatingStyles:O,placement:$,middlewareData:R,refs:V,update:M}=Tbe({middleware:I,placement:b,whileElementsMounted:C1e}),H=$&&Xxe[$.split("-")[0]],q=(s=R.arrow)==null?void 0:s.x,U=(a=R.arrow)==null?void 0:a.y,W=h.useMemo(()=>{const _e={left:q!==null?q:void 0,top:U!==null?U:void 0,right:void 0,bottom:void 0};return H&&(_e[H]=-15),_e},[q,U,H]),Q=h.useId(),[N,K]=HR(!1),z=Dwe(),Z=N||(z==null?void 0:z.openTooltipId)===Q,G=z!==null,J=typeof _=="number"?_:(_==null?void 0:_.open)||0,X=typeof _=="number"?_:(_==null?void 0:_.close)||0,ee=G?z.openDelay:J,oe=G?z.closeDelay:X,de=h.useCallback((_e,he)=>{if(G)if(_e){const He=he?0:ee;z.setIsGroupActive(_e,He),z.setOpenTooltipId(Q,He)}else{const Ye=oe>200?oe:200;z.setIsGroupActive(_e,Ye),z.setOpenTooltipId(null,he?0:oe)}else K(_e,he?0:_e?ee:oe)},[G,z,ee,Q,oe,K]),le=h.useCallback(()=>de(!1),[de]),ve=h.useCallback(()=>de(!0),[de]),Ce=h.useCallback(()=>de(!0),[de]),be=h.useCallback(()=>de(!1),[de]);h.useEffect(()=>{if(!N)return;function _e(he){if(!k)return;k===he.target||he.target instanceof Node&&k.contains(he.target)||(de(!1),window.removeEventListener("mousemove",_e))}return window.addEventListener("mousemove",_e),()=>{window.removeEventListener("mousemove",_e)}},[N,k,de]),h.useEffect(()=>{m&&de(!1)},[m,de]),h.useEffect(()=>{p||de(!1)},[p,de]),h.useEffect(()=>V.setReference(k),[k,V]),h.useEffect(()=>{if(!Z)return;function _e(he){he.key==="Escape"&&de(!1,!0)}return window.addEventListener("keydown",_e),()=>{window.removeEventListener("keydown",_e)}},[de,Z]);const me=h.useCallback(_e=>{A.current=_e,M()},[M]),Ie=h.useCallback(_e=>{j.current=_e,V.setFloating(_e)},[j,V]),Se=f==null?void 0:f.ref,ot=h.useCallback(_e=>{typeof Se=="function"?Se(_e):Se&&(Se.current=_e),T(_e)},[Se]),Ze=h.useMemo(()=>f?h.cloneElement(f,{onBlur:le,onFocus:ve,onMouseEnter:Ce,onMouseLeave:be,ref:ot}):null,[f,le,ve,Ce,be,ot]);if(!Ze)return l.jsx(l.Fragment,{});if(m)return Ze;const it=l.jsx(dJe,{"data-ui":"Tooltip",...S,ref:Ie,style:O,zOffset:C,children:l.jsxs(te,{"data-ui":"Tooltip__card","data-placement":$,padding:g,radius:2,scheme:y,shadow:w,children:[p,l.jsx(aJe,{ref:me,style:W})]})});return l.jsxs(l.Fragment,{children:[Ze,Z&&l.jsx(l.Fragment,{children:x?l.jsx(mm,{__unstable_name:typeof x=="string"?x:void 0,children:it}):it})]})});var pY=Object.freeze,fJe=Object.defineProperty,Pj=(e,t)=>pY(fJe(e,"raw",{value:pY(t||e.slice())})),mY,gY,vY,yY;const hJe=P.div(mY||(mY=Pj([`
  line-height: 0;
`]))),pJe=P(F)(gY||(gY=Pj([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),mJe=im(vY||(vY=Pj([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),gJe=P(Zx)(yY||(yY=Pj([`
  animation: `,` 500ms linear infinite;
`])),mJe);function vJe(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!DXe(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function yJe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const bJe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],xJe="bottom-start",wJe=["bottom-start","top-start"],CJe=(e,t)=>t?t.value:e,_Je=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,SJe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=pf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:b,openButton:x,options:y,padding:w=3,popover:C=pf,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=CJe,suffix:D,value:I,...O}=t,[$,R]=h.useReducer(yJe,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:V,focused:M,listFocused:H,query:q,value:U}=$,W=h.useCallback(We=>{let{value:yt}=We;return l.jsx(te,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(B,{size:a,textOverflow:"ellipsis",children:yt})})},[a,w]),Q=typeof k=="function"?k:W,N=typeof s=="function"?s:_Je,K=h.useRef(null),z=h.useRef(null),Z=h.useRef(null),G=h.useRef(null),J=h.useRef(!1),X=h.useRef(U),ee=h.useRef(I),oe=h.useRef(!1),de=cr(n),le="".concat(u,"-listbox"),ve=Array.isArray(y)?y:fw,Ce=we(w),be=h.useMemo(()=>U!==null?ve.find(We=>We.value===U):void 0,[ve,U]),me=h.useMemo(()=>ve.filter(We=>q?N(q,We):!0),[N,ve,q]),Ie=me.length,Se=V?"".concat(u,"-option-").concat(V):void 0,ot=q!==null&&f||M&&q!==null,Ze=h.useCallback(We=>{setTimeout(()=>{if(oe.current)return;const yt=(j||[]).concat(K.current?[K.current]:[],z.current?[z.current]:[]);let Qn=!1;if(document.activeElement){for(const gn of yt)if(gn===document.activeElement||gn.contains(document.activeElement)){Qn=!0;break}}Qn===!1&&(R({type:"root/blur"}),oe.current=!1,g&&g(null),p&&p(We))},0)},[p,g,j]),it=h.useCallback(We=>{const yt=G.current,Qn=We.target instanceof HTMLElement?We.target:null,gn=(yt==null?void 0:yt.contains(Qn))||!1;gn!==J.current&&(J.current=gn,R({type:"root/setListFocused",listFocused:gn}))},[]),_e=h.useCallback(We=>{var yt;R({type:"value/change",value:We}),oe.current=!1,b&&b(We),X.current=We,m&&m(We),g&&g(null),(yt=Z.current)==null||yt.focus()},[m,b,g]),he=h.useCallback(We=>{var yt,Qn;if(We.key==="ArrowDown"){if(We.preventDefault(),!Ie)return;const mo=me.find(Ul=>Ul.value===V),ss=mo?me.indexOf(mo):-1,Is=me[(ss+1)%Ie];Is&&R({type:"root/setActiveValue",value:Is.value,listFocused:!0});return}if(We.key==="ArrowUp"){if(We.preventDefault(),!Ie)return;const mo=me.find(Ul=>Ul.value===V),ss=mo?me.indexOf(mo):-1,Is=me[ss===-1?Ie-1:(Ie+ss-1)%Ie];Is&&R({type:"root/setActiveValue",value:Is.value,listFocused:!0});return}if(We.key==="Escape"){R({type:"root/escape"}),oe.current=!1,g&&g(null),(yt=Z.current)==null||yt.focus();return}const gn=We.target,si=G.current;if((si===gn||si!=null&&si.contains(gn))&&!bJe.includes(We.key)){(Qn=Z.current)==null||Qn.focus();return}},[V,me,Ie,g]),He=h.useCallback(We=>{const yt=We.currentTarget.value;R({type:"input/change",query:yt}),g&&g(yt)},[g]),Ye=h.useCallback(We=>{M||(R({type:"input/focus"}),v&&v(We))},[M,v]),Me=h.useCallback(()=>{oe.current=!0},[]),Ct=h.useCallback(()=>{oe.current=!1},[]),Tt=h.useCallback(()=>{var We;R({type:"root/clear"}),X.current="",m&&m(""),g&&g(null),(We=Z.current)==null||We.focus()},[m,g]),Et=h.useCallback(()=>{R({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==ee.current){ee.current=I,I!==void 0&&(R({type:"value/change",value:I}),X.current=I);return}I!==X.current&&(X.current=I||null,R({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!M&&X.current&&R({type:"root/setActiveValue",value:X.current})},[M]),h.useEffect(()=>{const We=G.current;if(!We)return;const yt=me.find(Qn=>Qn.value===V);if(yt){const Qn=me.indexOf(yt),gn=We.childNodes[Qn];if(gn){if(RXe(gn))return;Lv(gn)}}},[V,me]);const Zt=h.useCallback(We=>{Z.current=We,de.current=We},[de]),Mi=h.useMemo(()=>{if(!f&&!i&&U)return{"aria-label":"Clear",onFocus:Et}},[i,Et,f,U]),is=h.useMemo(()=>Ce.map(We=>We===0?0:We===1||We===2?1:We-2),[Ce]),Ds=h.useMemo(()=>Ce.map(We=>Math.max(We-1,0)),[Ce]),Wt=h.useMemo(()=>typeof x=="object"?x:pf,[x]),Ur=h.useCallback(We=>{R({type:"root/open",query:U?A(U,be):""}),Wt.onClick&&Wt.onClick(We),NR(()=>{var yt;return(yt=Z.current)==null?void 0:yt.focus()})},[be,Wt,A,U]),Hl=h.useMemo(()=>!i&&!E&&x?l.jsx(F,{"aria-hidden":ot,padding:is,children:l.jsx(se,{"aria-label":"Open",disabled:ot,fontSize:a,icon:qa,mode:"bleed",padding:Ds,...Wt,onClick:Ur})}):void 0,[i,ot,a,Ur,x,is,Ds,Wt,E]),el=h.useMemo(()=>q===null?U!==null?A(U,be):"":q,[be,q,A,U]),ii=l.jsx(Rr,{...O,"aria-activedescendant":Se,"aria-autocomplete":"list","aria-expanded":ot,"aria-owns":le,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:Mi,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&gJe,id:u,inputMode:"search",onChange:He,onClear:Tt,onFocus:Ye,padding:Ce,prefix:_,radius:S,readOnly:E,ref:Zt,role:"combobox",spellCheck:!1,suffix:D||Hl,value:el}),Fn=h.useCallback(We=>{var yt;We.key==="Tab"&&H&&((yt=Z.current)==null||yt.focus())},[H]),Mr=h.useMemo(()=>me.length===0?null:l.jsx(pJe,{"data-ui":"AutoComplete__results",onKeyDown:Fn,padding:1,...d,tabIndex:-1,children:l.jsx(re,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:le,ref:G,role:"listbox",space:1,children:me.map(We=>{const yt=V!==null?We.value===V:be===We;return l.jsx(vJe,{id:"".concat(u,"-option-").concat(We.value),onSelect:_e,selected:yt,value:We.value,children:h.cloneElement(Q(We),{disabled:f,selected:yt,tabIndex:H&&yt?0:-1})},We.value)})})}),[V,be,me,_e,Fn,u,d,le,H,f,Q]),Zr=h.useMemo(()=>T?T({content:Mr,hidden:!ot,inputElement:Z.current,onMouseEnter:Me,onMouseLeave:Ct},z):Ie===0?null:l.jsx(an,{arrow:!1,constrainSize:!0,content:Mr,fallbackPlacements:wJe,matchReferenceWidth:!0,onMouseEnter:Me,onMouseLeave:Ct,open:ot,overflow:"auto",placement:xJe,portal:!0,radius:S,ref:z,referenceElement:Z.current,...C}),[Mr,ot,Ie,Me,Ct,C,S,T]);return l.jsxs(hJe,{"data-ui":"Autocomplete",onBlur:Ze,onFocus:it,onKeyDown:he,ref:K,children:[ii,Zr]})}),wL=SJe;var bY=Object.freeze,EJe=Object.defineProperty,Iwe=(e,t)=>bY(EJe(e,"raw",{value:bY(t||e.slice())})),xY,wY;const kJe=P.ol(xY||(xY=Iwe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),jJe=P(se)(wY||(wY=Iwe([`
  appearance: none;
  margin: -4px;
`]))),CL=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=we(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),b=h.useCallback(()=>d(!0),[]);lr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),y=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),l.jsx(an,{constrainSize:!0,content:l.jsx(re,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:l.jsx(jJe,{fontSize:1,mode:"bleed",onClick:u?g:b,padding:1,ref:p,selected:u,text:""})},"button"),...x.slice(w-_)]}return x},[g,b,o,u,x,c]);return l.jsx(kJe,{"data-ui":"Breadcrumbs",...a,ref:n,children:y.map((w,C)=>l.jsxs(h.Fragment,{children:[C>0&&l.jsx(F,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(B,{muted:!0,children:"/"})}),l.jsx(F,{as:"li",children:w})]},C))})});function TJe(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function AJe(e){const{theme:t}=e,{media:n}=t.sanity;return pt(n,e.$position,r=>({"&&":{position:r}}))}const WR=Symbol.for("@sanity/ui/context/dialog");Qt[WR]=Qt[WR]||h.createContext({version:0});const Owe=Qt[WR];function DJe(){return h.useContext(Owe)}var CY=Object.freeze,IJe=Object.defineProperty,y0=(e,t)=>CY(IJe(e,"raw",{value:CY(t||e.slice())})),_Y,SY,EY,kY,jY,TY;function YR(e,t,n){return!e||!t?!0:zR(e,n)||zR(t,n)}const OJe=P(es)(hwe,TJe,AJe),PJe=P(ao)(_Y||(_Y=y0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),RJe=P(te)(SY||(SY=y0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),$Je=P(Y)(EY||(EY=y0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),MJe=P(te)(kY||(kY=y0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),FJe=P(F)(jY||(jY=y0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),LJe=P(F)(TY||(TY=y0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),BJe=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:b,width:x}=t,y=g0(),w=m?((r=y.elements)==null?void 0:r[m])||null:y.element,C=Kf().element,_=we(v),S=we(b),E=we(x),j=cr(n),[k,T]=h.useState(null),A=h.useRef(null),D=Ka(),{isTopLayer:I}=D,O="".concat(d,"_label"),$=!!p&&i===!1,R=!!u||$;h.useEffect(()=>{o&&j.current&&Lv(j.current)},[o,j]),Ji(h.useCallback(H=>{if(!I||!p)return;const q=document.activeElement;q&&!YR(C,w,q)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),p())},[C,I,p,w])),lr(h.useCallback(H=>{if(!I||!f)return;const q=H.target;q&&!YR(C,w,q)||f()},[C,I,f,w]),[k]);const V=h.useCallback(H=>{T(H),j.current=H},[j]),M=h.useCallback(H=>{A.current=H,typeof a=="function"?a(H):a&&(a.current=H)},[a]);return l.jsx(PJe,{"data-ui":"DialogCard",width:E,children:l.jsx(RJe,{radius:_,ref:V,scheme:g,shadow:S,children:l.jsxs($Je,{direction:"column",children:[R&&l.jsx(MJe,{children:l.jsxs(Y,{children:[l.jsx(F,{flex:1,padding:4,children:u&&l.jsx(B,{id:O,weight:"semibold",children:u})}),$&&l.jsx(F,{padding:2,children:l.jsx(se,{"aria-label":"Close dialog",disabled:!p,icon:Ei,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(FJe,{flex:1,ref:M,tabIndex:-1,children:s}),c&&l.jsx(LJe,{children:c})]})})})}),Ii=h.forwardRef(function(t,n){var r,o;const i=DJe(),s=Ts(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:b,onClickOutside:x,onClose:y,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=g0(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=Kf().element,O=we(u),$=we(C),R=we(S),V=we(j),M=we(k),H=h.useRef(null),q=h.useRef(null),U=h.useRef(null),W=h.useRef(null),Q=h.useCallback(Z=>{w==null||w(Z);const G=Z.target,J=U.current;if(J&&G===H.current){wwe(J);return}if(J&&G===q.current){Lv(J);return}Oc(Z.target)&&(W.current=Z.target)},[w]),N="".concat(g,"_label"),K=h.useRef(),z=h.useCallback(()=>{K.current&&clearTimeout(K.current),K.current=setTimeout(()=>{const Z=document.activeElement;if(Z&&!YR(I,D,Z)){const G=W.current;if(!G||!document.body.contains(G)){const J=U.current;J&&Lv(J);return}G.focus()}},0)},[I,D]);return l.jsx(mm,{__unstable_name:_,children:l.jsxs(OJe,{...T,$padding:$,$position:R,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:b,onClick:z,onFocus:Q,ref:n,role:"dialog",zOffset:M,children:[l.jsx("div",{ref:H,tabIndex:0}),l.jsx(BJe,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:y,portal:_,radius:O,ref:U,scheme:E,shadow:d,width:V,children:f}),l.jsx("div",{ref:q,tabIndex:0})]})})});function qR(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(Owe.Provider,{value:o,children:t})}var AY=Object.freeze,NJe=Object.defineProperty,Pwe=(e,t)=>AY(NJe(e,"raw",{value:AY(t||e.slice())})),DY,IY;const zJe=P.kbd(DY||(DY=Pwe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),VJe=P(MR)(IY||(IY=Pwe([`
  &:not([hidden]) {
    display: block;
  }
`]))),_L=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=we(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(zJe,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(qt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(VJe,{fontSize:r,padding:i,radius:s,children:d},f))})})}),GR=Symbol.for("@sanity/ui/context/menu");Qt[GR]=Qt[GR]||h.createContext(null);const Rwe=Qt[GR];function HJe(e){return gL(e)&&e.getAttribute("data-disabled")!=="true"||vL(e)&&!e.disabled}function Vm(e){return e.filter(HJe)}function UJe(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const OY=[];function WJe(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,UJe(e,o));const r=(o,i)=>{const s=n.get(o)||OY,a=n.get(i)||OY,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function YJe(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,y)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),WJe(i,o.current)),y){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=Vm(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const y=Vm(o.current),w=y[y.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const y=Vm(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_-1+w)%w;const S=y[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const y=Vm(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_+1)%w;const S=y[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const y=x.currentTarget,w=o.current.indexOf(y);p(w)},[p]),b=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const y=u.current;if(y===-1){if(r==="first"){const _=Vm(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=Vm(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[y]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:b,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var PY=Object.freeze,qJe=Object.defineProperty,GJe=(e,t)=>PY(qJe(e,"raw",{value:PY(t||e.slice())})),RY;const KJe=P(F)(RY||(RY=GJe([`
  outline: none;
  overflow: auto;
`]))),Lt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...b}=t,x=cr(n),{isTopLayer:y}=Ka(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=YJe({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),lr(h.useCallback(I=>y&&s&&s(I),[y,s]),[k]),Ji(h.useCallback(I=>{y&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[y,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,c,m]);return l.jsx(Rwe.Provider,{value:D,children:l.jsx(KJe,{"data-ui":"Menu",...b,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(re,{space:g,children:r})})})}),Jt=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[b,x]=h.useState(!1),[y,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(b);h.useEffect(()=>{u&&b&&!j.current&&u()},[u,b]),h.useEffect(()=>{c&&!b&&j.current&&c()},[c,b]),h.useEffect(()=>{j.current=b},[b]);const k=h.useCallback(()=>{x(U=>!U),w(null)},[]),T=h.useCallback(U=>{if(U.key==="ArrowDown"||U.key==="Enter"||U.key===" "){U.preventDefault(),x(!0),w("first");return}if(U.key==="ArrowUp"){U.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(U=>{const W=U.target;if(W instanceof Node&&!(C&&(W===C||C.contains(W)))){for(const Q of S)if(W===Q||Q.contains(W))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(U=>{const W=U.relatedTarget;if(W instanceof Node){for(const Q of S)if(Q===W||Q.contains(W))return;x(!1)}},[S]),O=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=h.useCallback(U=>(E(W=>W.concat([U])),()=>{E(W=>W.filter(Q=>Q!==U))}),[]),R=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:O,originElement:C,registerElement:$,shouldFocus:y}),[C,A,D,O,s,I,$,y]),V=Zn.isElement(a)?h.cloneElement(a,R):null,M=h.useCallback(U=>{typeof n=="function"?n(U):n&&(n.current=U),_(U)},[n]),H=h.useMemo(()=>Zn.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":b,ref:M,selected:b}):null,[i,k,T,s,b,M]),q=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return l.jsx(an,{"data-ui":"MenuButton__popover",...q,content:V,open:b,children:H||l.jsx(l.Fragment,{})})});var $Y=Object.freeze,ZJe=Object.defineProperty,XJe=(e,t)=>$Y(ZJe(e,"raw",{value:$Y(t||e.slice())})),MY;const Dr=P.hr(MY||(MY=XJe([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var FY=Object.freeze,QJe=Object.defineProperty,$we=(e,t)=>FY(QJe(e,"raw",{value:FY(t||e.slice())})),LY,BY;function JJe(){return fe(LY||(LY=$we([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function eet(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return fe(BY||(BY=$we([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Nt(i,c.enabled),Nt(i,c.disabled),Nt(i,c.pressed),Nt(i,c.selected),Nt(i,c.hovered),Nt(i,c.pressed),Nt(i,c.disabled),Nt(i,c.pressed),Nt(i,c.selected),Nt(i,c.hovered),Nt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const Mwe=P(F)(nd,JJe,eet);function Fwe(){const e=h.useContext(Rwe);if(!e)throw new Error("useMenu(): missing context value");if(!h0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function SL(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=Fwe(),{activeElement:v,mount:g,onClickOutside:b,onEscape:x,onItemClick:y,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(q=>{D(!1),w(q),j(!0)},[w]),O=h.useCallback(q=>{q.key==="ArrowLeft"&&(q.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),$=h.useCallback(q=>{i&&i(q),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),R=h.useCallback(()=>{j(!1),y&&y()},[y]),V=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const M=l.jsx(Lt,{onClickOutside:b,onEscape:x,onItemClick:R,onKeyDown:O,onMouseEnter:V,registerElement:C,shouldFocus:k.current,children:n}),H=h.useCallback(q=>{const U=q.currentTarget;if(document.activeElement===U&&q.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return l.jsx(an,{...a,content:M,"data-ui":"MenuGroup__popover",open:E,children:l.jsx(Mwe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:we(c),$tone:f,onClick:$,onKeyDown:H,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(F,{padding:s,children:l.jsxs(Y,{children:[o&&l.jsxs(B,{size:r,children:[h.isValidElement(o)&&o,Zn.isValidElementType(o)&&h.createElement(o)]}),l.jsx(F,{flex:1,marginLeft:o?u:void 0,children:l.jsx(B,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(F,{marginLeft:u,children:l.jsx(B,{size:r,children:l.jsx(Dc,{})})})]})})})})}const Ne=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x,pressed:y,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=Fwe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:O=k.onMouseLeave}=k,[$,R]=h.useState(null),V=!!T&&T===$;h.useEffect(()=>A($,C),[A,$,C]);const M=cr(n),H=h.useCallback(W=>{i||(d&&d(W),D&&D())},[i,d,D]),q=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x}),[f,p,m,v,g,b,x]),U=h.useCallback(W=>{M.current=W,R(W)},[M]);return l.jsxs(Mwe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&y,"data-pressed":r!=="button"&&y?"":void 0,"data-selected":V?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:we(w),$padding:we(0),$tone:E,disabled:i,onClick:H,onMouseEnter:I,onMouseLeave:O,ref:U,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(F,{as:"span",...q,children:l.jsxs(Y,{as:"span",children:[c&&l.jsxs(B,{size:s,children:[h.isValidElement(c)&&c,Zn.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(F,{flex:1,marginLeft:c?_:void 0,marginRight:u?_:void 0,children:l.jsx(B,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(F,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:l.jsx(_L,{fontSize:s,keys:a})}),u&&l.jsxs(B,{size:s,children:[h.isValidElement(u)&&u,Zn.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(F,{as:"span",...q,children:o})]})});var NY=Object.freeze,tet=Object.defineProperty,CE=(e,t)=>NY(tet(e,"raw",{value:NY(t||e.slice())})),zY,VY,HY,UY;const net=im(zY||(zY=CE([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),ret=fe(VY||(VY=CE([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),net),oet=fe(UY||(UY=CE([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?ret:fe(HY||(HY=CE([`
            background-color: var(--card-skeleton-color-from);
          `])))}),iet=P(F)(nd,oet),b0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(iet,{...s,$animated:r,$radius:we(i),$visible:a,ref:n})}),Rj=P(b0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return pt(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),ji=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return l.jsx(Rj,{...o,$size:i,ref:n,$style:"text"})}),_E=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return l.jsx(Rj,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return l.jsx(Rj,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=we(r);return l.jsx(Rj,{...o,$size:i,ref:n,$style:"code"})});var WY=Object.freeze,set=Object.defineProperty,aet=(e,t)=>WY(set(e,"raw",{value:WY(t||e.slice())})),YY;const cet=P(se)(YY||(YY=aet([`
  max-width: 100%;
`]))),qb=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),b=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=cr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const y=w=>{m.current=w,x.current=w};return l.jsx(cet,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:g,onFocus:b,padding:d,ref:y,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var qY=Object.freeze,uet=Object.defineProperty,det=(e,t)=>qY(uet(e,"raw",{value:qY(t||e.slice())})),GY;function fet(e){return!!e}const het=P(qt)(GY||(GY=det([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),$j=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(fet),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(het,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),Lwe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(F,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var KY=Object.freeze,pet=Object.defineProperty,Bwe=(e,t)=>KY(pet(e,"raw",{value:KY(t||e.slice())})),ZY,XY;const met={error:"critical",warning:"caution",success:"positive",info:"primary"},get={error:"alert",warning:"alert",success:"alert",info:"alert"},vet=P(te)(ZY||(ZY=Bwe([`
  pointer-events: all;
`]))),yet=P(Y)(XY||(XY=Bwe([`
  overflow-x: auto;
`])));function bet(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?met[i]:"default",c=i?get[i]:"status";return l.jsx(vet,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(Y,{align:"flex-start",children:[l.jsx(yet,{flex:1,padding:3,children:l.jsxs(re,{space:3,children:[o&&l.jsx(B,{weight:"semibold",children:o}),n&&l.jsx(B,{muted:!0,size:1,children:n})]})}),t&&l.jsx(F,{padding:1,children:l.jsx(se,{as:"button",icon:Ei,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function xet(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const KR=Symbol.for("@sanity/ui/context/toast");Qt[KR]=Qt[KR]||h.createContext(null);const Nwe=Qt[KR];var QY=Object.freeze,wet=Object.defineProperty,zwe=(e,t)=>QY(wet(e,"raw",{value:QY(t||e.slice())})),JY,eq;const Cet=P(es)(JY||(JY=zwe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),_et=P.div(eq||(eq=zwe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let Eet=0;function EL(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(Eet++),g=p.duration||5e3,b=()=>{var x;const y=(x=c.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),y!==void 0&&(clearTimeout(y),delete c.current[v])};return m(x=>x.filter(y=>y.id!==v).concat([{dismiss:b,id:v,params:{...p,duration:g}}])),c.current[v]&&(clearTimeout(c.current[v].timeoutId),delete c.current[v]),c.current[v]={timeoutId:setTimeout(b,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=xet();return l.jsxs(Nwe.Provider,{value:d,children:[t,f&&l.jsx(Cet,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(_et,{children:l.jsx(F,{padding:n,paddingX:r,paddingY:o,children:l.jsx(uL,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return l.jsx(ed.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(bet,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function zo(){const e=h.useContext(Nwe);if(!e)throw new Error("useToast(): missing context value");if(!h0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function ket(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function jet(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function tq(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const ZR=Symbol.for("@sanity/ui/context/tree");Qt[ZR]=Qt[ZR]||h.createContext(null);const SE=Qt[ZR],Vwe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=cr(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),b=h.useRef(v);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{b.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),y=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:y,setFocusedElement:u,space:o,state:v}),[c,p,f,x,y,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=jet(b.current,p,d.current);j&&(tq(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=ket(b.current,p,d.current);j&&(tq(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=b.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&b.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=b.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(SE.Provider,{value:w,children:l.jsx(re,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));Vwe.displayName="Tree";var nq=Object.freeze,Tet=Object.defineProperty,kL=(e,t)=>nq(Tet(e,"raw",{value:nq(t||e.slice())})),rq,oq,iq;function Aet(){return fe(rq||(rq=kL([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function Det(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return fe(oq||(oq=kL([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Nt(r,s.enabled),Nt(r,s.pressed),Nt(r,s.hovered),Nt(r,s.selected),Nt(r,s.enabled),Nt(r,s.pressed),Nt(r,s.hovered),Nt(r,s.selected))}function Iet(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return fe(iq||(iq=kL([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ye(r[2]*t))}function Hwe(){const e=h.useContext(SE);if(!e)throw new Error("Tree: missing context value");return e}const sq=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=Hwe();return l.jsx(re,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var aq=Object.freeze,Oet=Object.defineProperty,Pet=(e,t)=>aq(Oet(e,"raw",{value:aq(t||e.slice())})),lq;const cq=h.memo(P.li(Aet,Det)),uq=P(F).attrs({forwardedAs:"a"})(Iet),Ret=P(B)(lq||(lq=Pet([`
  & > svg {
    transition: transform 100ms;
  }
`]))),Gb=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...b}=t,x=h.useRef(null),y=h.useRef(null),w=Hwe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,O=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,$=w.focusedElement&&w.focusedElement===x.current?0:-1,R=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),V=h.useCallback(q=>{d&&d(q);const U=q.target;U instanceof HTMLElement&&(U.getAttribute("data-ui")==="TreeItem"||U.closest('[data-ui="TreeItem__box"]'))&&(q.stopPropagation(),S(A,!O),E(x.current))},[O,A,d,S,E]),M=h.useCallback(q=>{if(I&&q.key==="Enter"){const U=y.current||x.current;U==null||U.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),O,p)},[O,T,_,p]);const H=l.jsxs(Y,{padding:f,children:[l.jsxs(F,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(B,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&l.jsx(Ret,{muted:u,size:o,weight:g,children:l.jsx(J5,{style:{transform:O?"rotate(90deg)":void 0}})})]}),l.jsx(F,{flex:1,children:l.jsx(B,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?l.jsxs(cq,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...b,onClick:V,ref:x,role:"none",children:[l.jsx(uq,{$level:w.level,"aria-expanded":O,as:c,"data-ui":"TreeItem__box",href:i,ref:y,role:"treeitem",tabIndex:$,children:H}),l.jsx(SE.Provider,{value:R,children:n&&l.jsx(sq,{hidden:!O,children:n})})]}):l.jsxs(cq,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...b,"aria-expanded":O,onClick:V,onKeyDown:M,ref:x,role:"treeitem",tabIndex:$,children:[l.jsx(uq,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),l.jsx(SE.Provider,{value:R,children:n&&l.jsx(sq,{expanded:O,children:n})})]})});var XR=function(e,t){return XR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},XR(e,t)};function ua(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");XR(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var QR=function(){return QR=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},QR.apply(this,arguments)};function $et(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function Uwe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Lp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Na(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function kl(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Zg(e){return this instanceof Zg?(this.v=e,this):new Zg(e)}function Met(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(v){f(i[0][3],v)}}function c(p){p.value instanceof Zg?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Fet(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Lp=="function"?Lp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function Ft(e){return typeof e=="function"}function jL(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hI=jL(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function EE(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Bp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Lp(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Ft(d))try{d()}catch(g){i=g instanceof hI?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Lp(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{dq(v)}catch(g){i=i??[],g instanceof hI?i=kl(kl([],Na(i)),Na(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new hI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)dq(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&EE(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&EE(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Wwe=Bp.EMPTY;function Ywe(e){return e instanceof Bp||e&&"closed"in e&&Ft(e.remove)&&Ft(e.add)&&Ft(e.unsubscribe)}function dq(e){Ft(e)?e():e.unsubscribe()}var qwe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},JR={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=JR.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,kl([e,t],Na(n))):setTimeout.apply(void 0,kl([e,t],Na(n)))},clearTimeout:function(e){var t=JR.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Gwe(e){JR.setTimeout(function(){throw e})}function $f(){}function P2(e){e()}var TL=function(e){ua(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Ywe(n)&&n.add(r)):r.destination=zet,r}return t.create=function(n,r,o){return new Kb(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Bp),Let=Function.prototype.bind;function pI(e,t){return Let.call(e,t)}var Bet=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){KC(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){KC(r)}else KC(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){KC(n)}},e}(),Kb=function(e){ua(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Ft(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&qwe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&pI(n.next,a),error:n.error&&pI(n.error,a),complete:n.complete&&pI(n.complete,a)}):s=n}return i.destination=new Bet(s),i}return t}(TL);function KC(e){Gwe(e)}function Net(e){throw e}var zet={closed:!0,next:$f,error:Net,complete:$f},AL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function od(e){return e}function Vet(e){return e.length===0?od:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var ht=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=Uet(t)?t:new Kb(t,n,r);return P2(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=fq(n),new n(function(o,i){var s=new Kb({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[AL]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Vet(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=fq(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function fq(e){var t;return(t=e??qwe.Promise)!==null&&t!==void 0?t:Promise}function Het(e){return e&&Ft(e.next)&&Ft(e.error)&&Ft(e.complete)}function Uet(e){return e&&e instanceof TL||Het(e)&&Ywe(e)}function Kwe(e){return Ft(e==null?void 0:e.lift)}function pn(e){return function(t){if(Kwe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ht(e,t,n,r,o){return new Zwe(e,t,n,r,o)}var Zwe=function(e){ua(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(TL);function hl(){return pn(function(e,t){var n=null;e._refCount++;var r=Ht(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Wet=function(e){ua(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,Kwe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Bp;var o=this.getSubject();r.add(this.source.subscribe(Ht(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Bp.EMPTY)}return r},t.prototype.refCount=function(){return hl()(this)},t}(ht),Yet=jL(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),wr=function(e){ua(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new hq(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Yet},t.prototype.next=function(n){var r=this;P2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Lp(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;P2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;P2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?Wwe:(this.currentObservers=null,a.push(n),new Bp(function(){r.currentObservers=null,EE(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new ht;return n.source=this,n},t.create=function(n,r){return new hq(n,r)},t}(ht),hq=function(e){ua(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Wwe},t}(wr),Mj=function(e){ua(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(wr),DL={now:function(){return(DL.delegate||Date).now()},delegate:void 0},Xwe=function(e){ua(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=DL);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(wr),qet=function(e){ua(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Bp),kE={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=kE.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,kl([e,t],Na(n))):setInterval.apply(void 0,kl([e,t],Na(n)))},clearInterval:function(e){var t=kE.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Qwe=function(e){ua(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),kE.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&kE.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,EE(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(qet),Get=1,mI,e$={};function pq(e){return e in e$?(delete e$[e],!0):!1}var Jwe={setImmediate:function(e){var t=Get++;return e$[t]=!0,mI||(mI=Promise.resolve()),mI.then(function(){return pq(t)&&e()}),t},clearImmediate:function(e){pq(e)}},Ket=Jwe.setImmediate,Zet=Jwe.clearImmediate,jE={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=jE.delegate;return((n==null?void 0:n.setImmediate)||Ket).apply(void 0,kl([],Na(e)))},clearImmediate:function(e){var t=jE.delegate;return((t==null?void 0:t.clearImmediate)||Zet)(e)},delegate:void 0},Xet=function(e){ua(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=jE.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(jE.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(Qwe),mq=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=DL.now,e}(),eCe=function(e){ua(t,e);function t(n,r){r===void 0&&(r=mq.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(mq),Qet=function(e){ua(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(eCe),Jet=new Qet(Xet),jl=new eCe(Qwe),ett=jl,Kn=new ht(function(e){return e.complete()});function ttt(e){return e?ntt(e):Kn}function ntt(e){return new ht(function(t){return e.schedule(function(){return t.complete()})})}function tCe(e){return e&&Ft(e.schedule)}function IL(e){return e[e.length-1]}function OL(e){return Ft(IL(e))?e.pop():void 0}function gw(e){return tCe(IL(e))?e.pop():void 0}function rtt(e,t){return typeof IL(e)=="number"?e.pop():t}var PL=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function nCe(e){return Ft(e==null?void 0:e.then)}function rCe(e){return Ft(e[AL])}function oCe(e){return Symbol.asyncIterator&&Ft(e==null?void 0:e[Symbol.asyncIterator])}function iCe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ott(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sCe=ott();function aCe(e){return Ft(e==null?void 0:e[sCe])}function lCe(e){return Met(this,arguments,function(){var n,r,o,i;return Uwe(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Zg(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,Zg(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Zg(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function cCe(e){return Ft(e==null?void 0:e.getReader)}function Cn(e){if(e instanceof ht)return e;if(e!=null){if(rCe(e))return itt(e);if(PL(e))return stt(e);if(nCe(e))return att(e);if(oCe(e))return uCe(e);if(aCe(e))return ltt(e);if(cCe(e))return ctt(e)}throw iCe(e)}function itt(e){return new ht(function(t){var n=e[AL]();if(Ft(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function stt(e){return new ht(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function att(e){return new ht(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Gwe)})}function ltt(e){return new ht(function(t){var n,r;try{for(var o=Lp(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function uCe(e){return new ht(function(t){utt(e,t).catch(function(n){return t.error(n)})})}function ctt(e){return uCe(lCe(e))}function utt(e,t){var n,r,o,i;return $et(this,void 0,void 0,function(){var s,a;return Uwe(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Fet(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function xu(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function dCe(e,t){return t===void 0&&(t=0),pn(function(n,r){n.subscribe(Ht(r,function(o){return xu(r,e,function(){return r.next(o)},t)},function(){return xu(r,e,function(){return r.complete()},t)},function(o){return xu(r,e,function(){return r.error(o)},t)}))})}function fCe(e,t){return t===void 0&&(t=0),pn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function dtt(e,t){return Cn(e).pipe(fCe(t),dCe(t))}function ftt(e,t){return Cn(e).pipe(fCe(t),dCe(t))}function htt(e,t){return new ht(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ptt(e,t){return new ht(function(n){var r;return xu(n,t,function(){r=e[sCe](),xu(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Ft(r==null?void 0:r.return)&&r.return()}})}function hCe(e,t){if(!e)throw new Error("Iterable cannot be null");return new ht(function(n){xu(n,t,function(){var r=e[Symbol.asyncIterator]();xu(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function mtt(e,t){return hCe(lCe(e),t)}function pCe(e,t){if(e!=null){if(rCe(e))return dtt(e,t);if(PL(e))return htt(e,t);if(nCe(e))return ftt(e,t);if(oCe(e))return hCe(e,t);if(aCe(e))return ptt(e,t);if(cCe(e))return mtt(e,t)}throw iCe(e)}function Cr(e,t){return t?pCe(e,t):Cn(e)}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gw(e);return Cr(e,n)}function Mu(e,t){var n=Ft(e)?e:function(){return e},r=function(o){return o.error(n())};return new ht(t?function(o){return t.schedule(r,0,o)}:r)}function gtt(e){return!!e&&(e instanceof ht||Ft(e.lift)&&Ft(e.subscribe))}var Fj=jL(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function yo(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Fj)}})})}function vtt(e){return e instanceof Date&&!isNaN(e)}function ce(e,t){return pn(function(n,r){var o=0;n.subscribe(Ht(r,function(i){r.next(e.call(t,i,o++))}))})}var ytt=Array.isArray;function btt(e,t){return ytt(t)?e.apply(void 0,kl([],Na(t))):e(t)}function RL(e){return ce(function(t){return btt(e,t)})}var xtt=Array.isArray,wtt=Object.getPrototypeOf,Ctt=Object.prototype,_tt=Object.keys;function mCe(e){if(e.length===1){var t=e[0];if(xtt(t))return{args:t,keys:null};if(Stt(t)){var n=_tt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Stt(e){return e&&typeof e=="object"&&wtt(e)===Ctt}function gCe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Mo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gw(e),r=OL(e),o=mCe(e),i=o.args,s=o.keys;if(i.length===0)return Cr([],n);var a=new ht(Ett(i,n,s?function(c){return gCe(s,c)}:od));return r?a.pipe(RL(r)):a}function Ett(e,t,n){return n===void 0&&(n=od),function(r){gq(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){gq(t,function(){var f=Cr(e[d],t),p=!1;f.subscribe(Ht(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function gq(e,t,n){e?xu(n,e,t):t()}function ktt(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var b=!1;Cn(n(g,d++)).subscribe(Ht(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){b=!0},void 0,function(){if(b)try{u--;for(var x=function(){var y=c.shift();s?xu(t,s,function(){return v(y)}):v(y)};c.length&&u<r;)x();p()}catch(y){t.error(y)}}))};return e.subscribe(Ht(t,m,function(){f=!0,p()})),function(){a==null||a()}}function ut(e,t,n){return n===void 0&&(n=1/0),Ft(t)?ut(function(r,o){return ce(function(i,s){return t(r,i,o,s)})(Cn(e(r,o)))},n):(typeof t=="number"&&(n=t),pn(function(r,o){return ktt(r,o,e,n)}))}function Lj(e){return e===void 0&&(e=1/0),ut(od,e)}function jtt(){return Lj(1)}function zr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return jtt()(Cr(e,gw(e)))}function lo(e){return new ht(function(t){Cn(e()).subscribe(t)})}function Ttt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OL(e),r=mCe(e),o=r.args,i=r.keys,s=new ht(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(v){var g=!1;Cn(o[v]).subscribe(Ht(a,function(b){g||(g=!0,f--),u[v]=b},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?gCe(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(RL(n)):s}var Att=["addListener","removeListener"],Dtt=["addEventListener","removeEventListener"],Itt=["on","off"];function Ti(e,t,n,r){if(Ft(n)&&(r=n,n=void 0),r)return Ti(e,t,n).pipe(RL(r));var o=Na(Rtt(e)?Dtt.map(function(a){return function(c){return e[a](t,c,n)}}):Ott(e)?Att.map(vq(e,t)):Ptt(e)?Itt.map(vq(e,t)):[],2),i=o[0],s=o[1];if(!i&&PL(e))return ut(function(a){return Ti(a,t,n)})(Cn(e));if(!i)throw new TypeError("Invalid event target");return new ht(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function vq(e,t){return function(n){return function(r){return e[n](t,r)}}}function Ott(e){return Ft(e.addListener)&&Ft(e.removeListener)}function Ptt(e){return Ft(e.on)&&Ft(e.off)}function Rtt(e){return Ft(e.addEventListener)&&Ft(e.removeEventListener)}function $tt(e,t,n){return lo(function(){return e()?t:n})}function Fo(e,t,n){e===void 0&&(e=0),n===void 0&&(n=ett);var r=-1;return t!=null&&(tCe(t)?n=t:r=t),new ht(function(o){var i=vtt(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gw(e),r=rtt(e,1/0),o=e;return o.length?o.length===1?Cn(o[0]):Lj(r)(Cr(o,n)):Kn}var $L=new ht($f),Mtt=Array.isArray;function Ftt(e){return e.length===1&&Mtt(e[0])?e[0]:e}function Ltt(e,t){return function(n,r){return!e.call(t,n,r)}}function ft(e,t){return pn(function(n,r){var o=0;n.subscribe(Ht(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function ML(e,t,n){return[ft(t,n)(Cn(e)),ft(Ltt(t,n))(Cn(e))]}function Btt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Ftt(e),e.length===1?Cn(e[0]):new ht(Ntt(e))}function Ntt(e){return function(t){for(var n=[],r=function(i){n.push(Cn(e[i]).subscribe(Ht(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function ztt(e,t){return new ht(function(n){var r=e(),o=t(r),i=o?Cn(o):Kn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function Vtt(e){return pn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(Ht(n,function(u){r=!0,o=u,i||Cn(e(u)).subscribe(i=Ht(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function Htt(e,t){return t===void 0&&(t=jl),Vtt(function(){return Fo(e,t)})}function On(e){return pn(function(t,n){var r=null,o=!1,i;r=t.subscribe(Ht(n,void 0,void 0,function(s){i=Cn(e(s,On(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function vCe(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(Ht(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function yCe(e,t){return pn(vCe(e,t,arguments.length>=2,!1,!0))}var Utt=function(e,t){return e.push(t),e};function bCe(){return pn(function(e,t){yCe(Utt,[])(e).subscribe(t)})}function t$(e,t){return Ft(t)?ut(e,t,1):ut(e,1)}function Wtt(e){return new ht(function(t){return e.subscribe(t)})}var Ytt={connector:function(){return new wr}};function qtt(e,t){t===void 0&&(t=Ytt);var n=t.connector;return pn(function(r,o){var i=n();Cn(e(Wtt(i))).subscribe(o),o.add(r.subscribe(i))})}function FL(e){return pn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Ht(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Ht(n,s,$f),Cn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function LL(e,t){return t===void 0&&(t=jl),pn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Ht(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function xCe(e){return pn(function(t,n){var r=!1;t.subscribe(Ht(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function Ci(e){return e<=0?function(){return Kn}:pn(function(t,n){var r=0;t.subscribe(Ht(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Gtt(){return pn(function(e,t){e.subscribe(Ht(t,$f))})}function Bj(e){return ce(function(){return e})}function wCe(e,t){return t?function(n){return zr(t.pipe(Ci(1),Gtt()),n.pipe(wCe(e)))}:ut(function(n,r){return Cn(e(n,r)).pipe(Ci(1),Bj(n))})}function CCe(e,t){t===void 0&&(t=jl);var n=Fo(e,t);return wCe(function(){return n})}function Ktt(e,t){return pn(function(n,r){var o=new Set;n.subscribe(Ht(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&Cn(t).subscribe(Ht(r,function(){return o.clear()},$f))})}function Xn(e,t){return t===void 0&&(t=od),e=e??Ztt,pn(function(n,r){var o,i=!0;n.subscribe(Ht(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function Ztt(e,t){return e===t}function _Ce(e){return e===void 0&&(e=Xtt),pn(function(t,n){var r=!1;t.subscribe(Ht(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function Xtt(){return new Fj}function SCe(e,t){return t?function(n){return n.pipe(SCe(function(r,o){return Cn(e(r,o)).pipe(ce(function(i,s){return t(r,i,o,s)}))}))}:pn(function(n,r){var o=0,i=null,s=!1;n.subscribe(Ht(r,function(a){i||(i=Ht(r,void 0,function(){i=null,s&&r.complete()}),Cn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function ECe(e){return pn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function kCe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ft(function(o,i){return e(o,i,r)}):od,Ci(1),n?xCe(t):_Ce(function(){return new Fj}))}}function jCe(e,t,n,r){return pn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(v){a.forEach(v),v(i)},u=function(v){return c(function(g){return g.error(v)})},d=0,f=!1,p=new Zwe(i,function(v){try{var g=e(v),b=a.get(g);if(!b){a.set(g,b=r?r():new wr);var x=m(g,b);if(i.next(x),n){var y=Ht(b,function(){b.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(Cn(n(x)).subscribe(y))}}b.next(s?s(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var b=new ht(function(x){d++;var y=g.subscribe(x);return function(){y.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return b.key=v,b}})}function Qtt(e){return e<=0?function(){return Kn}:pn(function(t,n){var r=[];t.subscribe(Ht(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Lp(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function Jtt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ft(function(o,i){return e(o,i,r)}):od,Qtt(1),n?xCe(t):_Ce(function(){return new Fj}))}}var ent=ut;function Np(e,t,n){return n===void 0&&(n=1/0),Ft(t)?ut(function(){return e},t,n):(typeof t=="number"&&(n=t),ut(function(){return e},n))}function tnt(e,t){var n=Ft(e)?e:function(){return e};return Ft(t)?qtt(t,{connector:n}):function(r){return new Wet(r,n)}}function pl(e,t,n,r){n&&!Ft(n)&&(r=n);var o=Ft(n)?n:void 0;return function(i){return tnt(new Xwe(e,t,r),o)(i)}}function na(e,t){return pn(vCe(e,t,arguments.length>=2,!0))}function ra(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new wr}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,b=function(){f==null||f.unsubscribe(),f=void 0},x=function(){b(),d=p=void 0,v=g=!1},y=function(){var w=d;x(),w==null||w.unsubscribe()};return pn(function(w,C){m++,!g&&!v&&b();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=gI(y,c))}),_.subscribe(C),!d&&m>0&&(d=new Kb({next:function(S){return _.next(S)},error:function(S){g=!0,b(),f=gI(x,o,S),_.error(S)},complete:function(){v=!0,b(),f=gI(x,s),_.complete()}}),Cn(w).subscribe(d))})(u)}}function gI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new Kb({next:function(){o.unsubscribe(),e()}});return Cn(t.apply(void 0,kl([],Na(n)))).subscribe(o)}}function So(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,ra({connector:function(){return new Xwe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function TCe(e){return ft(function(t,n){return e<=n})}function Jo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gw(e);return pn(function(r,o){(n?zr(e,r,n):zr(e,r)).subscribe(o)})}function rt(e,t){return pn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Ht(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;Cn(e(c,d)).subscribe(o=Ht(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function nnt(e,t){return Ft(t)?rt(function(){return e},t):rt(function(){return e})}function BL(e){return pn(function(t,n){Cn(e).subscribe(Ht(n,function(){return n.complete()},$f)),!n.closed&&t.subscribe(n)})}function bn(e,t,n){var r=Ft(e)||t||n?{next:e,error:t,complete:n}:e;return r?pn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Ht(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):od}function ACe(e,t){return pn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(b(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=Cn(e(x)).subscribe(Ht(r,m,v))},b=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(Ht(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?b():g(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function Zb(e,t,n){t===void 0&&(t=jl);var r=Fo(e,t);return ACe(function(){return r},n)}function Ky(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OL(e);return pn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){Cn(e[f]).subscribe(Ht(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(od))&&(a=null))},$f))},d=0;d<i;d++)u(d);r.subscribe(Ht(o,function(f){if(c){var p=kl([f],Na(s));o.next(n?n.apply(void 0,kl([],Na(p))):p)}}))})}function rnt(e,t){var n=h.useCallback(function(){var s=new Mj(e),a=s.asObservable().pipe(Xn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var DCe={exports:{}},ICe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv=h;function ont(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var int=typeof Object.is=="function"?Object.is:ont,snt=Bv.useState,ant=Bv.useEffect,lnt=Bv.useLayoutEffect,cnt=Bv.useDebugValue;function unt(e,t){var n=t(),r=snt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return lnt(function(){o.value=n,o.getSnapshot=t,vI(o)&&i({inst:o})},[e,n,t]),ant(function(){return vI(o)&&i({inst:o}),e(function(){vI(o)&&i({inst:o})})},[e]),cnt(n),n}function vI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!int(e,n)}catch{return!0}}function dnt(e,t){return t()}var fnt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dnt:unt;ICe.useSyncExternalStore=Bv.useSyncExternalStore!==void 0?Bv.useSyncExternalStore:fnt;DCe.exports=ICe;var hnt=DCe.exports;function n$(e){return typeof e=="function"?e():e}var yI=new WeakMap;function yq(e,t){if(!yI.has(e)){var n={currentValue:t};n.observable=e.pipe(So({refCount:!0,bufferSize:1}),bn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),yI.set(e,n)}return yI.get(e)}function pnt(e,t){var n=h.useMemo(function(){var s=yq(e,n$(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=yq(e,n$(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),hnt.useSyncExternalStore(o,r)}function ho(e,t,n){return pnt(h.useMemo(function(){return n$(e)},t),n)}var mnt=function(e){return e};function OCe(e){e===void 0&&(e=mnt);var t=new wr;return[t.pipe(e),function(n){return t.next(n)}]}var gnt=[];function Nj(e,t){t===void 0&&(t=gnt);var n=h.useRef();n.current||(n.current=OCe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function vnt(){this.__data__=[],this.size=0}var ynt=vnt;function bnt(e,t){return e===t||e!==e&&t!==t}var zj=bnt,xnt=zj;function wnt(e,t){for(var n=e.length;n--;)if(xnt(e[n][0],t))return n;return-1}var Vj=wnt,Cnt=Vj,_nt=Array.prototype,Snt=_nt.splice;function Ent(e){var t=this.__data__,n=Cnt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Snt.call(t,n,1),--this.size,!0}var knt=Ent,jnt=Vj;function Tnt(e){var t=this.__data__,n=jnt(t,e);return n<0?void 0:t[n][1]}var Ant=Tnt,Dnt=Vj;function Int(e){return Dnt(this.__data__,e)>-1}var Ont=Int,Pnt=Vj;function Rnt(e,t){var n=this.__data__,r=Pnt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var $nt=Rnt,Mnt=ynt,Fnt=knt,Lnt=Ant,Bnt=Ont,Nnt=$nt;function x0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}x0.prototype.clear=Mnt;x0.prototype.delete=Fnt;x0.prototype.get=Lnt;x0.prototype.has=Bnt;x0.prototype.set=Nnt;var Hj=x0,znt=Hj;function Vnt(){this.__data__=new znt,this.size=0}var Hnt=Vnt;function Unt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Wnt=Unt;function Ynt(e){return this.__data__.get(e)}var qnt=Ynt;function Gnt(e){return this.__data__.has(e)}var Knt=Gnt,Znt=Hf,Xnt=Ua,Qnt="[object AsyncFunction]",Jnt="[object Function]",ert="[object GeneratorFunction]",trt="[object Proxy]";function nrt(e){if(!Xnt(e))return!1;var t=Znt(e);return t==Jnt||t==ert||t==Qnt||t==trt}var PCe=nrt,rrt=$l,ort=rrt["__core-js_shared__"],irt=ort,bI=irt,bq=function(){var e=/[^.]+$/.exec(bI&&bI.keys&&bI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function srt(e){return!!bq&&bq in e}var art=srt,lrt=Function.prototype,crt=lrt.toString;function urt(e){if(e!=null){try{return crt.call(e)}catch{}try{return e+""}catch{}}return""}var RCe=urt,drt=PCe,frt=art,hrt=Ua,prt=RCe,mrt=/[\\^$.*+?()[\]{}|]/g,grt=/^\[object .+?Constructor\]$/,vrt=Function.prototype,yrt=Object.prototype,brt=vrt.toString,xrt=yrt.hasOwnProperty,wrt=RegExp("^"+brt.call(xrt).replace(mrt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Crt(e){if(!hrt(e)||frt(e))return!1;var t=drt(e)?wrt:grt;return t.test(prt(e))}var _rt=Crt;function Srt(e,t){return e==null?void 0:e[t]}var Ert=Srt,krt=_rt,jrt=Ert;function Trt(e,t){var n=jrt(e,t);return krt(n)?n:void 0}var gm=Trt,Art=gm,Drt=$l,Irt=Art(Drt,"Map"),NL=Irt,Ort=gm,Prt=Ort(Object,"create"),Uj=Prt,xq=Uj;function Rrt(){this.__data__=xq?xq(null):{},this.size=0}var $rt=Rrt;function Mrt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Frt=Mrt,Lrt=Uj,Brt="__lodash_hash_undefined__",Nrt=Object.prototype,zrt=Nrt.hasOwnProperty;function Vrt(e){var t=this.__data__;if(Lrt){var n=t[e];return n===Brt?void 0:n}return zrt.call(t,e)?t[e]:void 0}var Hrt=Vrt,Urt=Uj,Wrt=Object.prototype,Yrt=Wrt.hasOwnProperty;function qrt(e){var t=this.__data__;return Urt?t[e]!==void 0:Yrt.call(t,e)}var Grt=qrt,Krt=Uj,Zrt="__lodash_hash_undefined__";function Xrt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Krt&&t===void 0?Zrt:t,this}var Qrt=Xrt,Jrt=$rt,eot=Frt,tot=Hrt,not=Grt,rot=Qrt;function w0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}w0.prototype.clear=Jrt;w0.prototype.delete=eot;w0.prototype.get=tot;w0.prototype.has=not;w0.prototype.set=rot;var oot=w0,wq=oot,iot=Hj,sot=NL;function aot(){this.size=0,this.__data__={hash:new wq,map:new(sot||iot),string:new wq}}var lot=aot;function cot(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var uot=cot,dot=uot;function fot(e,t){var n=e.__data__;return dot(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Wj=fot,hot=Wj;function pot(e){var t=hot(this,e).delete(e);return this.size-=t?1:0,t}var mot=pot,got=Wj;function vot(e){return got(this,e).get(e)}var yot=vot,bot=Wj;function xot(e){return bot(this,e).has(e)}var wot=xot,Cot=Wj;function _ot(e,t){var n=Cot(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Sot=_ot,Eot=lot,kot=mot,jot=yot,Tot=wot,Aot=Sot;function C0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C0.prototype.clear=Eot;C0.prototype.delete=kot;C0.prototype.get=jot;C0.prototype.has=Tot;C0.prototype.set=Aot;var zL=C0,Dot=Hj,Iot=NL,Oot=zL,Pot=200;function Rot(e,t){var n=this.__data__;if(n instanceof Dot){var r=n.__data__;if(!Iot||r.length<Pot-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oot(r)}return n.set(e,t),this.size=n.size,this}var $ot=Rot,Mot=Hj,Fot=Hnt,Lot=Wnt,Bot=qnt,Not=Knt,zot=$ot;function _0(e){var t=this.__data__=new Mot(e);this.size=t.size}_0.prototype.clear=Fot;_0.prototype.delete=Lot;_0.prototype.get=Bot;_0.prototype.has=Not;_0.prototype.set=zot;var VL=_0,Vot="__lodash_hash_undefined__";function Hot(e){return this.__data__.set(e,Vot),this}var Uot=Hot;function Wot(e){return this.__data__.has(e)}var Yot=Wot,qot=zL,Got=Uot,Kot=Yot;function TE(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new qot;++t<n;)this.add(e[t])}TE.prototype.add=TE.prototype.push=Got;TE.prototype.has=Kot;var Yj=TE;function Zot(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Xot=Zot;function Qot(e,t){return e.has(t)}var qj=Qot,Jot=Yj,eit=Xot,tit=qj,nit=1,rit=2;function oit(e,t,n,r,o,i){var s=n&nit,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&rit?new Jot:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var b=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(b!==void 0){if(b)continue;p=!1;break}if(m){if(!eit(t,function(x,y){if(!tit(m,y)&&(v===x||o(v,x,n,r,i)))return m.push(y)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var $Ce=oit,iit=$l,sit=iit.Uint8Array,MCe=sit;function ait(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var lit=ait;function cit(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var HL=cit,Cq=i0,_q=MCe,uit=zj,dit=$Ce,fit=lit,hit=HL,pit=1,mit=2,git="[object Boolean]",vit="[object Date]",yit="[object Error]",bit="[object Map]",xit="[object Number]",wit="[object RegExp]",Cit="[object Set]",_it="[object String]",Sit="[object Symbol]",Eit="[object ArrayBuffer]",kit="[object DataView]",Sq=Cq?Cq.prototype:void 0,xI=Sq?Sq.valueOf:void 0;function jit(e,t,n,r,o,i,s){switch(n){case kit:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Eit:return!(e.byteLength!=t.byteLength||!i(new _q(e),new _q(t)));case git:case vit:case xit:return uit(+e,+t);case yit:return e.name==t.name&&e.message==t.message;case wit:case _it:return e==t+"";case bit:var a=fit;case Cit:var c=r&pit;if(a||(a=hit),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=mit,s.set(e,t);var d=dit(a(e),a(t),r,o,i,s);return s.delete(e),d;case Sit:if(xI)return xI.call(e)==xI.call(t)}return!1}var Tit=jit;function Ait(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var UL=Ait,Dit=Array.isArray,Kr=Dit,Iit=UL,Oit=Kr;function Pit(e,t,n){var r=t(e);return Oit(e)?r:Iit(r,n(e))}var FCe=Pit;function Rit(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var LCe=Rit;function $it(){return[]}var BCe=$it,Mit=LCe,Fit=BCe,Lit=Object.prototype,Bit=Lit.propertyIsEnumerable,Eq=Object.getOwnPropertySymbols,Nit=Eq?function(e){return e==null?[]:(e=Object(e),Mit(Eq(e),function(t){return Bit.call(e,t)}))}:Fit,WL=Nit;function zit(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Vit=zit,Hit=Hf,Uit=Wa,Wit="[object Arguments]";function Yit(e){return Uit(e)&&Hit(e)==Wit}var qit=Yit,kq=qit,Git=Wa,NCe=Object.prototype,Kit=NCe.hasOwnProperty,Zit=NCe.propertyIsEnumerable,Xit=kq(function(){return arguments}())?kq:function(e){return Git(e)&&Kit.call(e,"callee")&&!Zit.call(e,"callee")},Gj=Xit,AE={exports:{}};function Qit(){return!1}var Jit=Qit;AE.exports;(function(e,t){var n=$l,r=Jit,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})(AE,AE.exports);var Kj=AE.exports,est=9007199254740991,tst=/^(?:0|[1-9]\d*)$/;function nst(e,t){var n=typeof e;return t=t??est,!!t&&(n=="number"||n!="symbol"&&tst.test(e))&&e>-1&&e%1==0&&e<t}var Zj=nst,rst=9007199254740991;function ost(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rst}var YL=ost,ist=Hf,sst=YL,ast=Wa,lst="[object Arguments]",cst="[object Array]",ust="[object Boolean]",dst="[object Date]",fst="[object Error]",hst="[object Function]",pst="[object Map]",mst="[object Number]",gst="[object Object]",vst="[object RegExp]",yst="[object Set]",bst="[object String]",xst="[object WeakMap]",wst="[object ArrayBuffer]",Cst="[object DataView]",_st="[object Float32Array]",Sst="[object Float64Array]",Est="[object Int8Array]",kst="[object Int16Array]",jst="[object Int32Array]",Tst="[object Uint8Array]",Ast="[object Uint8ClampedArray]",Dst="[object Uint16Array]",Ist="[object Uint32Array]",tr={};tr[_st]=tr[Sst]=tr[Est]=tr[kst]=tr[jst]=tr[Tst]=tr[Ast]=tr[Dst]=tr[Ist]=!0;tr[lst]=tr[cst]=tr[wst]=tr[ust]=tr[Cst]=tr[dst]=tr[fst]=tr[hst]=tr[pst]=tr[mst]=tr[gst]=tr[vst]=tr[yst]=tr[bst]=tr[xst]=!1;function Ost(e){return ast(e)&&sst(e.length)&&!!tr[ist(e)]}var Pst=Ost;function Rst(e){return function(t){return e(t)}}var S0=Rst,DE={exports:{}};DE.exports;(function(e,t){var n=jve,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(DE,DE.exports);var qL=DE.exports,$st=Pst,Mst=S0,jq=qL,Tq=jq&&jq.isTypedArray,Fst=Tq?Mst(Tq):$st,GL=Fst,Lst=Vit,Bst=Gj,Nst=Kr,zst=Kj,Vst=Zj,Hst=GL,Ust=Object.prototype,Wst=Ust.hasOwnProperty;function Yst(e,t){var n=Nst(e),r=!n&&Bst(e),o=!n&&!r&&zst(e),i=!n&&!r&&!o&&Hst(e),s=n||r||o||i,a=s?Lst(e.length,String):[],c=a.length;for(var u in e)(t||Wst.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vst(u,c)))&&a.push(u);return a}var zCe=Yst,qst=Object.prototype;function Gst(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qst;return e===n}var Xj=Gst;function Kst(e,t){return function(n){return e(t(n))}}var VCe=Kst,Zst=VCe,Xst=Zst(Object.keys,Object),Qst=Xst,Jst=Xj,eat=Qst,tat=Object.prototype,nat=tat.hasOwnProperty;function rat(e){if(!Jst(e))return eat(e);var t=[];for(var n in Object(e))nat.call(e,n)&&n!="constructor"&&t.push(n);return t}var HCe=rat,oat=PCe,iat=YL;function sat(e){return e!=null&&iat(e.length)&&!oat(e)}var Zf=sat,aat=zCe,lat=HCe,cat=Zf;function uat(e){return cat(e)?aat(e):lat(e)}var Xf=uat,dat=FCe,fat=WL,hat=Xf;function pat(e){return dat(e,hat,fat)}var UCe=pat,Aq=UCe,mat=1,gat=Object.prototype,vat=gat.hasOwnProperty;function yat(e,t,n,r,o,i){var s=n&mat,a=Aq(e),c=a.length,u=Aq(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:vat.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var b=s;++f<c;){p=a[f];var x=e[p],y=t[p];if(r)var w=s?r(y,x,p,t,e,i):r(x,y,p,e,t,i);if(!(w===void 0?x===y||o(x,y,n,r,i):w)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var bat=yat,xat=gm,wat=$l,Cat=xat(wat,"DataView"),_at=Cat,Sat=gm,Eat=$l,kat=Sat(Eat,"Promise"),jat=kat,Tat=gm,Aat=$l,Dat=Tat(Aat,"Set"),WCe=Dat,Iat=gm,Oat=$l,Pat=Iat(Oat,"WeakMap"),YCe=Pat,r$=_at,o$=NL,i$=jat,s$=WCe,a$=YCe,qCe=Hf,E0=RCe,Dq="[object Map]",Rat="[object Object]",Iq="[object Promise]",Oq="[object Set]",Pq="[object WeakMap]",Rq="[object DataView]",$at=E0(r$),Mat=E0(o$),Fat=E0(i$),Lat=E0(s$),Bat=E0(a$),Ph=qCe;(r$&&Ph(new r$(new ArrayBuffer(1)))!=Rq||o$&&Ph(new o$)!=Dq||i$&&Ph(i$.resolve())!=Iq||s$&&Ph(new s$)!=Oq||a$&&Ph(new a$)!=Pq)&&(Ph=function(e){var t=qCe(e),n=t==Rat?e.constructor:void 0,r=n?E0(n):"";if(r)switch(r){case $at:return Rq;case Mat:return Dq;case Fat:return Iq;case Lat:return Oq;case Bat:return Pq}return t});var vw=Ph,wI=VL,Nat=$Ce,zat=Tit,Vat=bat,$q=vw,Mq=Kr,Fq=Kj,Hat=GL,Uat=1,Lq="[object Arguments]",Bq="[object Array]",ZC="[object Object]",Wat=Object.prototype,Nq=Wat.hasOwnProperty;function Yat(e,t,n,r,o,i){var s=Mq(e),a=Mq(t),c=s?Bq:$q(e),u=a?Bq:$q(t);c=c==Lq?ZC:c,u=u==Lq?ZC:u;var d=c==ZC,f=u==ZC,p=c==u;if(p&&Fq(e)){if(!Fq(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new wI),s||Hat(e)?Nat(e,t,n,r,o,i):zat(e,t,c,n,r,o,i);if(!(n&Uat)){var m=d&&Nq.call(e,"__wrapped__"),v=f&&Nq.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,b=v?t.value():t;return i||(i=new wI),o(g,b,n,r,i)}}return p?(i||(i=new wI),Vat(e,t,n,r,o,i)):!1}var qat=Yat,Gat=qat,zq=Wa;function GCe(e,t,n,r,o){return e===t?!0:e==null||t==null||!zq(e)&&!zq(t)?e!==e&&t!==t:Gat(e,t,n,r,GCe,o)}var KL=GCe,Kat=KL;function Zat(e,t){return Kat(e,t)}var Xat=Zat;const Vt=Oe(Xat);var bp=[],Qat=function(){return bp.some(function(e){return e.activeTargets.length>0})},Jat=function(){return bp.some(function(e){return e.skippedTargets.length>0})},Vq="ResizeObserver loop completed with undelivered notifications.",elt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Vq}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Vq),window.dispatchEvent(e)},Xb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Xb||(Xb={}));var xp=function(e){return Object.freeze(e)},tlt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,xp(this)}return e}(),KCe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,xp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ZL=function(e){return e instanceof SVGElement&&"getBBox"in e},ZCe=function(e){if(ZL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},Hq=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},nlt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Zy=typeof window<"u"?window:{},XC=new WeakMap,Uq=/auto|scroll/,rlt=/^tb|vertical/,olt=/msie|trident/i.test(Zy.navigator&&Zy.navigator.userAgent),ql=function(e){return parseFloat(e||"0")},Xg=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new tlt((n?t:e)||0,(n?e:t)||0)},Wq=xp({devicePixelContentBoxSize:Xg(),borderBoxSize:Xg(),contentBoxSize:Xg(),contentRect:new KCe(0,0,0,0)}),XCe=function(e,t){if(t===void 0&&(t=!1),XC.has(e)&&!t)return XC.get(e);if(ZCe(e))return XC.set(e,Wq),Wq;var n=getComputedStyle(e),r=ZL(e)&&e.ownerSVGElement&&e.getBBox(),o=!olt&&n.boxSizing==="border-box",i=rlt.test(n.writingMode||""),s=!r&&Uq.test(n.overflowY||""),a=!r&&Uq.test(n.overflowX||""),c=r?0:ql(n.paddingTop),u=r?0:ql(n.paddingRight),d=r?0:ql(n.paddingBottom),f=r?0:ql(n.paddingLeft),p=r?0:ql(n.borderTopWidth),m=r?0:ql(n.borderRightWidth),v=r?0:ql(n.borderBottomWidth),g=r?0:ql(n.borderLeftWidth),b=f+u,x=c+d,y=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:ql(n.width)-S-_,k=r?r.height:ql(n.height)-E-C,T=j+b+_+y,A=k+x+C+w,D=xp({devicePixelContentBoxSize:Xg(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:Xg(T,A,i),contentBoxSize:Xg(j,k,i),contentRect:new KCe(f,c,j,k)});return XC.set(e,D),D},QCe=function(e,t,n){var r=XCe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Xb.DEVICE_PIXEL_CONTENT_BOX:return s;case Xb.BORDER_BOX:return o;default:return i}},ilt=function(){function e(t){var n=XCe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=xp([n.borderBoxSize]),this.contentBoxSize=xp([n.contentBoxSize]),this.devicePixelContentBoxSize=xp([n.devicePixelContentBoxSize])}return e}(),JCe=function(e){if(ZCe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},slt=function(){var e=1/0,t=[];bp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new ilt(u.target),f=JCe(u.target);a.push(d),u.lastReportedSize=QCe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},Yq=function(e){bp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(JCe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},alt=function(){var e=0;for(Yq(e);Qat();)e=slt(),Yq(e);return Jat()&&elt(),e>0},CI,e_e=[],llt=function(){return e_e.splice(0).forEach(function(e){return e()})},clt=function(e){if(!CI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return llt()}).observe(n,r),CI=function(){n.textContent="".concat(t?t--:t++)}}e_e.push(e),CI()},ult=function(e){clt(function(){requestAnimationFrame(e)})},R2=0,dlt=function(){return!!R2},flt=250,hlt={attributes:!0,characterData:!0,childList:!0,subtree:!0},qq=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Gq=function(e){return e===void 0&&(e=0),Date.now()+e},_I=!1,plt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=flt),!_I){_I=!0;var r=Gq(t);ult(function(){var o=!1;try{o=alt()}finally{if(_I=!1,t=r-Gq(),!dlt())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,hlt)};document.body?n():Zy.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),qq.forEach(function(n){return Zy.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),qq.forEach(function(n){return Zy.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),l$=new plt,Kq=function(e){!R2&&e>0&&l$.start(),R2+=e,!R2&&l$.stop()},mlt=function(e){return!ZL(e)&&!nlt(e)&&getComputedStyle(e).display==="inline"},glt=function(){function e(t,n){this.target=t,this.observedBox=n||Xb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=QCe(this.target,this.observedBox,!0);return mlt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),vlt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),QC=new WeakMap,Zq=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},JC=function(){function e(){}return e.connect=function(t,n){var r=new vlt(t,n);QC.set(t,r)},e.observe=function(t,n,r){var o=QC.get(t),i=o.observationTargets.length===0;Zq(o.observationTargets,n)<0&&(i&&bp.push(o),o.observationTargets.push(new glt(n,r&&r.box)),Kq(1),l$.schedule())},e.unobserve=function(t,n){var r=QC.get(t),o=Zq(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&bp.splice(bp.indexOf(r),1),r.observationTargets.splice(o,1),Kq(-1))},e.disconnect=function(t){var n=this,r=QC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),t_e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");JC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Hq(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");JC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Hq(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");JC.unobserve(this,t)},e.prototype.disconnect=function(){JC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),ylt=Ive,blt=Ua,xlt="Expected a function";function wlt(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(xlt);return blt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ylt(e,t,{leading:r,maxWait:t,trailing:o})}var Clt=wlt;const Qj=Oe(Clt);var Xq=i0,_lt=Gj,Slt=Kr,Qq=Xq?Xq.isConcatSpreadable:void 0;function Elt(e){return Slt(e)||_lt(e)||!!(Qq&&e&&e[Qq])}var klt=Elt,jlt=UL,Tlt=klt;function n_e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=Tlt),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?n_e(a,t-1,n,r,o):jlt(o,a):r||(o[o.length]=a)}return o}var k0=n_e;function Alt(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Pc=Alt,Dlt=Kr,Ilt=om,Olt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Plt=/^\w*$/;function Rlt(e,t){if(Dlt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ilt(e)?!0:Plt.test(e)||!Olt.test(e)||t!=null&&e in Object(t)}var XL=Rlt,r_e=zL,$lt="Expected a function";function QL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($lt);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(QL.Cache||r_e),n}QL.Cache=r_e;var o_e=QL;const Jj=Oe(o_e);var Mlt=o_e,Flt=500;function Llt(e){var t=Mlt(e,function(r){return n.size===Flt&&n.clear(),r}),n=t.cache;return t}var Blt=Llt,Nlt=Blt,zlt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vlt=/\\(\\)?/g,Hlt=Nlt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zlt,function(n,r,o,i){t.push(o?i.replace(Vlt,"$1"):r||n)}),t}),i_e=Hlt,Jq=i0,Ult=Pc,Wlt=Kr,Ylt=om,qlt=1/0,eG=Jq?Jq.prototype:void 0,tG=eG?eG.toString:void 0;function s_e(e){if(typeof e=="string")return e;if(Wlt(e))return Ult(e,s_e)+"";if(Ylt(e))return tG?tG.call(e):"";var t=e+"";return t=="0"&&1/e==-qlt?"-0":t}var a_e=s_e,Glt=a_e;function Klt(e){return e==null?"":Glt(e)}var Rc=Klt,Zlt=Kr,Xlt=XL,Qlt=i_e,Jlt=Rc;function ect(e,t){return Zlt(e)?e:Xlt(e,t)?[e]:Qlt(Jlt(e))}var j0=ect,tct=om,nct=1/0;function rct(e){if(typeof e=="string"||tct(e))return e;var t=e+"";return t=="0"&&1/e==-nct?"-0":t}var vm=rct,oct=j0,ict=vm;function sct(e,t){t=oct(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ict(t[n++])];return n&&n==r?e:void 0}var yw=sct,act=VL,lct=KL,cct=1,uct=2;function dct(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new act;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?lct(d,u,cct|uct,r,f):p))return!1}}return!0}var fct=dct,hct=Ua;function pct(e){return e===e&&!hct(e)}var l_e=pct,mct=l_e,gct=Xf;function vct(e){for(var t=gct(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,mct(o)]}return t}var yct=vct;function bct(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var c_e=bct,xct=fct,wct=yct,Cct=c_e;function _ct(e){var t=wct(e);return t.length==1&&t[0][2]?Cct(t[0][0],t[0][1]):function(n){return n===e||xct(n,e,t)}}var Sct=_ct,Ect=yw;function kct(e,t,n){var r=e==null?void 0:Ect(e,t);return r===void 0?n:r}var u_e=kct;const Vn=Oe(u_e);function jct(e,t){return e!=null&&t in Object(e)}var Tct=jct,Act=j0,Dct=Gj,Ict=Kr,Oct=Zj,Pct=YL,Rct=vm;function $ct(e,t,n){t=Act(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=Rct(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Pct(o)&&Oct(s,o)&&(Ict(e)||Dct(e)))}var Mct=$ct,Fct=Tct,Lct=Mct;function Bct(e,t){return e!=null&&Lct(e,t,Fct)}var d_e=Bct,Nct=KL,zct=u_e,Vct=d_e,Hct=XL,Uct=l_e,Wct=c_e,Yct=vm,qct=1,Gct=2;function Kct(e,t){return Hct(e)&&Uct(t)?Wct(Yct(e),t):function(n){var r=zct(n,e);return r===void 0&&r===t?Vct(n,e):Nct(t,r,qct|Gct)}}var Zct=Kct;function Xct(e){return e}var ym=Xct;const f_e=Oe(ym);function Qct(e){return function(t){return t==null?void 0:t[e]}}var Jct=Qct,eut=yw;function tut(e){return function(t){return eut(t,e)}}var nut=tut,rut=Jct,out=nut,iut=XL,sut=vm;function aut(e){return iut(e)?rut(sut(e)):out(e)}var lut=aut,cut=Sct,uut=Zct,dut=ym,fut=Kr,hut=lut;function put(e){return typeof e=="function"?e:e==null?dut:typeof e=="object"?fut(e)?uut(e[0],e[1]):cut(e):hut(e)}var Qf=put;function mut(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var gut=mut,vut=gut,yut=vut(),but=yut,xut=but,wut=Xf;function Cut(e,t){return e&&xut(e,t,wut)}var _ut=Cut,Sut=Zf;function Eut(e,t){return function(n,r){if(n==null)return n;if(!Sut(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var kut=Eut,jut=_ut,Tut=kut,Aut=Tut(jut),h_e=Aut,Dut=h_e,Iut=Zf;function Out(e,t){var n=-1,r=Iut(e)?Array(e.length):[];return Dut(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var p_e=Out;function Put(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Rut=Put,nG=om;function $ut(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=nG(e),s=t!==void 0,a=t===null,c=t===t,u=nG(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var Mut=$ut,Fut=Mut;function Lut(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=Fut(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var But=Lut,SI=Pc,Nut=yw,zut=Qf,Vut=p_e,Hut=Rut,Uut=S0,Wut=But,Yut=ym,qut=Kr;function Gut(e,t,n){t.length?t=SI(t,function(i){return qut(i)?function(s){return Nut(s,i.length===1?i[0]:i)}:i}):t=[Yut];var r=-1;t=SI(t,Uut(zut));var o=Vut(e,function(i,s,a){var c=SI(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return Hut(o,function(i,s){return Wut(i,s,n)})}var m_e=Gut;function Kut(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Zut=Kut,Xut=Zut,rG=Math.max;function Qut(e,t,n){return t=rG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=rG(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),Xut(e,this,a)}}var g_e=Qut;function Jut(e){return function(){return e}}var edt=Jut,tdt=gm,ndt=function(){try{var e=tdt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),v_e=ndt,rdt=edt,oG=v_e,odt=ym,idt=oG?function(e,t){return oG(e,"toString",{configurable:!0,enumerable:!1,value:rdt(t),writable:!0})}:odt,sdt=idt,adt=800,ldt=16,cdt=Date.now;function udt(e){var t=0,n=0;return function(){var r=cdt(),o=ldt-(r-n);if(n=r,o>0){if(++t>=adt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ddt=udt,fdt=sdt,hdt=ddt,pdt=hdt(fdt),y_e=pdt,mdt=ym,gdt=g_e,vdt=y_e;function ydt(e,t){return vdt(gdt(e,t,mdt),e+"")}var T0=ydt,bdt=zj,xdt=Zf,wdt=Zj,Cdt=Ua;function _dt(e,t,n){if(!Cdt(n))return!1;var r=typeof t;return(r=="number"?xdt(n)&&wdt(t,n.length):r=="string"&&t in n)?bdt(n[t],e):!1}var JL=_dt,Sdt=k0,Edt=m_e,kdt=T0,iG=JL,jdt=kdt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&iG(e,t[0],t[1])?t=[]:n>2&&iG(t[0],t[1],t[2])&&(t=[t[0]]),Edt(e,Sdt(t,1),[])}),Tdt=jdt;const bm=Oe(Tdt);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hm(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,b){for(g=String(g);g.length<b;)g=" "+g;return g};console.info("%c "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function EI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Adt=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ddt=function(t){return t},b_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Idt=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Odt=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},Pdt=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},x_e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},Rdt=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=OE({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ddt,rangeExtractor:b_e,onChange:function(){},measureElement:Pdt,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Hm(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Hm(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),b=typeof g=="number"?g:n.options.estimateSize(f),x=v+b,y=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:b,end:x,key:p,lane:y}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Hm(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=$dt({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Hm(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Hm(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(OE({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Hm(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return EI(o[w_e(0,o.length-1,function(i){return EI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=EI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];Adt(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},w_e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function $dt(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=w_e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mdt=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Fdt(e){var t=h.useReducer(function(){return{}},{})[1],n=IE({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new Rdt(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),Mdt(function(){return o._willUpdate()}),o}function C_e(e){return Fdt(IE({observeElementRect:Idt,observeElementOffset:Odt,scrollToFn:x_e},e))}var Ldt=Bdt;function Bdt(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:Vdt(a)?n?n(e,t):e===t:i?Ndt(e,t,n):zdt(e,t,n)}function Ndt(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function zdt(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function Vdt(e){return e!=="function"&&e!=="object"}const Fu=Oe(Ldt);var c$={exports:{}},kI,sG;function eT(){if(sG)return kI;sG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;kI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return kI}function Hdt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=eT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var Udt=Hdt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=Udt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(c$,c$.exports);var Wdt=c$.exports;const zd=Oe(Wdt);function Ydt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var __e=Ydt;function qdt(e){return e!==e}var Gdt=qdt;function Kdt(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var Zdt=Kdt,Xdt=__e,Qdt=Gdt,Jdt=Zdt;function eft(e,t,n){return t===t?Jdt(e,t,n):Xdt(e,Qdt,n)}var e8=eft,tft=e8;function nft(e,t){var n=e==null?0:e.length;return!!n&&tft(e,t,0)>-1}var t8=nft;function rft(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var n8=rft,oft=Yj,ift=t8,sft=n8,aft=Pc,lft=S0,cft=qj,uft=200;function dft(e,t,n,r){var o=-1,i=ift,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=aft(t,lft(n))),r?(i=sft,s=!1):t.length>=uft&&(i=cft,s=!1,t=new oft(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var S_e=dft,fft=Zf,hft=Wa;function pft(e){return hft(e)&&fft(e)}var tT=pft,mft=S_e,gft=k0,vft=T0,aG=tT,yft=vft(function(e,t){return aG(e)?mft(e,gft(t,1,aG,!0)):[]}),bft=yft;const Qb=Oe(bft);var xft=Yj,wft=t8,Cft=n8,_ft=Pc,Sft=S0,lG=qj,Eft=Math.min;function kft(e,t,n){for(var r=n?Cft:wft,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=_ft(d,Sft(t))),c=Eft(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new xft(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?lG(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?lG(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var jft=kft,Tft=tT;function Aft(e){return Tft(e)?e:[]}var Dft=Aft,Ift=Pc,Oft=jft,Pft=T0,Rft=Dft,$ft=Pft(function(e){var t=Ift(e,Rft);return t.length&&t[0]===e[0]?Oft(t):[]}),Mft=$ft;const PE=Oe(Mft);var Fft=VCe,Lft=Fft(Object.getPrototypeOf,Object),r8=Lft,Bft=Hf,Nft=r8,zft=Wa,Vft="[object Object]",Hft=Function.prototype,Uft=Object.prototype,E_e=Hft.toString,Wft=Uft.hasOwnProperty,Yft=E_e.call(Object);function qft(e){if(!zft(e)||Bft(e)!=Vft)return!1;var t=Nft(e);if(t===null)return!0;var n=Wft.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&E_e.call(n)==Yft}var k_e=qft;const _r=Oe(k_e);var cG=v_e;function Gft(e,t,n){t=="__proto__"&&cG?cG(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var nT=Gft,Kft=nT,Zft=zj,Xft=Object.prototype,Qft=Xft.hasOwnProperty;function Jft(e,t,n){var r=e[t];(!(Qft.call(e,t)&&Zft(r,n))||n===void 0&&!(t in e))&&Kft(e,t,n)}var o8=Jft,eht=o8,tht=j0,nht=Zj,uG=Ua,rht=vm;function oht(e,t,n,r){if(!uG(e))return e;t=tht(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=rht(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=uG(d)?d:nht(t[o+1])?[]:{})}eht(a,c,u),a=a[c]}return e}var iht=oht,sht=yw,aht=iht,lht=j0;function cht(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=sht(e,s);n(a,s)&&aht(i,lht(s,e),a)}return i}var j_e=cht,uht=j_e,dht=d_e;function fht(e,t){return uht(e,t,function(n,r){return dht(e,r)})}var hht=fht,pht=k0;function mht(e){var t=e==null?0:e.length;return t?pht(e,1):[]}var T_e=mht;const Dn=Oe(T_e);var ght=T_e,vht=g_e,yht=y_e;function bht(e){return yht(vht(e,void 0,ght),e+"")}var i8=bht,xht=hht,wht=i8,Cht=wht(function(e,t){return e==null?{}:xht(e,t)}),_ht=Cht;const wt=Oe(_ht),s8=ie.createContext(null);function $c(){const e=h.useContext(s8);if(!e)throw new Error("Router: missing context value");return e}function Sht(e){return e.button===0}function Eht(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=$c();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Eht(a)||!Sht(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function bw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=$c(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=a8({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const xm=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=bw({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=a8({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});const dG=Object.prototype.hasOwnProperty,kht=dG.call.bind(dG);function jht(e){for(const t in e)if(kht(e,t))return!1;return!0}function fG(e,t,n){return n&&{...e,[t]:n}}function Tht(e){const{children:t,scope:n}=e,r=$c(),{resolvePathFromState:o,navigate:i}=r,s=h.useCallback(u=>{const d=jht(u)?{}:fG(r.state,n,u);return o(d)},[o,r.state,n]),a=h.useCallback((u,d)=>{const f=fG(r.state,n,u);i(f,d)},[i,r.state,n]),c=h.useMemo(()=>({...r,navigate:a,resolvePathFromState:s,state:r.state[n]}),[a,r,s,n]);return l.jsx(s8.Provider,{value:c,children:t})}function Aht(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(s8.Provider,{value:c,children:e.children})}const hG={};function A_e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=$c(),a=h.useMemo(()=>s(i?hG:r||hG),[s,r,i]),{onClick:c}=a8({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const rT=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=A_e({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),Dht=/^[a-zA-Z0-9_-]+$/;function Iht(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!Dht.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function Oht(e){const[t]=e.split("?"),n=t.split("/").map(Iht).filter(Boolean);return{raw:e,segments:n}}const u$=zd("state-router");function D_e(e){return Array.isArray(e)?e:e?[e]:[]}function Pht(e){return e.map(t=>{let[n,r]=t;return[Rht(n),r]})}const jI=1,pG=0;function Rht(e){const t=[];let n=0,r=pG;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===jI)throw new Error("Nested brackets not supported");r=jI,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===jI)throw new Error("Unclosed bracket");break}r=pG,t.push(e.slice(n+1,i)),n=i+1}return t}function I_e(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?D_e(e.children(i)):e.children,d=Mht(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[b]=g;return m.scope===b[0]}):d;return c=I_e(m,a.join("/"),v),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function $ht(e,t){u$("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=I_e(e,n,Pht(o));return u$("resolved: %o",i||null),i||null}function Mht(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function mG(e){return _r(e)}function TI(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function AI(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function O_e(e,t){if(!t)return AI(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(b=>b.type==="param").map(b=>b.name),s=mG(o)?Object.keys(o):[],a=PE(s,i),c=Qb(i,a),u=Qb(s,a);if(c.length>0)return TI(e,c,[]);const d=r.map(b=>{let[x,y]=b;return[[x],y]}),f=wt(o,a);if(u.length===0)return AI(e,f,d);const p=D_e((typeof e.children=="function"?e.children(mG(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return TI(e,[],u);const m=wt(o,u),g=p.map(b=>O_e(b,m)).find(b=>b.type==="ok");return g?AI(e,f,d,g):TI(e,[],u)}function Fht(e,t){u$("Resolving path from state %o",t);const n=O_e(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map(gG).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map(gG).join(", ")))}const{path:r,searchParams:o}=P_e(n),i=o.length>0?new URLSearchParams(Nht(o)).toString():"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function Lht(e){return"[".concat(e,"]")}function Bht(e){const[t,...n]=e;return n.length>0?[t,...n.map(Lht)].join(""):t}function Nht(e){return e.map(t=>{let[n,r]=t;return[Bht(n),r]})}function P_e(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?P_e(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:zht(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function zht(e,t){const n=e.scope;return n?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function gG(e){return'"'.concat(e,'"')}function Vht(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function Hht(e){return e?btoa(JSON.stringify(e)):""}function Uht(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function Wht(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const gi={create:(e,t,n)=>xG(yG(e,t,n)),intents:e=>{const t=qht(e).join("/");return gi.create("".concat(t,"/:intent"),[gi.create(":params",{transform:{params:{toState:Uht,toPath:Wht}}},[gi.create(":payload",{transform:{payload:{toState:Vht,toPath:Hht}}})])])},scope:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=yG(...n);return xG({...o,scope:e})}};function vG(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function Yht(e){return e&&"_isRoute"in e}function yG(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||Yht(t)?{path:e,children:vG(t)}:n?{path:e,...t,children:vG(n)}:{path:e,...t}}function qht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const Ght={};function bG(e){return e.split("/").every(t=>!t)}function xG(e){const{path:t,scope:n,transform:r,children:o}=e;if(!t)throw new TypeError("Missing path");const i=Oht(t);return{_isRoute:!0,scope:n,route:i,children:o||[],transform:r,encode(s){return Fht(this,s)},decode(s){return $ht(this,s)},isRoot:bG,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(Ght)},getRedirectBase(s){if(bG(s)){const a=this.getBasePath();if(s!==a)return a}return null}}}function oT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f_e;const{state:t}=$c();return h.useMemo(()=>e(t),[e,t])}function Kht(e){function t(n){const r=$c();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}Kht(e=>e.children(e.router));function Zht(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}var d$="data-focus-lock",R_e="data-focus-lock-disabled",Xht="data-no-focus-lock",Qht="data-autofocus-inside",Jht="data-no-autofocus";function ept(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tpt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function npt(e,t){return tpt(t||null,function(n){return e.forEach(function(r){return ept(r,n)})})}var DI={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function $_e(e){return e}function M_e(e,t){t===void 0&&(t=$_e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function l8(e,t){return t===void 0&&(t=$_e),M_e(e,t)}function rpt(e){e===void 0&&(e={});var t=M_e(null);return t.options=QR({async:!0,ssr:!1},e),t}var F_e=l8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),L_e=l8(),opt=l8(),ipt=rpt({async:!0}),spt=[],c8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var b=t.group,x=t.className,y=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?spt:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,O=t.onDeactivation,$=h.useState({}),R=$[0],V=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),c.current=!0},[I]),M=h.useCallback(function(){c.current=!1,O&&O(a.current)},[O]);h.useEffect(function(){f||(u.current=null)},[]);var H=h.useCallback(function(Z){var G=u.current;if(G&&G.focus){var J=typeof A=="function"?A(G):A;if(J){var X=typeof J=="object"?J:void 0;u.current=null,Z?Promise.resolve().then(function(){return G.focus(X)}):G.focus(X)}}},[A]),q=h.useCallback(function(Z){c.current&&F_e.useMedium(Z)},[]),U=L_e.useMedium,W=h.useCallback(function(Z){a.current!==Z&&(a.current=Z,s(Z))},[]),Q=Lu((r={},r[R_e]=f&&"disabled",r[d$]=b,r),k),N=p!==!0,K=N&&p!=="tail",z=npt([n,W]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:DI}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:DI}):null],!f&&h.createElement(T,{id:R,sideCar:ipt,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:y,shards:_,onActivation:V,onDeactivation:M,returnFocus:H,focusOptions:D}),h.createElement(E,Lu({ref:z},Q,{className:x,onBlur:U,onFocus:q}),d),K&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:DI}))});c8.propTypes={};c8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const B_e=c8;function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},RE(e,t)}function apt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,RE(e,t)}function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function lpt(e,t){if(Tl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N_e(e){var t=lpt(e,"string");return Tl(t)==="symbol"?t:String(t)}function Be(e,t,n){return t=N_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cpt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){apt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return ie.createElement(o,this.props)},d}(h.PureComponent);return Be(c,"displayName","SideEffect("+n(o)+")"),c}}var Mc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},$E=function(e){return Array.isArray(e)?e:[e]},z_e=function(e){return Array.isArray(e)?e[0]:e},upt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},V_e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},H_e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},dpt=function(e,t){return!e||H_e(e)||!upt(e)&&t(V_e(e))},U_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=dpt(t,U_e.bind(void 0,e));return e.set(t,r),r},fpt=function(e,t){return e&&!H_e(e)?mpt(e)?t(V_e(e)):!1:!0},W_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=fpt(t,W_e.bind(void 0,e));return e.set(t,r),r},Y_e=function(e){return e.dataset},hpt=function(e){return e.tagName==="BUTTON"},q_e=function(e){return e.tagName==="INPUT"},G_e=function(e){return q_e(e)&&e.type==="radio"},ppt=function(e){return!((q_e(e)||hpt(e))&&(e.type==="hidden"||e.disabled))},mpt=function(e){var t=e.getAttribute(Jht);return![!0,"true",""].includes(t)},u8=function(e){var t;return!!(e&&(!((t=Y_e(e))===null||t===void 0)&&t.focusGuard))},ME=function(e){return!u8(e)},gpt=function(e){return!!e},vpt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},K_e=function(e,t,n){return Mc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(vpt)},ypt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],d8=ypt.join(","),bpt="".concat(d8,", [data-focus-guard]"),Z_e=function(e,t){return Mc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?bpt:d8)?[r]:[],Z_e(r))},[])},xpt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?iT([e.contentDocument.body],t):[e]},iT=function(e,t){return e.reduce(function(n,r){var o,i=Z_e(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return xpt(a,t)}));return n.concat(s,r.parentNode?Mc(r.parentNode.querySelectorAll(d8)).filter(function(a){return a===r}):[])},[])},wpt=function(e){var t=e.querySelectorAll("[".concat(Qht,"]"));return Mc(t).map(function(n){return iT([n])}).reduce(function(n,r){return n.concat(r)},[])},f8=function(e,t){return Mc(e).filter(function(n){return U_e(t,n)}).filter(function(n){return ppt(n)})},wG=function(e,t){return t===void 0&&(t=new Map),Mc(e).filter(function(n){return W_e(t,n)})},f$=function(e,t,n){return K_e(f8(iT(e,n),t),!0,n)},CG=function(e,t){return K_e(f8(iT(e),t),!1)},Cpt=function(e,t){return f8(wpt(e),t)},Qg=function(e,t){return e.shadowRoot?Qg(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Mc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?Qg(o,t):!1}return Qg(n,t)})},_pt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},X_e=function(e){return e.parentNode?X_e(e.parentNode):e},h8=function(e){var t=$E(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(d$);return n.push.apply(n,o?_pt(Mc(X_e(r).querySelectorAll("[".concat(d$,'="').concat(o,'"]:not([').concat(R_e,'="disabled"])')))):[r]),n},[])},Spt=function(e){try{return e()}catch{return}},Jb=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?Jb(t.shadowRoot):t instanceof HTMLIFrameElement&&Spt(function(){return t.contentWindow.document})?Jb(t.contentWindow.document):t}},Ept=function(e,t){return e===t},kpt=function(e,t){return!!Mc(e.querySelectorAll("iframe")).some(function(n){return Ept(n,t)})},Q_e=function(e,t){return t===void 0&&(t=Jb(z_e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:h8(e).some(function(n){return Qg(n,t)||kpt(n,t)})},jpt=function(e){e===void 0&&(e=document);var t=Jb(e);return t?Mc(e.querySelectorAll("[".concat(Xht,"]"))).some(function(n){return Qg(n,t)}):!1},Tpt=function(e,t){return t.filter(G_e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},p8=function(e,t){return G_e(e)&&e.name?Tpt(e,t):e},Apt=function(e){var t=new Set;return e.forEach(function(n){return t.add(p8(n,e))}),e.filter(function(n){return t.has(n)})},_G=function(e){return e[0]&&e.length>1?p8(e[0],e):e[0]},SG=function(e,t){return e.length>1?e.indexOf(p8(e[t],e)):t},J_e="NEW_FOCUS",Dpt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=u8(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),v=Apt(t),g=n!==void 0?v.indexOf(n):-1,b=g-(r?v.indexOf(r):c),x=SG(e,0),y=SG(e,o-1);if(c===-1||d===-1)return J_e;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return y;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(b)>1)return d;if(c<=p)return y;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Ipt=function(e){return function(t){var n,r=(n=Y_e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Opt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=wG(r.filter(Ipt(n)));return o&&o.length?_G(o):_G(wG(t))},h$=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&h$(e.parentNode.host||e.parentNode,t),t},II=function(e,t){for(var n=h$(e),r=h$(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},e2e=function(e,t,n){var r=$E(e),o=$E(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=II(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=II(i,c);u&&(!s||Qg(u,s)?s=u:s=II(u,s))})}),s},Ppt=function(e,t){return e.reduce(function(n,r){return n.concat(Cpt(r,t))},[])},Rpt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(gpt)},$pt=function(e,t){var n=Jb($E(e).length>0?document:z_e(e).ownerDocument),r=h8(e).filter(ME),o=e2e(n||e,e,r),i=new Map,s=CG(r,i),a=f$(r,i).filter(function(m){var v=m.node;return ME(v)});if(!(!a[0]&&(a=s,!a[0]))){var c=CG([o],i).map(function(m){var v=m.node;return v}),u=Rpt(c,a),d=u.map(function(m){var v=m.node;return v}),f=Dpt(d,c,n,t);if(f===J_e){var p=Opt(s,d,Ppt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Mpt=function(e){var t=h8(e).filter(ME),n=e2e(e,e,t),r=new Map,o=f$([n],r,!0),i=f$(t,r).filter(function(s){var a=s.node;return ME(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:u8(a)}})},Fpt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},OI=0,PI=!1,t2e=function(e,t,n){n===void 0&&(n={});var r=$pt(e,t);if(!PI&&r){if(OI>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),PI=!0,setTimeout(function(){PI=!1},1);return}OI++,Fpt(r.node,n.focusOptions),OI--}};function m8(e){setTimeout(e,1)}var Lpt=function(){return document&&document.activeElement===document.body},Bpt=function(){return Lpt()||jpt()},Jg=null,Rg=null,ev=null,ex=!1,Npt=function(){return!0},zpt=function(t){return(Jg.whiteList||Npt)(t)},Vpt=function(t,n){ev={observerNode:t,portaledElement:n}},Hpt=function(t){return ev&&ev.portaledElement===t};function EG(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var Upt=function(t){return t&&"current"in t?t.current:t},Wpt=function(t){return t?!!ex:ex==="meanwhile"},Ypt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},qpt=function(t,n){return n.some(function(r){return Ypt(t,r,r)})},FE=function(){var t=!1;if(Jg){var n=Jg,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||ev&&ev.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(Upt).filter(Boolean));if((!d||zpt(d))&&(o||Wpt(a)||!Bpt()||!Rg&&i)&&(u&&!(Q_e(f)||d&&qpt(d,f)||Hpt(d))&&(document&&!Rg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=t2e(f,Rg,{focusOptions:c}),ev={})),ex=!1,Rg=document&&document.activeElement),document){var p=document&&document.activeElement,m=Mpt(f),v=m.map(function(g){var b=g.node;return b}).indexOf(p);v>-1&&(m.filter(function(g){var b=g.guard,x=g.node;return b&&x.dataset.focusAutoGuard}).forEach(function(g){var b=g.node;return b.removeAttribute("tabIndex")}),EG(v,m.length,1,m),EG(v,-1,-1,m))}}}return t},n2e=function(t){FE()&&t&&(t.stopPropagation(),t.preventDefault())},g8=function(){return m8(FE)},Gpt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Vpt(r,n)},Kpt=function(){return null},r2e=function(){ex="just",m8(function(){ex="meanwhile"})},Zpt=function(){document.addEventListener("focusin",n2e),document.addEventListener("focusout",g8),window.addEventListener("blur",r2e)},Xpt=function(){document.removeEventListener("focusin",n2e),document.removeEventListener("focusout",g8),window.removeEventListener("blur",r2e)};function Qpt(e){return e.filter(function(t){var n=t.disabled;return!n})}function Jpt(e){var t=e.slice(-1)[0];t&&!Jg&&Zpt();var n=Jg,r=n&&t&&t.id===n.id;Jg=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Rg=null,(!r||n.observed!==t.observed)&&t.onActivation(),FE(),m8(FE)):(Xpt(),Rg=null)}F_e.assignSyncMedium(Gpt);L_e.assignMedium(g8);opt.assignMedium(function(e){return e({moveFocusInside:t2e,focusInside:Q_e})});const emt=cpt(Qpt,Jpt)(Kpt);var o2e=h.forwardRef(function(t,n){return h.createElement(B_e,Lu({sideCar:emt,ref:n},t))}),i2e=B_e.propTypes||{};i2e.sideCar;Zht(i2e,["sideCar"]);o2e.propTypes={};const id=o2e;var s2e={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(s2e);var tmt=s2e.exports;const nmt=Oe(tmt);function wm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const rmt="modulepreload",omt=function(e){return"/"+e},kG={},v8=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=omt(i),i in kG)return;kG[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":rmt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},imt=typeof navigator>"u"?!1:navigator.product==="ReactNative",a2e={timeout:imt?6e4:12e4},smt=function(t){const n={...a2e,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=l2e(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function l2e(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?l2e(a2e.timeout):{connect:t,socket:t}}const amt=/^https?:\/\//i,lmt=function(t){if(!amt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var RI=function(e){return e.replace(/^\s+|\s+$/g,"")},cmt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},umt=function(e){if(!e)return{};for(var t={},n=RI(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=RI(o.slice(0,i)).toLowerCase(),a=RI(o.slice(i+1));typeof t[s]>"u"?t[s]=a:cmt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const dmt=Oe(umt),fmt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function hmt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const pmt=["request","response","progress","error","abort"],jG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function c2e(e,t){const n=[],r=jG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[smt],validateOptions:[lmt]});function o(i){const s=(v,g,b)=>{let x=v,y=g;if(!x)try{y=c("onResponse",g,b)}catch(w){y=null,x=w}x=x&&c("onError",x,b),x?a.error.publish(x):y&&a.response.publish(y)},a=pmt.reduce((v,g)=>(v[g]=hmt(),v),{}),c=fmt(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(v=>{f=t(v,(g,b)=>s(g,b,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return jG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>c2e(n,t),e.forEach(o.use),o}var u2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ma=(e,t,n)=>(u2e(e,t,"read from private field"),n?n.call(e):t.get(e)),bh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},gd=(e,t,n,r)=>(u2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$2,M2,ig,F2,Cd,L2,B2;class d2e{constructor(){this.readyState=0,this.responseType="",bh(this,$2,void 0),bh(this,M2,void 0),bh(this,ig,void 0),bh(this,F2,{}),bh(this,Cd,void 0),bh(this,L2,{}),bh(this,B2,void 0)}open(t,n,r){gd(this,$2,t),gd(this,M2,n),gd(this,ig,""),this.readyState=1,this.onreadystatechange(),gd(this,Cd,void 0)}abort(){ma(this,Cd)&&ma(this,Cd).abort()}getAllResponseHeaders(){return ma(this,ig)}setRequestHeader(t,n){ma(this,F2)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;gd(this,L2,t),gd(this,B2,n)}send(t){const n=this.responseType!=="arraybuffer",r={...ma(this,L2),method:ma(this,$2),headers:ma(this,F2),body:t};typeof AbortController=="function"&&ma(this,B2)&&(gd(this,Cd,new AbortController),typeof EventTarget<"u"&&ma(this,Cd).signal instanceof EventTarget&&(r.signal=ma(this,Cd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(ma(this,M2),r).then(o=>(o.headers.forEach((i,s)=>{gd(this,ig,ma(this,ig)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}$2=new WeakMap;M2=new WeakMap;ig=new WeakMap;F2=new WeakMap;Cd=new WeakMap;L2=new WeakMap;B2=new WeakMap;const p$=typeof XMLHttpRequest=="function"?"xhr":"fetch",mmt=p$==="xhr"?XMLHttpRequest:d2e,gmt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:p$,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new mmt;a instanceof d2e&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{b(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&a.setRequestHeader(C,c[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:p$,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(b(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function b(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;b(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function y(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:dmt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}b(),f=!0,t(null,y())}}},vmt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gmt;return c2e(e,t)};var TG={exports:{}};function ymt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=eT(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...b){if(!g.enabled)return;const x=g,y=Number(new Date),w=y-(f||y);x.diff=w,x.prev=f,x.curr=y,f=y,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=b[C];S=j.call(x,k),b.splice(C,1),C--}return S}),n.formatArgs.call(x,b),(x.log||n.log).apply(x,b)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:b=>{p=b}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var bmt=ymt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=bmt(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(TG,TG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function AG(e){return Object.prototype.toString.call(e)==="[object Object]"}function xmt(e){var t,n;return AG(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(AG(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const wmt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),Cmt=["boolean","string","number"];function _mt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!wmt(t)&&(Cmt.indexOf(typeof t)!==-1||Array.isArray(t)||xmt(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Smt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let hy={};typeof globalThis<"u"?hy=globalThis:typeof window<"u"?hy=window:typeof global<"u"?hy=global:typeof self<"u"&&(hy=self);var Emt=hy;function kmt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Emt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function jmt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class Tmt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const DG=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new Tmt(r),n(this.reason))})}};DG.source=()=>{let e;return{token:new DG(n=>{e=n}),cancel:e}};var f2e=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const Amt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var Dmt=e=>{const t=e.maxRetries||5,n=e.retryDelay||Imt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(Amt(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function Imt(e){return 100*Math.pow(2,e)+Math.random()*100}const y8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Dmt({shouldRetry:f2e,...e})};y8.shouldRetry=f2e;const $I=5;class Omt extends Error{constructor(t){const n=h2e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class Pmt extends Error{constructor(t){const n=h2e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function h2e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Mmt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(Rmt(t)){const r=t.error.items||[],o=r.slice(0,$I).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>$I&&(i+=`
...and `.concat(r.length-$I," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||$mt(e),n)}function Rmt(e){return IG(e)&&IG(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function IG(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function $mt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Mmt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const Fmt={onResponse:e=>{if(e.statusCode>=500)throw new Pmt(e);if(e.statusCode>=400)throw new Omt(e);return e}},Lmt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function OG(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=vmt([n>0?y8({retryDelay:r,maxRetries:n,shouldRetry:Bmt}):{},...e,Lmt,_mt(),Smt(),jmt(),Fmt,kmt({implementation:ht})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function Bmt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:y8.shouldRetry(e,t,n)}function p2e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const PG=["image","file"],RG=["before","after","replace"],m2e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Nmt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},zmt=e=>{if(PG.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(PG.join(", ")))},Xy=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},g2e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},LE=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));g2e(e,t._id)},Vmt=(e,t,n)=>{const r="insert(at, selector, items)";if(RG.indexOf(e)===-1){const o=RG.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},v2e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},y2e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var b2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},tv=(e,t,n)=>(b2e(e,t,"read from private field"),n?n.call(e):t.get(e)),x2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},w2e=(e,t,n,r)=>(b2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),sg,ag;class C2e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return Xy("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return Vmt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...p2e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Xy(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const Hmt=class _2e extends C2e{constructor(t,n,r){super(t,n),x2e(this,sg,void 0),w2e(this,sg,r)}clone(){return new _2e(this.selection,{...this.operations},tv(this,sg))}commit(t){if(!tv(this,sg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return tv(this,sg).mutate({patch:this.serialize()},r)}};sg=new WeakMap;let Qy=Hmt;const Umt=class S2e extends C2e{constructor(t,n,r){super(t,n),x2e(this,ag,void 0),w2e(this,ag,r)}clone(){return new S2e(this.selection,{...this.operations},tv(this,ag))}commit(t){if(!tv(this,ag))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return tv(this,ag).mutate({patch:this.serialize()},r)}};ag=new WeakMap;let Jy=Umt;var E2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Vd=(e,t,n)=>(E2e(e,t,"read from private field"),n?n.call(e):t.get(e)),k2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},j2e=(e,t,n,r)=>(E2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Rh,$h;const T2e={returnDocuments:!1};class A2e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return Xy("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return Xy(n,t),LE(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return Xy(n,t),LE(n,t),this._add({[n]:t})}delete(t){return g2e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const Wmt=class D2e extends A2e{constructor(t,n,r){super(t,r),k2e(this,Rh,void 0),j2e(this,Rh,n)}clone(){return new D2e([...this.operations],Vd(this,Rh),this.trxId)}commit(t){if(!Vd(this,Rh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Vd(this,Rh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},T2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof Jy)return this._add({patch:t.serialize()});if(r){const i=n(new Jy(t,{},Vd(this,Rh)));if(!(i instanceof Jy))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Rh=new WeakMap;let I2e=Wmt;const Ymt=class O2e extends A2e{constructor(t,n,r){super(t,r),k2e(this,$h,void 0),j2e(this,$h,n)}clone(){return new O2e([...this.operations],Vd(this,$h),this.trxId)}commit(t){if(!Vd(this,$h))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Vd(this,$h).mutate(this.serialize(),Object.assign({transactionId:this.trxId},T2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof Qy)return this._add({patch:t.serialize()});if(r){const i=n(new Qy(t,{},Vd(this,$h)));if(!(i instanceof Qy))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};$h=new WeakMap;let P2e=Ymt;const qmt="https://www.sanity.io/help/";function b8(e){return qmt+e}function Gmt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const sT=e=>Gmt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),Kmt=sT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Zmt=sT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Xmt=sT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(b8("js-client-browser-token")," for more information and how to hide this warning.")]),Qmt=sT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(b8("js-client-api-version"))]),Jmt="apicdn.sanity.io",BE={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},egt=["localhost","127.0.0.1","0.0.0.0"],tgt=e=>egt.indexOf(e)!==-1,ngt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},R2e=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},$2e=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||Qmt();const r=Object.assign({},BE,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=b8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&R2e(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'undefined'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&tgt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?Xmt():typeof r.useCdn>"u"&&Kmt(),o&&Nmt(r.projectId),r.dataset&&m2e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?y2e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===BE.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,ngt(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?Jmt:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},rgt="X-Sanity-Project-ID";function ogt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[rgt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const M2e=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},igt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,sgt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:igt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},x8=e=>e.type==="response",agt=e=>e.body,lgt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),cgt=11264;function F2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return xw(e,t,"query",{query:n,params:r},u).pipe(ce(i))}function L2e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:A0(e,"doc",n),json:!0,tag:r.tag};return ww(e,t,o).pipe(ft(x8),ce(i=>i.body.documents&&i.body.documents[0]))}function B2e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:A0(e,"doc",n.join(",")),json:!0,tag:r.tag};return ww(e,t,o).pipe(ft(x8),ce(i=>{const s=lgt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function N2e(e,t,n,r){return LE("createIfNotExists",n),aT(e,t,n,"createIfNotExists",r)}function z2e(e,t,n,r){return LE("createOrReplace",n),aT(e,t,n,"createOrReplace",r)}function V2e(e,t,n,r){return xw(e,t,"mutate",{mutations:[{delete:p2e(n)}]},r)}function H2e(e,t,n,r){let o;n instanceof Jy||n instanceof Qy?o={patch:n.serialize()}:n instanceof I2e||n instanceof P2e?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return xw(e,t,"mutate",{mutations:i,transactionId:s},r)}function xw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":M2e(r),c=!i&&a.length<cgt,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=A0(e,n,u),b={method:c?"GET":"POST",uri:g,json:!0,body:c?void 0:r,query:i&&sgt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return ww(e,t,b).pipe(ft(x8),ce(agt),ce(x=>{if(!i)return x;const y=x.results||[];if(o.returnDocuments)return d?y[0]&&y[0].document:y.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?y[0]&&y[0].id:y.map(_=>_.id);return{transactionId:x.transactionId,results:y,[w]:C}}))}function aT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return xw(e,t,"mutate",{mutations:[i]},s)}function ww(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:y2e(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(R2e(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,Zmt()))}const u=ogt(i,Object.assign({},n,{url:w8(e,o,a)})),d=new ht(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(ugt(n.signal)):d}function Al(e,t,n){return ww(e,t,n).pipe(ft(o=>o.type==="response"),ce(o=>o.body))}function A0(e,t,n){const r=e.config(),o=v2e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function w8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function ugt(e){return t=>new ht(n=>{const r=()=>n.error(fgt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const dgt=!!globalThis.DOMException;function fgt(e){var t,n;if(dgt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var U2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},NE=(e,t,n)=>(U2e(e,t,"read from private field"),n?n.call(e):t.get(e)),zE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},VE=(e,t,n,r)=>(U2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),N2,z2,V2,H2;class hgt{constructor(t,n){zE(this,N2,void 0),zE(this,z2,void 0),VE(this,N2,t),VE(this,z2,n)}upload(t,n,r){return W2e(NE(this,N2),NE(this,z2),t,n,r)}}N2=new WeakMap;z2=new WeakMap;class pgt{constructor(t,n){zE(this,V2,void 0),zE(this,H2,void 0),VE(this,V2,t),VE(this,H2,n)}upload(t,n,r){const o=W2e(NE(this,V2),NE(this,H2),t,n,r);return yo(o.pipe(ft(i=>i.type==="response"),ce(i=>i.body.document)))}}V2=new WeakMap;H2=new WeakMap;function W2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};zmt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=v2e(e.config()),a=n==="image"?"images":"files",c=mgt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=c,b={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(b.sourceId=g.id,b.sourceName=g.name,b.sourceUrl=g.url),ww(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:b,body:r})}function mgt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var ggt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const vgt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),ygt=16e3-1200,bgt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],xgt={includeResult:!0};function Y2e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...ggt(n,xgt),tag:a},u=vgt(c,bgt),d=M2e({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(A0(this,"listen",d));if(f.length>ygt)return new ht(g=>g.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new ht(g=>{let b;k().then(D=>{b=D}).catch(D=>{g.error(D),A()});let x,y=!1;function w(){y||(j(),!y&&b.readyState===b.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(wgt(D))}function _(D){const I=q2e(D);return I instanceof Error?g.error(I):g.next(I)}function S(){y=!0,E(),g.complete()}function E(){b&&(b.removeEventListener("error",w),b.removeEventListener("channelError",C),b.removeEventListener("disconnect",S),p.forEach(D=>b.removeEventListener(D,_)),b.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await v8(()=>import("./browser-ad28c5b6.js").then(O=>O.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(O=>I.addEventListener(O,_)),I}function T(){k().then(D=>{b=D}).catch(D=>{g.error(D),A()})}function A(){y=!0,E()}return A})}function q2e(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function wgt(e){if(e instanceof Error)return e;const t=q2e(e);return t instanceof Error?t:new Error(Cgt(t))}function Cgt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var G2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},mi=(e,t,n)=>(G2e(e,t,"read from private field"),n?n.call(e):t.get(e)),HE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},UE=(e,t,n,r)=>(G2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Mh,Fh,Lh,Bh;class _gt{constructor(t,n){HE(this,Mh,void 0),HE(this,Fh,void 0),UE(this,Mh,t),UE(this,Fh,n)}create(t,n){return nv(mi(this,Mh),mi(this,Fh),"PUT",t,n)}edit(t,n){return nv(mi(this,Mh),mi(this,Fh),"PATCH",t,n)}delete(t){return nv(mi(this,Mh),mi(this,Fh),"DELETE",t)}list(){return Al(mi(this,Mh),mi(this,Fh),{uri:"/datasets",tag:null})}}Mh=new WeakMap;Fh=new WeakMap;class Sgt{constructor(t,n){HE(this,Lh,void 0),HE(this,Bh,void 0),UE(this,Lh,t),UE(this,Bh,n)}create(t,n){return yo(nv(mi(this,Lh),mi(this,Bh),"PUT",t,n))}edit(t,n){return yo(nv(mi(this,Lh),mi(this,Bh),"PATCH",t,n))}delete(t){return yo(nv(mi(this,Lh),mi(this,Bh),"DELETE",t))}list(){return yo(Al(mi(this,Lh),mi(this,Bh),{uri:"/datasets",tag:null}))}}Lh=new WeakMap;Bh=new WeakMap;function nv(e,t,n,r,o){return m2e(r),Al(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var K2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Hd=(e,t,n)=>(K2e(e,t,"read from private field"),n?n.call(e):t.get(e)),WE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},YE=(e,t,n,r)=>(K2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),py,my,gy,vy;class Egt{constructor(t,n){WE(this,py,void 0),WE(this,my,void 0),YE(this,py,t),YE(this,my,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Al(Hd(this,py),Hd(this,my),{uri:n})}getById(t){return Al(Hd(this,py),Hd(this,my),{uri:"/projects/".concat(t)})}}py=new WeakMap;my=new WeakMap;class kgt{constructor(t,n){WE(this,gy,void 0),WE(this,vy,void 0),YE(this,gy,t),YE(this,vy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return yo(Al(Hd(this,gy),Hd(this,vy),{uri:n}))}getById(t){return yo(Al(Hd(this,gy),Hd(this,vy),{uri:"/projects/".concat(t)}))}}gy=new WeakMap;vy=new WeakMap;var Z2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},qE=(e,t,n)=>(Z2e(e,t,"read from private field"),n?n.call(e):t.get(e)),GE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},KE=(e,t,n,r)=>(Z2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),U2,W2,Y2,q2;class jgt{constructor(t,n){GE(this,U2,void 0),GE(this,W2,void 0),KE(this,U2,t),KE(this,W2,n)}getById(t){return Al(qE(this,U2),qE(this,W2),{uri:"/users/".concat(t)})}}U2=new WeakMap;W2=new WeakMap;class Tgt{constructor(t,n){GE(this,Y2,void 0),GE(this,q2,void 0),KE(this,Y2,t),KE(this,q2,n)}getById(t){return yo(Al(qE(this,Y2),qE(this,q2),{uri:"/users/".concat(t)}))}}Y2=new WeakMap;q2=new WeakMap;var X2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Dt=(e,t,n)=>(X2e(e,t,"read from private field"),n?n.call(e):t.get(e)),ZE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},XE=(e,t,n,r)=>(X2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Nh,ko,zh,vo;const Agt=class m${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BE;ZE(this,Nh,void 0),ZE(this,ko,void 0),this.listen=Y2e,this.config(n),XE(this,ko,t),this.assets=new hgt(this,Dt(this,ko)),this.datasets=new _gt(this,Dt(this,ko)),this.projects=new Egt(this,Dt(this,ko)),this.users=new jgt(this,Dt(this,ko))}clone(){return new m$(Dt(this,ko),this.config())}config(t){if(t===void 0)return{...Dt(this,Nh)};if(Dt(this,Nh)&&Dt(this,Nh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return XE(this,Nh,$2e(t,Dt(this,Nh)||{})),this}withConfig(t){return new m$(Dt(this,ko),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F2e(this,Dt(this,ko),t,n,r)}getDocument(t,n){return L2e(this,Dt(this,ko),t,n)}getDocuments(t,n){return B2e(this,Dt(this,ko),t,n)}create(t,n){return aT(this,Dt(this,ko),t,"create",n)}createIfNotExists(t,n){return N2e(this,Dt(this,ko),t,n)}createOrReplace(t,n){return z2e(this,Dt(this,ko),t,n)}delete(t,n){return V2e(this,Dt(this,ko),t,n)}mutate(t,n){return H2e(this,Dt(this,ko),t,n)}patch(t,n){return new Qy(t,n,this)}transaction(t){return new P2e(t,this)}request(t){return Al(this,Dt(this,ko),t)}getUrl(t,n){return w8(this,t,n)}getDataUrl(t,n){return A0(this,t,n)}};Nh=new WeakMap;ko=new WeakMap;let Dgt=Agt;const Igt=class g${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BE;ZE(this,zh,void 0),ZE(this,vo,void 0),this.listen=Y2e,this.config(n),XE(this,vo,t),this.assets=new pgt(this,Dt(this,vo)),this.datasets=new Sgt(this,Dt(this,vo)),this.projects=new kgt(this,Dt(this,vo)),this.users=new Tgt(this,Dt(this,vo)),this.observable=new Dgt(t,n)}clone(){return new g$(Dt(this,vo),this.config())}config(t){if(t===void 0)return{...Dt(this,zh)};if(Dt(this,zh)&&Dt(this,zh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),XE(this,zh,$2e(t,Dt(this,zh)||{})),this}withConfig(t){return new g$(Dt(this,vo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yo(F2e(this,Dt(this,vo),t,n,r))}getDocument(t,n){return yo(L2e(this,Dt(this,vo),t,n))}getDocuments(t,n){return yo(B2e(this,Dt(this,vo),t,n))}create(t,n){return yo(aT(this,Dt(this,vo),t,"create",n))}createIfNotExists(t,n){return yo(N2e(this,Dt(this,vo),t,n))}createOrReplace(t,n){return yo(z2e(this,Dt(this,vo),t,n))}delete(t,n){return yo(V2e(this,Dt(this,vo),t,n))}mutate(t,n){return yo(H2e(this,Dt(this,vo),t,n))}patch(t,n){return new Jy(t,n,this)}transaction(t){return new I2e(t,this)}request(t){return yo(Al(this,Dt(this,vo),t))}dataRequest(t,n,r){return yo(xw(this,Dt(this,vo),t,n,r))}getUrl(t,n){return w8(this,t,n)}getDataUrl(t,n){return A0(this,t,n)}};zh=new WeakMap;vo=new WeakMap;let Ogt=Igt;function Pgt(e,t){return{requester:OG(e,{}).defaultRequester,createClient:i=>new t(OG(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var Rgt=[];const $gt=Pgt(Rgt,Ogt),Q2e=$gt.createClient;var Mgt=Hf,Fgt=Kr,Lgt=Wa,Bgt="[object String]";function Ngt(e){return typeof e=="string"||!Fgt(e)&&Lgt(e)&&Mgt(e)==Bgt}var zgt=Ngt;const lT=Oe(zgt);function Vgt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var Hgt=Vgt;function Ugt(e){return function(t){return e==null?void 0:e[t]}}var Wgt=Ugt,Ygt=Wgt,qgt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ggt=Ygt(qgt),Kgt=Ggt,Zgt=Kgt,Xgt=Rc,Qgt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jgt="\\u0300-\\u036f",evt="\\ufe20-\\ufe2f",tvt="\\u20d0-\\u20ff",nvt=Jgt+evt+tvt,rvt="["+nvt+"]",ovt=RegExp(rvt,"g");function ivt(e){return e=Xgt(e),e&&e.replace(Qgt,Zgt).replace(ovt,"")}var J2e=ivt;const $G=Oe(J2e);var svt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function avt(e){return e.match(svt)||[]}var lvt=avt,cvt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function uvt(e){return cvt.test(e)}var dvt=uvt,eSe="\\ud800-\\udfff",fvt="\\u0300-\\u036f",hvt="\\ufe20-\\ufe2f",pvt="\\u20d0-\\u20ff",mvt=fvt+hvt+pvt,tSe="\\u2700-\\u27bf",nSe="a-z\\xdf-\\xf6\\xf8-\\xff",gvt="\\xac\\xb1\\xd7\\xf7",vvt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yvt="\\u2000-\\u206f",bvt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rSe="A-Z\\xc0-\\xd6\\xd8-\\xde",xvt="\\ufe0e\\ufe0f",oSe=gvt+vvt+yvt+bvt,iSe="[']",MG="["+oSe+"]",wvt="["+mvt+"]",sSe="\\d+",Cvt="["+tSe+"]",aSe="["+nSe+"]",lSe="[^"+eSe+oSe+sSe+tSe+nSe+rSe+"]",_vt="\\ud83c[\\udffb-\\udfff]",Svt="(?:"+wvt+"|"+_vt+")",Evt="[^"+eSe+"]",cSe="(?:\\ud83c[\\udde6-\\uddff]){2}",uSe="[\\ud800-\\udbff][\\udc00-\\udfff]",lg="["+rSe+"]",kvt="\\u200d",FG="(?:"+aSe+"|"+lSe+")",jvt="(?:"+lg+"|"+lSe+")",LG="(?:"+iSe+"(?:d|ll|m|re|s|t|ve))?",BG="(?:"+iSe+"(?:D|LL|M|RE|S|T|VE))?",dSe=Svt+"?",fSe="["+xvt+"]?",Tvt="(?:"+kvt+"(?:"+[Evt,cSe,uSe].join("|")+")"+fSe+dSe+")*",Avt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dvt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ivt=fSe+dSe+Tvt,Ovt="(?:"+[Cvt,cSe,uSe].join("|")+")"+Ivt,Pvt=RegExp([lg+"?"+aSe+"+"+LG+"(?="+[MG,lg,"$"].join("|")+")",jvt+"+"+BG+"(?="+[MG,lg+FG,"$"].join("|")+")",lg+"?"+FG+"+"+LG,lg+"+"+BG,Dvt,Avt,sSe,Ovt].join("|"),"g");function Rvt(e){return e.match(Pvt)||[]}var $vt=Rvt,Mvt=lvt,Fvt=dvt,Lvt=Rc,Bvt=$vt;function Nvt(e,t,n){return e=Lvt(e),t=n?void 0:t,t===void 0?Fvt(e)?Bvt(e):Mvt(e):e.match(t)||[]}var hSe=Nvt;const pSe=Oe(hSe);var zvt=Hgt,Vvt=J2e,Hvt=hSe,Uvt="[']",Wvt=RegExp(Uvt,"g");function Yvt(e){return function(t){return zvt(Hvt(Vvt(t).replace(Wvt,"")),e,"")}}var C8=Yvt;function qvt(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var mSe=qvt,Gvt=mSe;function Kvt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Gvt(e,t,n)}var gSe=Kvt,Zvt="\\ud800-\\udfff",Xvt="\\u0300-\\u036f",Qvt="\\ufe20-\\ufe2f",Jvt="\\u20d0-\\u20ff",e0t=Xvt+Qvt+Jvt,t0t="\\ufe0e\\ufe0f",n0t="\\u200d",r0t=RegExp("["+n0t+Zvt+e0t+t0t+"]");function o0t(e){return r0t.test(e)}var vSe=o0t;function i0t(e){return e.split("")}var s0t=i0t,ySe="\\ud800-\\udfff",a0t="\\u0300-\\u036f",l0t="\\ufe20-\\ufe2f",c0t="\\u20d0-\\u20ff",u0t=a0t+l0t+c0t,d0t="\\ufe0e\\ufe0f",f0t="["+ySe+"]",v$="["+u0t+"]",y$="\\ud83c[\\udffb-\\udfff]",h0t="(?:"+v$+"|"+y$+")",bSe="[^"+ySe+"]",xSe="(?:\\ud83c[\\udde6-\\uddff]){2}",wSe="[\\ud800-\\udbff][\\udc00-\\udfff]",p0t="\\u200d",CSe=h0t+"?",_Se="["+d0t+"]?",m0t="(?:"+p0t+"(?:"+[bSe,xSe,wSe].join("|")+")"+_Se+CSe+")*",g0t=_Se+CSe+m0t,v0t="(?:"+[bSe+v$+"?",v$,xSe,wSe,f0t].join("|")+")",y0t=RegExp(y$+"(?="+y$+")|"+v0t+g0t,"g");function b0t(e){return e.match(y0t)||[]}var x0t=b0t,w0t=s0t,C0t=vSe,_0t=x0t;function S0t(e){return C0t(e)?_0t(e):w0t(e)}var SSe=S0t,E0t=gSe,k0t=vSe,j0t=SSe,T0t=Rc;function A0t(e){return function(t){t=T0t(t);var n=k0t(t)?j0t(t):void 0,r=n?n[0]:t.charAt(0),o=n?E0t(n,1).join(""):t.slice(1);return r[e]()+o}}var D0t=A0t,I0t=D0t,O0t=I0t("toUpperCase"),_8=O0t;const ESe=Oe(_8);var P0t=C8,R0t=_8,$0t=P0t(function(e,t,n){return e+(n?" ":"")+R0t(t)}),M0t=$0t;const un=Oe(M0t);let F0t=e=>crypto.getRandomValues(new Uint8Array(e)),L0t=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},B0t=(e,t=21)=>L0t(e,t,F0t),N0t=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var z0t=["presence","listen"],QE=globalThis&&globalThis.__assign||function(){return QE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},QE.apply(this,arguments)},V0t=B0t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),H0t="";function NG(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:W0t(t,"v1"),id:n})}function U0t(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function W0t(e,t){return QE(QE({},e),{apiVersion:t})}var Y0t=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?V0t:r,i=ML(e.pipe(rt(function(m){return Ti(m,"message")})),function(m){return m.data===H0t}),s=i[0],a=i[1],c=a.pipe(ut(function(m){var v=U0t(m.data),g=v[0],b=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Kn):!b||!b.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",b),Kn):xe(b)}),ra()),u=n?Mo([n,e]).pipe(Xn(function(m,v){var g=m[0],b=m[1],x=v[0],y=v[1];return g===x&&b===y}),rt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(Ci(1),Bj(g)):xe(g)}),So({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var b=o();return nn(c.pipe(ft(function(x){return x.id===b}),ce(function(x){return x.result})),lo(function(){return m.send(NG(v,g,b)),Kn}))}function f(m,v){return u.pipe(Ci(1),ut(function(g){return d(g,m,v).pipe(Ci(1))}))}function p(m,v){return u.pipe(Ci(1),ut(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(Ci(1),ut(function(b){return c.pipe(ft(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===b}),ce(function(x){return x.params.result}),ECe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(NG("".concat(m,"_unsubscribe"),{subscriptionId:b},o()))}))}))}))}return{heartbeats:nn(u,s,a).pipe(ce(function(){return new Date})),request:function(m,v){return q0t(m)?p(m,v):f(m,v)}}};function q0t(e){return z0t.includes(e)}var G0t=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zG=function(e){G0t(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function K0t(e){return function(t){return new ht(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new zG("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new zG("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var Z0t=function(e,t){return function(n){return Btt(n,Fo(e).pipe(ut(function(){return t})))}},VG;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(VG||(VG={}));var X0t=function(e){return e};function Q0t(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=K0t(function(i,s){return new window.WebSocket(i,s)});return Y0t(o(e).pipe(n?Z0t(n,Mu(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):X0t,So({refCount:!0}),BL(Ti(window,"beforeunload"))),{token$:r})}function J0t(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var e1t=J0t,t1t=o8,n1t=nT;function r1t(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?n1t(n,a,c):t1t(n,a,c)}return n}var D0=r1t,o1t=D0,i1t=Xf;function s1t(e,t){return e&&o1t(t,i1t(t),e)}var a1t=s1t;function l1t(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var c1t=l1t,u1t=Ua,d1t=Xj,f1t=c1t,h1t=Object.prototype,p1t=h1t.hasOwnProperty;function m1t(e){if(!u1t(e))return f1t(e);var t=d1t(e),n=[];for(var r in e)r=="constructor"&&(t||!p1t.call(e,r))||n.push(r);return n}var g1t=m1t,v1t=zCe,y1t=g1t,b1t=Zf;function x1t(e){return b1t(e)?v1t(e,!0):y1t(e)}var S8=x1t,w1t=D0,C1t=S8;function _1t(e,t){return e&&w1t(t,C1t(t),e)}var S1t=_1t,JE={exports:{}};JE.exports;(function(e,t){var n=$l,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(JE,JE.exports);var E1t=JE.exports;function k1t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var E8=k1t,j1t=D0,T1t=WL;function A1t(e,t){return j1t(e,T1t(e),t)}var D1t=A1t,I1t=UL,O1t=r8,P1t=WL,R1t=BCe,$1t=Object.getOwnPropertySymbols,M1t=$1t?function(e){for(var t=[];e;)I1t(t,P1t(e)),e=O1t(e);return t}:R1t,kSe=M1t,F1t=D0,L1t=kSe;function B1t(e,t){return F1t(e,L1t(e),t)}var N1t=B1t,z1t=FCe,V1t=kSe,H1t=S8;function U1t(e){return z1t(e,H1t,V1t)}var k8=U1t,W1t=Object.prototype,Y1t=W1t.hasOwnProperty;function q1t(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Y1t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var G1t=q1t,HG=MCe;function K1t(e){var t=new e.constructor(e.byteLength);return new HG(t).set(new HG(e)),t}var j8=K1t,Z1t=j8;function X1t(e,t){var n=t?Z1t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Q1t=X1t,J1t=/\w*$/;function eyt(e){var t=new e.constructor(e.source,J1t.exec(e));return t.lastIndex=e.lastIndex,t}var tyt=eyt,UG=i0,WG=UG?UG.prototype:void 0,YG=WG?WG.valueOf:void 0;function nyt(e){return YG?Object(YG.call(e)):{}}var ryt=nyt,oyt=j8;function iyt(e,t){var n=t?oyt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var syt=iyt,ayt=j8,lyt=Q1t,cyt=tyt,uyt=ryt,dyt=syt,fyt="[object Boolean]",hyt="[object Date]",pyt="[object Map]",myt="[object Number]",gyt="[object RegExp]",vyt="[object Set]",yyt="[object String]",byt="[object Symbol]",xyt="[object ArrayBuffer]",wyt="[object DataView]",Cyt="[object Float32Array]",_yt="[object Float64Array]",Syt="[object Int8Array]",Eyt="[object Int16Array]",kyt="[object Int32Array]",jyt="[object Uint8Array]",Tyt="[object Uint8ClampedArray]",Ayt="[object Uint16Array]",Dyt="[object Uint32Array]";function Iyt(e,t,n){var r=e.constructor;switch(t){case xyt:return ayt(e);case fyt:case hyt:return new r(+e);case wyt:return lyt(e,n);case Cyt:case _yt:case Syt:case Eyt:case kyt:case jyt:case Tyt:case Ayt:case Dyt:return dyt(e,n);case pyt:return new r;case myt:case yyt:return new r(e);case gyt:return cyt(e);case vyt:return new r;case byt:return uyt(e)}}var Oyt=Iyt,Pyt=Ua,qG=Object.create,Ryt=function(){function e(){}return function(t){if(!Pyt(t))return{};if(qG)return qG(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),T8=Ryt,$yt=T8,Myt=r8,Fyt=Xj;function Lyt(e){return typeof e.constructor=="function"&&!Fyt(e)?$yt(Myt(e)):{}}var Byt=Lyt,Nyt=vw,zyt=Wa,Vyt="[object Map]";function Hyt(e){return zyt(e)&&Nyt(e)==Vyt}var Uyt=Hyt,Wyt=Uyt,Yyt=S0,GG=qL,KG=GG&&GG.isMap,qyt=KG?Yyt(KG):Wyt,Gyt=qyt,Kyt=vw,Zyt=Wa,Xyt="[object Set]";function Qyt(e){return Zyt(e)&&Kyt(e)==Xyt}var Jyt=Qyt,ebt=Jyt,tbt=S0,ZG=qL,XG=ZG&&ZG.isSet,nbt=XG?tbt(XG):ebt,rbt=nbt,obt=VL,ibt=e1t,sbt=o8,abt=a1t,lbt=S1t,cbt=E1t,ubt=E8,dbt=D1t,fbt=N1t,hbt=UCe,pbt=k8,mbt=vw,gbt=G1t,vbt=Oyt,ybt=Byt,bbt=Kr,xbt=Kj,wbt=Gyt,Cbt=Ua,_bt=rbt,Sbt=Xf,Ebt=S8,kbt=1,jbt=2,Tbt=4,jSe="[object Arguments]",Abt="[object Array]",Dbt="[object Boolean]",Ibt="[object Date]",Obt="[object Error]",TSe="[object Function]",Pbt="[object GeneratorFunction]",Rbt="[object Map]",$bt="[object Number]",ASe="[object Object]",Mbt="[object RegExp]",Fbt="[object Set]",Lbt="[object String]",Bbt="[object Symbol]",Nbt="[object WeakMap]",zbt="[object ArrayBuffer]",Vbt="[object DataView]",Hbt="[object Float32Array]",Ubt="[object Float64Array]",Wbt="[object Int8Array]",Ybt="[object Int16Array]",qbt="[object Int32Array]",Gbt="[object Uint8Array]",Kbt="[object Uint8ClampedArray]",Zbt="[object Uint16Array]",Xbt="[object Uint32Array]",Bn={};Bn[jSe]=Bn[Abt]=Bn[zbt]=Bn[Vbt]=Bn[Dbt]=Bn[Ibt]=Bn[Hbt]=Bn[Ubt]=Bn[Wbt]=Bn[Ybt]=Bn[qbt]=Bn[Rbt]=Bn[$bt]=Bn[ASe]=Bn[Mbt]=Bn[Fbt]=Bn[Lbt]=Bn[Bbt]=Bn[Gbt]=Bn[Kbt]=Bn[Zbt]=Bn[Xbt]=!0;Bn[Obt]=Bn[TSe]=Bn[Nbt]=!1;function G2(e,t,n,r,o,i){var s,a=t&kbt,c=t&jbt,u=t&Tbt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!Cbt(e))return e;var d=bbt(e);if(d){if(s=gbt(e),!a)return ubt(e,s)}else{var f=mbt(e),p=f==TSe||f==Pbt;if(xbt(e))return cbt(e,a);if(f==ASe||f==jSe||p&&!o){if(s=c||p?{}:ybt(e),!a)return c?fbt(e,lbt(s,e)):dbt(e,abt(s,e))}else{if(!Bn[f])return o?e:{};s=vbt(e,f,a)}}i||(i=new obt);var m=i.get(e);if(m)return m;i.set(e,s),_bt(e)?e.forEach(function(b){s.add(G2(b,t,n,b,e,i))}):wbt(e)&&e.forEach(function(b,x){s.set(x,G2(b,t,n,x,e,i))});var v=u?c?pbt:hbt:c?Ebt:Sbt,g=d?void 0:v(e);return ibt(g||e,function(b,x){g&&(x=b,b=e[x]),sbt(s,x,G2(b,t,n,x,e,i))}),s}var A8=G2;function Qbt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Jbt=Qbt,ext=yw,txt=mSe;function nxt(e,t){return t.length<2?e:ext(e,txt(t,0,-1))}var rxt=nxt,oxt=j0,ixt=Jbt,sxt=rxt,axt=vm;function lxt(e,t){return t=oxt(t,e),e=sxt(e,t),e==null||delete e[axt(ixt(t))]}var cxt=lxt,uxt=k_e;function dxt(e){return uxt(e)?void 0:e}var fxt=dxt,hxt=Pc,pxt=A8,mxt=cxt,gxt=j0,vxt=D0,yxt=fxt,bxt=i8,xxt=k8,wxt=1,Cxt=2,_xt=4,Sxt=bxt(function(e,t){var n={};if(e==null)return n;var r=!1;t=hxt(t,function(i){return i=gxt(i,e),r||(r=i.length>1),i}),vxt(e,xxt(e),n),r&&(n=pxt(n,wxt|Cxt|_xt,yxt));for(var o=t.length;o--;)mxt(n,t[o]);return n}),Ext=Sxt;const Ai=Oe(Ext);var kxt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Cw=Oe(kxt);var jxt=Kr;function Txt(){if(!arguments.length)return[];var e=arguments[0];return jxt(e)?e:[e]}var Axt=Txt;const _w=Oe(Axt);var Dxt=Pc,Ixt=Qf,Oxt=p_e,Pxt=Kr;function Rxt(e,t){var n=Pxt(e)?Dxt:Oxt;return n(e,Ixt(t))}var $xt=Rxt,Mxt=k0,Fxt=$xt;function Lxt(e,t){return Mxt(Fxt(e,t),1)}var Bxt=Lxt;const Nxt=Oe(Bxt);var zxt="Expected a function";function Vxt(e){if(typeof e!="function")throw new TypeError(zxt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var DSe=Vxt;const Hxt=Oe(DSe);var Uxt=Pc,Wxt=Qf,Yxt=j_e,qxt=k8;function Gxt(e,t){if(e==null)return{};var n=Uxt(qxt(e),function(r){return[r]});return t=Wxt(t),Yxt(e,n,function(r,o){return t(r,o[0])})}var ISe=Gxt;const Kxt=Oe(ISe);var Zxt=Qf,Xxt=DSe,Qxt=ISe;function Jxt(e,t){return Qxt(e,Xxt(Zxt(t)))}var ewt=Jxt;const OSe=Oe(ewt);function twt(e){return e===void 0}var nwt=twt;const PSe=Oe(nwt);var rwt=Rc,owt=_8;function iwt(e){return owt(rwt(e).toLowerCase())}var RSe=iwt;const Cm=Oe(RSe);var swt=Pc,awt=E8,lwt=Kr,cwt=om,uwt=i_e,dwt=vm,fwt=Rc;function hwt(e){return lwt(e)?swt(e,dwt):cwt(e)?[e]:awt(uwt(fwt(e)))}var pwt=hwt;const mwt=Oe(pwt);function gwt(){}var D8=gwt;const $Se=Oe(D8);var MI=WCe,vwt=D8,ywt=HL,bwt=1/0,xwt=MI&&1/ywt(new MI([,-0]))[1]==bwt?function(e){return new MI(e)}:vwt,wwt=xwt,Cwt=Yj,_wt=t8,Swt=n8,Ewt=qj,kwt=wwt,jwt=HL,Twt=200;function Awt(e,t,n){var r=-1,o=_wt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=Swt;else if(i>=Twt){var u=t?null:kwt(e);if(u)return jwt(u);s=!1,o=Ewt,c=new Cwt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var cT=Awt,Dwt=Qf,Iwt=cT;function Owt(e,t){return e&&e.length?Iwt(e,Dwt(t)):[]}var Pwt=Owt;const Mf=Oe(Pwt),ts=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],QG=[...ts],FI={name:"any",type:null,jsonType:"any"},Rwt={get(){return FI},extend(e,t){const n=Object.assign(wt(FI,QG),e,{type:FI,of:e.of.map(o=>({name:o.name,type:t(Ai(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,wt(i,QG),{type:o});return r(s)}}}}};var Jf={prepare:e=>({title:String(e)})};const JG=[...ts],LI={name:"string",title:"String",type:null,jsonType:"string"},$wt={get(){return LI},extend(e){const t=Object.assign(wt(LI,JG),e,{type:LI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,JG),{type:r});return n(i)}}}}},eK=[...ts,"rows"],BI={name:"text",title:"Text",type:null,jsonType:"string"},Mwt={get(){return BI},extend(e){const t=Object.assign(wt(BI,eK),e,{type:BI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,eK),{type:r});return n(i)}}}}},tK=[...ts],NI={name:"datetime",title:"Datetime",type:null,jsonType:"string"},Fwt={get(){return NI},extend(e){const t=Object.assign(wt(NI,tK),e,{type:NI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,tK),{type:r});return n(i)}}}}},nK=[...ts],zI={name:"date",title:"Datetime",type:null,jsonType:"string"},Lwt={get(){return zI},extend(e){const t=Object.assign(wt(zI,nK),e,{type:zI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,nK),{type:r});return n(i)}}}}},rK=[...ts],VI={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},Bwt={get(){return VI},extend(e){const t=Object.assign(wt(VI,rK),e,{type:VI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,rK),{type:r});return n(i)}}}}},oK=[...ts],HI={name:"url",title:"Url",type:null,jsonType:"string"},Nwt={get(){return HI},extend(e){const t=Object.assign(wt(HI,oK),e,{type:HI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,oK),{type:r});return n(i)}}}}},iK=[...ts],UI={name:"email",title:"Email",type:null,jsonType:"string"},zwt={get(){return UI},extend(e){const t=Object.assign(wt(UI,iK),e,{type:UI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,iK),{type:r});return n(i)}}}}},sK=[...ts],WI={name:"number",title:"Number",type:null,jsonType:"number"},Vwt={get(){return WI},extend(e){const t=Object.assign(wt(WI,sK),e,{type:WI,preview:Jf});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,wt(o,sK),{type:r});return n(i)}}}}};function Hn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function Hwt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function b$(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>b$(s,t,n+1)).concat(o>0?"+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(Hwt(wt(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(b$(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function Uwt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return b$(e,n,0)}const Wwt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function Ywt(e){return t=>({title:Uwt(wt(t,e),Wwt)})}function qwt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const MSe=["title","name","label","heading","header","caption"],Gwt=["description",...MSe];function FSe(e,t){return Cw(e.to||[]).some(n=>n.type===t)}function aK(e){return FSe(e,"sanity.imageAsset")}function Kwt(e){const t=e.fields||[],n=t.find(aK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(aK));return r?"".concat(r.name,".asset"):void 0}function lK(e){return FSe(e,"sanity.fileAsset")}function Zwt(e){const t=e.fields||[],n=t.find(lK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(lK));return r?"".concat(r.name,".asset"):void 0}function Xwt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(qwt).map(u=>u.name);let o=MSe.find(u=>n.includes(u)||r.includes(u)),i=Gwt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=Kwt(t);if(!o){const u=Zwt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:Ywt(u)}}return{select:OSe({title:o,description:i,media:s?s.name:a},PSe)}}function Qwt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function Jwt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function eCt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function tCt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...wt(e,["prepare","component"]),select:eCt(t)}:{...wt(e,["prepare","component"]),select:t}}function Sw(e){return function(){return Qwt(e),Jwt(e),tCt(e.preview||(e.options||{}).preview)||Xwt(e)}}const nCt=["title","name","label","heading","header","caption","description"],rCt=["string","boolean","number"],cK=e=>rCt.includes(e.type);function oCt(e){let t=nCt.filter(n=>e.fields.some(r=>cK(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(cK).map(n=>n.name)),t.map(n=>({name:n,title:Cm(un(n)),by:[{field:n,direction:"asc"}]}))}function uK(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!_r(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:mwt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const rv=Symbol("__cachedStringFields"),iCt=e=>e.type&&e.type.name==="reference",sCt=["style","list"],I8=e=>e.name==="block"||e.type&&I8(e.type),aCt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(I8);function uT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?lCt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!iCt(e)?cCt(e,t,i,r,o):i}function lCt(e,t,n,r,o){return e.of.reduce((i,s)=>uT(s,t,i,r,o-1),n)}function cCt(e,t,n,r,o){const i=I8(e);return e.fields.reduce((s,a)=>{if(i&&sCt.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return uT(a.type,t,s,r.concat(c),o-1)},n)}const LSe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],dK={title:10,subtitle:5,description:1.5};function BSe(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in dK).map(r=>({weight:dK[r],path:n[r].split(".")})):[]}function uCt(e,t){return e[rv]||(e[rv]=Mf([...LSe,...BSe(e),...fCt(e,t).map(n=>({weight:1,path:n})),...hCt(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[rv]}function dCt(e){return e[rv]||(e[rv]=Mf([...LSe,...BSe(e)],t=>t.path.join("."))),e[rv]}function fCt(e,t){return uT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function hCt(e,t){return uT(e,(r,o,i)=>aCt(o)?[...r,i]:r,[],[],t)}function pCt(e){return dCt(e)}function mCt(e){return uCt(e,4)}const fK=[...ts,"orderings","__experimental_search","blockEditor","icon"],NSe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(wt(this.get(),fK),n,{type:this.get(),title:n.title||(n.name?un(n.name):""),options:r,orderings:n.orderings||oCt(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return Hn({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||un(a)}))})});return Hn(o,"fieldsets",()=>dT(n,o.fields)),Hn(o,"groups",()=>gCt(n,o.fields)),Hn(o,"preview",Sw(n)),Hn(o,"__experimental_search",()=>{const s=n.__experimental_search?uK(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?uK(n):a):mCt(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,wt(a,fK),{title:a.title||n.title||(n.name?un(n.name):""),type:s});return Hn(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function dT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:un(e.name),"'"));n[o.name]={title:un(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function gCt(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:un(e.name),"'"));if(n[o.name]={title:un(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:un(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=_w(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:un(e.name),"'"));a.fields.push(o)})}),Nxt(n).filter(o=>o.fields.length>0)}const vCt={name:"_ref",title:"Referenced document ID",type:"string"},yCt={name:"_weak",title:"Weak reference",type:"boolean"},bCt=[vCt,yCt],hK=[...ts],YI={name:"reference",title:"Reference",type:null,jsonType:"object"};function xCt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function wCt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(xCt(Cw(e.to).map(t=>t.title),"or").toLowerCase())}const CCt={get(){return YI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(wt(YI,hK),e,{type:YI});return Hn(n,"fields",()=>bCt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Hn(n,"fieldsets",()=>dT(e,n.fields)),Hn(n,"to",()=>Cw(e.to).map(o=>t(o))),Hn(n,"title",()=>e.title||wCt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,wt(i,hK),{type:o});return r(s)}}}}},_Ct={name:"_ref",title:"Referenced document ID",type:"string"},SCt={name:"_weak",title:"Weak reference marker",type:"boolean"},ECt={name:"_dataset",title:"Target dataset",type:"string"},kCt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},jCt=[_Ct,SCt,ECt,kCt],pK=[...ts],qI={name:"crossDatasetReference",type:null,jsonType:"object"};function TCt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function ACt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(TCt(Cw(e.to).map(t=>t.title||Cm(t.type)),"or").toLowerCase())}const DCt={get(){return qI},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(wt(qI,pK),e,{type:qI});return Hn(n,"fields",()=>jCt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Hn(n,"to",()=>Cw(e.to).map(o=>({...o,__experimental_search:pCt(o)}))),Hn(n,"title",()=>e.title||ACt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,wt(i,pK),{type:o});return r(s)}}}}},ICt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},OCt={name:"hotspot",type:"sanity.imageHotspot"},PCt={name:"crop",type:"sanity.imageCrop"},mK=[...ts],gK={name:"image",title:"Image",type:null,jsonType:"object"},RCt={},$Ct={get(){return gK},extend(e,t){const n={...e.options||RCt};let r=[OCt,PCt];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[ICt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(wt(this.get(),mK),i,{type:gK,title:i.title||(i.name?un(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return Hn(p,"type",()=>t({...f,title:c.title||un(u)}))})});return Hn(s,"fieldsets",()=>dT(i,s.fields)),Hn(s,"preview",Sw(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,wt(u,mK),{type:c});return a(d)}}}}},MCt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},vK=[...ts],GI={name:"file",title:"File",type:null,jsonType:"object"},FCt={accept:""},LCt={get(){return GI},extend(e,t){const n={...e.options||FCt},r=[MCt,...e.fields||[]],o={...e,fields:r},i=Object.assign(wt(GI,vK),o,{type:GI,title:o.title||(o.name?un(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return Hn(f,"type",()=>t({...d,title:a.title||un(c)}))})});return Hn(i,"fieldsets",()=>dT(o,i.fields)),Hn(i,"preview",Sw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,wt(c,vK),{type:a});return s(u)}}}}},BCt={name:"document",title:"Document",type:null,jsonType:"object"},NCt={get(){return BCt},extend:NSe.extend},yK=[...ts],KI={name:"array",type:null,jsonType:"array",of:[]},zCt={get(){return KI},extend(e,t){const n=Object.assign(wt(KI,yK),e,{type:KI});return Hn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,wt(i,yK),{type:o});return r(s)}}}}},VCt={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},HCt={type:"text",name:"text",title:"Text"},UCt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},bK={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},WCt=[bK.bullet,bK.numbered],Jc={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},YCt=[Jc.normal,Jc.h1,Jc.h2,Jc.h3,Jc.h4,Jc.h5,Jc.h6,Jc.blockquote],qCt={title:"Strong",value:"strong"},GCt={title:"Italic",value:"em"},KCt={title:"Code",value:"code"},ZCt={title:"Underline",value:"underline"},XCt={title:"Strike",value:"strike-through"},T1={strong:qCt,em:GCt,code:KCt,underline:ZCt,strikeThrough:XCt},QCt=[T1.strong,T1.em,T1.code,T1.underline,T1.strikeThrough],xK=["type","name","title","jsonType","description","options","fieldsets","icon"],ZI={name:"block",title:"Block",type:null,jsonType:"object"},JCt={},e_t={get(){return ZI},extend(e,t){const n={...e.options||JCt},{marks:r,styles:o,lists:i,of:s,...a}=e,c=o_t(r,s),u=n_t(o),d=r_t(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||zSe},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(wt(ZI,xK),a,{type:ZI,options:n});return Hn(v,"fields",()=>m.map(b=>{const{name:x,...y}=b;return{name:x,type:t(y)}})),Hn(v,"preview",Sw(e)),g(v);function g(b){return{get(){return b},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const y=Object.assign({},b,wt(x,xK),{type:b});return g(y)}}}}};function t_t(e){return e.some(t=>t.value==="normal")?e:[Jc.normal,...e]}function n_t(e){return{name:"style",title:"Style",type:"string",options:{list:t_t(e||YCt)}}}function r_t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||WCt}}}const zSe=[VCt];function o_t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[HCt,UCt],annotations:e&&e.annotations?e.annotations:zSe,decorators:e&&e.decorators?e.decorators:QCt},...t.filter(n=>n.type!=="span")]}}const wK=["type","name","title","jsonType","description","options","fieldsets","icon"],XI={name:"span",title:"Span",type:null,jsonType:"object"},i_t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},s_t={name:"text",title:"Text",type:"string"},a_t={},l_t={get(){return XI},extend(e,t){const n={...e.options||a_t},{annotations:r=[],marks:o=[]}=e,i=[i_t,s_t],s=Object.assign(wt(XI,wK),e,{type:XI,options:n});return Hn(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),Hn(s,"annotations",()=>r.map(t)),Hn(s,"marks",()=>o.map(t)),Hn(s,"preview",Sw(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,wt(u,wK),{type:c});return a(d)}}}}};var c_t=Object.freeze({__proto__:null,any:Rwt,array:zCt,block:e_t,boolean:Bwt,crossDatasetReference:DCt,date:Lwt,datetime:Fwt,document:NCt,email:zwt,file:LCt,image:$Ct,number:Vwt,object:NSe,reference:CCt,span:l_t,string:$wt,text:Mwt,url:Nwt});function u_t(e){const t=Object.assign(Object.create(null),c_t),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let d_t=class VSe{static compile(t){return new VSe(t)}constructor(t){this._original=t,this._registry=u_t(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const O8=d_t;var f_t=cT;function h_t(e){return e&&e.length?f_t(e):[]}var p_t=h_t;const co=Oe(p_t),m_t={},g_t=Object.freeze(Object.defineProperty({__proto__:null,default:m_t},Symbol.toStringTag,{value:"Module"})),v_t=yMe(g_t);var P8=typeof Map=="function"&&Map.prototype,QI=Object.getOwnPropertyDescriptor&&P8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ek=P8&&QI&&typeof QI.get=="function"?QI.get:null,CK=P8&&Map.prototype.forEach,R8=typeof Set=="function"&&Set.prototype,JI=Object.getOwnPropertyDescriptor&&R8?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,tk=R8&&JI&&typeof JI.get=="function"?JI.get:null,_K=R8&&Set.prototype.forEach,y_t=typeof WeakMap=="function"&&WeakMap.prototype,eb=y_t?WeakMap.prototype.has:null,b_t=typeof WeakSet=="function"&&WeakSet.prototype,tb=b_t?WeakSet.prototype.has:null,x_t=typeof WeakRef=="function"&&WeakRef.prototype,SK=x_t?WeakRef.prototype.deref:null,w_t=Boolean.prototype.valueOf,C_t=Object.prototype.toString,__t=Function.prototype.toString,S_t=String.prototype.match,$8=String.prototype.slice,Ud=String.prototype.replace,E_t=String.prototype.toUpperCase,EK=String.prototype.toLowerCase,HSe=RegExp.prototype.test,kK=Array.prototype.concat,ic=Array.prototype.join,k_t=Array.prototype.slice,jK=Math.floor,x$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,eO=Object.getOwnPropertySymbols,w$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Di=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Nv||"symbol")?Symbol.toStringTag:null,USe=Object.prototype.propertyIsEnumerable,TK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function AK(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||HSe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-jK(-e):jK(e);if(r!==e){var o=String(r),i=$8.call(t,o.length+1);return Ud.call(o,n,"$&_")+"."+Ud.call(Ud.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ud.call(t,n,"$&_")}var C$=v_t,DK=C$.custom,IK=YSe(DK)?DK:null,j_t=function e(t,n,r,o){var i=n||{};if(Td(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Td(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Td(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Td(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Td(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return GSe(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?AK(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?AK(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return _$(t)?"[Array]":"[Object]";var f=W_t(i,r);if(typeof o>"u")o=[];else if(qSe(o,t)>=0)return"[Circular]";function p(I,O,$){if(O&&(o=k_t.call(o),o.push(O)),$){var R={depth:i.depth};return Td(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),e(I,R,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!OK(t)){var m=M_t(t),v=e_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+ic.call(v,", ")+" }":"")}if(YSe(t)){var g=Nv?Ud.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):w$.call(t);return typeof t=="object"&&!Nv?A1(g):g}if(V_t(t)){for(var b="<"+EK.call(String(t.nodeName)),x=t.attributes||[],y=0;y<x.length;y++)b+=" "+x[y].name+"="+WSe(T_t(x[y].value),"double",i);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+EK.call(String(t.nodeName))+">",b}if(_$(t)){if(t.length===0)return"[]";var w=e_(t,p);return f&&!U_t(w)?"["+S$(w,f)+"]":"[ "+ic.call(w,", ")+" ]"}if(D_t(t)){var C=e_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!USe.call(t,"cause")?"{ ["+String(t)+"] "+ic.call(kK.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+ic.call(C,", ")+" }"}if(typeof t=="object"&&s){if(IK&&typeof t[IK]=="function"&&C$)return C$(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(F_t(t)){var _=[];return CK&&CK.call(t,function(I,O){_.push(p(O,t,!0)+" => "+p(I,t))}),PK("Map",ek.call(t),_,f)}if(N_t(t)){var S=[];return _K&&_K.call(t,function(I){S.push(p(I,t))}),PK("Set",tk.call(t),S,f)}if(L_t(t))return tO("WeakMap");if(z_t(t))return tO("WeakSet");if(B_t(t))return tO("WeakRef");if(O_t(t))return A1(p(Number(t)));if(R_t(t))return A1(p(x$.call(t)));if(P_t(t))return A1(w_t.call(t));if(I_t(t))return A1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===bs)return"{ [object globalThis] }";if(!A_t(t)&&!OK(t)){var E=e_(t,p),j=TK?TK(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Di&&Object(t)===t&&Di in t?$8.call(eh(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+ic.call(kK.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+S$(E,f)+"}":D+"{ "+ic.call(E,", ")+" }"}return String(t)};function WSe(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function T_t(e){return Ud.call(String(e),/"/g,"&quot;")}function _$(e){return eh(e)==="[object Array]"&&(!Di||!(typeof e=="object"&&Di in e))}function A_t(e){return eh(e)==="[object Date]"&&(!Di||!(typeof e=="object"&&Di in e))}function OK(e){return eh(e)==="[object RegExp]"&&(!Di||!(typeof e=="object"&&Di in e))}function D_t(e){return eh(e)==="[object Error]"&&(!Di||!(typeof e=="object"&&Di in e))}function I_t(e){return eh(e)==="[object String]"&&(!Di||!(typeof e=="object"&&Di in e))}function O_t(e){return eh(e)==="[object Number]"&&(!Di||!(typeof e=="object"&&Di in e))}function P_t(e){return eh(e)==="[object Boolean]"&&(!Di||!(typeof e=="object"&&Di in e))}function YSe(e){if(Nv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!w$)return!1;try{return w$.call(e),!0}catch{}return!1}function R_t(e){if(!e||typeof e!="object"||!x$)return!1;try{return x$.call(e),!0}catch{}return!1}var $_t=Object.prototype.hasOwnProperty||function(e){return e in this};function Td(e,t){return $_t.call(e,t)}function eh(e){return C_t.call(e)}function M_t(e){if(e.name)return e.name;var t=S_t.call(__t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function qSe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function F_t(e){if(!ek||!e||typeof e!="object")return!1;try{ek.call(e);try{tk.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function L_t(e){if(!eb||!e||typeof e!="object")return!1;try{eb.call(e,eb);try{tb.call(e,tb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function B_t(e){if(!SK||!e||typeof e!="object")return!1;try{return SK.call(e),!0}catch{}return!1}function N_t(e){if(!tk||!e||typeof e!="object")return!1;try{tk.call(e);try{ek.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function z_t(e){if(!tb||!e||typeof e!="object")return!1;try{tb.call(e,tb);try{eb.call(e,eb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function V_t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function GSe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return GSe($8.call(e,0,t.maxStringLength),t)+r}var o=Ud.call(Ud.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,H_t);return WSe(o,"single",t)}function H_t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+E_t.call(t.toString(16))}function A1(e){return"Object("+e+")"}function tO(e){return e+" { ? }"}function PK(e,t,n,r){var o=r?S$(n,r):ic.call(n,", ");return e+" ("+t+") {"+o+"}"}function U_t(e){for(var t=0;t<e.length;t++)if(qSe(e[t],`
`)>=0)return!1;return!0}function W_t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=ic.call(Array(e.indent+1)," ");else return null;return{base:n,prev:ic.call(Array(t+1),n)}}function S$(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+ic.call(e,","+n)+`
`+t.prev}function e_(e,t){var n=_$(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Td(e,o)?t(e[o],e):""}var i=typeof eO=="function"?eO(e):[],s;if(Nv){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Td(e,c)&&(n&&String(Number(c))===c&&c<e.length||Nv&&s["$"+c]instanceof Symbol||(HSe.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof eO=="function")for(var u=0;u<i.length;u++)USe.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const $g=Oe(j_t);function Y_t(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var q_t=Y_t,G_t=h_e;function K_t(e,t,n,r){return G_t(e,function(o,i,s){t(r,o,n(o),s)}),r}var Z_t=K_t,X_t=q_t,Q_t=Z_t,J_t=Qf,e2t=Kr;function t2t(e,t){return function(n,r){var o=e2t(n)?X_t:Q_t,i=t?t():{};return o(n,e,J_t(r),i)}}var M8=t2t,n2t=M8,r2t=n2t(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),o2t=r2t;const F8=Oe(o2t);var i2t=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const ws=Oe(i2t);var L8={exports:{}};const nO=[],RK=[],KSe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)RK[d]=e.charCodeAt(i+d),nO[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===RK[d]?c:c+1,c=nO[d],a=nO[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};L8.exports=KSe;L8.exports.default=KSe;var s2t=L8.exports;const a2t=Oe(s2t),l2t="https://docs.sanity.io/help/";function ZSe(e){return l2t+e}const nt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function XSe(e,t,n){if(n&&!Object.keys(nt).some(r=>nt[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const Pe=(e,t)=>XSe("error",e,t),Br=(e,t)=>XSe("warning",e,t);function c2t(e){return Dn(e.map(t=>QSe(t))).filter(t=>t.problems.length>0)}function _m(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Vn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return QSe(c,d)}):[[{path:i,problems:[Pe("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...Dn(a)]}}const u2t=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],$K=_m("fields"),d2t=_m("fields"),f2t=_m("fields"),h2t=_m("of"),p2t=_m("to",e=>"to"in e?u2t(e.to):[]),m2t=_m("marks.annotations"),g2t=_m("of"),v2t=(e,t)=>[...m2t(e,t),...g2t(e,t)];function y2t(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function QSe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return $K(e,t);case"document":return $K(e,t);case"array":return h2t(e,t);case"reference":return p2t(e,t);case"block":return v2t(e,t);case"image":return d2t(e,t);case"file":return f2t(e,t);default:return y2t(e,t)}}function fT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const b2t=e=>e,x2t={name:"type",type:null},w2t=["any","time","date"];function C2t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b2t;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=w2t.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function c(v){return v==="type"?x2t:r[v]||o[v]||null}const u=co(Dn(fT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,b)=>n(g,{visit:m(!1),isRoot:v,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:b});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const JSe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],eEe=JSe.map(e=>e.name);function _2t(e,t){return C2t(e,JSe,t)}const S2t=/^Symbol\(react\..+\)$/;function t_(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&S2t.test(String(e==null?void 0:e.$$typeof))}function tEe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!t_(t.input)&&n.push(Br("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat($g(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!t_(t.field)&&n.push(Br("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat($g(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!t_(t.item)&&n.push(Br("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat($g(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!t_(t.preview)&&n.push(Br("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat($g(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const MK=/^[A-Za-z]+[0-9A-Za-z_]*$/,E2t=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function k2t(e){return typeof e!="string"?[Pe('Field names must be strings. Saw "'.concat($g(e),'"'),nt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Pe('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),nt.OBJECT_FIELD_NAME_INVALID)]:MK.test(e)?E2t.test(e)?[]:[Br("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),nt.OBJECT_FIELD_NAME_INVALID]:[Pe('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(MK),")."),nt.OBJECT_FIELD_NAME_INVALID)]}function B8(e,t){if(!_r(e))return[Pe("Incorrect type for field definition - should be an object, saw ".concat($g(e)),nt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?k2t(e.name):[Pe("Missing field name",nt.OBJECT_FIELD_NAME_INVALID)]),n.push(...tEe(e)),n}function j2t(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function N8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[Pe('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),nt.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");j2t(o).forEach(s=>{n.push(Pe("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),nt.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Pe("Object should have at least one field",nt.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(Pe("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),nt.STANDALONE_BLOCK_TYPE))}return n}function T2t(e){return _r(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Pe('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?_r(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Pe('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[Pe('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[Pe('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var nEe=(e,t)=>{let n=N8(e.fields),r=e.preview;if(r){const o=T2t(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Pe('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:B8(o).concat(c||[])}}),_problems:n}},A2t=(e,t)=>{const n=nEe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!_r(r)&&typeof r!="function"&&n._problems.push(Pe('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(Pe('Found property "initialValues" - did you mean "initialValue"?')),n};function D2t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var I2t=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=D2t(e),o=Dn([n?fT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Pe("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.REFERENCE_TO_INVALID)):Pe('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(Pe('The reference type should define at least one accepted type. Please check the "to" property.',nt.REFERENCE_TO_INVALID)),o.push(...O2t(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function O2t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Pe("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Pe("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Pe("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Pe("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Pe('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Pe("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}function FK(e){return e==="string"||e==="number"||e==="boolean"}function P2t(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function nb(e){return'"'.concat(e,'"')}function LK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function BK(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(ws(Object.keys(e).map(nb))):nb(e)}var R2t=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,b,x)=>{if(typeof b.name=="string"&&b.name!==b.type&&eEe.includes(b.name))return g.concat(Pe('Found array member declaration with the same type name as a built-in type ("'.concat(b.name,'"). Array members can not be given the same name as a built-in type.'),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(b.type==="object"&&b.name&&t.getType(b.name))return g.concat(Br('Found array member declaration with the same name as the global schema type "'.concat(b.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(b.type==="array")return g.concat(Pe('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',nt.ARRAY_OF_ARRAY));if(b)return g;const y="Found ".concat(b===null?"null":typeof b,", expected member declaration");return g.concat(Pe("Found invalid type member declaration in array at index ".concat(x,": ").concat(y),nt.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=Dn([i?fT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>Pe("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),nt.ARRAY_OF_NOT_UNIQUE)):Pe('The array type is missing or having an invalid value for the required "of" property',nt.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&c&&s.push(Pe("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",nt.ARRAY_OF_INVALID));const[d,f]=F8(a,v=>{var g;return FK(v.type)||FK((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(b=>b.type),g=f.map(b=>b.type);s.push(Pe("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(LK(v)," ").concat(ws(v.map(nb))," and object type").concat(LK(g)," ").concat(ws(g.map(nb)),")"),nt.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var b;const x=(b=g==null?void 0:g.value)!=null?b:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=ws(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(Pe("An invalid entry found in options.list: ".concat(BK(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),nt.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const b=g._type||"object";f.some(y=>P2t(b,y))||s.push(Pe("An invalid entry found in options.list: ".concat(BK(g),'. Must be an object with "_type" set to ').concat(ws(f.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":nb(y)),{conjunction:"or"})),nt.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Br("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},$2t=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Br('Heads up! The "slugifyFn" option has been renamed to "slugify".',nt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},M2t=(e,t)=>{const n=[],r=e.fields;r&&n.push(...N8(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Pe("Invalid type for file `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(Pe("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:B8(i).concat(u||[])}}),_problems:n}};const NK=["dimensions","hasAlpha","isOpaque"];var F2t=(e,t)=>{const n=[],r=e.fields;r&&n.push(...N8(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>NK.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(Pe("Invalid type for image `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Br("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!NK.includes(u))}):c.length>0&&n.push(Pe("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:B8(u).concat(m||[])}}),_problems:n}};function rEe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return rEe(r,t,n)}const Js=e=>Array.isArray(e)?"array":typeof e,Ew=e=>'"'.concat(e,'"'),L2t=["components","lists","marks","name","of","options","styles","title","type","validation"],B2t=["decorators","annotations"],N2t=["blockEditor","title","value","component"],z2t=["blockEditor","title","value","icon","component"],V2t=["title","value","icon","component"],zK=["file","image","object","reference"];function H2t(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!L2t.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(Pe("Found unknown properties for block declaration: ".concat(ws(a.map(Ew))))),i&&(i=U2t(e.marks,t,n)),r&&(r=Y2t(r,t,n)),o&&(o=W2t(o,t,n)),s&&(s=K2t(s,t,n)),{...Ai(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function U2t(e,t,n){let r=e.decorators,o=e.annotations;if(!_r(e))return n.push(Pe('"marks" declaration should be an object, got '.concat(Js(e)))),n;const i=Object.keys(e).filter(s=>!B2t.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(Pe("Found unknown properties for block declaration: ".concat(ws(i.map(Ew))))),r&&!Array.isArray(r)?n.push(Pe('"marks.decorators" declaration should be an array, got '.concat(Js(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=q2t(r,t,n)),o&&!Array.isArray(o)?n.push(Pe('"marks.annotations" declaration should be an array, got '.concat(Js(o)))):o&&(o=G2t(o,t,n)),{...e,decorators:r,annotations:o}}function W2t(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Pe("List must be an object, got ".concat(Js(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!V2t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Pe("Found unknown properties for list ".concat(i,": ").concat(ws(s.map(Ew))))),r.value?typeof r.value!="string"?n.push(Pe("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(Js(r.value)))):r.title||n.push(Br("List type ".concat(i,' is missing recommended "title" property'))):n.push(Pe("List #".concat(o,' is missing required "value" property')))}),e):(n.push(Pe('"lists" declaration should be an array, got '.concat(Js(e)))),n)}function Y2t(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Pe("Style must be an object, got ".concat(Js(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!N2t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Pe("Found unknown properties for style ".concat(i,": ").concat(ws(s.map(Ew))))),r.value?typeof r.value!="string"?n.push(Pe("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(Js(r.value)))):r.title||n.push(Br("Style ".concat(i,' is missing recommended "title" property'))):n.push(Pe("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Br('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Pe('"styles" declaration should be an array, got '.concat(Js(e)))),n)}function q2t(e,t,n){return e.forEach((r,o)=>{if(!_r(r)){n.push(Pe("Annotation must be an object, got ".concat(Js(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!z2t.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Pe("Found unknown properties for decorator ".concat(i,": ").concat(ws(s.map(Ew))))),r.value?typeof r.value!="string"?n.push(Pe("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(Js(r.value)))):r.title||n.push(Br("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(Pe("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Br('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function G2t(e,t,n){return e.map(r=>{var o,i;if(!_r(r))return{...r,_problems:[Pe("Annotation must be an object, got ".concat(Js(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!rEe(a,"object",t)&&s.push(Pe('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Br('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function K2t(e,t,n){if(!Array.isArray(e)){n.push(Pe('"of" declaration should be an array, got '.concat(Js(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Br('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=eEe.filter(a=>!zK.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[Pe("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(zK.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function Z2t(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Pe('Type has propery "fields", but is not an object/document type.')]:[]}const X2t=e=>'"'.concat(e,'"');function Q2t(e,t){const n=t.getTypeNames();if(!e)return[Pe("Type is missing a type. Valid types are: ".concat(ws(n)),nt.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Pe('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(ws(n)),nt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[a2t(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(ws(o.map(X2t),{conjunction:"or"}),"?"):"";return[Pe("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(ws(n)))]}return[]}function J2t(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Br('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Br('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Br('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Br('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Br('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var VK=(e,t)=>({...e,_problems:[...Q2t(e.type,t),...Z2t(e,t),...J2t(e)].filter(Boolean)}),eSt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Pe("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",nt.TYPE_INVALID)]};const r=[];return tSt(e)?r.push(Pe("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",nt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Pe('Invalid type name: "'.concat(e.name,'" is a reserved name.'),nt.TYPE_NAME_RESERVED)):r.push(Pe("Missing type name",nt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Pe('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...tEe(e)),"title"in e&&typeof e.title!="string"&&r.push(Br("Type title is not a string.",nt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function tSt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function nSt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const rSt=/^[a-z0-9~][-_a-z0-9]+$/;function oSt(e){return e.length>=2&&e.toLowerCase()===e&&rSt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var iSt=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=nSt(e),o=Dn([n?fT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Pe("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.CROSS_DATASET_REFERENCE_INVALID)):Pe('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(Pe('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',nt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(Pe("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),nt.CROSS_DATASET_REFERENCE_INVALID)),_r(i.preview)||o.push(Pe('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),nt.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=oSt(e.dataset);i!==!0&&o.push(Pe(i,nt.CROSS_DATASET_REFERENCE_INVALID))}else o.push(Pe("A cross dataset reference must specify a `dataset`",nt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(Pe('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',nt.CROSS_DATASET_REFERENCE_INVALID)),o.push(...sSt(e)),{...e,_problems:o}};function sSt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Pe("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Pe("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Pe("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Pe("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Pe('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Pe("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}const aSt={array:R2t,object:nEe,slug:$2t,file:M2t,image:F2t,block:H2t,document:A2t,reference:I2t,crossDatasetReference:iSt},lSt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function HK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function cSt(e){return _2t(e,(t,n)=>{const r=t&&t.type&&aSt[t.type]||lSt(n);return n.isRoot?HK(eSt,VK,r)(t,n):HK(VK,r)(t,n)})}const E$="__experimental_actions",oEe=["create","update","delete","publish"],rO=oEe,uSt=e=>E$ in e?e[E$]:oEe,dSt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(E$," should be an array with any of the actions ").concat(rO.join(", ")));const n=Qb(t,rO);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(rO.join(", ")));return t},fSt=e=>dSt(e.name,uSt(e)),UK=(e,t)=>fSt(e).includes(t);var hSt=A8,pSt=1,mSt=4;function gSt(e){return hSt(e,pSt|mSt)}var vSt=gSt;const ySt=Oe(vSt);function qe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function bSt(e){return qe(1,arguments),e instanceof Date||Tl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ke(e){qe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Tl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bu(e){if(qe(1,arguments),!bSt(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function xSt(e,t){qe(2,arguments);var n=Ke(e).getTime(),r=jt(t);return new Date(n+r)}function iEe(e,t){qe(2,arguments);var n=jt(t);return xSt(e,-n)}var wSt=864e5;function CSt(e){qe(1,arguments);var t=Ke(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/wSt)+1}function zv(e){qe(1,arguments);var t=1,n=Ke(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function sEe(e){qe(1,arguments);var t=Ke(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=zv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=zv(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function _St(e){qe(1,arguments);var t=sEe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=zv(n);return r}var SSt=6048e5;function aEe(e){qe(1,arguments);var t=Ke(e),n=zv(t).getTime()-_St(t).getTime();return Math.round(n/SSt)+1}var ESt={};function sd(){return ESt}function zp(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=sd(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function z8(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=Ke(e),f=d.getUTCFullYear(),p=sd(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=zp(v,t),b=new Date(0);b.setUTCFullYear(f,0,m),b.setUTCHours(0,0,0,0);var x=zp(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function kSt(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=sd(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=z8(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=zp(m,t);return v}var jSt=6048e5;function lEe(e,t){qe(1,arguments);var n=Ke(e),r=zp(n,t).getTime()-kSt(n,t).getTime();return Math.round(r/jSt)+1}function vn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var TSt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return vn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):vn(r+1,2)},d:function(t,n){return vn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return vn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return vn(t.getUTCHours(),n.length)},m:function(t,n){return vn(t.getUTCMinutes(),n.length)},s:function(t,n){return vn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return vn(i,n.length)}};const vd=TSt;var Um={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ASt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return vd.y(t,n)},Y:function(t,n,r,o){var i=z8(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return vn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):vn(s,n.length)},R:function(t,n){var r=sEe(t);return vn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return vn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return vn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return vn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return vd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return vn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=lEe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):vn(i,n.length)},I:function(t,n,r){var o=aEe(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):vn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):vd.d(t,n)},D:function(t,n,r){var o=CSt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):vn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return vn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return vn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return vn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=Um.noon:o===0?i=Um.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=Um.evening:o>=12?i=Um.afternoon:o>=4?i=Um.morning:i=Um.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return vd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):vn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):vn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vd.s(t,n)},S:function(t,n){return vd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return YK(s);case"XXXX":case"XX":return Vh(s);case"XXXXX":case"XXX":default:return Vh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return YK(s);case"xxxx":case"xx":return Vh(s);case"xxxxx":case"xxx":default:return Vh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+WK(s,":");case"OOOO":default:return"GMT"+Vh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+WK(s,":");case"zzzz":default:return"GMT"+Vh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return vn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return vn(s,n.length)}};function WK(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+vn(i,2)}function YK(e,t){if(e%60===0){var n=e>0?"-":"+";return n+vn(Math.abs(e)/60,2)}return Vh(e,t)}function Vh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=vn(Math.floor(o/60),2),s=vn(o%60,2);return r+i+n+s}const DSt=ASt;var qK=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},cEe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ISt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return qK(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",qK(o,n)).replace("{{time}}",cEe(i,n))},OSt={p:cEe,P:ISt};const k$=OSt;function nk(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var PSt=["D","DD"],RSt=["YY","YYYY"];function uEe(e){return PSt.indexOf(e)!==-1}function dEe(e){return RSt.indexOf(e)!==-1}function rk(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $St={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MSt=function(t,n,r){var o,i=$St[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const FSt=MSt;function oO(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var LSt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BSt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},NSt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zSt={date:oO({formats:LSt,defaultWidth:"full"}),time:oO({formats:BSt,defaultWidth:"full"}),dateTime:oO({formats:NSt,defaultWidth:"full"})};const VSt=zSt;var HSt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},USt=function(t,n,r,o){return HSt[t]};const WSt=USt;function D1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var YSt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qSt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},GSt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KSt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZSt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XSt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QSt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},JSt={ordinalNumber:QSt,era:D1({values:YSt,defaultWidth:"wide"}),quarter:D1({values:qSt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:D1({values:GSt,defaultWidth:"wide"}),day:D1({values:KSt,defaultWidth:"wide"}),dayPeriod:D1({values:ZSt,defaultWidth:"wide",formattingValues:XSt,defaultFormattingWidth:"wide"})};const eEt=JSt;function I1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?nEt(a,function(f){return f.test(s)}):tEt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function tEt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function nEt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function rEt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var oEt=/^(\d+)(th|st|nd|rd)?/i,iEt=/\d+/i,sEt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aEt={any:[/^b/i,/^(a|c)/i]},lEt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cEt={any:[/1/i,/2/i,/3/i,/4/i]},uEt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dEt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fEt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hEt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pEt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mEt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gEt={ordinalNumber:rEt({matchPattern:oEt,parsePattern:iEt,valueCallback:function(t){return parseInt(t,10)}}),era:I1({matchPatterns:sEt,defaultMatchWidth:"wide",parsePatterns:aEt,defaultParseWidth:"any"}),quarter:I1({matchPatterns:lEt,defaultMatchWidth:"wide",parsePatterns:cEt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:I1({matchPatterns:uEt,defaultMatchWidth:"wide",parsePatterns:dEt,defaultParseWidth:"any"}),day:I1({matchPatterns:fEt,defaultMatchWidth:"wide",parsePatterns:hEt,defaultParseWidth:"any"}),dayPeriod:I1({matchPatterns:pEt,defaultMatchWidth:"any",parsePatterns:mEt,defaultParseWidth:"any"})};const vEt=gEt;var yEt={code:"en-US",formatDistance:FSt,formatLong:VSt,formatRelative:WSt,localize:eEt,match:vEt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const fEe=yEt;var bEt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xEt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wEt=/^'([^]*?)'?$/,CEt=/''/g,_Et=/[a-zA-Z]/;function Ko(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,C;qe(2,arguments);var _=String(t),S=sd(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:fEe,j=jt((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=jt((m=(v=(g=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ke(e);if(!Bu(T))throw new RangeError("Invalid time value");var A=nk(T),D=iEe(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},O=_.match(xEt).map(function($){var R=$[0];if(R==="p"||R==="P"){var V=k$[R];return V($,E.formatLong)}return $}).join("").match(bEt).map(function($){if($==="''")return"'";var R=$[0];if(R==="'")return SEt($);var V=DSt[R];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&dEe($)&&rk($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&uEe($)&&rk($,t,String(e)),V(D,$,E.localize,I);if(R.match(_Et))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return $}).join("");return O}function SEt(e){var t=e.match(wEt);return t?t[1].replace(CEt,"'"):e}var EEt=Rc,kEt=0;function jEt(e){var t=++kEt;return EEt(e)+t}var TEt=jEt;const hEe=Oe(TEt);function Hi(e,t){qe(2,arguments);var n=Ke(e),r=jt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function V8(e,t){qe(2,arguments);var n=Ke(e),r=jt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Vv(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=sd(),f=jt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Ff(e){qe(1,arguments);var t=Ke(e);return t.setHours(0,0,0,0),t}var AEt=864e5;function DEt(e,t){qe(2,arguments);var n=Ff(e),r=Ff(t),o=n.getTime()-nk(n),i=r.getTime()-nk(r);return Math.round((o-i)/AEt)}function IEt(e,t){qe(2,arguments);var n=jt(t),r=n*7;return Hi(e,r)}function rb(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var hT=6e4,pT=36e5,OEt=1e3;function Md(e,t){qe(2,arguments);var n=Ff(e),r=Ff(t);return n.getTime()===r.getTime()}function PEt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function REt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()-r.getFullYear()}function GK(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function pEe(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=GK(n,r),i=Math.abs(DEt(n,r));n.setDate(n.getDate()-o*i);var s=+(GK(n,r)===-o),a=o*(i-s);return a===0?0:a}function H8(e,t){return qe(2,arguments),Ke(e).getTime()-Ke(t).getTime()}var KK={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},$Et="trunc";function mT(e){return e?KK[e]:KK[$Et]}function MEt(e,t,n){qe(2,arguments);var r=H8(e,t)/pT;return mT(n==null?void 0:n.roundingMethod)(r)}function FEt(e,t,n){qe(2,arguments);var r=H8(e,t)/hT;return mT(n==null?void 0:n.roundingMethod)(r)}function ok(e){qe(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function LEt(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function BEt(e){qe(1,arguments);var t=Ke(e);return ok(t).getTime()===LEt(t).getTime()}function NEt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=rb(n,r),i=Math.abs(PEt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=rb(n,r)===-o;BEt(Ke(e))&&i===1&&rb(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function zEt(e,t,n){qe(2,arguments);var r=H8(e,t)/1e3;return mT(n==null?void 0:n.roundingMethod)(r)}function VEt(e,t,n){qe(2,arguments);var r=pEe(e,t)/7;return mT(n==null?void 0:n.roundingMethod)(r)}function HEt(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t),o=rb(n,r),i=Math.abs(REt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=rb(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function ZK(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(0,0),t}function mEe(e,t){qe(1,arguments);var n=e||{},r=Ke(n.start),o=Ke(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Vv(r,t),a=Vv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Ke(u)),u=IEt(u,1),u.setHours(15);return c}function gEe(e){qe(1,arguments);var t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function XK(e){qe(1,arguments);var t=Ke(e);return t.setSeconds(59,999),t}function UEt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function WEt(e){qe(1,arguments);var t=Ke(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function YEt(e){qe(1,arguments);var t=Ke(e),n=t.getMinutes();return n}function qEt(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=Ke(e),f=d.getFullYear(),p=sd(),m=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Vv(v,t),b=new Date(0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);var x=Vv(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function GEt(e,t){var n,r,o,i,s,a,c,u;qe(1,arguments);var d=sd(),f=jt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=qEt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Vv(m,t);return v}var KEt=6048e5;function vEe(e,t){qe(1,arguments);var n=Ke(e),r=Vv(n,t).getTime()-GEt(n,t).getTime();return Math.round(r/KEt)+1}function yEe(e){qe(1,arguments);var t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function j$(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()>r.getTime()}function bEe(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getTime()<r.getTime()}function QK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZEt(e,t){if(e){if(typeof e=="string")return QK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QK(e,t)}}function JK(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ZEt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function ik(e){return ik=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ik(e)}function XEt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function QEt(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function cn(e){var t=XEt();return function(){var r=ik(e),o;if(t){var i=ik(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return QEt(this,o)}}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N_e(r.key),r)}}function Kt(e,t,n){return t&&eZ(e.prototype,t),n&&eZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var JEt=10,xEe=function(){function e(){Gt(this,e),Be(this,"priority",void 0),Be(this,"subPriority",0)}return Kt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),ekt=function(e){ln(n,e);var t=cn(n);function n(r,o,i,s,a){var c;return Gt(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return Kt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(xEe),tkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",JEt),Be(ze(r),"subPriority",-1),r}return Kt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(xEe),mn=function(){function e(){Gt(this,e),Be(this,"incompatibleTokens",void 0),Be(this,"priority",void 0),Be(this,"subPriority",void 0)}return Kt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new ekt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),nkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",140),Be(ze(r),"incompatibleTokens",["R","u","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),qr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},uc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ar(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function dc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*pT+i*hT+s*OEt),rest:t.slice(n[0].length)}}function wEe(e){return Ar(qr.anyDigitsSigned,e)}function Vr(e,t){switch(e){case 1:return Ar(qr.singleDigit,t);case 2:return Ar(qr.twoDigits,t);case 3:return Ar(qr.threeDigits,t);case 4:return Ar(qr.fourDigits,t);default:return Ar(new RegExp("^\\d{1,"+e+"}"),t)}}function sk(e,t){switch(e){case 1:return Ar(qr.singleDigitSigned,t);case 2:return Ar(qr.twoDigitsSigned,t);case 3:return Ar(qr.threeDigitsSigned,t);case 4:return Ar(qr.fourDigitsSigned,t);default:return Ar(new RegExp("^-?\\d{1,"+e+"}"),t)}}function U8(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function CEe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function _Ee(e){return e%400===0||e%4===0&&e%100!==0}var rkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Gr(Vr(4,o),a);case"yo":return Gr(s.ordinalNumber(o,{unit:"year"}),a);default:return Gr(Vr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=CEe(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),okt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Gr(Vr(4,o),a);case"Yo":return Gr(s.ordinalNumber(o,{unit:"year"}),a);default:return Gr(Vr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=z8(o,a);if(s.isTwoDigitYear){var u=CEe(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),zp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),zp(o,a)}}]),n}(mn),ikt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i){return sk(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),zv(a)}}]),n}(mn),skt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",130),Be(ze(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i){return sk(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),akt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",120),Be(ze(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Vr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),lkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",120),Be(ze(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Vr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),ckt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Be(ze(r),"priority",110),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Gr(Ar(qr.month,o),a);case"MM":return Gr(Vr(2,o),a);case"Mo":return Gr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn),ukt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",110),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Gr(Ar(qr.month,o),a);case"LL":return Gr(Vr(2,o),a);case"Lo":return Gr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function dkt(e,t,n){qe(2,arguments);var r=Ke(e),o=jt(t),i=lEe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var fkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",100),Be(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Ar(qr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return zp(dkt(o,s,a),a)}}]),n}(mn);function hkt(e,t){qe(2,arguments);var n=Ke(e),r=jt(t),o=aEe(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var pkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",100),Be(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Ar(qr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return zv(hkt(o,s))}}]),n}(mn),mkt=[31,28,31,30,31,30,31,31,30,31,30,31],gkt=[31,29,31,30,31,30,31,31,30,31,30,31],vkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"subPriority",1),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Ar(qr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=_Ee(s),c=o.getUTCMonth();return a?i>=1&&i<=gkt[c]:i>=1&&i<=mkt[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),ykt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"subpriority",1),Be(ze(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Ar(qr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=_Ee(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function W8(e,t,n){var r,o,i,s,a,c,u,d;qe(2,arguments);var f=sd(),p=jt((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ke(e),v=jt(t),g=m.getUTCDay(),b=v%7,x=(b+7)%7,y=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+y),m}var bkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=W8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),xkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Gr(Vr(i.length,o),c);case"eo":return Gr(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=W8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn),wkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Gr(Vr(i.length,o),c);case"co":return Gr(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=W8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(mn);function Ckt(e,t){qe(2,arguments);var n=jt(t);n%7===0&&(n=n-7);var r=1,o=Ke(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var _kt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",90),Be(ze(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Vr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Gr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Gr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Gr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Gr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=Ckt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(mn),Skt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",80),Be(ze(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(U8(s),0,0,0),o}}]),n}(mn),Ekt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",80),Be(ze(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(U8(s),0,0,0),o}}]),n}(mn),kkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",80),Be(ze(r),"incompatibleTokens",["a","b","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(U8(s),0,0,0),o}}]),n}(mn),jkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Ar(qr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),Tkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Ar(qr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(mn),Akt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Ar(qr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(mn),Dkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",70),Be(ze(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Ar(qr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(mn),Ikt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",60),Be(ze(r),"incompatibleTokens",["t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Ar(qr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(mn),Okt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",50),Be(ze(r),"incompatibleTokens",["t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Ar(qr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Vr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(mn),Pkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",30),Be(ze(r),"incompatibleTokens",["t","T"]),r}return Kt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Gr(Vr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(mn),Rkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",10),Be(ze(r),"incompatibleTokens",["t","T","x"]),r}return Kt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return dc(uc.basicOptionalMinutes,o);case"XX":return dc(uc.basic,o);case"XXXX":return dc(uc.basicOptionalSeconds,o);case"XXXXX":return dc(uc.extendedOptionalSeconds,o);case"XXX":default:return dc(uc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),$kt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",10),Be(ze(r),"incompatibleTokens",["t","T","X"]),r}return Kt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return dc(uc.basicOptionalMinutes,o);case"xx":return dc(uc.basic,o);case"xxxx":return dc(uc.basicOptionalSeconds,o);case"xxxxx":return dc(uc.extendedOptionalSeconds,o);case"xxx":default:return dc(uc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(mn),Mkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",40),Be(ze(r),"incompatibleTokens","*"),r}return Kt(n,[{key:"parse",value:function(o){return wEe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(mn),Fkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Gt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(ze(r),"priority",20),Be(ze(r),"incompatibleTokens","*"),r}return Kt(n,[{key:"parse",value:function(o){return wEe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(mn),Lkt={G:new nkt,y:new rkt,Y:new okt,R:new ikt,u:new skt,Q:new akt,q:new lkt,M:new ckt,L:new ukt,w:new fkt,I:new pkt,d:new vkt,D:new ykt,E:new bkt,e:new xkt,c:new wkt,i:new _kt,a:new Skt,b:new Ekt,B:new kkt,h:new jkt,H:new Tkt,K:new Akt,k:new Dkt,m:new Ikt,s:new Okt,S:new Pkt,X:new Rkt,x:new $kt,t:new Mkt,T:new Fkt},Bkt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nkt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zkt=/^'([^]*?)'?$/,Vkt=/''/g,Hkt=/\S/,Ukt=/[a-zA-Z]/;function Wkt(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,C,_;qe(3,arguments);var S=String(e),E=String(t),j=sd(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:fEe;if(!k.match)throw new RangeError("locale must contain match property");var T=jt((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=jt((v=(g=(b=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Ke(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new tkt],O=E.match(Nkt).map(function(G){var J=G[0];if(J in k$){var X=k$[J];return X(G,k.formatLong)}return G}).join("").match(Bkt),$=[],R=JK(O),V;try{var M=function(){var J=V.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&dEe(J)&&rk(J,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&uEe(J)&&rk(J,E,e);var X=J[0],ee=Lkt[X];if(ee){var oe=ee.incompatibleTokens;if(Array.isArray(oe)){var de=$.find(function(ve){return oe.includes(ve.token)||ve.token===X});if(de)throw new RangeError("The format string mustn't contain `".concat(de.fullToken,"` and `").concat(J,"` at the same time"))}else if(ee.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(J,"` and any other token at the same time"));$.push({token:X,fullToken:J});var le=ee.run(S,J,k.match,D);if(!le)return{v:new Date(NaN)};I.push(le.setter),S=le.rest}else{if(X.match(Ukt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");if(J==="''"?J="'":X==="'"&&(J=Ykt(J)),S.indexOf(J)===0)S=S.slice(J.length);else return{v:new Date(NaN)}}};for(R.s();!(V=R.n()).done;){var H=M();if(Tl(H)==="object")return H.v}}catch(G){R.e(G)}finally{R.f()}if(S.length>0&&Hkt.test(S))return new Date(NaN);var q=I.map(function(G){return G.priority}).sort(function(G,J){return J-G}).filter(function(G,J,X){return X.indexOf(G)===J}).map(function(G){return I.filter(function(J){return J.priority===G}).sort(function(J,X){return X.subPriority-J.subPriority})}).map(function(G){return G[0]}),U=Ke(n);if(isNaN(U.getTime()))return new Date(NaN);var W=iEe(U,nk(U)),Q={},N=JK(q),K;try{for(N.s();!(K=N.n()).done;){var z=K.value;if(!z.validate(W,D))return new Date(NaN);var Z=z.set(W,Q,D);Array.isArray(Z)?(W=Z[0],UEt(Q,Z[1])):W=Z}}catch(G){N.e(G)}finally{N.f()}return W}function Ykt(e){return e.match(zkt)[1].replace(Vkt,"'")}function SEe(e,t){qe(2,arguments);var n=Ke(e),r=Ke(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function qkt(e,t){qe(2,arguments);var n=jt(t);return Hi(e,-n)}function Gkt(e,t){var n;qe(1,arguments);var r=jt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Qkt(e),i;if(o.date){var s=Jkt(o.date,r);i=e5t(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=t5t(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=n5t(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var n_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Kkt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Zkt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xkt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Qkt(e){var t={},n=e.split(n_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],n_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(n_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=n_.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function Jkt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function e5t(e,t){if(t===null)return new Date(NaN);var n=e.match(Kkt);if(!n)return new Date(NaN);var r=!!n[4],o=O1(n[1]),i=O1(n[2])-1,s=O1(n[3]),a=O1(n[4]),c=O1(n[5])-1;if(r)return a5t(t,a,c)?r5t(t,a,c):new Date(NaN);var u=new Date(0);return!i5t(t,i,s)||!s5t(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function O1(e){return e?parseInt(e):1}function t5t(e){var t=e.match(Zkt);if(!t)return NaN;var n=iO(t[1]),r=iO(t[2]),o=iO(t[3]);return l5t(n,r,o)?n*pT+r*hT+o*1e3:NaN}function iO(e){return e&&parseFloat(e.replace(",","."))||0}function n5t(e){if(e==="Z")return 0;var t=e.match(Xkt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return c5t(r,o)?n*(r*pT+o*hT):NaN}function r5t(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var o5t=[31,null,31,30,31,30,31,31,30,31,30,31];function EEe(e){return e%400===0||e%4===0&&e%100!==0}function i5t(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(o5t[t]||(EEe(e)?29:28))}function s5t(e,t){return t>=1&&t<=(EEe(e)?366:365)}function a5t(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function l5t(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function c5t(e,t){return t>=0&&t<=59}function kEe(e,t){qe(2,arguments);var n=Ke(e),r=jt(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=WEt(s);return n.setMonth(r,Math.min(i,a)),n}function u5t(e,t){if(qe(2,arguments),Tl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ke(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=kEe(n,t.month)),t.date!=null&&n.setDate(jt(t.date)),t.hours!=null&&n.setHours(jt(t.hours)),t.minutes!=null&&n.setMinutes(jt(t.minutes)),t.seconds!=null&&n.setSeconds(jt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(jt(t.milliseconds)),n)}function d5t(e,t){qe(2,arguments);var n=Ke(e),r=jt(t);return n.setDate(r),n}function sO(e,t){qe(2,arguments);var n=Ke(e),r=jt(t);return n.setHours(r),n}function K2(e,t){qe(2,arguments);var n=Ke(e),r=jt(t);return n.setMinutes(r),n}function f5t(e,t){qe(2,arguments);var n=Ke(e),r=jt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function tZ(){return Ff(Date.now())}function h5t(e,t){qe(2,arguments);var n=jt(t);return V8(e,-n)}function nZ(e,t){if(qe(2,arguments),!t||Tl(t)!=="object")return new Date(NaN);var n=t.years?jt(t.years):0,r=t.months?jt(t.months):0,o=t.weeks?jt(t.weeks):0,i=t.days?jt(t.days):0,s=t.hours?jt(t.hours):0,a=t.minutes?jt(t.minutes):0,c=t.seconds?jt(t.seconds):0,u=h5t(e,r+n*12),d=qkt(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const Y8=[],q8=[],jEe=new Set,kw=new Map,jw=new Map,TEe=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,ak=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),AEe=(e,t,n)=>{if(!e.length||jEe.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return ak(c===""?t[u-1]:c,d)})}return t},DEe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?ak(e,o):t.has(o)?ak(e,t.get(o)):AEe(o,e,r)},IEe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:AEe(o,o,r)===o},Nr=(e,t,n)=>{const r=t===1?Nr.singular(e):Nr.plural(e);return n?"".concat(t," ").concat(r):r};Nr.plural=e=>DEe(e,jw,kw,Y8);Nr.singular=e=>DEe(e,kw,jw,q8);Nr.addPluralRule=(e,t)=>{Y8.push([TEe(e),t])};Nr.addSingularRule=(e,t)=>{q8.push([TEe(e),t])};Nr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();jw.set(r,n),kw.set(n,r)};Nr.addUncountableRule=e=>{if(typeof e=="string"){jEe.add(e.toLowerCase());return}Nr.addPluralRule(e,"$0"),Nr.addSingularRule(e,"$0")};Nr.isPlural=e=>IEe(e,jw,kw,Y8);Nr.isSingular=e=>IEe(e,kw,jw,q8);const p5t=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],m5t=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],g5t=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],v5t=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of p5t)Nr.addIrregularRule(e,t);for(const[e,t]of m5t)Nr.addPluralRule(e,t);for(const[e,t]of g5t)Nr.addSingularRule(e,t);for(const e of v5t)Nr.addUncountableRule(e);var OEe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(bs,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(A[O]=I[O])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,O=new Array(D);I<D;I++)O[I]=A[I];return O}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var O=0;return function(){return O>=A.length?{done:!0}:{done:!1,value:A[O++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],O=D[2],$=D[3];if(!I||!O||!$)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var R=O.split("x"),V=R[0],M=R[1],H=+V,q=+M,U=isFinite(H)&&isFinite(q);if(!U)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:H,height:q,format:$}}var c=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(c(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function b(A){var D=n({},A||{}),I=D.source;delete D.source;var O=f(I);if(!O)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var $=O.asset._ref||O.asset._id||"",R=a($),V=Math.round(O.crop.left*R.width),M=Math.round(O.crop.top*R.height),H={left:V,top:M,width:Math.round(R.width-O.crop.right*R.width-V),height:Math.round(R.height-O.crop.bottom*R.height-M)},q=O.hotspot.height*R.height/2,U=O.hotspot.width*R.width/2,W=O.hotspot.x*R.width,Q=O.hotspot.y*R.height,N={left:W-U,top:Q-q,right:W+U,bottom:Q+q};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,y({crop:H,hotspot:N},D))),x(n({},D,{asset:R}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,O=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,$=[];if(A.rect){var R=A.rect,V=R.left,M=R.top,H=R.width,q=R.height,U=V!==0||M!==0||q!==A.asset.height||H!==A.asset.width;U&&$.push("rect="+V+","+M+","+H+","+q)}A.bg&&$.push("bg="+A.bg),A.focalPoint&&($.push("fp-x="+A.focalPoint.x),$.push("fp-y="+A.focalPoint.y));var W=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return W&&$.push("flip="+W),g.forEach(function(Q){var N=Q[0],K=Q[1];typeof A[N]<"u"?$.push(K+"="+encodeURIComponent(A[N])):typeof A[K]<"u"&&$.push(K+"="+encodeURIComponent(A[K]))}),$.length===0?O:O+"?"+$.join("&")}function y(A,D){var I,O=D.width,$=D.height;if(!(O&&$))return{width:O,height:$,rect:A.crop};var R=A.crop,V=A.hotspot,M=O/$,H=R.width/R.height;if(H>M){var q=Math.round(R.height),U=Math.round(q*M),W=Math.max(0,Math.round(R.top)),Q=Math.round((V.right-V.left)/2+V.left),N=Math.max(0,Math.round(Q-U/2));N<R.left?N=R.left:N+U>R.left+R.width&&(N=R.left+R.width-U),I={left:N,top:W,width:U,height:q}}else{var K=R.width,z=Math.round(K/M),Z=Math.max(0,Math.round(R.left)),G=Math.round((V.bottom-V.top)/2+V.top),J=Math.max(0,Math.round(G-z/2));J<R.top?J=R.top:J+z>R.top+R.height&&(J=R.top+R.height-z),I={left:Z,top:J,width:K,height:z}}return{width:O,height:$,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),O;!(O=I()).done;){var $=O.value,R=$[0],V=$[1];if(A===R||A===V)return R}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,O=D.projectId,$=D.dataset,R=I||"https://api.sanity.io";return new T(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:O,dataset:$})}var V=A;if(E(V)){var M=V.clientConfig,H=M.apiHost,q=M.projectId,U=M.dataset,W=H||"https://api.sanity.io";return new T(null,{baseUrl:W.replace(/^https:\/\/api\./,"https://cdn."),projectId:q,dataset:U})}return new T(null,A)}var T=function(){function A(I,O){this.options=void 0,this.options=I?n({},I.options||{},O||{}):n({},O||{})}var D=A.prototype;return D.withOptions=function(O){var $=O.baseUrl||this.options.baseUrl,R={baseUrl:$};for(var V in O)if(O.hasOwnProperty(V)){var M=j(V);R[M]=O[V]}return new A(this,n({baseUrl:$},R))},D.image=function(O){return this.withOptions({source:O})},D.dataset=function(O){return this.withOptions({dataset:O})},D.projectId=function(O){return this.withOptions({projectId:O})},D.bg=function(O){return this.withOptions({bg:O})},D.dpr=function(O){return this.withOptions(O&&O!==1?{dpr:O}:{})},D.width=function(O){return this.withOptions({width:O})},D.height=function(O){return this.withOptions({height:O})},D.focalPoint=function(O,$){return this.withOptions({focalPoint:{x:O,y:$}})},D.maxWidth=function(O){return this.withOptions({maxWidth:O})},D.minWidth=function(O){return this.withOptions({minWidth:O})},D.maxHeight=function(O){return this.withOptions({maxHeight:O})},D.minHeight=function(O){return this.withOptions({minHeight:O})},D.size=function(O,$){return this.withOptions({width:O,height:$})},D.blur=function(O){return this.withOptions({blur:O})},D.sharpen=function(O){return this.withOptions({sharpen:O})},D.rect=function(O,$,R,V){return this.withOptions({rect:{left:O,top:$,width:R,height:V}})},D.format=function(O){return this.withOptions({format:O})},D.invert=function(O){return this.withOptions({invert:O})},D.orientation=function(O){return this.withOptions({orientation:O})},D.quality=function(O){return this.withOptions({quality:O})},D.forceDownload=function(O){return this.withOptions({download:O})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(O){if(w.indexOf(O)===-1)throw new Error('Invalid fit mode "'+O+'"');return this.withOptions({fit:O})},D.crop=function(O){if(C.indexOf(O)===-1)throw new Error('Invalid crop mode "'+O+'"');return this.withOptions({crop:O})},D.saturation=function(O){return this.withOptions({saturation:O})},D.auto=function(O){if(_.indexOf(O)===-1)throw new Error('Invalid auto mode "'+O+'"');return this.withOptions({auto:O})},D.pad=function(O){return this.withOptions({pad:O})},D.url=function(){return b(this.options)},D.toString=function(){return this.url()},A}();return k})})(OEe);var y5t=OEe.exports;const gT=Oe(y5t);function b5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tx(e,t)}function T$(e){return T$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T$(e)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},tx(e,t)}function x5t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z2(e,t,n){return x5t()?Z2=Reflect.construct.bind():Z2=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&tx(u,s.prototype),u},Z2.apply(null,arguments)}function w5t(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function A$(e){var t=typeof Map=="function"?new Map:void 0;return A$=function(r){if(r===null||!w5t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Z2(r,arguments,T$(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),tx(o,r)},A$(e)}var r_=Object.freeze({left:0,top:0,bottom:0,right:0}),o_=Object.freeze({x:.5,y:.5,height:1,width:1}),C5t=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=r_.top,a=r_.bottom,c=r_.left,u=r_.right;return n===s&&r===a&&o===c&&i===u},_5t=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=o_.x,a=o_.y,c=o_.width,u=o_.height;return n===s&&r===a&&o===c&&i===u},G8=function(e){b5t(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(A$(Error));function S5t(e){var t=e;return!!(t.unresolvable&&"input"in t)}function E5t(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(S5t(t))return;throw t}}}var Fd="https://cdn.sanity.io",k5t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,j5t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,PEe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,REe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function T5t(e){return Tw(e)&&typeof e._ref=="string"}function A5t(e){return Tw(e)&&typeof e._id=="string"}function D5t(e){return Tw(e)&&typeof e.path=="string"}function I5t(e){return Tw(e)&&typeof e.url=="string"}function O5t(e){var t=e;return Tw(t)&&t.asset&&typeof t.asset=="object"}function Tw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function P5t(e){if(PEe.test(e))return e;if(!e.startsWith(Fd+"/"))throw new G8('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Fd.length+1,n)}var R5t="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function $5t(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+R5t+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function M5t(e){var t=$Ee(e),n=$5t(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function $Ee(e){var t=O5t(e)?e.asset:e,n="";typeof t=="string"?n=F5t(t):T5t(t)?n=t._ref:A5t(t)?n=t._id:D5t(t)?n=Mg(Fd+"/"+t.path):I5t(t)&&(n=Mg(t.url));var r=n&&REe.test(n);if(!r)throw new G8(e);return n}var MEe=E5t($Ee);function F5t(e){if(REe.test(e))return e;if(e.indexOf(Fd+"/images")===0||e.indexOf(Fd+"/files")===0)return Mg(e);if(PEe.test(e))return Mg(Fd+"/"+e);if(B5t(e))return Mg(Fd+"/files/a/b/"+e);if(L5t(e))return Mg(Fd+"/images/a/b/"+e);throw new G8(e)}function Mg(e){var t=P5t(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function L5t(e){return j5t.test(e)}function B5t(e){return k5t.test(e)}function rZ(e){var t=MEe(e);return t?t.startsWith("file-"):!1}function ob(e){var t=MEe(e);return t?t.startsWith("image-"):!1}function N5t(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var z5t=N5t;const vT=Oe(z5t);var V5t=nT,H5t=M8,U5t=H5t(function(e,t,n){V5t(e,n,t)}),W5t=U5t;const K8=Oe(W5t);var Y5t=Rc;function q5t(e){return Y5t(e).toLowerCase()}var G5t=q5t;const ov=Oe(G5t);var K5t=k0,Z5t=T0,X5t=cT,Q5t=tT,J5t=Z5t(function(e){return X5t(K5t(e,1,Q5t,!0))}),ejt=J5t;const FEe=Oe(ejt);function tjt(){}var Z8=tjt,njt=T8,rjt=Z8;function lk(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}lk.prototype=njt(rjt.prototype);lk.prototype.constructor=lk;var X8=lk,oZ=YCe,ojt=oZ&&new oZ,ijt=ojt,iZ=ijt,sjt=D8,ajt=iZ?function(e){return iZ.get(e)}:sjt,LEe=ajt,ljt={},cjt=ljt,sZ=cjt,ujt=Object.prototype,djt=ujt.hasOwnProperty;function fjt(e){for(var t=e.name+"",n=sZ[t],r=djt.call(sZ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var BEe=fjt,hjt=T8,pjt=Z8,mjt=4294967295;function ck(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=mjt,this.__views__=[]}ck.prototype=hjt(pjt.prototype);ck.prototype.constructor=ck;var Q8=ck,gjt=Q8,vjt=X8,yjt=E8;function bjt(e){if(e instanceof gjt)return e.clone();var t=new vjt(e.__wrapped__,e.__chain__);return t.__actions__=yjt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var xjt=bjt,wjt=Q8,aZ=X8,Cjt=Z8,_jt=Kr,Sjt=Wa,Ejt=xjt,kjt=Object.prototype,jjt=kjt.hasOwnProperty;function uk(e){if(Sjt(e)&&!_jt(e)&&!(e instanceof wjt)){if(e instanceof aZ)return e;if(jjt.call(e,"__wrapped__"))return Ejt(e)}return new aZ(e)}uk.prototype=Cjt.prototype;uk.prototype.constructor=uk;var Tjt=uk,Ajt=Q8,Djt=LEe,Ijt=BEe,Ojt=Tjt;function Pjt(e){var t=Ijt(e),n=Ojt[t];if(typeof n!="function"||!(t in Ajt.prototype))return!1;if(e===n)return!0;var r=Djt(n);return!!r&&e===r[0]}var Rjt=Pjt,lZ=X8,$jt=i8,Mjt=LEe,aO=BEe,Fjt=Kr,cZ=Rjt,Ljt="Expected a function",Bjt=8,Njt=32,zjt=128,Vjt=256;function Hjt(e){return $jt(function(t){var n=t.length,r=n,o=lZ.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(Ljt);if(o&&!s&&aO(i)=="wrapper")var s=new lZ([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=aO(i),c=a=="wrapper"?Mjt(i):void 0;c&&cZ(c[0])&&c[1]==(zjt|Bjt|Njt|Vjt)&&!c[4].length&&c[9]==1?s=s[aO(c[0])].apply(s,c[3]):s=i.length==1&&cZ(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&Fjt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var Ujt=Hjt,Wjt=Ujt,Yjt=Wjt(),qjt=Yjt;const Gjt=Oe(qjt);var Kjt=e8;function Zjt(e,t){for(var n=e.length;n--&&Kjt(t,e[n],0)>-1;);return n}var Xjt=Zjt,Qjt=e8;function Jjt(e,t){for(var n=-1,r=e.length;++n<r&&Qjt(t,e[n],0)>-1;);return n}var eTt=Jjt,tTt=a_e,nTt=Tve,rTt=gSe,oTt=Xjt,iTt=eTt,uZ=SSe,sTt=Rc;function aTt(e,t,n){if(e=sTt(e),e&&(n||t===void 0))return nTt(e);if(!e||!(t=tTt(t)))return e;var r=uZ(e),o=uZ(t),i=iTt(r,o),s=oTt(r,o)+1;return rTt(r,i,s).join("")}var lTt=aTt;const cTt=Oe(lTt);var i_,uTt=new Uint8Array(16);function dTt(){if(!i_&&(i_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i_(uTt)}const fTt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hTt(e){return typeof e=="string"&&fTt.test(e)}var Ho=[];for(var lO=0;lO<256;++lO)Ho.push((lO+256).toString(16).substr(1));function pTt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ho[e[t+0]]+Ho[e[t+1]]+Ho[e[t+2]]+Ho[e[t+3]]+"-"+Ho[e[t+4]]+Ho[e[t+5]]+"-"+Ho[e[t+6]]+Ho[e[t+7]]+"-"+Ho[e[t+8]]+Ho[e[t+9]]+"-"+Ho[e[t+10]]+Ho[e[t+11]]+Ho[e[t+12]]+Ho[e[t+13]]+Ho[e[t+14]]+Ho[e[t+15]]).toLowerCase();if(!hTt(n))throw TypeError("Stringified UUID is invalid");return n}function ad(e,t,n){e=e||{};var r=e.random||(e.rng||dTt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return pTt(r)}var mTt=m_e,dZ=Kr;function gTt(e,t,n,r){return e==null?[]:(dZ(t)||(t=t==null?[]:[t]),n=r?void 0:n,dZ(n)||(n=n==null?[]:[n]),mTt(e,t,n))}var vTt=gTt;const I0=Oe(vTt);function yTt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function D$(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Aw(e){const[t,n]=e;return[t,n]}function fZ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function J8(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function yT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function e9(e){let t=e.map(f=>Aw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===St?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===qn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Tn,i]),t[r[o-1]+1][0]=qn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=bT(t)),t=NEe(t),s=1;s<t.length;){if(t[s-1][0]===Tn&&t[s][0]===qn){const f=t[s-1][1],p=t[s][1],m=fZ(f,p),v=fZ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[St,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[St,f.substring(0,v)]),t[s-1][0]=qn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Tn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const hZ=/[^a-zA-Z0-9]/,pZ=/\s/,mZ=/[\r\n]/,bTt=/\n\r?\n$/,xTt=/^\r?\n\r?\n/;function NEe(e){const t=e.map(o=>Aw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(hZ),u=a.match(hZ),d=c&&s.match(pZ),f=u&&a.match(pZ),p=d&&s.match(mZ),m=f&&a.match(mZ),v=p&&o.match(bTt),g=m&&i.match(xTt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===St&&t[r+1][0]===St){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=yT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function bT(e){let t=e.map(u=>Aw(u));t.push([St,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case qn:o++,s+=t[n][1],n++;break;case Tn:r++,i+=t[n][1],n++;break;case St:r+o>1?(r!==0&&o!==0&&(a=J8(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===St?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[St,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=yT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Tn,i]),n++),s.length&&(t.splice(n,0,[qn,s]),n++),n++):n!==0&&t[n-1][0]===St?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===St&&t[n+1][0]===St&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=bT(t)),t}function wTt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function t9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Aw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===St?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Tn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&wTt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Tn,s]),n[o[i-1]+1][0]=qn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=bT(n)),n}function CTt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return gZ(e,t,w,C,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return gZ(e,t,S,E,n)}}}}return[[Tn,e],[qn,t]]}function gZ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Vp(i,s,{checkLines:!1,deadline:o}),d=Vp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function _Tt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=vZ(r,o,Math.ceil(r.length/4)),s=vZ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function vZ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=J8(e.slice(n),t.slice(o)),f=yT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function STt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function ETt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function kTt(e,t,n){let r=e,o=t;const i=ETt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Vp(r,o,{checkLines:!1,deadline:n.deadline});STt(a,s),a=e9(a),a.push([St,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case qn:d++,p+=a[c][1];break;case Tn:u++,f+=a[c][1];break;case St:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Vp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function jTt(e,t,n){let r;if(!e)return[[qn,t]];if(!t)return[[Tn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[qn,o.substring(0,s)],[St,i],[qn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Tn,r[2][0]=Tn),r;if(i.length===1)return[[Tn,e],[qn,t]];const a=_Tt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Vp(c,d,n),v=Vp(u,f,n);return m.concat([[St,p]],v)}return n.checkLines&&e.length>100&&t.length>100?kTt(e,t,n):CTt(e,t,n.deadline)}const Tn=-1,qn=1,St=0;function Dw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Vp(e,t,ATt(n||{}));return ITt(r),r}function Vp(e,t,n){let r=e,o=t;if(r===o)return r?[[St,r]]:[];let i=J8(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=yT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=jTt(r,o,n);return s&&c.unshift([St,s]),a&&c.push([St,a]),c=bT(c),c}function TTt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function ATt(e){return{checkLines:!0,deadline:TTt(e.timeout||1),...e}}function s_(e,t,n){return n===1?e+t:t+e}function a_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function DTt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function yZ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===qn){o===null&&(o=s);continue}else if(u===Tn){i===null&&(i=s);continue}else if(u===St){if(o===null&&i===null){const[f,p]=a_(e[t][1],n);e[t][1]=f,e[s][1]=s_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&DTt(e,o,i,n)){const[u,d]=a_(e[o][1],r),[f]=a_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=s_(e[t][1],d,n);return}const[a,c]=a_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[qn,c]),i!==null&&i>=s&&i++):e[o][1]=s_(e[o][1],c,r),i===null?e.splice(s,0,[Tn,c]):e[i][1]=s_(e[i][1],c,r)}function ITt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];yTt(i)&&n===St&&yZ(e,t,1),D$(o)&&n===St&&yZ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const OTt={threshold:.5,distance:1e3};function PTt(e){return{...OTt,...e}}const RTt=32;function $Tt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>RTt)throw new Error("Pattern too long for this browser.");const o=PTt(r),i=MTt(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(v,y-1);if(C<=a)if(a=C,c=y-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function MTt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function cO(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return $Tt(e,t,r)}function dk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function n9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==qn&&(t[n]=e[n][1]);return t.join("")}function zEe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Tn&&(t[n]=e[n][1]);return t.join("")}function Wd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=VEe(r)}return t}function FTt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=VEe(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Aw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function VEe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Ad=32,r9=4,LTt={margin:4};function uO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...LTt,...e}}function HEe(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Dw(e,t,{checkLines:!0});return r.length>2&&(r=e9(r),r=t9(r)),dO(e,r,uO(n))}if(e&&Array.isArray(e)&&typeof t>"u")return dO(n9(e),e,uO(n));if(typeof e=="string"&&t&&Array.isArray(t))return dO(e,t,uO(n));throw new Error("Unknown call format to make()")}function dO(e,t,n){if(t.length===0)return[];const r=[];let o=dk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=Wd(g);switch(!i&&v!==St&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case qn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Tn:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case St:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(bZ(o,d,n),r.push(o),o=dk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==qn&&(s+=b,c+=x),v!==Tn&&(a+=b,u+=x)}return i&&(bZ(o,d,n),r.push(o)),r}function bZ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Ad-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&D$(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([St,s]);const a=s.length,c=Wd(s);let u=e.start2+e.length1+o;u<t.length&&D$(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([St,d]);const f=d.length,p=Wd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function BTt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case qn:n+=s.length;break;case Tn:r+=s.length;break;case St:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function xZ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==qn&&(n+=e[s][1].length),e[s][0]!==Tn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Tn?i:i+(t-o)}function NTt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==St)i.unshift([St,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==St)i.push([St,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function zTt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r9;const n=Ad;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=dk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Wd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([St,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Wd(m);if(p===qn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===Tn&&c.diffs.length===1&&c.diffs[0][0]===St&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Wd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===St?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=zEe(c.diffs),a=a.substring(a.length-t);const d=n9(o.diffs).substring(0,t),f=Wd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===St?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([St,d])),u||e.splice(++r,0,c)}}}function UEe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=FTt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||r9,s=n.deleteThreshold||.4,a=NTt(o,i);r=a+r+a,zTt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=n9(o[d].diffs);let m,v=-1;if(p.length>Ad?(m=cO(r,p.substring(0,Ad),f),m!==-1&&(v=cO(r,p.substring(p.length-Ad),f+p.length-Ad),(v===-1||m>=v)&&(m=-1))):m=cO(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Ad),p===g)r=r.substring(0,m)+zEe(o[d].diffs)+r.substring(m+p.length);else{let b=Dw(p,g,{checkLines:!1});if(p.length>Ad&&BTt(b)/p.length>s)u[d]=!1;else{b=NEe(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==St&&(y=xZ(b,x)),C[0]===qn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===Tn&&(r=r.substring(0,m+y)+r.substring(m+xZ(b,x+C[1].length))),C[0]!==Tn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function WEe(e){return e.map(VTt).join("")}function VTt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case qn:u="+";break;case Tn:u="-";break;case St:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const HTt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function YEe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(HTt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=dk(l_(o[1]),l_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=l_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=l_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Wd(c)-c.length;if(a==="-")i.diffs.push([Tn,c]),i.length1-=u;else if(a==="+")i.diffs.push([qn,c]),i.length2-=u;else if(a===" ")i.diffs.push([St,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function l_(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var qEe;function Le(){return qEe.apply(null,arguments)}function UTt(e){qEe=e}function Dl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function wp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o9(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(dn(e,t))return!1;return!0}function us(e){return e===void 0}function Nu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Iw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function GEe(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Yd(e,t){for(var n in t)dn(t,n)&&(e[n]=t[n]);return dn(t,"toString")&&(e.toString=t.toString),dn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Fc(e,t,n,r){return yke(e,t,n,r,!0).utc()}function WTt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kt(e){return e._pf==null&&(e._pf=WTt()),e._pf}var I$;Array.prototype.some?I$=Array.prototype.some:I$=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function i9(e){if(e._isValid==null){var t=kt(e),n=I$.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function xT(e){var t=Fc(NaN);return e!=null?Yd(kt(t),e):kt(t).userInvalidated=!0,t}var wZ=Le.momentProperties=[],fO=!1;function s9(e,t){var n,r,o,i=wZ.length;if(us(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),us(t._i)||(e._i=t._i),us(t._f)||(e._f=t._f),us(t._l)||(e._l=t._l),us(t._strict)||(e._strict=t._strict),us(t._tzm)||(e._tzm=t._tzm),us(t._isUTC)||(e._isUTC=t._isUTC),us(t._offset)||(e._offset=t._offset),us(t._pf)||(e._pf=kt(t)),us(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=wZ[n],o=t[r],us(o)||(e[r]=o);return e}function Ow(e){s9(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fO===!1&&(fO=!0,Le.updateOffset(this),fO=!1)}function Il(e){return e instanceof Ow||e!=null&&e._isAMomentObject!=null}function KEe(e){Le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Za(e,t){var n=!0;return Yd(function(){if(Le.deprecationHandler!=null&&Le.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])dn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}KEe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var CZ={};function ZEe(e,t){Le.deprecationHandler!=null&&Le.deprecationHandler(e,t),CZ[e]||(KEe(t),CZ[e]=!0)}Le.suppressDeprecationWarnings=!1;Le.deprecationHandler=null;function Lc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function YTt(e){var t,n;for(n in e)dn(e,n)&&(t=e[n],Lc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O$(e,t){var n=Yd({},e),r;for(r in t)dn(t,r)&&(wp(e[r])&&wp(t[r])?(n[r]={},Yd(n[r],e[r]),Yd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)dn(e,r)&&!dn(t,r)&&wp(e[r])&&(n[r]=Yd({},n[r]));return n}function a9(e){e!=null&&this.set(e)}var P$;Object.keys?P$=Object.keys:P$=function(e){var t,n=[];for(t in e)dn(e,t)&&n.push(t);return n};var qTt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function GTt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Lc(r)?r.call(t,n):r}function jc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var l9=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,c_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hO={},iv={};function tt(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(iv[e]=o),t&&(iv[t[0]]=function(){return jc(o.apply(this,arguments),t[1],t[2])}),n&&(iv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function KTt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function ZTt(e){var t=e.match(l9),n,r;for(n=0,r=t.length;n<r;n++)iv[t[n]]?t[n]=iv[t[n]]:t[n]=KTt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Lc(t[s])?t[s].call(o,e):t[s];return i}}function X2(e,t){return e.isValid()?(t=XEe(t,e.localeData()),hO[t]=hO[t]||ZTt(t),hO[t](e)):e.localeData().invalidDate()}function XEe(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(c_.lastIndex=0;n>=0&&c_.test(e);)e=e.replace(c_,r),c_.lastIndex=0,n-=1;return e}var XTt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function QTt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(l9).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var JTt="Invalid date";function eAt(){return this._invalidDate}var tAt="%d",nAt=/\d{1,2}/;function rAt(e){return this._ordinal.replace("%d",e)}var oAt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function iAt(e,t,n,r){var o=this._relativeTime[n];return Lc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function sAt(e,t){var n=this._relativeTime[e>0?"future":"past"];return Lc(n)?n(t):n.replace(/%s/i,t)}var ib={};function Oi(e,t){var n=e.toLowerCase();ib[n]=ib[n+"s"]=ib[t]=e}function Xa(e){return typeof e=="string"?ib[e]||ib[e.toLowerCase()]:void 0}function c9(e){var t={},n,r;for(r in e)dn(e,r)&&(n=Xa(r),n&&(t[n]=e[r]));return t}var QEe={};function Pi(e,t){QEe[e]=t}function aAt(e){var t=[],n;for(n in e)dn(e,n)&&t.push({unit:n,priority:QEe[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function wT(e){return e%4===0&&e%100!==0||e%400===0}function Sa(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Sa(t)),n}function O0(e,t){return function(n){return n!=null?(JEe(this,e,n),Le.updateOffset(this,t),this):fk(this,e)}}function fk(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function JEe(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&wT(e.year())&&e.month()===1&&e.date()===29?(n=Mt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),jT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function lAt(e){return e=Xa(e),Lc(this[e])?this[e]():this}function cAt(e,t){if(typeof e=="object"){e=c9(e);var n=aAt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=Xa(e),Lc(this[e]))return this[e](t);return this}var eke=/\d/,da=/\d\d/,tke=/\d{3}/,u9=/\d{4}/,CT=/[+-]?\d{6}/,dr=/\d\d?/,nke=/\d\d\d\d?/,rke=/\d\d\d\d\d\d?/,_T=/\d{1,3}/,d9=/\d{1,4}/,ST=/[+-]?\d{1,6}/,P0=/\d+/,ET=/[+-]?\d+/,uAt=/Z|[+-]\d\d:?\d\d/gi,kT=/Z|[+-]\d\d(?::?\d\d)?/gi,dAt=/[+-]?\d+(\.\d{1,3})?/,Pw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,hk;hk={};function Ve(e,t,n){hk[e]=Lc(t)?t:function(r,o){return r&&n?n:t}}function fAt(e,t){return dn(hk,e)?hk[e](t._strict,t._locale):new RegExp(hAt(e))}function hAt(e){return Ys(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Ys(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var R$={};function Rn(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Nu(t)&&(r=function(i,s){s[t]=Mt(i)}),o=e.length,n=0;n<o;n++)R$[e[n]]=r}function Rw(e,t){Rn(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function pAt(e,t,n){t!=null&&dn(R$,e)&&R$[e](t,n._a,n,e)}var _i=0,fu=1,fc=2,_o=3,ml=4,hu=5,tp=6,mAt=7,gAt=8;function vAt(e,t){return(e%t+t)%t}var Wr;Array.prototype.indexOf?Wr=Array.prototype.indexOf:Wr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function jT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=vAt(t,12);return e+=(t-n)/12,n===1?wT(e)?29:28:31-n%7%2}tt("M",["MM",2],"Mo",function(){return this.month()+1});tt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});tt("MMMM",0,0,function(e){return this.localeData().months(this,e)});Oi("month","M");Pi("month",8);Ve("M",dr);Ve("MM",dr,da);Ve("MMM",function(e,t){return t.monthsShortRegex(e)});Ve("MMMM",function(e,t){return t.monthsRegex(e)});Rn(["M","MM"],function(e,t){t[fu]=Mt(e)-1});Rn(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[fu]=o:kt(n).invalidMonth=e});var yAt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ike=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,bAt=Pw,xAt=Pw;function wAt(e,t){return e?Dl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ike).test(t)?"format":"standalone"][e.month()]:Dl(this._months)?this._months:this._months.standalone}function CAt(e,t){return e?Dl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ike.test(t)?"format":"standalone"][e.month()]:Dl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function _At(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Fc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Wr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Wr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Wr.call(this._shortMonthsParse,s),o!==-1?o:(o=Wr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Wr.call(this._longMonthsParse,s),o!==-1?o:(o=Wr.call(this._shortMonthsParse,s),o!==-1?o:null))}function SAt(e,t,n){var r,o,i;if(this._monthsParseExact)return _At.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Fc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ske(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mt(t);else if(t=e.localeData().monthsParse(t),!Nu(t))return e}return n=Math.min(e.date(),jT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ake(e){return e!=null?(ske(this,e),Le.updateOffset(this,!0),this):fk(this,"Month")}function EAt(){return jT(this.year(),this.month())}function kAt(e){return this._monthsParseExact?(dn(this,"_monthsRegex")||lke.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(dn(this,"_monthsShortRegex")||(this._monthsShortRegex=bAt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function jAt(e){return this._monthsParseExact?(dn(this,"_monthsRegex")||lke.call(this),e?this._monthsStrictRegex:this._monthsRegex):(dn(this,"_monthsRegex")||(this._monthsRegex=xAt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function lke(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Fc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Ys(t[o]),n[o]=Ys(n[o]);for(o=0;o<24;o++)r[o]=Ys(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}tt("Y",0,0,function(){var e=this.year();return e<=9999?jc(e,4):"+"+e});tt(0,["YY",2],0,function(){return this.year()%100});tt(0,["YYYY",4],0,"year");tt(0,["YYYYY",5],0,"year");tt(0,["YYYYYY",6,!0],0,"year");Oi("year","y");Pi("year",1);Ve("Y",ET);Ve("YY",dr,da);Ve("YYYY",d9,u9);Ve("YYYYY",ST,CT);Ve("YYYYYY",ST,CT);Rn(["YYYYY","YYYYYY"],_i);Rn("YYYY",function(e,t){t[_i]=e.length===2?Le.parseTwoDigitYear(e):Mt(e)});Rn("YY",function(e,t){t[_i]=Le.parseTwoDigitYear(e)});Rn("Y",function(e,t){t[_i]=parseInt(e,10)});function sb(e){return wT(e)?366:365}Le.parseTwoDigitYear=function(e){return Mt(e)+(Mt(e)>68?1900:2e3)};var cke=O0("FullYear",!0);function TAt(){return wT(this.year())}function AAt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function nx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function pk(e,t,n){var r=7+t-n,o=(7+nx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function uke(e,t,n,r,o){var i=(7+n-r)%7,s=pk(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=sb(c)+a):a>sb(e)?(c=e+1,u=a-sb(e)):(c=e,u=a),{year:c,dayOfYear:u}}function rx(e,t,n){var r=pk(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+wu(s,t,n)):o>wu(e.year(),t,n)?(i=o-wu(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function wu(e,t,n){var r=pk(e,t,n),o=pk(e+1,t,n);return(sb(e)-r+o)/7}tt("w",["ww",2],"wo","week");tt("W",["WW",2],"Wo","isoWeek");Oi("week","w");Oi("isoWeek","W");Pi("week",5);Pi("isoWeek",5);Ve("w",dr);Ve("ww",dr,da);Ve("W",dr);Ve("WW",dr,da);Rw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mt(e)});function DAt(e){return rx(e,this._week.dow,this._week.doy).week}var IAt={dow:0,doy:6};function OAt(){return this._week.dow}function PAt(){return this._week.doy}function RAt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function $At(e){var t=rx(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}tt("d",0,"do","day");tt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});tt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});tt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});tt("e",0,0,"weekday");tt("E",0,0,"isoWeekday");Oi("day","d");Oi("weekday","e");Oi("isoWeekday","E");Pi("day",11);Pi("weekday",11);Pi("isoWeekday",11);Ve("d",dr);Ve("e",dr);Ve("E",dr);Ve("dd",function(e,t){return t.weekdaysMinRegex(e)});Ve("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ve("dddd",function(e,t){return t.weekdaysRegex(e)});Rw(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:kt(n).invalidWeekday=e});Rw(["d","e","E"],function(e,t,n,r){t[r]=Mt(e)});function MAt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function FAt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function f9(e,t){return e.slice(t,7).concat(e.slice(0,t))}var LAt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),dke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),BAt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),NAt=Pw,zAt=Pw,VAt=Pw;function HAt(e,t){var n=Dl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?f9(n,this._week.dow):e?n[e.day()]:n}function UAt(e){return e===!0?f9(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function WAt(e){return e===!0?f9(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function YAt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Fc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Wr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Wr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Wr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Wr.call(this._weekdaysParse,s),o!==-1||(o=Wr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Wr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Wr.call(this._shortWeekdaysParse,s),o!==-1||(o=Wr.call(this._weekdaysParse,s),o!==-1)?o:(o=Wr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Wr.call(this._minWeekdaysParse,s),o!==-1||(o=Wr.call(this._weekdaysParse,s),o!==-1)?o:(o=Wr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function qAt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return YAt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Fc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function GAt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=MAt(e,this.localeData()),this.add(e-t,"d")):t}function KAt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function ZAt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=FAt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function XAt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||h9.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(dn(this,"_weekdaysRegex")||(this._weekdaysRegex=NAt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function QAt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||h9.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(dn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zAt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function JAt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||h9.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(dn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=VAt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function h9(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=Fc([2e3,1]).day(i),a=Ys(this.weekdaysMin(s,"")),c=Ys(this.weekdaysShort(s,"")),u=Ys(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function p9(){return this.hours()%12||12}function eDt(){return this.hours()||24}tt("H",["HH",2],0,"hour");tt("h",["hh",2],0,p9);tt("k",["kk",2],0,eDt);tt("hmm",0,0,function(){return""+p9.apply(this)+jc(this.minutes(),2)});tt("hmmss",0,0,function(){return""+p9.apply(this)+jc(this.minutes(),2)+jc(this.seconds(),2)});tt("Hmm",0,0,function(){return""+this.hours()+jc(this.minutes(),2)});tt("Hmmss",0,0,function(){return""+this.hours()+jc(this.minutes(),2)+jc(this.seconds(),2)});function fke(e,t){tt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}fke("a",!0);fke("A",!1);Oi("hour","h");Pi("hour",13);function hke(e,t){return t._meridiemParse}Ve("a",hke);Ve("A",hke);Ve("H",dr);Ve("h",dr);Ve("k",dr);Ve("HH",dr,da);Ve("hh",dr,da);Ve("kk",dr,da);Ve("hmm",nke);Ve("hmmss",rke);Ve("Hmm",nke);Ve("Hmmss",rke);Rn(["H","HH"],_o);Rn(["k","kk"],function(e,t,n){var r=Mt(e);t[_o]=r===24?0:r});Rn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Rn(["h","hh"],function(e,t,n){t[_o]=Mt(e),kt(n).bigHour=!0});Rn("hmm",function(e,t,n){var r=e.length-2;t[_o]=Mt(e.substr(0,r)),t[ml]=Mt(e.substr(r)),kt(n).bigHour=!0});Rn("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[_o]=Mt(e.substr(0,r)),t[ml]=Mt(e.substr(r,2)),t[hu]=Mt(e.substr(o)),kt(n).bigHour=!0});Rn("Hmm",function(e,t,n){var r=e.length-2;t[_o]=Mt(e.substr(0,r)),t[ml]=Mt(e.substr(r))});Rn("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[_o]=Mt(e.substr(0,r)),t[ml]=Mt(e.substr(r,2)),t[hu]=Mt(e.substr(o))});function tDt(e){return(e+"").toLowerCase().charAt(0)==="p"}var nDt=/[ap]\.?m?\.?/i,rDt=O0("Hours",!0);function oDt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var pke={calendar:qTt,longDateFormat:XTt,invalidDate:JTt,ordinal:tAt,dayOfMonthOrdinalParse:nAt,relativeTime:oAt,months:yAt,monthsShort:oke,week:IAt,weekdays:LAt,weekdaysMin:BAt,weekdaysShort:dke,meridiemParse:nDt},vr={},P1={},ox;function iDt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function _Z(e){return e&&e.toLowerCase().replace("_","-")}function sDt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=_Z(e[t]).split("-"),n=i.length,r=_Z(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=TT(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&iDt(i,r)>=n-1)break;n--}t++}return ox}function aDt(e){return e.match("^[^/\\\\]*$")!=null}function TT(e){var t=null,n;if(vr[e]===void 0&&typeof module<"u"&&module&&module.exports&&aDt(e))try{t=ox._abbr,n=require,n("./locale/"+e),mf(t)}catch{vr[e]=null}return vr[e]}function mf(e,t){var n;return e&&(us(t)?n=ld(e):n=m9(e,t),n?ox=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ox._abbr}function m9(e,t){if(t!==null){var n,r=pke;if(t.abbr=e,vr[e]!=null)ZEe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=vr[e]._config;else if(t.parentLocale!=null)if(vr[t.parentLocale]!=null)r=vr[t.parentLocale]._config;else if(n=TT(t.parentLocale),n!=null)r=n._config;else return P1[t.parentLocale]||(P1[t.parentLocale]=[]),P1[t.parentLocale].push({name:e,config:t}),null;return vr[e]=new a9(O$(r,t)),P1[e]&&P1[e].forEach(function(o){m9(o.name,o.config)}),mf(e),vr[e]}else return delete vr[e],null}function lDt(e,t){if(t!=null){var n,r,o=pke;vr[e]!=null&&vr[e].parentLocale!=null?vr[e].set(O$(vr[e]._config,t)):(r=TT(e),r!=null&&(o=r._config),t=O$(o,t),r==null&&(t.abbr=e),n=new a9(t),n.parentLocale=vr[e],vr[e]=n),mf(e)}else vr[e]!=null&&(vr[e].parentLocale!=null?(vr[e]=vr[e].parentLocale,e===mf()&&mf(e)):vr[e]!=null&&delete vr[e]);return vr[e]}function ld(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ox;if(!Dl(e)){if(t=TT(e),t)return t;e=[e]}return sDt(e)}function cDt(){return P$(vr)}function g9(e){var t,n=e._a;return n&&kt(e).overflow===-2&&(t=n[fu]<0||n[fu]>11?fu:n[fc]<1||n[fc]>jT(n[_i],n[fu])?fc:n[_o]<0||n[_o]>24||n[_o]===24&&(n[ml]!==0||n[hu]!==0||n[tp]!==0)?_o:n[ml]<0||n[ml]>59?ml:n[hu]<0||n[hu]>59?hu:n[tp]<0||n[tp]>999?tp:-1,kt(e)._overflowDayOfYear&&(t<_i||t>fc)&&(t=fc),kt(e)._overflowWeeks&&t===-1&&(t=mAt),kt(e)._overflowWeekday&&t===-1&&(t=gAt),kt(e).overflow=t),e}var uDt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dDt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fDt=/Z|[+-]\d\d(?::?\d\d)?/,u_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pO=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],hDt=/^\/?Date\((-?\d+)/i,pDt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mDt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mke(e){var t,n,r=e._i,o=uDt.exec(r)||dDt.exec(r),i,s,a,c,u=u_.length,d=pO.length;if(o){for(kt(e).iso=!0,t=0,n=u;t<n;t++)if(u_[t][1].exec(o[1])){s=u_[t][0],i=u_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(pO[t][1].exec(o[3])){a=(o[2]||" ")+pO[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(fDt.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),y9(e)}else e._isValid=!1}function gDt(e,t,n,r,o,i){var s=[vDt(e),oke.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function vDt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function yDt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function bDt(e,t,n){if(e){var r=dke.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return kt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function xDt(e,t,n){if(e)return mDt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function gke(e){var t=pDt.exec(yDt(e._i)),n;if(t){if(n=gDt(t[4],t[3],t[2],t[5],t[6],t[7]),!bDt(t[1],n,e))return;e._a=n,e._tzm=xDt(t[8],t[9],t[10]),e._d=nx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kt(e).rfc2822=!0}else e._isValid=!1}function wDt(e){var t=hDt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(mke(e),e._isValid===!1)delete e._isValid;else return;if(gke(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Le.createFromInputFallback(e)}Le.createFromInputFallback=Za("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function cg(e,t,n){return e??t??n}function CDt(e){var t=new Date(Le.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function v9(e){var t,n,r=[],o,i,s;if(!e._d){for(o=CDt(e),e._w&&e._a[fc]==null&&e._a[fu]==null&&_Dt(e),e._dayOfYear!=null&&(s=cg(e._a[_i],o[_i]),(e._dayOfYear>sb(s)||e._dayOfYear===0)&&(kt(e)._overflowDayOfYear=!0),n=nx(s,0,e._dayOfYear),e._a[fu]=n.getUTCMonth(),e._a[fc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[_o]===24&&e._a[ml]===0&&e._a[hu]===0&&e._a[tp]===0&&(e._nextDay=!0,e._a[_o]=0),e._d=(e._useUTC?nx:AAt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_o]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(kt(e).weekdayMismatch=!0)}}function _Dt(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=cg(t.GG,e._a[_i],rx(ar(),1,4).year),r=cg(t.W,1),o=cg(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=rx(ar(),i,s),n=cg(t.gg,e._a[_i],u.year),r=cg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>wu(n,i,s)?kt(e)._overflowWeeks=!0:c!=null?kt(e)._overflowWeekday=!0:(a=uke(n,r,o,i,s),e._a[_i]=a.year,e._dayOfYear=a.dayOfYear)}Le.ISO_8601=function(){};Le.RFC_2822=function(){};function y9(e){if(e._f===Le.ISO_8601){mke(e);return}if(e._f===Le.RFC_2822){gke(e);return}e._a=[],kt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=XEe(e._f,e._locale).match(l9)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(fAt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&kt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),iv[i]?(r?kt(e).empty=!1:kt(e).unusedTokens.push(i),pAt(i,r,e)):e._strict&&!r&&kt(e).unusedTokens.push(i);kt(e).charsLeftOver=a-c,t.length>0&&kt(e).unusedInput.push(t),e._a[_o]<=12&&kt(e).bigHour===!0&&e._a[_o]>0&&(kt(e).bigHour=void 0),kt(e).parsedDateParts=e._a.slice(0),kt(e).meridiem=e._meridiem,e._a[_o]=SDt(e._locale,e._a[_o],e._meridiem),u=kt(e).era,u!==null&&(e._a[_i]=e._locale.erasConvertYear(u,e._a[_i])),v9(e),g9(e)}function SDt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function EDt(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){kt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=s9({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],y9(t),i9(t)&&(s=!0),i+=kt(t).charsLeftOver,i+=kt(t).unusedTokens.length*10,kt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));Yd(e,n||t)}function kDt(e){if(!e._d){var t=c9(e._i),n=t.day===void 0?t.date:t.day;e._a=GEe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),v9(e)}}function jDt(e){var t=new Ow(g9(vke(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function vke(e){var t=e._i,n=e._f;return e._locale=e._locale||ld(e._l),t===null||n===void 0&&t===""?xT({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Il(t)?new Ow(g9(t)):(Iw(t)?e._d=t:Dl(n)?EDt(e):n?y9(e):TDt(e),i9(e)||(e._d=null),e))}function TDt(e){var t=e._i;us(t)?e._d=new Date(Le.now()):Iw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?wDt(e):Dl(t)?(e._a=GEe(t.slice(0),function(n){return parseInt(n,10)}),v9(e)):wp(t)?kDt(e):Nu(t)?e._d=new Date(t):Le.createFromInputFallback(e)}function yke(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(wp(e)&&o9(e)||Dl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,jDt(i)}function ar(e,t,n,r){return yke(e,t,n,r,!1)}var ADt=Za("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:xT()}),DDt=Za("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ar.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:xT()});function bke(e,t){var n,r;if(t.length===1&&Dl(t[0])&&(t=t[0]),!t.length)return ar();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function IDt(){var e=[].slice.call(arguments,0);return bke("isBefore",e)}function ODt(){var e=[].slice.call(arguments,0);return bke("isAfter",e)}var PDt=function(){return Date.now?Date.now():+new Date},R1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function RDt(e){var t,n=!1,r,o=R1.length;for(t in e)if(dn(e,t)&&!(Wr.call(R1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[R1[r]]){if(n)return!1;parseFloat(e[R1[r]])!==Mt(e[R1[r]])&&(n=!0)}return!0}function $Dt(){return this._isValid}function MDt(){return Fl(NaN)}function AT(e){var t=c9(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=RDt(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=ld(),this._bubble()}function Q2(e){return e instanceof AT}function $$(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function FDt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Mt(e[s])!==Mt(t[s]))&&i++;return i+o}function xke(e,t){tt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+jc(~~(n/60),2)+t+jc(~~n%60,2)})}xke("Z",":");xke("ZZ","");Ve("Z",kT);Ve("ZZ",kT);Rn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=b9(kT,e)});var LDt=/([\+\-]|\d\d)/gi;function b9(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(LDt)||["-",0,0],i=+(o[1]*60)+Mt(o[2]),i===0?0:o[0]==="+"?i:-i)}function x9(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Il(e)||Iw(e)?e.valueOf():ar(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Le.updateOffset(n,!1),n):ar(e).local()}function M$(e){return-Math.round(e._d.getTimezoneOffset())}Le.updateOffset=function(){};function BDt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=b9(kT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=M$(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?_ke(this,Fl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:M$(this)}function NDt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function zDt(e){return this.utcOffset(0,e)}function VDt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(M$(this),"m")),this}function HDt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=b9(uAt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function UDt(e){return this.isValid()?(e=e?ar(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function WDt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function YDt(){if(!us(this._isDSTShifted))return this._isDSTShifted;var e={},t;return s9(e,this),e=vke(e),e._a?(t=e._isUTC?Fc(e._a):ar(e._a),this._isDSTShifted=this.isValid()&&FDt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function qDt(){return this.isValid()?!this._isUTC:!1}function GDt(){return this.isValid()?this._isUTC:!1}function wke(){return this.isValid()?this._isUTC&&this._offset===0:!1}var KDt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ZDt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fl(e,t){var n=e,r=null,o,i,s;return Q2(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Nu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=KDt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Mt(r[fc])*o,h:Mt(r[_o])*o,m:Mt(r[ml])*o,s:Mt(r[hu])*o,ms:Mt($$(r[tp]*1e3))*o}):(r=ZDt.exec(e))?(o=r[1]==="-"?-1:1,n={y:xh(r[2],o),M:xh(r[3],o),w:xh(r[4],o),d:xh(r[5],o),h:xh(r[6],o),m:xh(r[7],o),s:xh(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=XDt(ar(n.from),ar(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new AT(n),Q2(e)&&dn(e,"_locale")&&(i._locale=e._locale),Q2(e)&&dn(e,"_isValid")&&(i._isValid=e._isValid),i}Fl.fn=AT.prototype;Fl.invalid=MDt;function xh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function SZ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function XDt(e,t){var n;return e.isValid()&&t.isValid()?(t=x9(t,e),e.isBefore(t)?n=SZ(e,t):(n=SZ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Cke(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(ZEe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Fl(n,r),_ke(this,o,e),this}}function _ke(e,t,n,r){var o=t._milliseconds,i=$$(t._days),s=$$(t._months);e.isValid()&&(r=r??!0,s&&ske(e,fk(e,"Month")+s*n),i&&JEe(e,"Date",fk(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Le.updateOffset(e,i||s))}var QDt=Cke(1,"add"),JDt=Cke(-1,"subtract");function Ske(e){return typeof e=="string"||e instanceof String}function eIt(e){return Il(e)||Iw(e)||Ske(e)||Nu(e)||nIt(e)||tIt(e)||e===null||e===void 0}function tIt(e){var t=wp(e)&&!o9(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||dn(e,i);return t&&n}function nIt(e){var t=Dl(e),n=!1;return t&&(n=e.filter(function(r){return!Nu(r)&&Ske(e)}).length===0),t&&n}function rIt(e){var t=wp(e)&&!o9(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||dn(e,i);return t&&n}function oIt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function iIt(e,t){arguments.length===1&&(arguments[0]?eIt(arguments[0])?(e=arguments[0],t=void 0):rIt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ar(),r=x9(n,this).startOf("day"),o=Le.calendarFormat(this,r)||"sameElse",i=t&&(Lc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ar(n)))}function sIt(){return new Ow(this)}function aIt(e,t){var n=Il(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=Xa(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function lIt(e,t){var n=Il(e)?e:ar(e);return this.isValid()&&n.isValid()?(t=Xa(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function cIt(e,t,n,r){var o=Il(e)?e:ar(e),i=Il(t)?t:ar(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function uIt(e,t){var n=Il(e)?e:ar(e),r;return this.isValid()&&n.isValid()?(t=Xa(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function dIt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function fIt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function hIt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=x9(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=Xa(t),t){case"year":i=J2(this,r)/12;break;case"month":i=J2(this,r);break;case"quarter":i=J2(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Sa(i)}function J2(e,t){if(e.date()<t.date())return-J2(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function pIt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mIt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?X2(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Lc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",X2(n,"Z")):X2(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gIt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function vIt(e){e||(e=this.isUtc()?Le.defaultFormatUtc:Le.defaultFormat);var t=X2(this,e);return this.localeData().postformat(t)}function yIt(e,t){return this.isValid()&&(Il(e)&&e.isValid()||ar(e).isValid())?Fl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bIt(e){return this.from(ar(),e)}function xIt(e,t){return this.isValid()&&(Il(e)&&e.isValid()||ar(e).isValid())?Fl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wIt(e){return this.to(ar(),e)}function Eke(e){var t;return e===void 0?this._locale._abbr:(t=ld(e),t!=null&&(this._locale=t),this)}var kke=Za("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function jke(){return this._locale}var mk=1e3,sv=60*mk,gk=60*sv,Tke=(365*400+97)*24*gk;function av(e,t){return(e%t+t)%t}function Ake(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Tke:new Date(e,t,n).valueOf()}function Dke(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Tke:Date.UTC(e,t,n)}function CIt(e){var t,n;if(e=Xa(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Dke:Ake,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=av(t+(this._isUTC?0:this.utcOffset()*sv),gk);break;case"minute":t=this._d.valueOf(),t-=av(t,sv);break;case"second":t=this._d.valueOf(),t-=av(t,mk);break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function _It(e){var t,n;if(e=Xa(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Dke:Ake,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=gk-av(t+(this._isUTC?0:this.utcOffset()*sv),gk)-1;break;case"minute":t=this._d.valueOf(),t+=sv-av(t,sv)-1;break;case"second":t=this._d.valueOf(),t+=mk-av(t,mk)-1;break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function SIt(){return this._d.valueOf()-(this._offset||0)*6e4}function EIt(){return Math.floor(this.valueOf()/1e3)}function kIt(){return new Date(this.valueOf())}function jIt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function TIt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function AIt(){return this.isValid()?this.toISOString():null}function DIt(){return i9(this)}function IIt(){return Yd({},kt(this))}function OIt(){return kt(this).overflow}function PIt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}tt("N",0,0,"eraAbbr");tt("NN",0,0,"eraAbbr");tt("NNN",0,0,"eraAbbr");tt("NNNN",0,0,"eraName");tt("NNNNN",0,0,"eraNarrow");tt("y",["y",1],"yo","eraYear");tt("y",["yy",2],0,"eraYear");tt("y",["yyy",3],0,"eraYear");tt("y",["yyyy",4],0,"eraYear");Ve("N",w9);Ve("NN",w9);Ve("NNN",w9);Ve("NNNN",UIt);Ve("NNNNN",WIt);Rn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?kt(n).era=o:kt(n).invalidEra=e});Ve("y",P0);Ve("yy",P0);Ve("yyy",P0);Ve("yyyy",P0);Ve("yo",YIt);Rn(["y","yy","yyy","yyyy"],_i);Rn(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[_i]=n._locale.eraYearOrdinalParse(e,o):t[_i]=parseInt(e,10)});function RIt(e,t){var n,r,o,i=this._eras||ld("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Le(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Le(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function $It(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function MIt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Le(e.since).year():Le(e.since).year()+(t-e.offset)*n}function FIt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function LIt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function BIt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function NIt(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Le(o[e].since).year())*n+o[e].offset;return this.year()}function zIt(e){return dn(this,"_erasNameRegex")||C9.call(this),e?this._erasNameRegex:this._erasRegex}function VIt(e){return dn(this,"_erasAbbrRegex")||C9.call(this),e?this._erasAbbrRegex:this._erasRegex}function HIt(e){return dn(this,"_erasNarrowRegex")||C9.call(this),e?this._erasNarrowRegex:this._erasRegex}function w9(e,t){return t.erasAbbrRegex(e)}function UIt(e,t){return t.erasNameRegex(e)}function WIt(e,t){return t.erasNarrowRegex(e)}function YIt(e,t){return t._eraYearOrdinalRegex||P0}function C9(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Ys(s[o].name)),e.push(Ys(s[o].abbr)),n.push(Ys(s[o].narrow)),r.push(Ys(s[o].name)),r.push(Ys(s[o].abbr)),r.push(Ys(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}tt(0,["gg",2],0,function(){return this.weekYear()%100});tt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function DT(e,t){tt(0,[e,e.length],0,t)}DT("gggg","weekYear");DT("ggggg","weekYear");DT("GGGG","isoWeekYear");DT("GGGGG","isoWeekYear");Oi("weekYear","gg");Oi("isoWeekYear","GG");Pi("weekYear",1);Pi("isoWeekYear",1);Ve("G",ET);Ve("g",ET);Ve("GG",dr,da);Ve("gg",dr,da);Ve("GGGG",d9,u9);Ve("gggg",d9,u9);Ve("GGGGG",ST,CT);Ve("ggggg",ST,CT);Rw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mt(e)});Rw(["gg","GG"],function(e,t,n,r){t[r]=Le.parseTwoDigitYear(e)});function qIt(e){return Ike.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function GIt(e){return Ike.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function KIt(){return wu(this.year(),1,4)}function ZIt(){return wu(this.isoWeekYear(),1,4)}function XIt(){var e=this.localeData()._week;return wu(this.year(),e.dow,e.doy)}function QIt(){var e=this.localeData()._week;return wu(this.weekYear(),e.dow,e.doy)}function Ike(e,t,n,r,o){var i;return e==null?rx(this,r,o).year:(i=wu(e,r,o),t>i&&(t=i),JIt.call(this,e,t,n,r,o))}function JIt(e,t,n,r,o){var i=uke(e,t,n,r,o),s=nx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}tt("Q",0,"Qo","quarter");Oi("quarter","Q");Pi("quarter",7);Ve("Q",eke);Rn("Q",function(e,t){t[fu]=(Mt(e)-1)*3});function eOt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}tt("D",["DD",2],"Do","date");Oi("date","D");Pi("date",9);Ve("D",dr);Ve("DD",dr,da);Ve("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Rn(["D","DD"],fc);Rn("Do",function(e,t){t[fc]=Mt(e.match(dr)[0])});var Oke=O0("Date",!0);tt("DDD",["DDDD",3],"DDDo","dayOfYear");Oi("dayOfYear","DDD");Pi("dayOfYear",4);Ve("DDD",_T);Ve("DDDD",tke);Rn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mt(e)});function tOt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}tt("m",["mm",2],0,"minute");Oi("minute","m");Pi("minute",14);Ve("m",dr);Ve("mm",dr,da);Rn(["m","mm"],ml);var nOt=O0("Minutes",!1);tt("s",["ss",2],0,"second");Oi("second","s");Pi("second",15);Ve("s",dr);Ve("ss",dr,da);Rn(["s","ss"],hu);var rOt=O0("Seconds",!1);tt("S",0,0,function(){return~~(this.millisecond()/100)});tt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});tt(0,["SSS",3],0,"millisecond");tt(0,["SSSS",4],0,function(){return this.millisecond()*10});tt(0,["SSSSS",5],0,function(){return this.millisecond()*100});tt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});tt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});tt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});tt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Oi("millisecond","ms");Pi("millisecond",16);Ve("S",_T,eke);Ve("SS",_T,da);Ve("SSS",_T,tke);var qd,Pke;for(qd="SSSS";qd.length<=9;qd+="S")Ve(qd,P0);function oOt(e,t){t[tp]=Mt(("0."+e)*1e3)}for(qd="S";qd.length<=9;qd+="S")Rn(qd,oOt);Pke=O0("Milliseconds",!1);tt("z",0,0,"zoneAbbr");tt("zz",0,0,"zoneName");function iOt(){return this._isUTC?"UTC":""}function sOt(){return this._isUTC?"Coordinated Universal Time":""}var De=Ow.prototype;De.add=QDt;De.calendar=iIt;De.clone=sIt;De.diff=hIt;De.endOf=_It;De.format=vIt;De.from=yIt;De.fromNow=bIt;De.to=xIt;De.toNow=wIt;De.get=lAt;De.invalidAt=OIt;De.isAfter=aIt;De.isBefore=lIt;De.isBetween=cIt;De.isSame=uIt;De.isSameOrAfter=dIt;De.isSameOrBefore=fIt;De.isValid=DIt;De.lang=kke;De.locale=Eke;De.localeData=jke;De.max=DDt;De.min=ADt;De.parsingFlags=IIt;De.set=cAt;De.startOf=CIt;De.subtract=JDt;De.toArray=jIt;De.toObject=TIt;De.toDate=kIt;De.toISOString=mIt;De.inspect=gIt;typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});De.toJSON=AIt;De.toString=pIt;De.unix=EIt;De.valueOf=SIt;De.creationData=PIt;De.eraName=FIt;De.eraNarrow=LIt;De.eraAbbr=BIt;De.eraYear=NIt;De.year=cke;De.isLeapYear=TAt;De.weekYear=qIt;De.isoWeekYear=GIt;De.quarter=De.quarters=eOt;De.month=ake;De.daysInMonth=EAt;De.week=De.weeks=RAt;De.isoWeek=De.isoWeeks=$At;De.weeksInYear=XIt;De.weeksInWeekYear=QIt;De.isoWeeksInYear=KIt;De.isoWeeksInISOWeekYear=ZIt;De.date=Oke;De.day=De.days=GAt;De.weekday=KAt;De.isoWeekday=ZAt;De.dayOfYear=tOt;De.hour=De.hours=rDt;De.minute=De.minutes=nOt;De.second=De.seconds=rOt;De.millisecond=De.milliseconds=Pke;De.utcOffset=BDt;De.utc=zDt;De.local=VDt;De.parseZone=HDt;De.hasAlignedHourOffset=UDt;De.isDST=WDt;De.isLocal=qDt;De.isUtcOffset=GDt;De.isUtc=wke;De.isUTC=wke;De.zoneAbbr=iOt;De.zoneName=sOt;De.dates=Za("dates accessor is deprecated. Use date instead.",Oke);De.months=Za("months accessor is deprecated. Use month instead",ake);De.years=Za("years accessor is deprecated. Use year instead",cke);De.zone=Za("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",NDt);De.isDSTShifted=Za("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",YDt);function aOt(e){return ar(e*1e3)}function lOt(){return ar.apply(null,arguments).parseZone()}function Rke(e){return e}var fn=a9.prototype;fn.calendar=GTt;fn.longDateFormat=QTt;fn.invalidDate=eAt;fn.ordinal=rAt;fn.preparse=Rke;fn.postformat=Rke;fn.relativeTime=iAt;fn.pastFuture=sAt;fn.set=YTt;fn.eras=RIt;fn.erasParse=$It;fn.erasConvertYear=MIt;fn.erasAbbrRegex=VIt;fn.erasNameRegex=zIt;fn.erasNarrowRegex=HIt;fn.months=wAt;fn.monthsShort=CAt;fn.monthsParse=SAt;fn.monthsRegex=jAt;fn.monthsShortRegex=kAt;fn.week=DAt;fn.firstDayOfYear=PAt;fn.firstDayOfWeek=OAt;fn.weekdays=HAt;fn.weekdaysMin=WAt;fn.weekdaysShort=UAt;fn.weekdaysParse=qAt;fn.weekdaysRegex=XAt;fn.weekdaysShortRegex=QAt;fn.weekdaysMinRegex=JAt;fn.isPM=tDt;fn.meridiem=oDt;function vk(e,t,n,r){var o=ld(),i=Fc().set(r,t);return o[n](i,e)}function $ke(e,t,n){if(Nu(e)&&(t=e,e=void 0),e=e||"",t!=null)return vk(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=vk(e,r,n,"month");return o}function _9(e,t,n,r){typeof e=="boolean"?(Nu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Nu(t)&&(n=t,t=void 0),t=t||"");var o=ld(),i=e?o._week.dow:0,s,a=[];if(n!=null)return vk(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=vk(t,(s+i)%7,r,"day");return a}function cOt(e,t){return $ke(e,t,"months")}function uOt(e,t){return $ke(e,t,"monthsShort")}function dOt(e,t,n){return _9(e,t,n,"weekdays")}function fOt(e,t,n){return _9(e,t,n,"weekdaysShort")}function hOt(e,t,n){return _9(e,t,n,"weekdaysMin")}mf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Le.lang=Za("moment.lang is deprecated. Use moment.locale instead.",mf);Le.langData=Za("moment.langData is deprecated. Use moment.localeData instead.",ld);var qc=Math.abs;function pOt(){var e=this._data;return this._milliseconds=qc(this._milliseconds),this._days=qc(this._days),this._months=qc(this._months),e.milliseconds=qc(e.milliseconds),e.seconds=qc(e.seconds),e.minutes=qc(e.minutes),e.hours=qc(e.hours),e.months=qc(e.months),e.years=qc(e.years),this}function Mke(e,t,n,r){var o=Fl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function mOt(e,t){return Mke(this,e,t,1)}function gOt(e,t){return Mke(this,e,t,-1)}function EZ(e){return e<0?Math.floor(e):Math.ceil(e)}function vOt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=EZ(F$(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Sa(e/1e3),r.seconds=o%60,i=Sa(o/60),r.minutes=i%60,s=Sa(i/60),r.hours=s%24,t+=Sa(s/24),c=Sa(Fke(t)),n+=c,t-=EZ(F$(c)),a=Sa(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function Fke(e){return e*4800/146097}function F$(e){return e*146097/4800}function yOt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Xa(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Fke(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(F$(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function bOt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mt(this._months/12)*31536e6:NaN}function cd(e){return function(){return this.as(e)}}var xOt=cd("ms"),wOt=cd("s"),COt=cd("m"),_Ot=cd("h"),SOt=cd("d"),EOt=cd("w"),kOt=cd("M"),jOt=cd("Q"),TOt=cd("y");function AOt(){return Fl(this)}function DOt(e){return e=Xa(e),this.isValid()?this[e+"s"]():NaN}function Sm(e){return function(){return this.isValid()?this._data[e]:NaN}}var IOt=Sm("milliseconds"),OOt=Sm("seconds"),POt=Sm("minutes"),ROt=Sm("hours"),$Ot=Sm("days"),MOt=Sm("months"),FOt=Sm("years");function LOt(){return Sa(this.days()/7)}var ru=Math.round,Fg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function BOt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function NOt(e,t,n,r){var o=Fl(e).abs(),i=ru(o.as("s")),s=ru(o.as("m")),a=ru(o.as("h")),c=ru(o.as("d")),u=ru(o.as("M")),d=ru(o.as("w")),f=ru(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,BOt.apply(null,p)}function zOt(e){return e===void 0?ru:typeof e=="function"?(ru=e,!0):!1}function VOt(e,t){return Fg[e]===void 0?!1:t===void 0?Fg[e]:(Fg[e]=t,e==="s"&&(Fg.ss=t-1),!0)}function HOt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Fg,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Fg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=NOt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var mO=Math.abs;function Wm(e){return(e>0)-(e<0)||+e}function IT(){if(!this.isValid())return this.localeData().invalidDate();var e=mO(this._milliseconds)/1e3,t=mO(this._days),n=mO(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=Sa(e/60),o=Sa(r/60),e%=60,r%=60,i=Sa(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=Wm(this._months)!==Wm(a)?"-":"",d=Wm(this._days)!==Wm(a)?"-":"",f=Wm(this._milliseconds)!==Wm(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var en=AT.prototype;en.isValid=$Dt;en.abs=pOt;en.add=mOt;en.subtract=gOt;en.as=yOt;en.asMilliseconds=xOt;en.asSeconds=wOt;en.asMinutes=COt;en.asHours=_Ot;en.asDays=SOt;en.asWeeks=EOt;en.asMonths=kOt;en.asQuarters=jOt;en.asYears=TOt;en.valueOf=bOt;en._bubble=vOt;en.clone=AOt;en.get=DOt;en.milliseconds=IOt;en.seconds=OOt;en.minutes=POt;en.hours=ROt;en.days=$Ot;en.weeks=LOt;en.months=MOt;en.years=FOt;en.humanize=HOt;en.toISOString=IT;en.toString=IT;en.toJSON=IT;en.locale=Eke;en.localeData=jke;en.toIsoString=Za("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",IT);en.lang=kke;tt("X",0,0,"unix");tt("x",0,0,"valueOf");Ve("x",ET);Ve("X",dAt);Rn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Rn("x",function(e,t,n){n._d=new Date(Mt(e))});//! moment.js
Le.version="2.29.4";UTt(ar);Le.fn=De;Le.min=IDt;Le.max=ODt;Le.now=PDt;Le.utc=Fc;Le.unix=aOt;Le.months=cOt;Le.isDate=Iw;Le.locale=mf;Le.invalid=xT;Le.duration=Fl;Le.isMoment=Il;Le.weekdays=dOt;Le.parseZone=lOt;Le.localeData=ld;Le.isDuration=Q2;Le.monthsShort=uOt;Le.weekdaysMin=hOt;Le.defineLocale=m9;Le.updateLocale=lDt;Le.locales=cDt;Le.weekdaysShort=fOt;Le.normalizeUnits=Xa;Le.relativeTimeRounding=zOt;Le.relativeTimeThreshold=VOt;Le.calendarFormat=oIt;Le.prototype=De;Le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function OT(e,t){return Le(e).format(t)}function S9(e,t){const n=Le(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function E9(e){return window.crypto.getRandomValues(e)}var Lke=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function UOt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Lke(e,t)&&!k9(e[t]))return!1;return!0}function WOt(e){for(let t=0;t<e.length;t++)if(!k9(e[t]))return!1;return!0}function k9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?WOt(e):t==="object"?UOt(e):!1}function YOt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Lke(e,t)&&e[t]!==void 0)return!1;return!0}const qOt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function GOt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return E9(t),t}function $w(e){const t=qOt();return GOt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const KOt=Object.prototype.toString;function ZOt(e){switch(KOt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function ks(e){const t=ZOt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var L$={exports:{}};function XOt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=eT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var QOt=XOt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=QOt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(L$,L$.exports);var JOt=L$.exports;const yy=Oe(JOt);var ePt=rPt,Bke="---",Nke="A-Za-z--------",tPt=new RegExp("^[^"+Nke+"]*["+Bke+"]"),nPt=new RegExp("^[^"+Bke+"]*["+Nke+"]");function rPt(e){return e=String(e||""),tPt.test(e)?"rtl":nPt.test(e)?"ltr":"neutral"}const zke=Oe(ePt);function kZ(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function jZ(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function gO(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return jZ(n.overflowY,t)||jZ(n.overflowX,t)||function(r){var o=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)}(e)}return!1}function d_(e,t,n,r,o,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0}var TZ=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,c=typeof s=="function"?s:function(le){return le!==s};if(!kZ(e))throw new TypeError("Invalid target");for(var u,d,f=document.scrollingElement||document.documentElement,p=[],m=e;kZ(m)&&c(m);){if((m=(d=(u=m).parentElement)==null?u.getRootNode().host||null:d)===f){p.push(m);break}m!=null&&m===document.body&&gO(m)&&!gO(document.documentElement)||m!=null&&gO(m,a)&&p.push(m)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,g=n.visualViewport?n.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,x=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,C=y.width,_=y.top,S=y.right,E=y.bottom,j=y.left,k=o==="start"||o==="nearest"?_:o==="end"?E:_+w/2,T=i==="center"?j+C/2:i==="end"?S:j,A=[],D=0;D<p.length;D++){var I=p[D],O=I.getBoundingClientRect(),$=O.height,R=O.width,V=O.top,M=O.right,H=O.bottom,q=O.left;if(r==="if-needed"&&_>=0&&j>=0&&E<=g&&S<=v&&_>=V&&E<=H&&j>=q&&S<=M)return A;var U=getComputedStyle(I),W=parseInt(U.borderLeftWidth,10),Q=parseInt(U.borderTopWidth,10),N=parseInt(U.borderRightWidth,10),K=parseInt(U.borderBottomWidth,10),z=0,Z=0,G="offsetWidth"in I?I.offsetWidth-I.clientWidth-W-N:0,J="offsetHeight"in I?I.offsetHeight-I.clientHeight-Q-K:0,X="offsetWidth"in I?I.offsetWidth===0?0:R/I.offsetWidth:0,ee="offsetHeight"in I?I.offsetHeight===0?0:$/I.offsetHeight:0;if(f===I)z=o==="start"?k:o==="end"?k-g:o==="nearest"?d_(x,x+g,g,Q,K,x+k,x+k+w,w):k-g/2,Z=i==="start"?T:i==="center"?T-v/2:i==="end"?T-v:d_(b,b+v,v,W,N,b+T,b+T+C,C),z=Math.max(0,z+x),Z=Math.max(0,Z+b);else{z=o==="start"?k-V-Q:o==="end"?k-H+K+J:o==="nearest"?d_(V,H,$,Q,K+J,k,k+w,w):k-(V+$/2)+J/2,Z=i==="start"?T-q-W:i==="center"?T-(q+R/2)+G/2:i==="end"?T-M+N+G:d_(q,M,R,W,N+G,T,T+C,C);var oe=I.scrollLeft,de=I.scrollTop;k+=de-(z=Math.max(0,Math.min(de+z/ee,I.scrollHeight-$/ee+J))),T+=oe-(Z=Math.max(0,Math.min(oe+Z/X,I.scrollWidth-R/X+G)))}A.push({el:I,top:z,left:Z})}return A};function Vke(e){return e===Object(e)&&Object.keys(e).length!==0}function oPt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(r){var o=r.el,i=r.top,s=r.left;o.scroll&&n?o.scroll({top:i,left:s,behavior:t}):(o.scrollTop=i,o.scrollLeft=s)})}function iPt(e){return e===!1?{block:"end",inline:"nearest"}:Vke(e)?e:{block:"start",inline:"nearest"}}function sPt(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Vke(t)&&typeof t.behavior=="function")return t.behavior(n?TZ(e,t):[]);if(n){var r=iPt(t);return oPt(TZ(e,r),r.behavior)}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function AZ(e){return Object.prototype.toString.call(e)==="[object Object]"}function vi(e){var t,n;return AZ(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(AZ(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function cl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hp(e){return!!e&&!!e[oa]}function Up(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===pPt}(e)||Array.isArray(e)||!!e[FZ]||!!(!((t=e.constructor)===null||t===void 0)&&t[FZ])||j9(e)||T9(e))}function ix(e,t,n){n===void 0&&(n=!1),R0(e)===0?(n?Object.keys:P9)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function R0(e){var t=e[oa];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:j9(e)?2:T9(e)?3:0}function B$(e,t){return R0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aPt(e,t){return R0(e)===2?e.get(t):e[t]}function Hke(e,t,n){var r=R0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function lPt(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function j9(e){return fPt&&e instanceof Map}function T9(e){return hPt&&e instanceof Set}function Hh(e){return e.o||e.t}function A9(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=mPt(e);delete t[oa];for(var n=P9(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function D9(e,t){return t===void 0&&(t=!1),I9(e)||Hp(e)||!Up(e)||(R0(e)>1&&(e.set=e.add=e.clear=e.delete=cPt),Object.freeze(e),t&&ix(e,function(n,r){return D9(r,!0)},!0)),e}function cPt(){cl(2)}function I9(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function xc(e){var t=gPt[e];return t||cl(18,e),t}function DZ(){return sx}function vO(e,t){t&&(xc("Patches"),e.u=[],e.s=[],e.v=t)}function yk(e){N$(e),e.p.forEach(uPt),e.p=null}function N$(e){e===sx&&(sx=e.l)}function IZ(e){return sx={p:[],l:sx,h:e,m:!0,_:0}}function uPt(e){var t=e[oa];t.i===0||t.i===1?t.j():t.g=!0}function yO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||xc("ES5").S(t,e,r),r?(n[oa].P&&(yk(t),cl(4)),Up(e)&&(e=bk(t,e),t.l||xk(t,e)),t.u&&xc("Patches").M(n[oa].t,e,t.u,t.s)):e=bk(t,n,[]),yk(t),t.u&&t.v(t.u,t.s),e!==Uke?e:void 0}function bk(e,t,n){if(I9(t))return t;var r=t[oa];if(!r)return ix(t,function(a,c){return OZ(e,r,t,a,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return xk(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=A9(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),ix(i,function(a,c){return OZ(e,r,o,a,c,n,s)}),xk(e,o,!1),n&&e.u&&xc("Patches").N(r,n,e.u,e.s)}return r.o}function OZ(e,t,n,r,o,i,s){if(Hp(o)){var a=bk(e,o,i&&t&&t.i!==3&&!B$(t.R,r)?i.concat(r):void 0);if(Hke(n,r,a),!Hp(a))return;e.m=!1}else s&&n.add(o);if(Up(o)&&!I9(o)){if(!e.h.D&&e._<1)return;bk(e,o),t&&t.A.l||xk(e,o)}}function xk(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&D9(t,n)}function bO(e,t){var n=e[oa];return(n?Hh(n):e)[t]}function PZ(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function z$(e){e.P||(e.P=!0,e.l&&z$(e.l))}function xO(e){e.o||(e.o=A9(e.t))}function V$(e,t,n){var r=j9(t)?xc("MapSet").F(t,n):T9(t)?xc("MapSet").T(t,n):e.O?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:DZ(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},c=a,u=H$;s&&(c=[a],u=by);var d=Proxy.revocable(c,u),f=d.revoke,p=d.proxy;return a.k=p,a.j=f,p}(t,n):xc("ES5").J(t,n);return(n?n.A:DZ()).p.push(r),r}function dPt(e){return Hp(e)||cl(22,e),function t(n){if(!Up(n))return n;var r,o=n[oa],i=R0(n);if(o){if(!o.P&&(o.i<4||!xc("ES5").K(o)))return o.t;o.I=!0,r=RZ(n,i),o.I=!1}else r=RZ(n,i);return ix(r,function(s,a){o&&aPt(o.t,s)===a||Hke(r,s,t(a))}),i===3?new Set(r):r}(e)}function RZ(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return A9(e)}var $Z,sx,O9=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",fPt=typeof Map<"u",hPt=typeof Set<"u",MZ=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Uke=O9?Symbol.for("immer-nothing"):(($Z={})["immer-nothing"]=!0,$Z),FZ=O9?Symbol.for("immer-draftable"):"__$immer_draftable",oa=O9?Symbol.for("immer-state"):"__$immer_state",pPt=""+Object.prototype.constructor,P9=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,mPt=Object.getOwnPropertyDescriptors||function(e){var t={};return P9(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},gPt={},H$={get:function(e,t){if(t===oa)return e;var n=Hh(e);if(!B$(n,t))return function(o,i,s){var a,c=PZ(i,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Up(r)?r:r===bO(e.t,t)?(xO(e),e.o[t]=V$(e.A.h,r,e)):r},has:function(e,t){return t in Hh(e)},ownKeys:function(e){return Reflect.ownKeys(Hh(e))},set:function(e,t,n){var r=PZ(Hh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=bO(Hh(e),t),i=o==null?void 0:o[oa];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(lPt(n,o)&&(n!==void 0||B$(e.t,t)))return!0;xO(e),z$(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return bO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,xO(e),z$(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Hh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){cl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){cl(12)}},by={};ix(H$,function(e,t){by[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),by.deleteProperty=function(e,t){return by.set.call(this,e,t,void 0)},by.set=function(e,t,n){return H$.set.call(this,e[0],t,n,e[0])};var vPt=function(){function e(n){var r=this;this.O=MZ,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var c=r;return function(g){var b=this;g===void 0&&(g=a);for(var x=arguments.length,y=Array(x>1?x-1:0),w=1;w<x;w++)y[w-1]=arguments[w];return c.produce(g,function(C){var _;return(_=i).call.apply(_,[b,C].concat(y))})}}var u;if(typeof i!="function"&&cl(6),s!==void 0&&typeof s!="function"&&cl(7),Up(o)){var d=IZ(r),f=V$(r,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?yk(d):N$(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return vO(d,s),yO(g,d)},function(g){throw yk(d),g}):(vO(d,s),yO(u,d))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===Uke&&(u=void 0),r.D&&D9(u,!0),s){var m=[],v=[];xc("Patches").M(o,u,m,v),s(m,v)}return u}cl(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,c=r.produce(o,i,function(u,d){s=u,a=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Up(n)||cl(8),Hp(n)&&(n=dPt(n));var r=IZ(this),o=V$(this,n,void 0);return o[oa].C=!0,N$(r),o},t.finishDraft=function(n,r){var o=n&&n[oa],i=o.A;return vO(i,r),yO(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!MZ&&cl(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=xc("Patches").$;return Hp(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),ia=new vPt,R9=ia.produce;ia.produceWithPatches.bind(ia);ia.setAutoFreeze.bind(ia);ia.setUseProxies.bind(ia);ia.applyPatches.bind(ia);var LZ=ia.createDraft.bind(ia),BZ=ia.finishDraft.bind(ia),yPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ne.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},bPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=It.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},xPt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},wk=new WeakMap,Ck=new WeakMap,ab=new WeakMap,Wke=new WeakMap,NZ=new WeakMap,zZ=new WeakMap,VZ=new WeakMap,ne={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=ne.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return ne.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return ne.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return ne.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return ne.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&ne.compare(e,t)===0},isBefore(e,t){return ne.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&ne.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&ne.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&ne.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&ne.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&ne.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ne.isAncestor(t,e)&&!ne.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(ne.equals(i,r)||ne.endsBefore(i,r)||ne.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(ne.equals(s,r)||ne.isAncestor(s,r))return null;ne.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;ne.equals(a,r)||ne.endsBefore(a,r)?r[a.length-1]-=1:ne.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(ne.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else ne.endsBefore(u,r)?r[u.length-1]+=1:ne.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(ne.equals(f,p))return r;if(ne.isAncestor(f,r)||ne.equals(f,r)){var m=p.slice();return ne.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else ne.isSibling(f,p)&&(ne.isAncestor(p,r)||ne.equals(p,r))?ne.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:ne.endsBefore(p,r)||ne.equals(p,r)||ne.isAncestor(p,r)?(ne.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):ne.endsBefore(f,r)&&(ne.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var wPt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=je.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of ue.points(t))t[c]=It.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=je.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,b]of ue.points(t))t[b]=It.transform(g,n);break}case"merge_node":{var{path:x}=n,y=je.get(e,x),w=ne.previous(x),C=je.get(e,w),_=je.parent(e,x),S=x[x.length-1];if(Ee.isText(y)&&Ee.isText(C))C.text+=y.text;else if(!Ee.isText(y)&&!Ee.isText(C))C.children.push(...y.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Oo.stringify(y)," ").concat(Oo.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=It.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(ne.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=je.get(e,k),D=je.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var O=ne.transform(k,n),$=je.get(e,ne.parent(O)),R=O[O.length-1];if($.children.splice(R,0,A),t)for(var[V,M]of ue.points(t))t[M]=It.transform(V,n);break}case"remove_node":{var{path:H}=n,q=H[H.length-1],U=je.parent(e,H);if(U.children.splice(q,1),t)for(var[W,Q]of ue.points(t)){var N=It.transform(W,n);if(t!=null&&N!=null)t[Q]=N;else{var K=void 0,z=void 0;for(var[Z,G]of je.texts(e))if(ne.compare(G,H)===-1)K=[Z,G];else{z=[Z,G];break}var J=!1;K&&z&&(ne.equals(z[1],H)?J=!ne.hasPrevious(z[1]):J=ne.common(K[1],H).length<ne.common(z[1],H).length),K&&!J?(W.path=K[1],W.offset=K[0].text.length):z?(W.path=z[1],W.offset=0):t=null}}break}case"remove_text":{var{path:X,offset:ee,text:oe}=n;if(oe.length===0)break;var de=je.leaf(e,X),le=de.text.slice(0,ee),ve=de.text.slice(ee+oe.length);if(de.text=le+ve,t)for(var[Ce,be]of ue.points(t))t[be]=It.transform(Ce,n);break}case"set_node":{var{path:me,properties:Ie,newProperties:Se}=n;if(me.length===0)throw new Error("Cannot set properties on the root node!");var ot=je.get(e,me);for(var Ze in Se){if(Ze==="children"||Ze==="text")throw new Error('Cannot set the "'.concat(Ze,'" property of nodes!'));var it=Se[Ze];it==null?delete ot[Ze]:ot[Ze]=it}for(var _e in Ie)Se.hasOwnProperty(_e)||delete ot[_e];break}case"set_selection":{var{newProperties:he}=n;if(he==null)t=he;else{if(t==null){if(!ue.isRange(he))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Oo.stringify(he)," when there is no current selection."));t=$1({},he)}for(var He in he){var Ye=he[He];if(Ye==null){if(He==="anchor"||He==="focus")throw new Error('Cannot remove the "'.concat(He,'" selection property'));delete t[He]}else t[He]=Ye}}break}case"split_node":{var{path:Me,position:Ct,properties:Tt}=n;if(Me.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Me,"] because the root node cannot be split."));var Et=je.get(e,Me),Zt=je.parent(e,Me),Mi=Me[Me.length-1],is;if(Ee.isText(Et)){var Ds=Et.text.slice(0,Ct),Wt=Et.text.slice(Ct);Et.text=Ds,is=$1($1({},Tt),{},{text:Wt})}else{var Ur=Et.children.slice(0,Ct),Hl=Et.children.slice(Ct);Et.children=Ur,is=$1($1({},Tt),{},{children:Hl})}if(Zt.children.splice(Mi+1,0,is),t)for(var[el,ii]of ue.points(t))t[ii]=It.transform(el,n);break}}return t},CPt={transform(e,t){e.children=LZ(e.children);var n=e.selection&&LZ(e.selection);try{n=wPt(e,n,t)}finally{e.children=BZ(e.children),n?e.selection=Hp(n)?BZ(n):n:e.selection=null}}},_Pt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},SPt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},Yke=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(vi(r)&&vi(o)){if(!Yke(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function EPt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function zu(e,t){if(e==null)return{};var n=EPt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var kPt=["anchor","focus"];function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jPt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return It.equals(e.anchor,t.anchor)&&It.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return It.isBefore(n,o)&&It.isAfter(r,i)}var[s,a]=ue.edges(e),c=!1,u=!1;return It.isPoint(t)?(c=It.compare(t,s)>=0,u=It.compare(t,a)<=0):(c=ne.compare(t,s.path)>=0,u=ne.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=zu(e,kPt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=It.isBefore(r,i)?i:r,c=It.isBefore(o,s)?o:s;return It.isBefore(c,a)?null:jPt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return It.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return It.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return vi(e)&&It.isPoint(e.anchor)&&It.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=It.transform(r.anchor,t,{affinity:i}),u=It.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},WZ=e=>vi(e)&&je.isNodeList(e.children)&&!L.isEditor(e),Re={isAncestor(e){return vi(e)&&je.isNodeList(e.children)},isElement:WZ,isElementList(e){return Array.isArray(e)&&e.every(t=>Re.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return WZ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},TPt=["children"],APt=["text"],YZ=new WeakMap,je={ancestor(e,t){var n=je.get(e,t);if(Ee.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Oo.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of ne.ancestors(t,n)){var o=je.ancestor(e,r),i=[o,r];yield i}},child(e,t){if(Ee.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Oo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Oo.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:r=!1}=n,o=je.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=je.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}},common(e,t,n){var r=ne.common(t,n),o=je.get(e,r);return[o,r]},descendant(e,t){var n=je.get(e,t);if(L.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Oo.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of je.nodes(e,t))r.length!==0&&(yield[n,r])},*elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of je.nodes(e,t))Re.isElement(n)&&(yield[n,r])},extractProps(e){if(Re.isAncestor(e)){var t=zu(e,TPt);return t}else{var t=zu(e,APt);return t}},first(e,t){for(var n=t.slice(),r=je.get(e,n);r&&!(Ee.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(Ee.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Oo.stringify(e)));var n=R9({children:e.children},r=>{var[o,i]=ue.edges(t),s=je.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var c=je.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(ne.equals(a,i.path)){var d=je.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(ne.equals(a,o.path)){var f=je.leaf(r,a);f.text=f.text.slice(o.offset)}}L.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Ee.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Oo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(Ee.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return Ee.isText(e)||Re.isElement(e)||L.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=YZ.get(e);if(t!==void 0)return t;var n=e.every(r=>je.isNode(r));return YZ.set(e,n),n},last(e,t){for(var n=t.slice(),r=je.get(e,n);r&&!(Ee.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=je.get(e,t);if(!Ee.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Oo.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var r of ne.levels(t,n)){var o=je.get(e,r);yield[o,r]}},matches(e,t){return Re.isElement(e)&&Re.isElementProps(t)&&Re.matches(e,t)||Ee.isText(e)&&Ee.isTextProps(t)&&Ee.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?ne.isBefore(a,i):ne.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!Ee.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;ne.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=je.get(e,a);continue}if(a.length===0)break;if(!r){var d=ne.next(a);if(je.has(e,d)){a=d,c=je.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=ne.previous(a);a=f,c=je.get(e,a);continue}a=ne.parent(a),c=je.get(e,a),s.add(c)}},parent(e,t){var n=ne.parent(t),r=je.get(e,n);if(Ee.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return Ee.isText(e)?e.text:e.children.map(je.string).join("")},*texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[n,r]of je.nodes(e,t))Ee.isText(n)&&(yield[n,r])}};function qZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Lg={isNodeOperation(e){return Lg.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!vi(e))return!1;switch(e.type){case"insert_node":return ne.isPath(e.path)&&je.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ne.isPath(e.path);case"merge_node":return typeof e.position=="number"&&ne.isPath(e.path)&&vi(e.properties);case"move_node":return ne.isPath(e.path)&&ne.isPath(e.newPath);case"remove_node":return ne.isPath(e.path)&&je.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ne.isPath(e.path);case"set_node":return ne.isPath(e.path)&&vi(e.properties)&&vi(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||vi(e.properties)&&vi(e.newProperties);case"split_node":return ne.isPath(e.path)&&typeof e.position=="number"&&vi(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Lg.isOperation(t))},isSelectionOperation(e){return Lg.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Lg.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return pr(pr({},e),{},{type:"remove_node"});case"insert_text":return pr(pr({},e),{},{type:"remove_text"});case"merge_node":return pr(pr({},e),{},{type:"split_node",path:ne.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(ne.equals(t,n))return e;if(ne.isSibling(n,t))return pr(pr({},e),{},{path:t,newPath:n});var r=ne.transform(n,e),o=ne.transform(ne.next(n),e);return pr(pr({},e),{},{path:r,newPath:o})}case"remove_node":return pr(pr({},e),{},{type:"insert_node"});case"remove_text":return pr(pr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return pr(pr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?pr(pr({},e),{},{properties:c,newProperties:null}):c==null?pr(pr({},e),{},{properties:null,newProperties:a}):pr(pr({},e),{},{properties:c,newProperties:a})}case"split_node":return pr(pr({},e),{},{type:"merge_node",path:ne.next(e.path)})}}},GZ=new WeakMap,DPt=e=>{var t=GZ.get(e);if(t!==void 0)return t;if(!vi(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||vi(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&je.isNodeList(e.children)&&Lg.isOperationList(e.operations);return GZ.set(e,n),n},L={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return DPt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},IPt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(ne.isPath)}};function KZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ZZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var It={compare(e,t){var n=ne.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return It.compare(e,t)===1},isBefore(e,t){return It.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&ne.equals(e.path,t.path)},isPoint(e){return vi(e)&&typeof e.offset=="number"&&ne.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=ne.transform(i,t,n);break}case"insert_text":{ne.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{ne.equals(t.path,i)&&(r.offset+=t.position),r.path=ne.transform(i,t,n);break}case"remove_text":{ne.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(ne.equals(t.path,i)||ne.isAncestor(t.path,i))return null;r.path=ne.transform(i,t,n);break}case"split_node":{if(ne.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=ne.transform(i,t,ZZ(ZZ({},n),{},{affinity:"forward"})))}else r.path=ne.transform(i,t,n);break}}})}},XZ=void 0,Oo={setScrubber(e){XZ=e},stringify(e){return JSON.stringify(e,XZ)}},OPt=["text"],PPt=["anchor","focus"];function QZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ee={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=zu(i,OPt);return s}return Yke(r?o(e):e,r?o(t):t)},isText(e){return vi(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>Ee.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Gc({},e)];for(var r of t){var o=zu(r,PPt),[i,s]=ue.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,b=void 0;if(d<c){var x=d-m;b=Gc(Gc({},v),{},{text:v.text.slice(x)}),v=Gc(Gc({},v),{},{text:v.text.slice(0,x)})}if(u>m){var y=u-m;g=Gc(Gc({},v),{},{text:v.text.slice(0,y)}),v=Gc(Gc({},v),{},{text:v.text.slice(y)})}Object.assign(v,o),g&&a.push(g),a.push(v),b&&a.push(b)}n=a}return n}},$9=e=>e.selection?e.selection:e.children.length>0?L.end(e,[]):[0],$0=(e,t)=>{var[n]=L.node(e,t);return r=>r===n},M9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?BPt(t):t,i=gt.None,s=gt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=XPt(d,f);if([i,s]=r?[s,p]:[p,i],Bg(i,gt.ZWJ)&&Bg(s,gt.ExtPict)&&(r?c=JZ(t.substring(0,a)):c=JZ(t.substring(0,t.length-a)),!c)||Bg(i,gt.RI)&&Bg(s,gt.RI)&&(u!==null?u=!u:r?u=!0:u=n3t(t.substring(0,t.length-a)),!u)||i!==gt.None&&s!==gt.None&&JPt(i,s))break;a+=d.length}return a||1},RPt=/\s/,$Pt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,MPt=/['\u2018\u2019]/,FPt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=M9(t,n),[s,a]=F9(t,i,n);if(LPt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},F9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},LPt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(RPt.test(t))return!1;if(MPt.test(t)){var o=M9(n,r),[i,s]=F9(n,o,r);if(e(i,s,r))return!0}return!$Pt.test(t)},BPt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(zPt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(NPt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},NPt=e=>e>=55296&&e<=56319,zPt=e=>e>=56320&&e<=57343,gt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(gt||(gt={}));var VPt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,HPt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,UPt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,WPt=/^[\u1100-\u115F\uA960-\uA97C]$/,YPt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,qPt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,GPt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,KPt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,ZPt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,XPt=(e,t)=>{var n=gt.Any;return e.search(VPt)!==-1&&(n|=gt.Extend),t===8205&&(n|=gt.ZWJ),t>=127462&&t<=127487&&(n|=gt.RI),e.search(HPt)!==-1&&(n|=gt.Prepend),e.search(UPt)!==-1&&(n|=gt.SpacingMark),e.search(WPt)!==-1&&(n|=gt.L),e.search(YPt)!==-1&&(n|=gt.V),e.search(qPt)!==-1&&(n|=gt.T),e.search(GPt)!==-1&&(n|=gt.LV),e.search(KPt)!==-1&&(n|=gt.LVT),e.search(ZPt)!==-1&&(n|=gt.ExtPict),n};function Bg(e,t){return(e&t)!==0}var QPt=[[gt.L,gt.L|gt.V|gt.LV|gt.LVT],[gt.LV|gt.V,gt.V|gt.T],[gt.LVT|gt.T,gt.T],[gt.Any,gt.Extend|gt.ZWJ],[gt.Any,gt.SpacingMark],[gt.Prepend,gt.Any],[gt.ZWJ,gt.ExtPict],[gt.RI,gt.RI]];function JPt(e,t){return QPt.findIndex(n=>Bg(e,n[0])&&Bg(t,n[1]))===-1}var e3t=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,JZ=e=>e.search(e3t)!==-1,t3t=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,n3t=e=>{var t=e.match(t3t);if(t===null)return!1;var n=t[0].length/2;return n%2===1},r3t={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=$9(e)}=n;if(ne.isPath(o)&&(o=L.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&L.void(e,{at:i}))return;var s=ue.start(o),a=L.pointRef(e,s),c=L.pointRef(e,i);ae.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,ae.setSelection(e,{anchor:o,focus:o})}if(!(!r&&L.void(e,{at:o})||L.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function f_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ae=f_(f_(f_(f_({},CPt),_Pt),SPt),r3t),o3t=(e,t)=>{for(var n of L.pathRefs(e))yPt.transform(n,t);for(var r of L.pointRefs(e))bPt.transform(r,t);for(var o of L.rangeRefs(e))xPt.transform(o,t);var i=wk.get(e)||[],s=Ck.get(e)||new Set,a,c,u=v=>{if(v){var g=v.join(",");c.has(g)||(c.add(g),a.push(v))}};if(ne.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=ne.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);wk.set(e,a),Ck.set(e,c),ae.transform(e,t),e.operations.push(t),L.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),ab.get(e)||(ab.set(e,!0),Promise.resolve().then(()=>{ab.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},i3t=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return ne.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=ne.levels(o),s=Ee.isText(r)?[]:Array.from(je.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=ne.ancestors(a),u=ne.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(ne.equals(d,f))return[];var p=[],m=[];for(var v of ne.ancestors(d)){var g=ne.transform(v,t);p.push(g)}for(var b of ne.ancestors(f)){var x=ne.transform(b,t);m.push(x)}var y=m[m.length-1],w=f[f.length-1],C=y.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=ne.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=ne.levels(E),k=ne.next(E);return[...j,k]}default:return[]}},s3t=e=>{var{selection:t}=e;return t?je.fragment(e,t):[]},a3t=(e,t)=>{var[n,r]=t;if(!Ee.isText(n)){if(Re.isElement(n)&&n.children.length===0){var o={text:""};ae.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=L.isEditor(n)?!1:Re.isElement(n)&&(e.isInline(n)||n.children.length===0||Ee.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=je.get(e,r);if(!Ee.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=Ee.isText(u)||Re.isElement(u)&&e.isInline(u);if(p!==i)ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Re.isElement(u)){if(e.isInline(u)){if(d==null||!Ee.isText(d)){var m={text:""};ae.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};ae.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&Ee.isText(d)&&(Ee.equals(u,d,{loose:!0})?(ae.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(ae.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},l3t=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},c3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=L.path(t,i),c=o==="lowest";for(var[u,d]of L.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!Ee.isText(u)){if(ue.isRange(i)){if(ne.isAncestor(d,i.anchor.path)&&ne.isAncestor(d,i.focus.path))return[u,d]}else if(!ne.equals(a,d))return[u,d]}}};function tX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function nX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var u3t=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!Ee.isText(f))return!1;var[m,v]=L.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,c]=L.node(e,r);if(a&&o(a,c)){var[u]=L.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)ae.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=nX(nX({},L.marks(e)||{}),{},{[t]:n});e.marks=d,ab.get(e)||e.onChange()}}};function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var d3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.point(t,n,{edge:"end"}),i=L.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of L.positions(t,oX(oX({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function iX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var f3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.start(t,[]),i=L.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of L.positions(t,sX(sX({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},h3t=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&ae.delete(e,{unit:t,reverse:!0})},p3t=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&ae.delete(e,{unit:t})},m3t=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&ae.delete(t,{reverse:n==="backward"})},g3t=(e,t)=>[L.start(e,t),L.end(e,t)];function aX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var v3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L.above(t,lX(lX({},n),{},{match:r=>Re.isElement(r)&&L.isElementReadOnly(t,r)}))},y3t=(e,t)=>L.point(e,t,{edge:"end"}),b3t=(e,t)=>{var n=L.path(e,t,{edge:"start"});return L.node(e,n)},x3t=(e,t)=>{var n=L.range(e,t);return je.fragment(e,n)};function cX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function uX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var w3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L.above(t,uX(uX({},n),{},{match:r=>Re.isElement(r)&&L.isVoid(t,r)}))},C3t=(e,t)=>t.children.some(n=>Re.isElement(n)&&L.isBlock(e,n)),_3t=(e,t)=>t.children.some(n=>Ee.isText(n)||L.isInline(e,n)),S3t=(e,t)=>je.has(e,t),E3t=(e,t)=>t.children.every(n=>Ee.isText(n)),k3t=e=>{ae.splitNodes(e,{always:!0})},j3t=(e,t,n)=>{ae.insertNodes(e,t,n)},T3t=e=>{ae.splitNodes(e,{always:!0})};function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A3t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var D3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=A3t({text:n},i);ae.insertNodes(t,s,{at:r.at,voids:r.voids})}else ae.insertText(t,n,r);t.marks=null}},I3t=(e,t)=>!e.isInline(t),O3t=(e,t,n)=>L.isStart(e,t,n)||L.isEnd(e,t,n),P3t=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&Ee.isText(r)&&r.text===""&&!e.isVoid(t)},R3t=(e,t,n)=>{var r=L.end(e,n);return It.equals(t,r)},$3t=e=>{var t=Wke.get(e);return t===void 0?!0:t},M3t=(e,t,n)=>{if(t.offset!==0)return!1;var r=L.start(e,n);return It.equals(t,r)},F3t=(e,t)=>{var n=L.path(e,t,{edge:"end"});return L.node(e,n)},L3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.path(t,n,r),i=je.leaf(t,o);return[i,o]};function*B3t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=L.path(e,n);for(var[c,u]of je.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Re.isElement(c)&&L.isVoid(e,c)))break;r&&s.reverse(),yield*s}}var N3t=["text"],z3t=["text"],V3t=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=L.nodes(t,{match:Ee.isText});if(o){var[i]=o,s=zu(i,N3t);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=L.leaf(t,c);if(a.offset===0){var d=L.previous(t,{at:c,match:Ee.isText}),f=L.above(t,{match:x=>Re.isElement(x)&&L.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=L.above(t,{match:x=>Re.isElement(x)&&L.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;ne.isAncestor(g,v)&&(u=m)}}}var b=zu(u,z3t);return b},H3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=L.after(t,s,{voids:o});if(a){var[,c]=L.last(t,[]),u=[a.path,c];if(ne.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(ne.isPath(s)){var[d]=L.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=L.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},U3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.path(t,n,r),i=je.get(t,o);return[i,o]};function*W3t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if(IPt.isSpan(n))u=n[0],d=n[1];else{var f=L.path(e,n,{edge:"start"}),p=L.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=je.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Re.isElement(_)?!!(!s&&(L.isVoid(e,_)||L.isElementReadOnly(e,_))||a&&!L.isSelectable(e,_)):!1}}),v=[],g;for(var[b,x]of m)if(!(a&&Re.isElement(b)&&!L.isSelectable(e,b))){var y=g&&ne.compare(x,g[1])===0;if(!(r==="highest"&&y)){if(!c(b,x)){if(o&&!y&&Ee.isText(b))return;continue}if(r==="lowest"&&y){g=[b,x];continue}var w=r==="lowest"?g:[b,x];w&&(o?v.push(w):yield w),g=[b,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}var Y3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>wk.get(d)||[],s=d=>Ck.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(L.isNormalizing(t)){if(r){var c=Array.from(je.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));wk.set(t,c),Ck.set(t,u)}i(t).length!==0&&L.withoutNormalizing(t,()=>{for(var d of i(t))if(je.has(t,d)){var f=L.node(t,d),[p,m]=f;Re.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,b=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:b,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(je.has(t,x)){var y=L.node(t,x);t.normalizeNode(y,{operation:o})}b++,v=i(t)}})}},q3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=L.path(t,n,r),i=ne.parent(o),s=L.node(t,i);return s},G3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=L.pathRefs(t);return c.delete(i),i.current=null,a}},s=L.pathRefs(t);return s.add(i),i},K3t=e=>{var t=NZ.get(e);return t||(t=new Set,NZ.set(e,t)),t},Z3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(ne.isPath(n)){if(i==="start"){var[,s]=je.first(t,n);n=s}else if(i==="end"){var[,a]=je.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=ne.common(n.anchor.path,n.focus.path)),It.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},X3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=L.pointRefs(t);return c.delete(i),i.current=null,a}},s=L.pointRefs(t);return s.add(i),i},Q3t=e=>{var t=zZ.get(e);return t||(t=new Set,zZ.set(e,t)),t},J3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(ne.isPath(n)){var i;if(o==="end"){var[,s]=je.last(t,n);i=s}else{var[,a]=je.first(t,n);i=a}var c=je.get(t,i);if(!Ee.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function*eRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=L.range(e,n),[c,u]=ue.edges(a),d=o?u:c,f=!1,p="",m=0,v=0,g=0;for(var[b,x]of L.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Re.isElement(b)){if(!i&&(e.isVoid(b)||e.isElementReadOnly(b))){yield L.start(e,x);continue}if(e.isInline(b))continue;if(L.hasInlines(e,b)){var y=ne.isAncestor(x,u.path)?u:L.end(e,x),w=ne.isAncestor(x,c.path)?c:L.start(e,x);p=L.string(e,{anchor:w,focus:y},{voids:i}),f=!0}}if(Ee.isText(b)){var C=ne.equals(x,d.path);for(C?(v=o?d.offset:b.text.length-d.offset,g=d.offset):(v=b.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=F9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?M9(S,j):E==="word"?FPt(S,j):E==="line"||E==="block"?S.length:1}}var tRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=L.before(t,s,{voids:o});if(a){var[,c]=L.first(t,[]),u=[a.path,c];if(ne.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(ne.isPath(s)){var[d]=L.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=L.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},nRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=L.rangeRefs(t);return c.delete(i),i.current=null,a}},s=L.rangeRefs(t);return s.add(i),i},rRt=e=>{var t=VZ.get(e);return t||(t=new Set,VZ.set(e,t)),t},oRt=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=L.start(e,t),o=L.end(e,n||t);return{anchor:r,focus:o}};function fX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function iRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sRt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!Ee.isText(d))return!1;var[p,m]=L.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=L.node(e,n);if(s&&r(s,a)){var[c]=L.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)ae.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=iRt({},L.marks(e)||{});delete u[t],e.marks=u,ab.get(e)||e.onChange()}}},aRt=(e,t)=>{Wke.set(e,t)},lRt=(e,t)=>L.point(e,t,{edge:"start"}),cRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=L.range(t,n),[s,a]=ue.edges(i),c="";for(var[u,d]of L.nodes(t,{at:i,match:Ee.isText,voids:o})){var f=u.text;ne.equals(d,a.path)&&(f=f.slice(0,a.offset)),ne.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},uRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||ne.hasPrevious(s.path))return n;var a=L.above(t,{at:s,match:v=>Re.isElement(v)&&L.isBlock(t,v),voids:o}),c=a?a[1]:[],u=L.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of L.nodes(t,{at:d,match:Ee.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||ne.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},dRt=(e,t)=>{var n=L.isNormalizing(e);L.setNormalizing(e,!1);try{t()}finally{L.setNormalizing(e,n)}L.normalize(e)},fRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),It.isPoint(u)){var p=L.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?L.before(t,u,v)||L.start(t,[]):L.after(t,u,v)||L.end(t,[]);u={anchor:u,focus:g},d=!0}}if(ne.isPath(u)){ae.removeNodes(t,{at:u,voids:c});return}if(!ue.isCollapsed(u)){if(!d){var[,b]=ue.edges(u),x=L.end(t,[]);It.equals(b,x)||(u=L.unhangRange(t,u,{voids:c}))}var[y,w]=ue.edges(u),C=L.above(t,{match:le=>Re.isElement(le)&&L.isBlock(t,le),at:y,voids:c}),_=L.above(t,{match:le=>Re.isElement(le)&&L.isBlock(t,le),at:w,voids:c}),S=C&&_&&!ne.equals(C[1],_[1]),E=ne.equals(y.path,w.path),j=c?null:(r=L.void(t,{at:y,mode:"highest"}))!==null&&r!==void 0?r:L.elementReadOnly(t,{at:y,mode:"highest"}),k=c?null:(o=L.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:L.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=L.before(t,y);T&&C&&ne.isAncestor(C[1],T.path)&&(y=T)}if(k){var A=L.after(t,w);A&&_&&ne.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var O of L.nodes(t,{at:u,voids:c})){var[$,R]=O;I&&ne.compare(R,I)===0||(!c&&Re.isElement($)&&(L.isVoid(t,$)||L.isElementReadOnly(t,$))||!ne.isCommon(R,y.path)&&!ne.isCommon(R,w.path))&&(D.push(O),I=R)}var V=Array.from(D,le=>{var[,ve]=le;return L.pathRef(t,ve)}),M=L.pointRef(t,y),H=L.pointRef(t,w),q="";if(!E&&!j){var U=M.current,[W]=L.leaf(t,U),{path:Q}=U,{offset:N}=y,K=W.text.slice(N);K.length>0&&(t.apply({type:"remove_text",path:Q,offset:N,text:K}),q=K)}if(V.reverse().map(le=>le.unref()).filter(le=>le!==null).forEach(le=>ae.removeNodes(t,{at:le,voids:c})),!k){var z=H.current,[Z]=L.leaf(t,z),{path:G}=z,J=E?y.offset:0,X=Z.text.slice(J,w.offset);X.length>0&&(t.apply({type:"remove_text",path:G,offset:J,text:X}),q=X)}!E&&S&&H.current&&M.current&&ae.mergeNodes(t,{at:H.current,hanging:!0,voids:c}),f&&i&&s==="character"&&q.length>1&&q.match(/[\u0E00-\u0E7F]+/)&&ae.insertText(t,q.slice(0,q.length-a));var ee=M.unref(),oe=H.unref(),de=i?ee||oe:oe||ee;n.at==null&&de&&ae.select(t,de)}}})},hRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=$9(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=L.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&L.void(t,{at:a}))return;var c=L.pointRef(t,a);ae.delete(t,{at:s}),s=c.unref()}else ne.isPath(s)&&(s=L.start(t,s));if(!(!i&&L.void(t,{at:s}))){var u=L.above(t,{at:s,match:N=>Re.isElement(N)&&L.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(L.isEnd(t,s,d)){var f=L.after(t,d);s=f}else if(L.isStart(t,s,d)){var p=L.before(t,d);s=p}}var m=L.above(t,{match:N=>Re.isElement(N)&&L.isBlock(t,N),at:s,voids:i}),[,v]=m,g=L.isStart(t,s,v),b=L.isEnd(t,s,v),x=g&&b,y=!g||g&&b,w=!b,[,C]=je.first({children:n},[]),[,_]=je.last({children:n},[]),S=[],E=N=>{var[K,z]=N,Z=z.length===0;return Z?!1:x?!0:!(y&&ne.isAncestor(z,C)&&Re.isElement(K)&&!t.isVoid(K)&&!t.isInline(K)||w&&ne.isAncestor(z,_)&&Re.isElement(K)&&!t.isVoid(K)&&!t.isInline(K))};for(var j of je.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[O]of S)Re.isElement(O)&&!t.isInline(O)?(D=!1,I=!0,T.push(O)):D?k.push(O):A.push(O);var[$]=L.nodes(t,{at:s,match:N=>Ee.isText(N)||L.isInline(t,N),mode:"highest",voids:i}),[,R]=$,V=L.isStart(t,s,R),M=L.isEnd(t,s,R),H=L.pathRef(t,b&&!A.length?ne.next(v):v),q=L.pathRef(t,M?ne.next(R):R);ae.splitNodes(t,{at:s,match:N=>I?Re.isElement(N)&&L.isBlock(t,N):Ee.isText(N)||L.isInline(t,N),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!b||A.length>0),voids:i});var U=L.pathRef(t,!V||V&&M?ne.next(R):R);if(ae.insertNodes(t,k,{at:U.current,match:N=>Ee.isText(N)||L.isInline(t,N),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&ae.delete(t,{at:v,voids:i}),ae.insertNodes(t,T,{at:H.current,match:N=>Re.isElement(N)&&L.isBlock(t,N),mode:"lowest",voids:i}),ae.insertNodes(t,A,{at:q.current,match:N=>Ee.isText(N)||L.isInline(t,N),mode:"highest",voids:i}),!r.at){var W;if(A.length>0&&q.current?W=ne.previous(q.current):T.length>0&&H.current?W=ne.previous(H.current):U.current&&(W=ne.previous(U.current)),W){var Q=L.end(t,W);ae.select(t,Q)}}U.unref(),H.unref(),q.unref()}}})},pRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")ae.select(t,o.anchor);else if(r==="focus")ae.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);ae.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);ae.select(t,s)}}else return},mRt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},gRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?L.before(t,c,d):L.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?L.before(t,u,d):L.after(t,u,d);m&&(f.focus=m)}ae.setSelection(t,f)}},vRt=(e,t)=>{var{selection:n}=e;if(t=L.range(e,t),n){ae.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Oo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function hX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var yRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;ae.setSelection(t,{[i==="anchor"?"anchor":"focus"]:pX(pX({},c),n)})}},bRt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!It.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!It.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},xRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(je.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=$9(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=L.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=L.pointRef(t,f);ae.delete(t,{at:a}),a=p.unref()}if(It.isPoint(a)){c==null&&(Ee.isText(d)?c=E=>Ee.isText(E):t.isInline(d)?c=E=>Ee.isText(E)||L.isInline(t,E):c=E=>Re.isElement(E)&&L.isBlock(t,E));var[m]=L.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,v]=m,g=L.pathRef(t,v),b=L.isEnd(t,a,v);ae.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=g.unref();a=b?ne.next(x):x}else return}var y=ne.parent(a),w=a[a.length-1];if(!(!i&&L.void(t,{at:y}))){for(var C of n){var _=y.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=ne.next(a)}if(a=ne.previous(a),u){var S=L.end(t,a);S&&ae.select(t,S)}}}})},wRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=ne.isPath(r)?$0(t,r):C=>Re.isElement(C)&&L.isBlock(t,C)),!!r){var a=L.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,C=>{var[,_]=C;return L.pathRef(t,_)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=L.node(t,ne.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var b=ne.next(m);ae.moveNodes(t,{at:d,to:b,voids:i}),ae.removeNodes(t,{at:m,voids:i})}else if(v===0)ae.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=ne.next(m);ae.moveNodes(t,{at:d,to:x,voids:i})}else{var y=ne.next(d),w=ne.next(m);ae.splitNodes(t,{at:y,voids:i}),ae.moveNodes(t,{at:d,to:w,voids:i})}}}})},CRt=["text"],_Rt=["children"],qke=(e,t)=>{if(Re.isElement(t)){var n=t;return L.isVoid(e,t)?!0:n.children.length===1?qke(e,n.children[0]):!1}else return!L.isEditor(t)},SRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(ne.isPath(o)){var[c]=L.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Re.isElement(T)&&L.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=L.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=L.pointRef(t,u);ae.delete(t,{at:o}),o=d.unref(),n.at==null&&ae.select(t,o)}var[f]=L.nodes(t,{at:o,match:r,voids:s,mode:a}),p=L.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,b]=p;if(!(v.length===0||b.length===0)){var x=ne.next(b),y=ne.common(v,b),w=ne.isSibling(v,b),C=Array.from(L.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(y.length).slice(0,-1),_=L.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&qke(t,T)}),S=_&&L.pathRef(t,_[1]),E,j;if(Ee.isText(m)&&Ee.isText(g)){var k=zu(m,CRt);j=g.text.length,E=k}else if(Re.isElement(m)&&Re.isElement(g)){var k=zu(m,_Rt);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Oo.stringify(m)," ").concat(Oo.stringify(g)));w||ae.moveNodes(t,{at:v,to:x,voids:s}),S&&ae.removeNodes(t,{at:S.current,voids:s}),Re.isElement(g)&&L.isEmpty(t,g)||Ee.isText(g)&&g.text===""&&b[b.length-1]!==0?ae.removeNodes(t,{at:b,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},ERt=(e,t)=>{L.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=ne.isPath(r)?$0(e,r):m=>Re.isElement(m)&&L.isBlock(e,m));var a=L.pathRef(e,n),c=L.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,v]=m;return L.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&ne.isSibling(p,f)&&ne.isAfter(p,f)&&(a.current=ne.next(a.current))}a.unref()}})},kRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=ne.isPath(s)?$0(t,s):m=>Re.isElement(m)&&L.isBlock(t,m)),!r&&ue.isRange(s)&&(s=L.unhangRange(t,s,{voids:o}));var c=L.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,v]=m;return L.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=L.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},jRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=ne.isPath(i)?$0(t,i):j=>Re.isElement(j)&&L.isBlock(t,j)),!c&&ue.isRange(i)&&(i=L.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&L.leaf(t,i.anchor)[0].text.length>0)return;var p=L.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",b=L.isEnd(t,v,v.path);ae.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!b});var x=L.isStart(t,m,m.path);ae.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&ae.select(t,i)}s||(s=(j,k)=>j!==k);for(var[y,w]of L.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],y[E])&&(S=!0,y.hasOwnProperty(E)&&(C[E]=y[E]),a?n[E]!=null&&(_[E]=a(y[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},TRt=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=L.pointRef(e,n);return ae.delete(e,{at:t}),r.unref()},ARt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=H=>Re.isElement(H)&&L.isBlock(t,H)),ue.isRange(s)&&(s=TRt(t,s)),ne.isPath(s)){var u=s,d=L.point(t,u),[f]=L.parent(t,u);i=H=>H===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=L.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=L.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=L.void(t,{at:s,mode:"highest"}),b=0;if(!o&&g){var[x,y]=g;if(Re.isElement(x)&&t.isInline(x)){var w=L.after(t,y);if(!w){var C={text:""},_=ne.next(y);ae.insertNodes(t,C,{at:_,voids:o}),w=L.point(t,_)}s=w,c=!0}var S=s.path.length-y.length;a=S+1,c=!0}m=L.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+b;for(var[A,D]of L.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Re.isElement(A)&&L.isVoid(t,A))break;var O=p.current,$=L.isEnd(t,O,D);if(c||!p||!L.isEdge(t,O,D)){I=!0;var R=je.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:R})}T=D[D.length-1]+(I||$?1:0)}if(n.at==null){var V=m.current||L.end(t,[]);ae.select(t,V)}}finally{var M;p.unref(),(M=m)===null||M===void 0||M.unref()}}})},DRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;ae.setNodes(t,o,r)},IRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=ne.isPath(s)?$0(t,s):m=>Re.isElement(m)&&L.isBlock(t,m)),ne.isPath(s)&&(s=L.range(t,s));var c=ue.isRange(s)?L.rangeRef(t,s):null,u=L.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return L.pathRef(t,v)}).reverse(),f=function(v){var g=v.unref(),[b]=L.node(t,g),x=L.range(t,g);o&&c&&(x=ue.intersection(c.current,x)),ae.liftNodes(t,{at:x,match:y=>Re.isAncestor(b)&&b.children.includes(y),voids:i})};for(var p of d)f(p);c&&c.unref()}})};function mX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ORt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};L.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(ne.isPath(c)?a=$0(t,c):t.isInline(n)?a=x=>Re.isElement(x)&&L.isInline(t,x)||Ee.isText(x):a=x=>Re.isElement(x)&&L.isBlock(t,x)),i&&ue.isRange(c)){var[u,d]=ue.edges(c),f=L.rangeRef(t,c,{affinity:"inward"});ae.splitNodes(t,{at:d,match:a,voids:s}),ae.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&ae.select(t,c)}var p=Array.from(L.nodes(t,{at:c,match:t.isInline(n)?x=>Re.isElement(x)&&L.isBlock(t,x):x=>L.isEditor(x),mode:"lowest",voids:s}));for(var[,m]of p){var v=ue.isRange(c)?ue.intersection(c,L.range(t,m)):c;if(v){var g=Array.from(L.nodes(t,{at:v,match:a,mode:o,voids:s}));if(g.length>0){var b=function(){var[x]=g,y=g[g.length-1],[,w]=x,[,C]=y;if(w.length===0&&C.length===0)return"continue";var _=ne.equals(w,C)?ne.parent(w):ne.common(w,C),S=L.range(t,w,C),E=L.node(t,_),[j]=E,k=_.length+1,T=ne.next(C.slice(0,k)),A=gX(gX({},n),{},{children:[]});ae.insertNodes(t,A,{at:T,voids:s}),ae.moveNodes(t,{at:S,match:D=>Re.isAncestor(j)&&j.children.includes(D),to:T.concat(0),voids:s})}();if(b==="continue")continue}}}}})},PRt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o3t(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u3t(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h3t(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p3t(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m3t(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s3t(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k3t(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T3t(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hRt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j3t(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return D3t(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a3t(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sRt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i3t(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return l3t(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c3t(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d3t(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f3t(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pRt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fRt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mRt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g3t(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v3t(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return y3t(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b3t(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return x3t(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return V3t(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C3t(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _3t(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return S3t(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E3t(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xRt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return I3t(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return O3t(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P3t(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return R3t(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $3t(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M3t(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return F3t(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return L3t(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return B3t(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wRt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SRt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gRt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ERt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return H3t(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return U3t(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return W3t(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Y3t(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return q3t(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Z3t(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return G3t(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return K3t(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return J3t(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return X3t(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Q3t(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eRt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tRt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oRt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nRt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rRt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kRt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vRt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jRt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aRt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yRt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bRt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ARt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lRt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cRt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uRt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DRt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IRt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w3t(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dRt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ORt(e,...r)}};return e},ud={};Object.defineProperty(ud,"__esModule",{value:!0});var RRt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),wO={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},$Rt={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:RRt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Gke={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var h_=1;h_<20;h_++)Gke["f"+h_]=111+h_;function PT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return Kke(s,t)}),o=function(a){return r.some(function(c){return Zke(c,a)})},i=n==null?o:o(n);return i}function MRt(e,t){return PT(e,t)}function FRt(e,t){return PT(e,{byKey:!0},t)}function Kke(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in wO)r[wO[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=L9(p),g=wO[v];(i===1||!g)&&(n?r.key=v:r.which=Xke(p)),g&&(r[g]=m?null:!0)}}catch(b){c=!0,u=b}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function Zke(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function Xke(e){e=L9(e);var t=Gke[e]||e.toUpperCase().charCodeAt(0);return t}function L9(e){return e=e.toLowerCase(),e=$Rt[e]||e,e}var pi=ud.default=PT,CO=ud.isHotkey=PT;ud.isCodeHotkey=MRt;ud.isKeyHotkey=FRt;ud.parseHotkey=Kke;ud.compareHotkey=Zke;ud.toKeyCode=Xke;ud.toKeyName=L9;function RT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LRt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Hv(e,t){if(e==null)return{};var n=LRt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var B9=h.createContext(null),Bc=()=>{var e=h.useContext(B9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Qke=parseInt(ie.version.split(".")[0],10),BRt=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,vX=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),ys=typeof navigator<"u"&&/Android/.test(navigator.userAgent),lb=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),xy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),NRt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Jke=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),zRt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),VRt=ys&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),HRt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),URt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),WRt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent),eS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yd=(!zRt||!VRt)&&!NRt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",N9=new WeakMap,z9=new WeakMap,e5e=new WeakMap,tS=new WeakMap,U$=new WeakMap,ax=new WeakMap,Cp=new WeakMap,W$=new WeakMap,$T=new WeakMap,Y$=new WeakMap,np=new WeakMap,rp=new WeakMap,cb=new WeakMap,q$=new WeakMap,V9=new WeakMap,gl=new WeakMap,pu=new WeakMap,hs=new WeakMap,Dd=new WeakMap,Id=new WeakMap,t5e=new WeakMap,Uv=Symbol("placeholder"),n5e=Symbol("mark-placeholder"),YRt=globalThis.Text,H9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,qRt=e=>Lf(e)&&e.nodeType===8,ja=e=>Lf(e)&&e.nodeType===1,Lf=e=>{var t=H9(e);return!!t&&e instanceof t.Node},G$=e=>{var t=e&&e.anchorNode&&H9(e.anchorNode);return!!t&&e instanceof t.Selection},r5e=e=>Lf(e)&&e.nodeType===3,GRt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,KRt=e=>{var[t,n]=e;if(ja(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=o5e(t,o,r?"backward":"forward"),r=o<n;ja(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=XRt(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},ZRt=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},o5e=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(qRt(o)||ja(o)&&o.childNodes.length===0||ja(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},XRt=(e,t,n)=>{var[r]=o5e(e,t,n);return r},i5e=e=>{var t="";if(r5e(e)&&e.nodeValue)return e.nodeValue;if(ja(e)){for(var n of Array.from(e.childNodes))t+=i5e(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},QRt=/data-slate-fragment="(.+?)"/m,JRt=e=>{var t=e.getData("text/html"),[,n]=t.match(QRt)||[];return n},U9=(e,t,n)=>{var{target:r}=t;if(ja(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=ge.getWindow(e);if(o.contains(r))return ge.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:U9(e,i,n)},e$t=0;class t$t{constructor(){this.id="".concat(e$t++)}}var ge={androidPendingDiffs:e=>hs.get(e),androidScheduleFlush:e=>{var t;(t=V9.get(e))===null||t===void 0||t()},blur:e=>{var t=ge.toDOMNode(e,e),n=ge.findDocumentOrShadowRoot(e);np.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=ge.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&ae.deselect(e)},findDocumentOrShadowRoot:e=>{var t=ge.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=ge.toSlateNode(e,t.target),s=ge.findPath(e,i);if(Re.isElement(i)&&L.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=L.point(e,s,{edge:c?"start":"end"}),d=c?L.before(e,u):L.after(e,u);if(d){var f=L.range(e,d);return f}}var p,{document:m}=ge.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=ge.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=W$.get(t);return n||(n=new t$t,W$.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=z9.get(r);if(o==null){if(L.isEditor(r))return n;break}var i=N9.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Oo.stringify(t)))},focus:e=>{var t=ge.toDOMNode(e,e),n=ge.findDocumentOrShadowRoot(e);np.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:e=>{var t=e5e.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=ge.toDOMNode(t,t),s;try{s=ja(n)?n:n.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Lf(t)&&ge.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return L.hasPath(e,n.path)&&L.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>ge.hasEditableTarget(e,t)||ge.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Lf(t)&&ge.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!rp.get(e),isFocused:e=>!!np.get(e),isReadOnly:e=>!!Y$.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Y$.get(e))return!1;var n=ge.hasTarget(e,t)&&ge.toSlateNode(e,t);return Re.isElement(n)&&L.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=$T.get(e),r=L.isEditor(t)?tS.get(e):n==null?void 0:n.get(ge.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Oo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=L.node(e,t.path),r=ge.toDOMNode(e,n),o;L.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[c+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var b,x=g.childNodes[0];o=[x instanceof YRt?x:g,(b=g.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var y=Math.min(f,Math.max(0,t.offset-a));o=[d,y];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Oo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=ge.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:ge.toDOMPoint(e,r),a=ge.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=ja(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=ja(f)?f:f.parentElement,b=!!g.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:d),c.setEnd(f,b?1:p),c},toSlateNode:(e,t)=>{var n=ja(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?ax.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:KRt(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=ge.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),b=null;if(g){if(c=g.closest('[data-slate-node="text"]'),c){var x=ge.getWindow(e),y=x.document.createRange();y.setStart(c,0),y.setEnd(i,s);var w=y.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(O=>{if(ys&&!r&&O.hasAttribute("data-slate-zero-width")&&O.textContent.length>0&&O.textContext!=="\uFEFF"){O.textContent.startsWith("\uFEFF")&&(O.textContent=O.textContent.slice(1));return}O.parentNode.removeChild(O)}),u=w.textContent.length,b=c}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(ge.hasDOMNode(e,E)){g=E;break}}g?(c=g.closest('[data-slate-node="text"]'),b=g,u=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(O=>{u-=O.textContent.length})):u=1}b&&u===b.textContent.length&&ys&&b.getAttribute("data-slate-zero-width")==="z"&&(d=b.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||lb&&(f=b.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(ys&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&ge.hasDOMNode(e,j,{editable:!0})){var k=ge.toSlateNode(e,j),{path:T,offset:A}=L.start(e,ge.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=ge.toSlateNode(e,c),I=ge.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,i=G$(t)?t.anchorNode:t.startContainer,s,a,c,u,d;if(i)if(G$(t)){if(lb&&t.rangeCount>1){c=t.focusNode;var f=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);if(c instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let _=function(S){return S.childElementCount>0?_(S.children[0]):S};var m=f.startContainer,v=p.startContainer,g=_(m.children[f.startOffset]),b=_(v.children[p.startOffset]);u=0,b.childNodes.length>0?s=b.childNodes[0]:s=b,g.childNodes.length>0?c=g.childNodes[0]:c=g,b instanceof HTMLElement?a=b.innerHTML.length:a=0}else f.startContainer===c?(s=p.endContainer,a=p.endOffset,u=f.startOffset):(s=f.startContainer,a=f.endOffset,u=p.startOffset)}else s=t.anchorNode,a=t.anchorOffset,c=t.focusNode,u=t.focusOffset;Jke&&ZRt(s)||lb?d=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:d=t.isCollapsed}else s=t.startContainer,a=t.startOffset,c=t.endContainer,u=t.endOffset,d=t.collapsed;if(s==null||c==null||a==null||u==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if("getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var x;c=s,u=((x=s.textContent)===null||x===void 0?void 0:x.length)||0}var y=ge.toSlatePoint(e,[s,a],{exactMatch:r,suppressThrow:o});if(!y)return null;var w=d?y:ge.toSlatePoint(e,[c,u],{exactMatch:r,suppressThrow:o});if(!w)return null;var C={anchor:y,focus:w};return ue.isExpanded(C)&&ue.isForward(C)&&ja(c)&&L.void(e,{at:C.focus,mode:"highest"})&&(C=L.unhangRange(e,C,{voids:!0})),C}};function n$t(e,t){var{path:n,diff:r}=t;if(!L.hasPath(e,n))return!1;var o=je.get(e,n);if(!Ee.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=ne.next(n);if(!L.hasPath(e,i))return!1;var s=je.get(e,i);return Ee.isText(s)&&s.text.startsWith(r.text)}function s5e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function r$t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function o$t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function a5e(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=r$t(i,o),a=Math.min(i.length-s,o.length-s),c=o$t(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function i$t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=s5e(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return a5e(e,{start:r,end:c,text:a})}function s$t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function K$(e,t){var{path:n,offset:r}=t;if(!L.hasPath(e,n))return null;var o=je.get(e,n);if(!Ee.isText(o))return null;var i=L.above(e,{match:a=>Re.isElement(a)&&L.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=L.next(e,{at:n,match:Ee.isText});if(!s||!ne.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function yX(e,t){var n=K$(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=K$(e,t.focus);return r?{anchor:n,focus:r}:null}function Z$(e,t,n){var r=hs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return ne.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return It.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=It.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=It.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&ne.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function bX(e,t,n){var r=Z$(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=Z$(e,t.focus,n);return o?{anchor:r,focus:o}:null}function a$t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!ne.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!ne.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!ne.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:ne.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:ne.transform(n,t,{affinity:"forward"})};case"merge_node":return ne.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:ne.transform(n,t)}:{diff:r,id:o,path:ne.transform(n,t)}}var i=ne.transform(n,t);return i?{diff:r,path:i,id:o}:null}function xX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xX(Object(n),!0).forEach(function(r){RT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var l$t=25,c$t=200,u$t=function(){},d$t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function f$t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var D=Id.get(t);if(Id.delete(t),D){var{selection:I}=t,O=yX(t,D);O&&(!I||!ue.equals(O,I))&&ae.select(t,O)}},f=()=>{var D=Dd.get(t);if(Dd.delete(t),!!D){if(D.at){var I=It.isPoint(D.at)?K$(t,D.at):yX(t,D.at);if(!I)return;var O=L.range(t,I);(!t.selection||!ue.equals(t.selection,O))&&ae.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&L.rangeRef(t,t.selection,{affinity:"forward"});pu.set(t,t.marks),u$t("flush",Dd.get(t),hs.get(t));for(var I=C(),O;O=($=hs.get(t))===null||$===void 0?void 0:$[0];){var $,R,V=gl.get(t);V!==void 0&&(gl.delete(t),t.marks=V),V&&u===!1&&(u=null);var M=s$t(O);(!t.selection||!ue.equals(t.selection,M))&&ae.select(t,M),O.diff.text?L.insertText(t,O.diff.text):L.deleteFragment(t),hs.set(t,(R=hs.get(t))===null||R===void 0?void 0:R.filter(U=>{var{id:W}=U;return W!==O.id})),n$t(t,O)||(I=!1,Dd.delete(t),pu.delete(t),o="action",Id.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!Id.get(t)&&(!t.selection||!ue.equals(H,t.selection))&&ae.select(t,H),w()){f();return}I&&n(),n.flush(),r.flush(),d();var q=pu.get(t);pu.delete(t),q!==void 0&&(t.marks=q,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{rp.set(t,!1),p()},l$t)},v=D=>{rp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,O=U$.get(t);if(O){if(C()||I){O.style.display="none";return}O.style.removeProperty("display")}},b=(D,I)=>{var O,$=(O=hs.get(t))!==null&&O!==void 0?O:[];hs.set(t,$);var R=je.leaf(t,D),V=$.findIndex(q=>ne.equals(q.path,D));if(V<0){var M=a5e(R.text,I);M&&$.push({path:D,diff:I,id:c++}),g();return}var H=i$t(R.text,$[V].diff,I);if(!H){$.splice(V,1),g();return}$[V]=p_(p_({},$[V]),{},{diff:H})},x=function(I){var{at:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Id.delete(t),n.cancel(),r.cancel(),w()&&p(),Dd.set(t,{at:O,run:I}),a=setTimeout(p)},y=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:O}=D,$=null,R=D.dataTransfer||D.data||void 0;u!==!1&&O!=="insertText"&&O!=="insertCompositionText"&&(u=!1);var[V]=D.getTargetRanges();V&&($=ge.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0}));var M=ge.getWindow(t),H=M.getSelection();if(!$&&H&&(V=H,$=ge.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0})),$=(I=$)!==null&&I!==void 0?I:t.selection,!!$){var q=!0;if(O.startsWith("delete")){if(ue.isExpanded($)){var[U,W]=ue.edges($),Q=je.leaf(t,U.path);if(Q.text.length===U.offset&&W.offset===0){var N=L.next(t,{at:U.path,match:Ee.isText});N&&ne.equals(N[1],W.path)&&($={anchor:W,focus:W})}}var K=O.endsWith("Backward")?"backward":"forward",[z,Z]=ue.edges($),[G,J]=L.leaf(t,z.path),X={text:"",start:z.offset,end:Z.offset},ee=hs.get(t),oe=ee==null?void 0:ee.find(Me=>ne.equals(Me.path,J)),de=oe?[oe.diff,X]:[X],le=s5e(G.text,...de);if(le.length===0&&(q=!1),ue.isExpanded($)){if(q&&ne.equals($.anchor.path,$.focus.path)){var ve={path:$.anchor.path,offset:z.offset},Ce=L.range(t,ve,ve);return E(Ce),b($.anchor.path,{text:"",end:Z.offset,start:z.offset})}return x(()=>L.deleteFragment(t,{direction:K}),{at:$})}}switch(O){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>L.deleteFragment(t),{at:$});case"deleteContent":case"deleteContentForward":{var{anchor:be}=$;if(q&&ue.isCollapsed($)){var me=je.leaf(t,be.path);if(be.offset<me.text.length)return b(be.path,{text:"",start:be.offset,end:be.offset+1})}return x(()=>L.deleteForward(t),{at:$})}case"deleteContentBackward":{var Ie,{anchor:Se}=$,ot=G$(V)?V.isCollapsed:!!((Ie=V)!==null&&Ie!==void 0&&Ie.collapsed);return q&&ot&&ue.isCollapsed($)&&Se.offset>0?b(Se.path,{text:"",start:Se.offset-1,end:Se.offset}):x(()=>L.deleteBackward(t),{at:$})}case"deleteEntireSoftLine":return x(()=>{L.deleteBackward(t,{unit:"line"}),L.deleteForward(t,{unit:"line"})},{at:$});case"deleteHardLineBackward":return x(()=>L.deleteBackward(t,{unit:"block"}),{at:$});case"deleteSoftLineBackward":return x(()=>L.deleteBackward(t,{unit:"line"}),{at:$});case"deleteHardLineForward":return x(()=>L.deleteForward(t,{unit:"block"}),{at:$});case"deleteSoftLineForward":return x(()=>L.deleteForward(t,{unit:"line"}),{at:$});case"deleteWordBackward":return x(()=>L.deleteBackward(t,{unit:"word"}),{at:$});case"deleteWordForward":return x(()=>L.deleteForward(t,{unit:"word"}),{at:$});case"insertLineBreak":return x(()=>L.insertSoftBreak(t),{at:$});case"insertParagraph":return x(()=>L.insertBreak(t),{at:$});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(d$t(R))return x(()=>ge.insertData(t,R),{at:$});var Ze=R??"";if(gl.get(t)&&(Ze=Ze.replace("\uFEFF","")),O==="insertText"&&/.*\n.*\n$/.test(Ze)&&(Ze=Ze.slice(0,-1)),Ze.includes(`
`))return x(()=>{var Me=Ze.split(`
`);Me.forEach((Ct,Tt)=>{Ct&&L.insertText(t,Ct),Tt!==Me.length-1&&L.insertSoftBreak(t)})},{at:$});if(ne.equals($.anchor.path,$.focus.path)){var[it,_e]=ue.edges($),he={start:it.offset,end:_e.offset,text:Ze};if(Ze&&u&&O==="insertCompositionText"){var He=u.start+u.text.search(/\S|$/),Ye=he.start+he.text.search(/\S|$/);Ye===He+1&&he.end===u.start+u.text.length?(he.start-=1,u=null,T()):u=!1}else O==="insertText"?u===null?u=he:u&&ue.isCollapsed($)&&u.end+u.text.length===it.offset?u=p_(p_({},u),{},{text:u.text+Ze}):u=!1:u=!1;if(q){b(it.path,he);return}}return x(()=>L.insertText(t,Ze),{at:$})}}}},w=()=>!!Dd.get(t),C=()=>{var D;return!!((D=hs.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{Id.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var O=!I||!ne.equals(I.anchor.path,D.anchor.path),$=!I||!ne.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(O&&u||$)&&(u=!1),(O||C())&&(s=setTimeout(p,c$t))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(O=>U9(t,O,D))){var I;(I=t5e.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:y,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function h$t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var lx=eS?h.useLayoutEffect:h.useEffect;function p$t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));lx(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var m$t=["node"];function wX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function g$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wX(Object(n),!0).forEach(function(r){RT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var v$t={subtree:!0,childList:!0,characterData:!0},y$t=ys?e=>{var{node:t}=e,n=Hv(e,m$t);if(!ys)return null;var r=Bc(),o=h$t(),[i]=h.useState(()=>f$t(g$t({editor:r},n)));return p$t(t,i.handleDomMutations,v$t),V9.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,b$t=["anchor","focus"],x$t=["anchor","focus"],w$t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),l5e=(e,t)=>{var n=Hv(e,b$t),r=Hv(t,x$t);return e[Uv]===t[Uv]&&w$t(n,r)},C$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!l5e(r,o))return!1}return!0},_$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!l5e(r,o))return!1}return!0},S$t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Bc(),s=ge.findPath(i,o),a=ne.parent(s),c=n[n5e]===!0;return i.isVoid(r)?ie.createElement(_O,{length:je.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&L.string(i,a)===""?ie.createElement(_O,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?ie.createElement(_O,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?ie.createElement(CX,{isTrailing:!0,text:n.text}):ie.createElement(CX,{text:n.text})},CX=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return lx(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),ie.createElement(E$t,{ref:r},i)},E$t=h.memo(h.forwardRef((e,t)=>ie.createElement("span",{"data-slate-string":!0,ref:t},e.children))),_O=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),ie.createElement("span",Object.assign({},o),!ys||!n?"\uFEFF":null,n?ie.createElement("br",null):null)};function k$t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function _X(e){e.current&&(clearTimeout(e.current),e.current=null)}var j$t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=y=>ie.createElement(A$t,Object.assign({},y))}=e,a=Bc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(y=>{if(k$t(c,y==null),y==null){var w;U$.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(U$.set(a,y),!c.current){var C=window.ResizeObserver||t_e;c.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,y)})}c.current.observe(y),u.current=y}},[u,t,a]),v=ie.createElement(S$t,{isLast:n,leaf:t,parent:o,text:r}),g=t[Uv];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(_X(p),f(!1)),()=>_X(p)),[g,f]),g&&d){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:xy?"inherit":void 0},contentEditable:!1,ref:m}};v=ie.createElement(ie.Fragment,null,i(b),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},T$t=ie.memo(j$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Ee.equals(t.leaf,e.leaf)&&t.leaf[Uv]===e.leaf[Uv]),A$t=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",Object.assign({},t),n)},D$t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Bc(),c=h.useRef(null),u=Ee.decorations(s,t),d=ge.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(ie.createElement(T$t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var b=$T.get(a);g?(b==null||b.set(d,g),Cp.set(s,g),ax.set(g,s)):(b==null||b.delete(d),Cp.delete(s),c.current&&ax.delete(c.current)),c.current=g},[c,a,d,s]);return ie.createElement("span",{"data-slate-node":"text",ref:v},f)},c5e=ie.memo(D$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&_$t(t.decorations,e.decorations)),I$t=e=>{var{decorations:t,element:n,renderElement:r=y=>ie.createElement(P$t,Object.assign({},y)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Bc(),c=$$t(),u=a.isInline(n),d=ge.findKey(a,n),f=h.useCallback(y=>{var w=$T.get(a);y?(w==null||w.set(d,y),Cp.set(n,y),ax.set(y,n)):(w==null||w.delete(d),Cp.delete(n))},[a,d,n]),p=h5e({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&L.hasInlines(a,n)){var v=je.string(n),g=zke(v);g==="rtl"&&(m.dir=g)}if(L.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var b=u?"span":"div",[[x]]=je.texts(n);p=ie.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},ie.createElement(c5e,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),N9.set(x,0),z9.set(x,n)}return r({attributes:m,children:p,element:n})},O$t=ie.memo(I$t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&C$t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),P$t=e=>{var{attributes:t,children:n,element:r}=e,o=Bc(),i=o.isInline(r)?"span":"div";return ie.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},u5e=h.createContext(()=>[]),R$t=()=>h.useContext(u5e),d5e=h.createContext(!1),f5e=()=>h.useContext(d5e),h5e=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=R$t(),c=Bc(),u=ge.findPath(c,n),d=[],f=Re.isElement(n)&&!c.isInline(n)&&L.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=ge.findKey(c,v),b=L.range(c,m),x=s&&ue.intersection(b,s),y=a([v,m]);for(var w of t){var C=ue.intersection(w,b);C&&y.push(C)}Re.isElement(v)?d.push(ie.createElement(d5e.Provider,{key:"provider-".concat(g.id),value:!!x},ie.createElement(O$t,{decorations:y,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(ie.createElement(c5e,{decorations:y,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),N9.set(v,p),z9.set(v,n)}return d},p5e=h.createContext(!1),$$t=()=>h.useContext(p5e),m5e=h.createContext(null),MT=()=>{var e=h.useContext(m5e);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function M$t(){var e=Bc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=ge.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var F$t=3,L$t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},B$t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},N$t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},mr=e=>{var t=L$t[e],n=B$t[e],r=N$t[e],o=t&&CO(t),i=n&&CO(n),s=r&&CO(r);return a=>!!(o&&o(a)||vX&&i&&i(a)||!vX&&s&&s(a))},Sr={isBold:mr("bold"),isCompose:mr("compose"),isMoveBackward:mr("moveBackward"),isMoveForward:mr("moveForward"),isDeleteBackward:mr("deleteBackward"),isDeleteForward:mr("deleteForward"),isDeleteLineBackward:mr("deleteLineBackward"),isDeleteLineForward:mr("deleteLineForward"),isDeleteWordBackward:mr("deleteWordBackward"),isDeleteWordForward:mr("deleteWordForward"),isExtendBackward:mr("extendBackward"),isExtendForward:mr("extendForward"),isExtendLineBackward:mr("extendLineBackward"),isExtendLineForward:mr("extendLineForward"),isItalic:mr("italic"),isMoveLineBackward:mr("moveLineBackward"),isMoveLineForward:mr("moveLineForward"),isMoveWordBackward:mr("moveWordBackward"),isMoveWordForward:mr("moveWordForward"),isRedo:mr("redo"),isSoftBreak:mr("insertSoftBreak"),isSplitBlock:mr("splitBlock"),isTransposeCharacter:mr("transposeCharacter"),isUndo:mr("undo")},z$t=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>U9(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},V$t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class g5e extends h.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,V$t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=z$t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}g5e.contextType=B9;var H$t=ys?g5e:e=>{var{children:t}=e;return ie.createElement(ie.Fragment,null,t)},U$t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],W$t=["text"];function SX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SX(Object(n),!0).forEach(function(r){RT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y$t=e=>ie.createElement(ie.Fragment,null,h5e(e)),q$t=e=>{var t=h.useCallback(N=>ie.createElement(G$t,Object.assign({},N)),[]),{autoFocus:n,decorate:r=K$t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=Z$t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=Hv(e,U$t),g=MT(),[b,x]=h.useState(!1),y=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=M$t(),[,j]=h.useReducer(N=>N+1,0);t5e.set(g,j),Y$.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{y.current&&n&&y.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>Qj(()=>{var N=T.current;if((ys||!ge.isComposing(g))&&(!k.isUpdatingSelection||N!=null&&N.isFlushing())&&!k.isDraggingInternally){var K=ge.findDocumentOrShadowRoot(g),{activeElement:z}=K,Z=ge.toDOMNode(g,g),G=K.getSelection();if(z===Z?(k.latestElement=z,np.set(g,!0)):np.delete(g),!G)return ae.deselect(g);var{anchorNode:J,focusNode:X}=G,ee=ge.hasEditableTarget(g,J)||ge.isTargetInsideNonReadonlyVoid(g,J),oe=ge.hasEditableTarget(g,X)||ge.isTargetInsideNonReadonlyVoid(g,X);if(ee&&oe){var de=ge.toSlateRange(g,G,{exactMatch:!1,suppressThrow:!0});de&&(!ge.isComposing(g)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?ae.select(g,de):N==null||N.handleUserSelect(de))}s&&(!ee||!oe)&&ae.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>qx(A,0),[A]);T.current=y$t({node:y,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),lx(()=>{var N,K,z;y.current&&(z=H9(y.current))?(e5e.set(g,z),tS.set(g,y.current),Cp.set(g,y.current),ax.set(y.current,g)):Cp.delete(g);var{selection:Z}=g,G=ge.findDocumentOrShadowRoot(g),J=G.getSelection();if(!(!J||!ge.isFocused(g)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var X=le=>{var ve=J.type!=="None";if(!(!Z&&!ve)){var Ce=J.focusNode,be;if(lb&&J.rangeCount>1){var me=J.getRangeAt(0),Ie=J.getRangeAt(J.rangeCount-1);me.startContainer===Ce?be=Ie.endContainer:be=me.startContainer}else be=J.anchorNode;var Se=tS.get(g),ot=!1;if(Se.contains(be)&&Se.contains(Ce)&&(ot=!0),ve&&ot&&Z&&!le){var Ze=ge.toSlateRange(g,J,{exactMatch:!0,suppressThrow:!0});if(Ze&&ue.equals(Ze,Z)){var it,_e;if(!k.hasMarkPlaceholder||(it=be)!==null&&it!==void 0&&(_e=it.parentElement)!==null&&_e!==void 0&&_e.hasAttribute("data-slate-mark-placeholder"))return}}if(Z&&!ge.hasRange(g,Z)){g.selection=ge.toSlateRange(g,J,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var he=Z&&ge.toDOMRange(g,Z);return he?(ge.isComposing(g)&&!ys?J.collapseToEnd():ue.isBackward(Z)?J.setBaseAndExtent(he.endContainer,he.endOffset,he.startContainer,he.startOffset):J.setBaseAndExtent(he.startContainer,he.startOffset,he.endContainer,he.endOffset),d(g,he)):J.removeAllRanges(),he}};J.rangeCount<=1&&X();var ee=((K=T.current)===null||K===void 0?void 0:K.isFlushing())==="action";if(!ys||!ee){setTimeout(()=>{k.isUpdatingSelection=!1});return}var oe=null,de=requestAnimationFrame(()=>{if(ee){var le=ve=>{try{var Ce=ge.toDOMNode(g,g);Ce.focus(),X(ve)}catch{}};le(),oe=setTimeout(()=>{le(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(de),oe&&clearTimeout(oe)}}});var I=h.useCallback(N=>{if(S(),!s&&ge.hasEditableTarget(g,N.target)&&!X$t(N,o)){var K;if(T.current)return T.current.handleDOMBeforeInput(N);D.flush(),A.flush();var{selection:z}=g,{inputType:Z}=N,G=N.dataTransfer||N.data||void 0,J=Z==="insertCompositionText"||Z==="deleteCompositionText";if(J&&ge.isComposing(g))return;var X=!1;if(Z==="insertText"&&z&&ue.isCollapsed(z)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&z.anchor.offset!==0){var ee,oe;X=!0,g.marks&&(X=!1);var{anchor:de}=z,[le,ve]=ge.toDOMPoint(g,de),Ce=(ee=le.parentElement)===null||ee===void 0?void 0:ee.closest("a"),be=ge.getWindow(g);if(X&&Ce&&ge.hasDOMNode(g,Ce)){var me,Ie=be==null?void 0:be.document.createTreeWalker(Ce,NodeFilter.SHOW_TEXT).lastChild();Ie===le&&((me=Ie.textContent)===null||me===void 0?void 0:me.length)===ve&&(X=!1)}if(X&&le.parentElement&&(be==null||(oe=be.getComputedStyle(le.parentElement))===null||oe===void 0?void 0:oe.whiteSpace)==="pre"){var Se=L.above(g,{at:de.path,match:He=>Re.isElement(He)&&L.isBlock(g,He)});Se&&je.string(Se[0]).includes("	")&&(X=!1)}}if(!Z.startsWith("delete")||Z.startsWith("deleteBy")){var[ot]=N.getTargetRanges();if(ot){var Ze=ge.toSlateRange(g,ot,{exactMatch:!1,suppressThrow:!1});if(!z||!ue.equals(z,Ze)){X=!1;var it=!J&&g.selection&&L.rangeRef(g,g.selection);ae.select(g,Ze),it&&cb.set(g,it)}}}if(J)return;if(X||N.preventDefault(),z&&ue.isExpanded(z)&&Z.startsWith("delete")){var _e=Z.endsWith("Backward")?"backward":"forward";L.deleteFragment(g,{direction:_e});return}switch(Z){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{L.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{L.deleteForward(g);break}case"deleteContentBackward":{L.deleteBackward(g);break}case"deleteEntireSoftLine":{L.deleteBackward(g,{unit:"line"}),L.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{L.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{L.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{L.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{L.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{L.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{L.deleteForward(g,{unit:"word"});break}case"insertLineBreak":L.insertSoftBreak(g);break;case"insertParagraph":{L.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Z==="insertFromComposition"&&ge.isComposing(g)&&(x(!1),rp.set(g,!1)),(G==null?void 0:G.constructor.name)==="DataTransfer"?ge.insertData(g,G):typeof G=="string"&&(X?w.current.push(()=>L.insertText(g,G)):L.insertText(g,G));break}}var he=(K=cb.get(g))===null||K===void 0?void 0:K.unref();cb.delete(g),he&&(!g.selection||!ue.equals(g.selection,he))&&ae.select(g,he)}},[g,A,S,o,s,D]),O=h.useCallback(N=>{N==null?(A.cancel(),D.cancel(),tS.delete(g),Cp.delete(g),y.current&&yd&&y.current.removeEventListener("beforeinput",I)):yd&&N.addEventListener("beforeinput",I),y.current=N},[A,D,g,I]);lx(()=>{var N=ge.getWindow(g);return N.document.addEventListener("selectionchange",D),()=>{N.document.removeEventListener("selectionchange",D)}},[D]);var $=r([g,[]]),R=i&&g.children.length===1&&Array.from(je.texts(g)).length===1&&je.string(g)===""&&!b,V=h.useCallback(N=>{if(N&&R){var K;_((K=N.getBoundingClientRect())===null||K===void 0?void 0:K.height)}else _(void 0)},[R]);if(R){var M=L.start(g,[]);$.push({[Uv]:!0,placeholder:i,onPlaceholderResize:V,anchor:M,focus:M})}var{marks:H}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&H){var{anchor:q}=g.selection,U=je.leaf(g,q.path),W=Hv(U,W$t);if(!Ee.equals(U,H,{loose:!0})){k.hasMarkPlaceholder=!0;var Q=Object.fromEntries(Object.keys(W).map(N=>[N,null]));$.push(Ym(Ym(Ym({[n5e]:!0},Q),H),{},{anchor:q,focus:q}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=g;if(N){var{anchor:K}=N,z=je.leaf(g,K.path);if(H&&!Ee.equals(z,H,{loose:!0})){gl.set(g,H);return}}gl.delete(g)})}),ie.createElement(p5e.Provider,{value:s},ie.createElement(u5e.Provider,{value:r},ie.createElement(H$t,{node:y,receivedUserInput:E},ie.createElement(p,Object.assign({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v,{spellCheck:yd||!eS?v.spellCheck:!1,autoCorrect:yd||!eS?v.autoCorrect:"false",autoCapitalize:yd||!eS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:O,style:Ym(Ym({},m?{}:Ym({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(N=>{if(!yd&&!s&&!Bi(N,v.onBeforeInput)&&ge.hasSelectableTarget(g,N.target)&&(N.preventDefault(),!ge.isComposing(g))){var K=N.data;L.insertText(g,K)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(N=>{if(!Bi(N,v.onInput)){if(T.current){T.current.handleInput();return}for(var K of w.current)K();w.current=[]}},[v.onInput]),onBlur:h.useCallback(N=>{if(!(s||k.isUpdatingSelection||!ge.hasSelectableTarget(g,N.target)||Bi(N,v.onBlur))){var K=ge.findDocumentOrShadowRoot(g);if(k.latestElement!==K.activeElement){var{relatedTarget:z}=N,Z=ge.toDOMNode(g,g);if(z!==Z&&!(ja(z)&&z.hasAttribute("data-slate-spacer"))){if(z!=null&&Lf(z)&&ge.hasDOMNode(g,z)){var G=ge.toSlateNode(g,z);if(Re.isElement(G)&&!g.isVoid(G))return}if(xy){var J=K.getSelection();J==null||J.removeAllRanges()}np.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(N=>{if(ge.hasTarget(g,N.target)&&!Bi(N,v.onClick)&&Lf(N.target)){var K=ge.toSlateNode(g,N.target),z=ge.findPath(g,K);if(!L.hasPath(g,z)||je.get(g,z)!==K)return;if(N.detail===F$t&&z.length>=1){var Z=z;if(!(Re.isElement(K)&&L.isBlock(g,K))){var G,J=L.above(g,{match:Ce=>Re.isElement(Ce)&&L.isBlock(g,Ce),at:z});Z=(G=J==null?void 0:J[1])!==null&&G!==void 0?G:z.slice(0,1)}var X=L.range(g,Z);ae.select(g,X);return}if(s)return;var ee=L.start(g,z),oe=L.end(g,z),de=L.void(g,{at:ee}),le=L.void(g,{at:oe});if(de&&le&&ne.equals(de[1],le[1])){var ve=L.range(g,ee);ae.select(g,ve)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(ge.hasSelectableTarget(g,N.target)){var K;if(ge.isComposing(g)&&(x(!1),rp.set(g,!1)),(K=T.current)===null||K===void 0||K.handleCompositionEnd(N),Bi(N,v.onCompositionEnd)||ys)return;if(!xy&&!HRt&&!BRt&&!WRt&&!URt&&N.data){var z=gl.get(g);gl.delete(g),z!==void 0&&(pu.set(g,g.marks),g.marks=z),L.insertText(g,N.data);var Z=pu.get(g);pu.delete(g),Z!==void 0&&(g.marks=Z)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(N=>{ge.hasSelectableTarget(g,N.target)&&!Bi(N,v.onCompositionUpdate)&&(ge.isComposing(g)||(x(!0),rp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(N=>{if(ge.hasSelectableTarget(g,N.target)){var K;if((K=T.current)===null||K===void 0||K.handleCompositionStart(N),Bi(N,v.onCompositionStart)||ys)return;x(!0);var{selection:z}=g;if(z){if(ue.isExpanded(z)){L.deleteFragment(g);return}var Z=L.above(g,{match:X=>Re.isElement(X)&&L.isInline(g,X),mode:"highest"});if(Z){var[,G]=Z;if(L.isEnd(g,z.anchor,G)){var J=L.after(g,G);ae.setSelection(g,{anchor:J,focus:J})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(N=>{ge.hasSelectableTarget(g,N.target)&&!Bi(N,v.onCopy)&&!EX(N)&&(N.preventDefault(),ge.setFragmentData(g,N.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(N=>{if(!s&&ge.hasSelectableTarget(g,N.target)&&!Bi(N,v.onCut)&&!EX(N)){N.preventDefault(),ge.setFragmentData(g,N.clipboardData,"cut");var{selection:K}=g;if(K)if(ue.isExpanded(K))L.deleteFragment(g);else{var z=je.parent(g,K.anchor.path);L.isVoid(g,z)&&ae.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(N=>{if(ge.hasTarget(g,N.target)&&!Bi(N,v.onDragOver)){var K=ge.toSlateNode(g,N.target);Re.isElement(K)&&L.isVoid(g,K)&&N.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(N=>{if(!s&&ge.hasTarget(g,N.target)&&!Bi(N,v.onDragStart)){var K=ge.toSlateNode(g,N.target),z=ge.findPath(g,K),Z=Re.isElement(K)&&L.isVoid(g,K)||L.void(g,{at:z,voids:!0});if(Z){var G=L.range(g,z);ae.select(g,G)}k.isDraggingInternally=!0,ge.setFragmentData(g,N.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(N=>{if(!s&&ge.hasTarget(g,N.target)&&!Bi(N,v.onDrop)){N.preventDefault();var K=g.selection,z=ge.findEventRange(g,N),Z=N.dataTransfer;ae.select(g,z),k.isDraggingInternally&&K&&!ue.equals(K,z)&&!L.void(g,{at:z,voids:!0})&&ae.delete(g,{at:K}),ge.insertData(g,Z),ge.isFocused(g)||ge.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(N=>{!s&&k.isDraggingInternally&&v.onDragEnd&&ge.hasTarget(g,N.target)&&v.onDragEnd(N),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(N=>{if(!s&&!k.isUpdatingSelection&&ge.hasEditableTarget(g,N.target)&&!Bi(N,v.onFocus)){var K=ge.toDOMNode(g,g),z=ge.findDocumentOrShadowRoot(g);if(k.latestElement=z.activeElement,lb&&N.target!==K){K.focus();return}np.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&ge.hasEditableTarget(g,N.target)){var K;(K=T.current)===null||K===void 0||K.handleKeyDown(N);var{nativeEvent:z}=N;if(ge.isComposing(g)&&z.isComposing===!1&&(rp.set(g,!1),x(!1)),Bi(N,v.onKeyDown)||ge.isComposing(g))return;var{selection:Z}=g,G=g.children[Z!==null?Z.focus.path[0]:0],J=zke(je.string(G))==="rtl";if(Sr.isRedo(z)){N.preventDefault();var X=g;typeof X.redo=="function"&&X.redo();return}if(Sr.isUndo(z)){N.preventDefault();var ee=g;typeof ee.undo=="function"&&ee.undo();return}if(Sr.isMoveLineBackward(z)){N.preventDefault(),ae.move(g,{unit:"line",reverse:!0});return}if(Sr.isMoveLineForward(z)){N.preventDefault(),ae.move(g,{unit:"line"});return}if(Sr.isExtendLineBackward(z)){N.preventDefault(),ae.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(Sr.isExtendLineForward(z)){N.preventDefault(),ae.move(g,{unit:"line",edge:"focus"});return}if(Sr.isMoveBackward(z)){N.preventDefault(),Z&&ue.isCollapsed(Z)?ae.move(g,{reverse:!J}):ae.collapse(g,{edge:"start"});return}if(Sr.isMoveForward(z)){N.preventDefault(),Z&&ue.isCollapsed(Z)?ae.move(g,{reverse:J}):ae.collapse(g,{edge:"end"});return}if(Sr.isMoveWordBackward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:!J});return}if(Sr.isMoveWordForward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:J});return}if(yd){if((Jke||xy)&&Z&&(Sr.isDeleteBackward(z)||Sr.isDeleteForward(z))&&ue.isCollapsed(Z)){var oe=je.parent(g,Z.anchor.path);if(Re.isElement(oe)&&L.isVoid(g,oe)&&(L.isInline(g,oe)||L.isBlock(g,oe))){N.preventDefault(),L.deleteBackward(g,{unit:"block"});return}}}else{if(Sr.isBold(z)||Sr.isItalic(z)||Sr.isTransposeCharacter(z)){N.preventDefault();return}if(Sr.isSoftBreak(z)){N.preventDefault(),L.insertSoftBreak(g);return}if(Sr.isSplitBlock(z)){N.preventDefault(),L.insertBreak(g);return}if(Sr.isDeleteBackward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)?L.deleteFragment(g,{direction:"backward"}):L.deleteBackward(g);return}if(Sr.isDeleteForward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)?L.deleteFragment(g,{direction:"forward"}):L.deleteForward(g);return}if(Sr.isDeleteLineBackward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)?L.deleteFragment(g,{direction:"backward"}):L.deleteBackward(g,{unit:"line"});return}if(Sr.isDeleteLineForward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)?L.deleteFragment(g,{direction:"forward"}):L.deleteForward(g,{unit:"line"});return}if(Sr.isDeleteWordBackward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)?L.deleteFragment(g,{direction:"backward"}):L.deleteBackward(g,{unit:"word"});return}if(Sr.isDeleteWordForward(z)){N.preventDefault(),Z&&ue.isExpanded(Z)?L.deleteFragment(g,{direction:"forward"}):L.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(N=>{!s&&ge.hasEditableTarget(g,N.target)&&!Bi(N,v.onPaste)&&(!yd||GRt(N.nativeEvent)||xy)&&(N.preventDefault(),ge.insertData(g,N.clipboardData))},[s,g,v.onPaste])}),ie.createElement(Y$t,{decorations:$,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:g.selection})))))},G$t=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",Object.assign({},t),n,ys&&ie.createElement("br",null))},K$t=()=>[],Z$t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),sPt(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Bi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},EX=e=>Lf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),X$t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},Q$t=h.createContext(!1),J$t=h.createContext({});function eMt(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var tMt=["editor","children","onChange","initialValue"],nMt=e=>{var{editor:t,children:n,onChange:r,initialValue:o}=e,i=Hv(e,tMt),s=h.useRef(!1),[a,c]=ie.useState(()=>{if(!je.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Oo.stringify(o)));if(!L.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Oo.stringify(t)));return t.children=o,Object.assign(t,i),{v:0,editor:t}}),{selectorContext:u,onChange:d}=eMt(t),f=h.useCallback(()=>{r&&r(t.children),c(v=>({v:v.v+1,editor:t})),d(t)},[t,d,r]);h.useEffect(()=>(q$.set(t,f),()=>{q$.set(t,()=>{}),s.current=!0}),[t,f]);var[p,m]=h.useState(ge.isFocused(t));return h.useEffect(()=>{m(ge.isFocused(t))},[t]),lx(()=>{var v=()=>m(ge.isFocused(t));return Qke>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),ie.createElement(J$t.Provider,{value:u},ie.createElement(m5e.Provider,{value:a},ie.createElement(B9.Provider,{value:a.editor},ie.createElement(Q$t.Provider,{value:p},n))))},kX=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},jX=(e,t,n)=>{var r=ge.toDOMRange(e,t).getBoundingClientRect(),o=ge.toDOMRange(e,n).getBoundingClientRect();return kX(r,o)&&kX(o,r)},rMt=(e,t)=>{var n=L.range(e,ue.end(t)),r=Array.from(L.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(jX(e,L.range(e,r[o]),n))return L.range(e,r[o],n);if(r.length<2)return L.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)jX(e,L.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return L.range(e,r[i],n)};function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function AX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(n),!0).forEach(function(r){RT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var oMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return $T.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=V9.get(r))===null||f===void 0||f(),!gl.get(r)&&(p=hs.get(r))!==null&&p!==void 0&&p.length&&gl.set(r,null),pu.delete(r),a(u,d)},r.removeMark=u=>{var d;!gl.get(r)&&(d=hs.get(r))!==null&&d!==void 0&&d.length&&gl.set(r,null),pu.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=L.above(r,{match:v=>Re.isElement(v)&&L.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=L.range(r,f,r.selection.anchor),m=rMt(r,p);ue.isCollapsed(m)||ae.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=hs.get(r);if(f!=null&&f.length){var p=f.map(S=>a$t(S,u)).filter(Boolean);hs.set(r,p)}var m=Id.get(r);m&&Id.set(r,bX(r,m,u));var v=Dd.get(r);if(v!=null&&v.at){var g=It.isPoint(v==null?void 0:v.at)?Z$(r,v.at,u):bX(r,v.at,u);Dd.set(r,g?AX(AX({},v),{},{at:g}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...m_(r,u.path));break}case"set_selection":{var b;(b=cb.get(r))===null||b===void 0||b.unref(),cb.delete(r);break}case"insert_node":case"remove_node":{d.push(...m_(r,ne.parent(u.path)));break}case"merge_node":{var x=ne.previous(u.path);d.push(...m_(r,x));break}case"move_node":{var y=ne.common(ne.parent(u.path),ne.parent(u.newPath));d.push(...m_(r,y));break}}o(u);for(var[w,C]of d){var[_]=L.node(r,w);W$.set(_,C)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=L.void(r,{at:f.path}),v=L.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=ge.toDOMRange(r,d),b=g.cloneContents(),x=b.childNodes[0];if(b.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[y]=v,w=g.cloneRange(),C=ge.toDOMNode(r,y);w.setEndAfter(C),b=w.cloneContents()}if(m&&(x=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),r5e(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),b.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=b.ownerDocument.createElement("div");return k.appendChild(b),k.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",i5e(k)),b.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||JRt(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&ae.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=Qke<18?jHe.unstable_batchedUpdates:f=>f();d(()=>{var f=q$.get(r);f&&f(),i(u)})},r},m_=(e,t)=>{var n=[];for(var[r,o]of L.levels(e,{at:t})){var i=ge.findKey(e,r);n.push([o,i])}return n},iMt=Dve,DX=1/0,sMt=17976931348623157e292;function aMt(e){if(!e)return e===0?e:0;if(e=iMt(e),e===DX||e===-DX){var t=e<0?-1:1;return t*sMt}return e===e?e:0}var v5e=aMt,lMt=v5e;function cMt(e){var t=lMt(e),n=t%1;return t===t?n?t-n:t:0}var uMt=cMt,dMt=__e,fMt=Qf,hMt=uMt,pMt=Math.max;function mMt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:hMt(n);return o<0&&(o=pMt(r+o,0)),dMt(e,fMt(t),o)}var y5e=mMt;const W9=Oe(y5e);var gMt=A8,vMt=4;function yMt(e){return gMt(e,vMt)}var bMt=yMt;const b5e=Oe(bMt);function nS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function _k(e){return nS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>nS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>nS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function SO(e){return nS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Vu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function IX(e){return Vu(e)?e.jsonType==="object":!1}function xMt(e){return Vu(e)?e.jsonType==="array":!1}function wMt(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function CMt(e){return Vu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function _Mt(e){if(!Vu(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(J$),n=e.fields.find(X$),r=e.fields.find(Q$);return J$(t)&&X$(n)&&Q$(r)}function X$(e){return!Vu(e)||e.name!=="style"?!1:Vu(e.type)&&e.type.jsonType==="string"}function Q$(e){return!Vu(e)||e.name!=="listItem"?!1:Vu(e.type)&&e.type.jsonType==="string"}function J$(e){return!Vu(e)||e.name!=="children"||!xMt(e.type)?!1:e.type.of.some(CMt)}function Y9(e){return e.type?Y9(e.type):e.name==="block"}function SMt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(Y9);if(!_Mt(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(J$))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&IX(c)),a=e.of.filter(c=>c.name!==r.name&&IX(c));return{styles:EMt(r),decorators:jMt(i),annotations:kMt(i),lists:TMt(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function EMt(e){const t=e.fields.find(X$);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=x5e(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function kMt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function jMt(e){return e.decorators}function TMt(e){const t=e.fields.find(Q$);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=x5e(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function x5e(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>wMt(n)?n:{title:n,value:n}):[]}const AMt=Object.prototype.toString;function w5e(e){switch(AMt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function DMt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return E9(t),t}const C5e=[];for(let e=0;e<256;++e)C5e[e]=(e+256).toString(16).substring(1);function eM(e){return DMt(e).reduce((t,n)=>t+C5e[n],"").slice(0,e)}const IMt=["pre","textarea","code"],Wv="normal",gs=Object.freeze({_type:"block",markDefs:[],style:Wv}),rS=Object.freeze({_type:"span",marks:[]}),Sk={p:gs,blockquote:{...gs,style:"blockquote"}},_5e={span:{object:"text"}},Ek={ol:{object:null},ul:{object:null}},kk={h1:{...gs,style:"h1"},h2:{...gs,style:"h2"},h3:{...gs,style:"h3"},h4:{...gs,style:"h4"},h5:{...gs,style:"h5"},h6:{...gs,style:"h6"}},OMt={br:{...gs,style:Wv}},S5e={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},E5e={li:{...gs,style:Wv,level:1,listItem:"bullet"}},PMt={...Sk,..._5e,...Ek,...E5e,...kk,...OMt};co(Object.values(PMt).filter(e=>"style"in e).map(e=>e.style));co(Object.values(S5e));const Wp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var RMt=(e,t)=>{function n(r){var o,i;if(r.nodeType===Wp.BOOLEAN_TYPE&&!IMt.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const $Mt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var MMt=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,Wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate($Mt.join("|"),t,null,Wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const FMt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,LMt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],BMt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],NMt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function zMt(e){return FMt.test(e)}var VMt=(e,t)=>{var n;if(!zMt(e))return t;const r=t.evaluate(LMt.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,Wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(BMt.join("|"),t,null,Wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=NMt[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},HMt=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,Wp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,Wp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},UMt=[RMt,VMt,HMt,MMt];function WMt(e){const t=SMt(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Er(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function YMt(e,t){const n=t(qMt(e));return UMt.forEach(r=>{r(e,n)}),n}function qMt(e){return e.trim()}function GMt(){if(w5e(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function KMt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),_k(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function ZMt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function XMt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function OX(e){return[""," "].includes(e)}function QMt(e){return e.forEach(t=>{_k(t)&&t.children.forEach((n,r)=>{if(!lv(n))return;const o=ZMt(t,r),i=XMt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&lv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&lv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Vt(i.marks,n.marks)&&OX(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Vt(o.marks,n.marks)&&OX(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function JMt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!_k(o[r-1])&&_k(i))return i.children.push(n),t;const s={...gs,children:[n]};return t.push(s),t},[])}function e4t(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function lv(e){return e._type==="span"}function PX(e){return e._type==="block"}function RX(e){return e._type==="__decorator"}function $X(e){return e._type==="__annotation"}function th(e){return e.nodeType===1}function t4t(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function n4t(e,t){return[{deserialize(n){if(Er(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Er(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...rS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Er(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...rS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Er(n)!=="blockquote")return;const o={...Sk,...kk};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...Sk,...kk},i=Er(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Er(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=gs),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in _5e)))return r(n.childNodes)}},{deserialize(n,r){if(Er(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in Ek)))return r(n.childNodes)}},{deserialize(n){if(Er(n)==="br")return{...rS,text:`
`}}},{deserialize(n,r,o){const i=Er(n),s=i?E5e[i]:void 0,a=Er(n.parentNode)||"";if(!s||!n.parentNode||!Ek[a])return;const c=t4t(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=S5e[Er(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Er(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=th(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:eM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const k5e=Object.keys(Ek);function r4t(e){const t=th(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function o4t(e){const t=th(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function MX(e){return th(e)&&!!e.getAttribute("data-is-google-docs")}function i4t(e){const t=Er(e.parentNode);if(!(t&&!k5e.includes(t)))return Er(e.parentNode)==="ul"?"bullet":"number"}function s4t(e){let t=0;if(Er(e)==="li"){let n=e.parentNode;for(;n;){const r=Er(n);r&&k5e.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const a4t={...Sk,...kk};function l4t(e,t){const n=Er(e.firstChild),r=n&&a4t[n];return!r||!t.includes(r.style)?Wv:r.style}function c4t(e,t){return[{deserialize(n){if(th(n)&&Er(n)==="span"&&MX(n)){const r={...rS,marks:[],text:n.textContent};return o4t(n)&&r.marks.push("strong"),r4t(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Er(n)==="li"&&MX(n))return{...gs,listItem:i4t(n),level:s4t(n),style:l4t(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function u4t(e){const t=th(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function d4t(e){const t=th(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function f4t(e){return th(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function h4t(){return[{deserialize(e,t){if(Er(e)==="p"&&f4t(e))return{...gs,listItem:u4t(e),level:d4t(e),style:Wv,children:t(e.childNodes)}}}]}function p4t(e,t){return[...h4t(),...c4t(e,t),...n4t(e,t)]}class m4t{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=QMt(KMt(JMt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>Dn(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(Y9);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if(e4t(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),b=w5e(g);if(b!=="array"&&b!=="object"&&b!=="null"&&b!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:RX(g)?p=this.deserializeDecorator(g):$X(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&PX(g)&&"listItem"in g){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&Er(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&PX(g)&&g.style==="blockquote"&&g.children.forEach((x,y)=>{lv(x)&&x.text==="\r"&&(x.text=`

`,(y===0||y===g.children.length-1)&&g.children.splice(y,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(RX(d))return this.deserializeDecorator(d);if(lv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if($X(d))return this.deserializeAnnotation(d);if(lv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=p4t(t,WMt(t));this.rules=[...o,...i];const s=r.parseHtml||GMt();this.blockContentType=t,this.parseHtml=a=>YMt(a,s).body}}function cx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:eM(12)};const n={_key:eM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&SO(a)&&SO(c)&&Vt(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),SO(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function FX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new m4t(t,n).deserialize(e).map(o=>cx(o))}function LX(e){return O8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function BX(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(j5e);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:g4t(o),decorators:v4t(a),lists:y4t(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function g4t(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function v4t(e){return e.decorators}function y4t(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function j5e(e){return e.type?j5e(e.type):e.name==="block"?e:null}const tM="sanity-pte:";yy(tM);function Hr(e){const t="".concat(tM).concat(e);return yy&&yy.enabled(t)?yy(t):yy(tM)}const jk=()=>$w(12),T5e=h.createContext(jk),b4t=()=>{const e=h.useContext(T5e);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},Tk=new WeakMap,oS=new WeakMap,g_=new WeakMap,M1=new WeakMap,F1=new WeakMap,L1=new WeakMap,nM=new WeakMap,ba=new WeakMap,Ak=new WeakMap;function x4t(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function rM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Mw(e){const[t,n]=e;return[t,n]}function NX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function q9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function FT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function A5e(e){let t=e.map(f=>Mw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===xt?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Gn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[An,i]),t[r[o-1]+1][0]=Gn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=LT(t)),t=D5e(t),s=1;s<t.length;){if(t[s-1][0]===An&&t[s][0]===Gn){const f=t[s-1][1],p=t[s][1],m=NX(f,p),v=NX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[xt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[xt,f.substring(0,v)]),t[s-1][0]=Gn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=An,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const zX=/[^a-zA-Z0-9]/,VX=/\s/,HX=/[\r\n]/,w4t=/\n\r?\n$/,C4t=/^\r?\n\r?\n/;function D5e(e){const t=e.map(o=>Mw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(zX),u=a.match(zX),d=c&&s.match(VX),f=u&&a.match(VX),p=d&&s.match(HX),m=f&&a.match(HX),v=p&&o.match(w4t),g=m&&i.match(C4t);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===xt&&t[r+1][0]===xt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=FT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function LT(e){let t=e.map(u=>Mw(u));t.push([xt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Gn:o++,s+=t[n][1],n++;break;case An:r++,i+=t[n][1],n++;break;case xt:r+o>1?(r!==0&&o!==0&&(a=q9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===xt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[xt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=FT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[An,i]),n++),s.length&&(t.splice(n,0,[Gn,s]),n++),n++):n!==0&&t[n-1][0]===xt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===xt&&t[n+1][0]===xt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=LT(t)),t}function _4t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function I5e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Mw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===xt?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===An?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&_4t(c,u,d,f)===3)&&(n.splice(o[i-1],0,[An,s]),n[o[i-1]+1][0]=Gn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=LT(n)),n}function S4t(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return UX(e,t,w,C,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return UX(e,t,S,E,n)}}}}return[[An,e],[Gn,t]]}function UX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Yp(i,s,{checkLines:!1,deadline:o}),d=Yp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function E4t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=WX(r,o,Math.ceil(r.length/4)),s=WX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function WX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=q9(e.slice(n),t.slice(o)),f=FT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function k4t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function j4t(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function T4t(e,t,n){let r=e,o=t;const i=j4t(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Yp(r,o,{checkLines:!1,deadline:n.deadline});k4t(a,s),a=A5e(a),a.push([xt,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Gn:d++,p+=a[c][1];break;case An:u++,f+=a[c][1];break;case xt:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Yp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function A4t(e,t,n){let r;if(!e)return[[Gn,t]];if(!t)return[[An,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Gn,o.substring(0,s)],[xt,i],[Gn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=An,r[2][0]=An),r;if(i.length===1)return[[An,e],[Gn,t]];const a=E4t(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Yp(c,d,n),v=Yp(u,f,n);return m.concat([[xt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?T4t(e,t,n):S4t(e,t,n.deadline)}const An=-1,Gn=1,xt=0;function G9(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Yp(e,t,I4t(n||{}));return P4t(r),r}function Yp(e,t,n){let r=e,o=t;if(r===o)return r?[[xt,r]]:[];let i=q9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=FT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=A4t(r,o,n);return s&&c.unshift([xt,s]),a&&c.push([xt,a]),c=LT(c),c}function D4t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function I4t(e){return{checkLines:!0,deadline:D4t(e.timeout||1),...e}}function v_(e,t,n){return n===1?e+t:t+e}function y_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function O4t(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function YX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Gn){o===null&&(o=s);continue}else if(u===An){i===null&&(i=s);continue}else if(u===xt){if(o===null&&i===null){const[f,p]=y_(e[t][1],n);e[t][1]=f,e[s][1]=v_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&O4t(e,o,i,n)){const[u,d]=y_(e[o][1],r),[f]=y_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=v_(e[t][1],d,n);return}const[a,c]=y_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Gn,c]),i!==null&&i>=s&&i++):e[o][1]=v_(e[o][1],c,r),i===null?e.splice(s,0,[An,c]):e[i][1]=v_(e[i][1],c,r)}function P4t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];x4t(i)&&n===xt&&YX(e,t,1),rM(o)&&n===xt&&YX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const R4t={threshold:.5,distance:1e3};function $4t(e){return{...R4t,...e}}const M4t=32;function F4t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>M4t)throw new Error("Pattern too long for this browser.");const o=$4t(r),i=L4t(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(v,y-1);if(C<=a)if(a=C,c=y-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function L4t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function EO(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return F4t(e,t,r)}function Dk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function K9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Gn&&(t[n]=e[n][1]);return t.join("")}function O5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==An&&(t[n]=e[n][1]);return t.join("")}function Gd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=P5e(r)}return t}function B4t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=P5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Mw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function P5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Od=32,Z9=4,N4t={margin:4};function kO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...N4t,...e}}function z4t(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=G9(e,t,{checkLines:!0});return r.length>2&&(r=A5e(r),r=I5e(r)),jO(e,r,kO(n))}if(e&&Array.isArray(e)&&typeof t>"u")return jO(K9(e),e,kO(n));if(typeof e=="string"&&t&&Array.isArray(t))return jO(e,t,kO(n));throw new Error("Unknown call format to make()")}function jO(e,t,n){if(t.length===0)return[];const r=[];let o=Dk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=Gd(g);switch(!i&&v!==xt&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Gn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case An:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case xt:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(qX(o,d,n),r.push(o),o=Dk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Gn&&(s+=b,c+=x),v!==An&&(a+=b,u+=x)}return i&&(qX(o,d,n),r.push(o)),r}function qX(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Od-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&rM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([xt,s]);const a=s.length,c=Gd(s);let u=e.start2+e.length1+o;u<t.length&&rM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([xt,d]);const f=d.length,p=Gd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function V4t(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Gn:n+=s.length;break;case An:r+=s.length;break;case xt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function GX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Gn&&(n+=e[s][1].length),e[s][0]!==An&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===An?i:i+(t-o)}function H4t(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==xt)i.unshift([xt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==xt)i.push([xt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function U4t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z9;const n=Od;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=Dk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Gd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([xt,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Gd(m);if(p===Gn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===An&&c.diffs.length===1&&c.diffs[0][0]===xt&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Gd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===xt?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=O5e(c.diffs),a=a.substring(a.length-t);const d=K9(o.diffs).substring(0,t),f=Gd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===xt?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([xt,d])),u||e.splice(++r,0,c)}}}function R5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=B4t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||Z9,s=n.deleteThreshold||.4,a=H4t(o,i);r=a+r+a,U4t(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=K9(o[d].diffs);let m,v=-1;if(p.length>Od?(m=EO(r,p.substring(0,Od),f),m!==-1&&(v=EO(r,p.substring(p.length-Od),f+p.length-Od),(v===-1||m>=v)&&(m=-1))):m=EO(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Od),p===g)r=r.substring(0,m)+O5e(o[d].diffs)+r.substring(m+p.length);else{let b=G9(p,g,{checkLines:!1});if(p.length>Od&&V4t(b)/p.length>s)u[d]=!1;else{b=D5e(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==xt&&(y=GX(b,x)),C[0]===Gn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===An&&(r=r.substring(0,m+y)+r.substring(m+GX(b,x+C[1].length))),C[0]!==An&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function W4t(e){return e.map(Y4t).join("")}function Y4t(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Gn:u="+";break;case An:u="-";break;case xt:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const q4t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function X9(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(q4t);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=Dk(b_(o[1]),b_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=b_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=b_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Gd(c)-c.length;if(a==="-")i.diffs.push([An,c]),i.length1-=u;else if(a==="+")i.diffs.push([Gn,c]),i.length2-=u;else if(a===" ")i.diffs.push([xt,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function b_(e){return parseInt(e,10)}function $5e(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function KX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=z4t(e,t),o=W4t(r);return{type:"diffMatchPatch",path:n,value:o}}function ou(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function ll(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Hs(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const G4t=[],M5e="void-child";function cv(e,t){const n=t[e._key];return n&&Vt(e,n)?n:(t[e._key]=e,e)}function wc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:M5e,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:b,_key:x,...y}=g;return b!=="span"?(f=!0,cv({_type:b,_key:x,children:c,value:y,__inline:!0},r)):g});return!p&&!m&&!f&&Re.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=G4t),cv({_type:i,_key:s,...a,children:v},r))}return cv({_type:i,_key:s,children:c,value:a},r)}):[]}function yr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...b}=u;return cv({...b,...f,_key:p,_type:m},n)}return u});return a?cv({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return cv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function Ik(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Re.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&Ee.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Uh=Hr("operationToPatches");Uh.enabled=!1;function K4t(e){const t=e.block.name;function n(d,f,p){Uh.enabled&&Uh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],b=p[f.path[0]],x=d.isTextBlock(b)&&b.children[f.path[1]],y=d.isTextSpan(x)?x.text:"",w=KX(y,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const b=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],y=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(y)&&y.text,C=KX(w||"",g.text,b);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=OSe({...d.children[f.path[0]],...f.newProperties},PSe);return[ll(yr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,b=[];return Object.keys(f.newProperties).forEach(x=>{const y=Vn(f.newProperties,x);b.push(ll(y,[{_key:v},"children",{_key:g},x]))}),b}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",b=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:b==null?void 0:b._key;return x?[ou([yr([f.node],t)[0]],g,[{_key:x}])]:[$5e(p,[]),ou([yr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",b={...f.node};!b._type&&Ee.isText(b)&&(b._type="span",b.marks=[]);const y=yr([{_key:"bogus",_type:t,children:[b]}],t)[0].children[0];return[ou([y],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return Uh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const b=yr([d.children[f.path[0]+1]],t)[0];b&&(m.push(ou([b],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(y=>{const w=[{_key:g._key},"children",{_key:y._key}];m.push(Hs(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const b=yr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(ou(b,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(ll(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Hs([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Hs([{_key:m._key},"children",{_key:v._key}])]:(Uh("Span not found in editor trying to remove node"),[])}else return Uh("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const b=yr([d.children[f.path[0]-1]],t)[0];m.push(ll(b,[{_key:b._key}])),m.push(Hs([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const b=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(ll(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),b&&m.push(Hs([{_key:v._key},"children",{_key:b._key}])))}else Uh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const b=f.path[0]>f.newPath[0]?"before":"after";m.push(Hs([{_key:v._key}])),m.push(ou([yr([v],t)[0]],b,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const b=v.children[f.path[1]],x=g.children[f.newPath[1]],y=f.newPath[1]===g.children.length?"after":"before",w=yr([v],t)[0].children[f.path[1]];m.push(Hs([{_key:v._key},"children",{_key:b._key}])),m.push(ou([w],y,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function ZX(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function XX(e,t){if(!t)return[];const[n,r]=Array.from(L.nodes(t,{at:[],match:s=>Or(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Re.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Vt([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Re.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function op(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&ZX(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&ZX(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function iS(e,t){if(!e||!t)return null;const n={path:XX(e.anchor,t),offset:e.anchor.offset},r={path:XX(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function Ok(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const B1=Hr("API:editable");function Z4t(e,t,n){return function(o){return e.setEditable({focus:()=>{if(!o.selection){const i={path:[0,0],offset:0};ae.select(o,{focus:i,anchor:i}),o.onChange()}ge.focus(o)},blur:()=>{ge.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...L.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=iS(i,o);s?ae.select(o,s):ae.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=je.descendant(o,o.selection.focus.path.slice(0,1));if(i)return yr([i],t.block.name,ba.get(o))[0]}},focusChild:()=>{if(o.selection){const i=je.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return yr([i],t.block.name,ba.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(L.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=wc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=je.get(o,f);return p&&m._type!==t.span.name&&(B1("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),ae.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=op(yr(o.children,t.block.name,ba.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=wc([{_key:n(),_type:i.name,...s||{}}],e)[0];return L.insertNode(o,c),o.onChange(),((a=op(yr(o.children,t.block.name,ba.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=iS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=L.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[yr([a],t.block.name)[0],[{_key:a._key}]];const u=yr([a],t.block.name,ba.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(L.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=ge.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=L.nodes(o,{at:o.selection,match:c=>Ee.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=L.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{Ee.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=L.node(o,a.focus,{depth:1});if(Re.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){ae.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=L.node(o,a.focus,{depth:2});if(o.selection){L.withoutNormalizing(o,()=>{ae.setNodes(o,{},{match:Ee.isText,split:!0}),o.selection&&Ee.isText(d)&&(ae.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),L.normalize(o),o.onChange();const f=op(yr(o.children,t.block.name,ba.get(o)),o.selection,t);if(f&&typeof c._key=="string")return L.withoutNormalizing(o,()=>{o.selection&&(ae.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=iS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){B1("Deleting content in selection"),ae.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(B1("Deleting blocks touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Re.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(B1("Deleting children touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Re.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(B1("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,c]=L.node(o,s,{depth:2});Ee.isText(a)&&a.marks&&typeof a.text=="string"&&(ae.select(o,c),s=o.selection)}L.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;ae.setNodes(o,{},{match:Ee.isText,split:!0}),o.onChange(),[...L.nodes(o,{at:s,match:c=>Ee.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=L.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(Ee.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];ae.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),L.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=Ak.get(o.selection);if(s)return s;i=op(yr(o.children,t.block.name,ba.get(o)),o.selection,t),Ak.set(o.selection,i)}return i},getValue:()=>yr(o.children,t.block.name,ba.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function X4t(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const Pk=new WeakMap;function ux(e,t){const n=F5e(e);Pk.set(e,!0),t(),Pk.set(e,n)}function F5e(e){return Pk.get(e)}function Q4t(e,t){return function(r){Pk.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!F5e(r)||!("_key"in s.node);L.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Re.isElement(a)&&a._type===e.block.name){a._key||ae.setNodes(r,{_key:t()},{at:c});for(const[u,d]of je.children(r,c))if(!u._key){ae.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const Rk=new WeakMap;function oM(e,t){const n=L5e(e);Rk.set(e,!1),t(),Rk.set(e,n)}function L5e(e){return Rk.get(e)}const QX="before",JX="after";function J4t(e,t,n){if(t!==QX&&t!==JX)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(QX," or ").concat(JX));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=eQ(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...eQ(s)),d}function eQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const tQ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function eFt(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function tFt(e,t){if(typeof t=="number")return t;const n=W9(e,t);return n===-1?!1:n}function nFt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!tQ(t.value,"from")||!tQ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return eFt(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=tFt(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return J4t(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=Q9(n[i],{...t,path:o}),n}function rFt(e,t){const n=b5e(e);if(t.path.length===0){if(t.type==="set"){if(!Yx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ai(n,r):(n[r]=Q9(n[r],{...t,path:o}),n)}const B5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},oFt=Object.keys(B5e);function iFt(e,t){if(!oFt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return B5e[t.type](e,t.value)}const N5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=R5e(X9(t),e,{allowExceedingIndices:!0});return n}},sFt=Object.keys(N5e);function aFt(e,t){if(!sFt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=N5e[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function lFt(e,t){return t.reduce(Q9,e)}function cFt(e,t){return Array.isArray(e)?nFt(e,t):lT(e)?aFt(e,t):Yx(e)?rFt(e,t):iFt(e,t)}function Q9(e,t){return cFt(e,t)}const xr=Hr("applyPatches"),J9=xr.enabled&&!0;function uFt(e){let t;return function(n,r){let o=!1;J9&&(xr(`

NEW PATCH =============================================================`),xr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=fFt(n,r,e);break;case"unset":o=pFt(n,r,t);break;case"set":o=hFt(n,r);break;case"diffMatchPatch":o=dFt(n,r);break;default:xr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function dFt(e,t){const{block:n,child:r,childPath:o}=BT(e,t.path);if(!n)return xr("Block not found"),!1;if(!r||!o)return xr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!Ee.isText(r))return!1;const s=X9(t.value),[a]=R5e(s,r.text,{allowExceedingIndices:!0}),c=I5e(G9(r.text,a),5);vs(e,"before");let u=0;for(const[d,f]of c)d===Gn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===An?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===xt&&(u+=f.length);return vs(e,"after"),!0}function fFt(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=BT(e,t.path);if(!r||!i)return xr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return xr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=wc(m,{schemaTypes:n},nM.get(e)),b=i[0],x=v==="after"?b+1:b;return xr("Inserting blocks at path [".concat(x,"]")),vs(e,"before"),ae.insertNodes(e,g,{at:[x]}),vs(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return xr("Child not found"),!1;const u=r&&wc([{...r,children:a}],{schemaTypes:n},nM.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return xr("Inserting children at path ".concat(p)),vs(e,"before"),u&&Re.isElement(u[0])&&ae.insertNodes(e,u[0].children,{at:p}),vs(e,"after"),!0}function hFt(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=BT(e,t.path);if(!r)return xr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return xr("Ignoring setting void value"),!1;if(vs(e,"before"),a&&i&&s){if(Ee.isText(n)&&Ee.isText(i)){const c=i.text;n.text!==c&&(xr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else xr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Re.isElement(r)&&t.path.length===1&&o){xr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=lFt([r.value],[t])[0];return ae.setNodes(e,{...r,value:c},{at:o}),!0}return vs(e,"after"),!0}function pFt(e,t,n){if(t.path.length===0){xr("Removing everything"),vs(e,"before");const a=e.selection;return ae.deselect(e),e.children.forEach((c,u)=>{ae.removeNodes(e,{at:[u]})}),ae.insertNodes(e,e.createPlaceholderBlock()),a&&ae.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),vs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=BT(e,t.path);if(t.path.length===1){if(!r||!o)return xr("Block not found"),!1;const a=o[0];return xr("Removing block at path [".concat(a,"]")),vs(e,"before"),ae.removeNodes(e,{at:[a]}),vs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return xr("Child not found"),!1;const a=s[1];return xr("Unsetting child at path ".concat(JSON.stringify(s))),vs(e,"before"),J9&&xr("Removing child at path ".concat(JSON.stringify([s,a]))),ae.removeNodes(e,{at:s}),vs(e,"after"),!0}return!1}function z5e(e){return typeof e=="object"&&"_key"in e}function vs(e,t){J9&&(xr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),xr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function mFt(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=z5e(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function BT(e,t){const{block:n,path:r}=mFt(e,t);if(!(Re.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=z5e(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function V5e(e,t){const n=H5e(e)||!1;Tk.set(e,!0),t(),Tk.set(e,n)}function H5e(e){return Tk.get(e)}function gFt(e){return oS.get(e)}const Yo=Hr("plugin:withUndoRedo"),nQ=Yo.enabled&&!1,uv=new WeakMap,TO=new WeakMap,vFt=1e3,U5e=e=>{const t=uv.get(e);return t===void 0?!0:t},yFt=e=>(TO.get(e)||TO.set(e,[]),TO.get(e)||[]);function bFt(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=yr(o.children,r.name);const s=yFt(o);n&&o.subscriptions.push(()=>{Yo("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Yo("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),uv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Yo("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=wFt(c,m),g=U5e(o);let b=!0;if(g){if(p?u.length===0&&(b=xFt(c,m)||v):b=!1,p&&b)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[_Ft(o)],c],timestamp:new Date};f.push(x),Yo("Created new undo step",p)}for(;f.length>vFt;)f.shift();CFt(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Yo("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Dn(f.map(m=>rQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),Ok(!!o.selection);try{L.withoutNormalizing(o,()=>{dx(o,()=>{f.map(Lg.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Yo("Could not perform undo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},uv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Yo("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Dn(f.map(m=>rQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),Ok(!!o.selection);try{L.withoutNormalizing(o,()=>{dx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Yo("Could not perform redo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},uv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function rQ(e,t,n,r,o){nQ&&(Yo("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Yo("Operation ".concat(JSON.stringify(n))),Yo("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Vt({_key:a._key},t.path[0]));return Yo("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[oQ(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Vt({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Yo("Skipping transformation that targeted removed block"),[]):(nQ&&(Yo("Selection ".concat(JSON.stringify(e.selection))),Yo("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[oQ(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Yo("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=SFt(e,i);return!s||!Vt({_key:s._key},t.path[0])?[i]:(X9(t.value).forEach(c=>{var u,d,f,p;let m=0,v=c.utf8Start1;const{diffs:g}=c;if(g.forEach((b,x)=>{const[y,w]=b;y===Gn?(m+=w.length,v+=w.length):y===An?(m-=w.length,v-=w.length):y===xt&&(g.slice(x).every(C=>{let[_]=C;return _===xt})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const b=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,y=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(b&&x||y&&w)&&([b,x,y,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),b&&x&&(i.properties={focus:b,anchor:x}),y&&w&&(i.newProperties={focus:y,anchor:w}))}}),[i])}return[i]}function oQ(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const xFt=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&ne.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&ne.equals(e.path,t.path)),wFt=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),CFt=e=>e.type!=="set_selection";function dx(e,t){const n=U5e(e);uv.set(e,!1),t(),uv.set(e,n)}function _Ft(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function SFt(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const x_=Hr("plugin:withPatches");function EFt(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=uFt(i);return function(u){Tk.set(u,!1),Rk.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;V5e(u,()=>{L.withoutNormalizing(u,()=>{oM(u,()=>{dx(u,()=>{ux(u,()=>{v.forEach(b=>{(b.type==="insert"||b.type==="unset")&&Ok(!!u.selection),x_.enabled&&x_("Handling remote patch ".concat(JSON.stringify(b))),g=a(u,b)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const b=g.filter(x=>x.origin!=="local");b.length!==0&&(f=f.concat(b),p())};return n&&u.subscriptions.push(()=>{x_("Subscribing to patches$");const v=n.subscribe(m);return()=>{x_("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const b=Ik(s,i);d(v);const x=Ik(u.children,i);if(!L5e(u))return u;switch(b&&!x&&v.type!=="set_selection"&&g.push(ou(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!b&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Hs([])],t.next({type:"unset",previousValue:yr(s,i.block.name,ba.get(u))})),b&&g.length>0&&(g=[$5e([],[]),...g]),g.length>0&&g.forEach(y=>{t.next({type:"patch",patch:{...y,origin:"local"}})}),u},u}}const kFt=Hr("plugin:withPlaceholderBlock");function jFt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(kFt("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const w_=Hr("plugin:withPortableTextBlockStyle");function TFt(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!ne.equals(s,a.path)){const[c]=L.node(r,[a.path[0]+1,0]);if(Ee.isText(c)&&c.text===""){w_("Normalizing split node to ".concat(t," style"),a),ae.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...L.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...L.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(w_("Unsetting block style '".concat(i,"'")),ae.setNodes(r,{...c,style:t},{at:u})):(i?w_("Setting style '".concat(i,"'")):w_("Setting default style",t),ae.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const wh=Hr("plugin:withPortableTextLists"),AO=10;function AFt(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(wh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(wh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...L.nodes(n,{at:n.selection,match:i=>Re.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};wh("Unsetting list '".concat(r,"'")),ae.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...L.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;wh("Setting list '".concat(r,"'")),ae.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...L.nodes(n,{at:n.selection,match:o=>Re.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&Ee.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Re.isElement(i)&&(wh("Unset list"),ae.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...L.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,wh("Decrementing list level",Math.min(AO,Math.max(1,c)))):(c++,wh("Incrementing list level",Math.min(AO,Math.max(1,c)))),ae.setNodes(n,{level:Math.min(AO,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...L.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const bd=Hr("plugin:withPortableTextMarkModel");function DFt(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(ae.select(i,{...i.selection}),i.selection={...i.selection});const d=op(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=Ee.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(bd("Adding .marks to span node"),ae.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[b,x]=L.node(i,[g.path[0]-1]);if(bd("Copying markDefs over to merged block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[],w=co([...y,...g.properties.markDefs]);Vt(w,b.markDefs)||(ae.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Re.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[b,x]=L.node(i,[g.path[0]+1]);if(bd("Copying markDefs over to split block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[];ae.setNodes(i,{markDefs:co([...y,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[b,x]=L.node(i,[g.path[0]+1,0]);Ee.isText(b)&&b.text===""&&Array.isArray(b.marks)&&b.marks.length>0&&(ae.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[b,x]=L.node(i,[g.path[0]]);i.isTextBlock(b)&&b.children.length===1&&b.markDefs&&b.markDefs.length>0&&Ee.isText(b.children[0])&&b.children[0].text===""&&(!b.children[0].marks||b.children[0].marks.length===0)&&(ae.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(ae.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=L.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!c.includes(v)))){const[v]=Array.from(L.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(Ee.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),ae.splitNodes(i,{match:Ee.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...L.marks(i)||{}}.marks||[]).filter(b=>c.includes(b));ae.setNodes(i,{marks:g},{at:ne.next(m.focus.path)}),bd("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){ae.setNodes(i,{},{match:Ee.isText,split:!0});const f=[...L.nodes(i,{at:i.selection,match:Ee.isText})];if(Dn(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;L.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const b=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];ae.setNodes(i,{marks:b},{at:g,match:Ee.isText,split:!0,hanging:!0})})}),L.normalize(i)}else{const f={...L.marks(i)||{}}.marks||[],p={...L.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))L.withoutNormalizing(i,()=>{ae.setNodes(i,{},{match:Ee.isText,split:!0}),i.selection&&[...L.nodes(i,{at:i.selection,match:Ee.isText})].forEach(m=>{let[v,g]=m;const b=i.children[g[0]];Re.isElement(b)&&b.children.includes(v)&&ae.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),L.normalize(i);else{const p={...L.marks(i)||{}}.marks||[],m={...L.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...L.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(L.nodes(i,{match:Ee.isText,at:i.selection})).forEach(p=>{const[m]=p;f=co([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(bd("Remove mark '".concat(d,"'")),L.removeMark(i,d)):(bd("Add mark '".concat(d,"'")),L.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(L.nodes(o,{at:L.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?L.node(o,ne.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];Ee.isText(s)&&Ee.isText(d)&&Vt(d.marks,s.marks)&&(bd("Merging spans"),ae.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=L.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>Ee.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Vt(u,a.markDefs)||(bd("Removing markDef not in use"),ae.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const W5e=Hr("plugin:withPortableTextSelections"),IFt=W5e.enabled&&!1;function OFt(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=Ak.get(o.selection);if(c)a=c;else{const u=o.children;a=op(u,o.selection,t),Ak.set(o.selection,a)}}IFt&&W5e("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const PFt=Hr("plugin:withSchemaTypes");function RFt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>Vf(s)&&s._type===t.block.name,o.isTextSpan=s=>Ks(s)&&s._type==t.span.name,o.isListBlock=s=>hMe(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){PFt("Setting span type on text node without a type");const u=a,d=u._key||n();ae.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const DO=Hr("plugin:withUtils");function $Ft(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=L.node(n,r.focus,{depth:2});if(!o||!Ee.isText(o)||o.text.length===0){DO("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=c.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){DO("pteExpandToWord: Expanding to focused word"),ae.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}DO("pteExpandToWord: Can't expand to word here")}},n}}const IO=Hr("plugin:withHotKeys"),MFt={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function FFt(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||MFt,s=()=>wc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{Object.keys(i).forEach(b=>{if(b==="marks")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(pi(x,u.nativeEvent)){u.preventDefault();const y=i[b];if(y){const w=y[x];IO("HotKey ".concat(x," to toggle ").concat(w)),c.pteToggleMark(w)}}}if(b==="custom")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(pi(x,u.nativeEvent)){const y=i[b];if(y){const w=y[x];w(u,n)}}}});const d=pi("enter",u.nativeEvent),f=pi("tab",u.nativeEvent),p=pi("shift+enter",u.nativeEvent),m=pi("shift+tab",u.nativeEvent),v=pi("backspace",u.nativeEvent),g=pi("delete",u.nativeEvent);if(v&&c.selection&&c.selection.focus.path[0]>0&&ue.isCollapsed(c.selection)){const b=ne.previous(c.selection.focus.path.slice(0,1)),x=je.descendant(c,b),y=je.descendant(c,c.selection.focus.path.slice(0,1));if(x&&y&&L.isVoid(c,x)&&c.selection.focus.offset===0){IO("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(c,{match:w=>w===y}),ae.select(c,b),c.onChange();return}}if(g&&c.selection&&c.selection.focus.offset===0&&ue.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const b=je.descendant(c,ne.next(c.selection.focus.path.slice(0,1))),x=c.selection.focus.path.slice(0,1),y=je.descendant(c,x);if(b&&y&&!L.isVoid(c,y)&&L.isVoid(c,b)){IO("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(c,{match:w=>w===y}),ae.select(c,x),c.onChange();return}}if((f||m)&&c.selection){const[b]=L.node(c,c.selection.focus,{depth:2}),[x]=Ks(b)?L.node(c,c.selection.focus,{depth:1}):[],y=b&&Vf(x)&&Ks(b)&&(b.marks||[]).filter(_=>(x.markDefs||[]).map(S=>S._key).includes(_)).length>0,[w]=ue.edges(c.selection),C=L.isStart(c,w,w.path);b&&Ks(b)&&(!y||C)&&c.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&c.selection){const b=c.selection.focus.path.slice(0,1),x=je.descendant(c,b);if(c.isListBlock(x)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,y]=ue.edges(c.selection);if(L.isEnd(c,y,y.path)){L.insertNode(c,s()),u.preventDefault();return}}if(x&&L.isVoid(c,x)){L.insertNode(c,s()),u.preventDefault();return}u.preventDefault(),c.insertBreak()}if(p){u.preventDefault(),c.insertText(`
`);return}if(pi("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(pi("mod+y",u.nativeEvent)||pi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function $k(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Hs([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!Yx(a))return r={patches:[Hs([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[ll({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[ll({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Hs([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Hs([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[ll({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=co(Dn(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>ll((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[ou([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[ll(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Hs([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[ll({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const eu=Hr("plugin:withInsertData");function LFt(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=L.void(o,{at:f.path}),v=L.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=ge.toDOMRange(o,d);let b=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=ge.toDOMNode(o,E);j.setEndAfter(k),b=j.cloneContents()}Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(b.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=b.ownerDocument.createElement("div");x.appendChild(b),x.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(x);const y=x.innerHTML;b.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=yr(w,i),_=JSON.stringify(C),S=a(C);c.clearData(),c.setData("text/plain",S),c.setData("text/html",y),c.setData("application/json",_),c.setData("application/x-portable-text",_),eu("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),eu("Set fragment data",_,y)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(eu("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=zFt(o,wc(p,{schemaTypes:t}),n,s),v=$k(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),eu("Invalid insert result",v),!1}return iQ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return eu("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){eu("Inserting data",c);let p,m,v;if(d)p=FX(d,t.portableText).map(b=>cx(b,{blockTypeName:i})),m=wc(p,{schemaTypes:t}),v="HTML";else{const b=NFt(f).split(/\n{2,}/).map(y=>y?"<p>".concat(y.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(b,"</body></html>");p=FX(x,t.portableText).map(y=>cx(y,{blockTypeName:i})),m=wc(p,{schemaTypes:t}),v="text"}const g=$k(p,t,n);if(!g.valid){const b=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:b,data:g}),eu("Invalid insert result",g),!1}return eu("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),iQ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const BFt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function NFt(e){return String(e).replace(/[&<>"'`=/]/g,t=>BFt[t])}function zFt(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function iQ(e,t,n){if(!e.selection)return;const[r,o]=L.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;eu("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Vt(s,t[0].markDefs)||ae.setNodes(e,{markDefs:co([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}Ik(e.children,n)?(ae.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ae.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const sQ=new WeakMap,aQ=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():sQ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=K4t(c),f=Q4t(c,r),p=RFt({schemaTypes:c,keyGenerator:r}),m=Z4t(o,c,r),v=EFt({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),g=X4t(a||-1),b=AFt(c),x=bFt({readOnly:s,patches$:i,blockSchemaType:c.block}),y=DFt(c,u),w=TFt(c),C=jFt({keyGenerator:r,schemaTypes:c}),_=$Ft(),S=OFt(u,c);return n.destroy=()=>{const E=sQ.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(y(w(_(C(b(S(m(n))))))))),subscribe:()=>$Se}:{editor:p(f(y(w(b(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},OO=Hr("component:PortableTextEditor:SlateContainer");function VFt(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{OO("Creating new Slate editor instance");const{editor:u,subscribe:d}=aQ(oMt(PRt()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return ba.set(u,{}),nM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{OO("Re-initializing plugin chain"),aQ(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{OO("Destroying Slate editor"),s.destroy()},[s]),l.jsx(nMt,{editor:s,initialValue:c,children:e.children})}const Y5e=h.createContext(null),M0=()=>{const e=h.useContext(Y5e);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},q5e=h.createContext(null),po=()=>{const e=h.useContext(q5e);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},HFt=h.createContext(void 0),G5e=h.createContext(!1),UFt=()=>{const e=h.useContext(G5e);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},eo=Hr("hook:useSyncValue"),lQ=new WeakMap;function WFt(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=MT(),c=h.useRef(),u=h.useCallback(()=>{const f=lQ.get(t);if(s.current===f){eo("Value is the same object as previous, not need to sync");return}c.current&&f&&(eo("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(qx(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{lQ.set(t,p);const m=gFt(a),v=H5e(a);if(!n){if(m){eo("Has local changes, not syncing value right now"),d();return}if(v){eo("Has remote changes, not syncing value right now"),d();return}}let g=!1,b=!0;const x=!!a.selection;if((!p||p.length===0)&&(eo("Value is empty"),L.withoutNormalizing(a,()=>{dx(a,()=>{oM(a,()=>{x&&ae.deselect(a);const y=a.children.length;a.children.forEach((w,C)=>{ae.removeNodes(a,{at:[y-1-C]})}),ae.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&ae.select(a,[0,0])})})}),g=!0),p&&p.length>0){const y=wc(p,{schemaTypes:i});L.withoutNormalizing(a,()=>{V5e(a,()=>{dx(a,()=>{oM(a,()=>{const w=a.children.length;if(y.length<w){for(let C=w-1;C>y.length-1;C--)ae.removeNodes(a,{at:[C]});g=!0}y.forEach((C,_)=>{const S=a.children[_];if(S&&!Vt(C,S)&&b){const j=[p[_]],k=$k(j,i,r);k.valid?(S._key===C._key?(eo.enabled&&eo("Updating block",S,C),qFt(a,C,S,_)):(eo.enabled&&eo("Replacing block",S,C),YFt(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}if(!S&&b){const j=[p[_]],k=$k(j,i,r);eo.enabled&&eo("Validating and inserting new block in the end of the value",C),k.valid?ux(a,()=>{ae.insertNodes(a,C,{at:[_]})}):(eo("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}})})})})})}if(!b){eo("Invalid value, returning");return}if(g){eo("Server value changed, syncing editor");try{a.onChange()}catch(y){console.error(y),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(ae.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else eo("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function YFt(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&ae.deselect(e),ae.removeNodes(e,{at:[n]}),ux(e,()=>{ae.insertNodes(e,t,{at:[n]})}),o&&ae.select(e,r)}function qFt(e,t,n,r){if(ae.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(eo("Removing child"),ae.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!Vt(i,a),u=!Vt(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){eo("Updating changed child",i,a),ae.setNodes(e,i,{at:d});const f=Ee.isText(i)&&i._type==="span"&&Ee.isText(a)&&a._type==="span";f&&u?(ae.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),ae.insertText(e,i.text,{at:d}),e.onChange()):f||(eo("Updating changed inline object child",i),ae.setNodes(e,{_key:M5e},{at:[...d,0],voids:!0}))}else a?(eo("Replacing child",i),ae.removeNodes(e,{at:[r,s]}),ux(e,()=>{ae.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(eo("Inserting new child",i),ux(e,()=>{ae.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const tu=Hr("component:PortableTextEditor:Synchronizer"),cQ=tu.enabled&&!1,GFt=1e3;function KFt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=WFt({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=MT();h.useEffect(()=>{oS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){tu("Flushing pending patches"),cQ&&tu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const y=ke.getValue(n);r({type:"mutation",patches:u.current,snapshot:y}),u.current=[]}oS.set(f,!1)},[f,n,r]),m=h.useCallback(y=>{if(L.isNormalizing(f)){p();return}y()},[p,f]),v=h.useMemo(()=>Qj(()=>{m(v)},GFt,{leading:!1,trailing:!0}),[m]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{tu("Subscribing to editor changes$");const y=t.subscribe(w=>{switch(w.type){case"patch":oS.set(f,!0),u.current.push(w.patch),v(),r(w);break;case"selection":h.startTransition(()=>{cQ&&tu("Setting selection"),c(w.selection)}),r(w);break;default:r(w)}});return()=>{tu("Unsubscribing to changes$"),y.unsubscribe()}},[t,r,p,v,f,d]);const g=h.useCallback(()=>{tu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),b=h.useCallback(()=>{tu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",g),window.addEventListener("offline",b)),()=>{n.props.patches$&&(window.removeEventListener("online",g),window.removeEventListener("offline",b))}));const x=h.useRef(!0);return h.useEffect(()=>{tu("Value from props changed, syncing new value"),d(s),x.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),x.current=!1)},[t,d,s]),l.jsx(T5e.Provider,{value:o,children:l.jsx(q5e.Provider,{value:n,children:l.jsx(HFt.Provider,{value:s,children:l.jsx(G5e.Provider,{value:i,children:l.jsx(Y5e.Provider,{value:a,children:e.children})})})})})}const F0=Hr("component:PortableTextEditor");class ke extends ie.Component{constructor(t){if(super(t),this.change$=new wr,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=BX(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:LX(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=BX(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:LX(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||jk;return l.jsx(VFt,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(KFt,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}ke.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];ke.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};ke.blur=e=>{var t;F0("Host blurred"),(t=e.editable)==null||t.blur()};ke.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};ke.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};ke.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};ke.focus=e=>{var t;F0("Host requesting focus"),(t=e.editable)==null||t.focus()};ke.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};ke.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};ke.getSelection=e=>e.editable?e.editable.getSelection():null;ke.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};ke.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};ke.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};ke.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};ke.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};ke.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};ke.insertChild=(e,t,n)=>{var r;return F0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};ke.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};ke.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};ke.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};ke.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};ke.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};ke.select=(e,t)=>{var n;F0("Host setting selection",t),(n=e.editable)==null||n.select(t)};ke.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};ke.toggleBlockStyle=(e,t)=>{var n;return F0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};ke.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};ke.toggleMark=(e,t)=>{var n;F0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function uQ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function ZFt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Vt({_key:s._key},o.path[0]))&&(n=uQ(o,t)),i&&t.find(s=>Vt({_key:s._key},i.path[0]))&&(r=uQ(i,t)),n&&r?{anchor:n,focus:r}:null}function XFt(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const QFt=Hr("components:Leaf"),dQ=[],JFt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=ie.useRef(null),u=po(),d=f5e(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,b=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),y=h.useMemo(()=>co((r.marks||dQ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:dQ,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=ke.getSelection(u);j&&Vt(j.focus.path,b)&&ke.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,b,u]);const S=h.useCallback(()=>{if(!_)return;QFt("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);c.current&&k.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=ke.getSelection(u);T&&Vt(T.focus.path,b)&&ke.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Vt(k.selection.focus.path,b)&&ke.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[b,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(Ee.isText(r)&&r._type===o.span.name&&(y.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(XFt,{annotation:k,children:l.jsx("span",{ref:c,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:c,focused:f,path:b,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,y,b,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:E},r._key),[r,t,E])},C_=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var fQ=Object.freeze,e6t=Object.defineProperty,NT=(e,t)=>fQ(e6t(e,"raw",{value:fQ(t||e.slice())})),hQ,pQ,mQ,gQ;const t6t=P.div(hQ||(hQ=NT([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");P.span(pQ||(pQ=NT([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const n6t=P.div(mQ||(mQ=NT([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>o6t(e.listLevel),e=>s6t(e.listLevel,e.listStyle),e=>a6t(e.listLevel),e=>l6t(e.listLevel),e=>c6t(e.listLevel)),r6t=P.div(gQ||(gQ=NT([""])));function o6t(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const i6t=["","",""];function s6t(e,t){const n=(e-1)%3;return t==="bullet"?i6t[n]:"*"}function a6t(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function l6t(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function c6t(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Gl=Hr("components:DraggableBlock"),vQ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Bc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>L.isVoid(i,n),[i,n]),d=h.useMemo(()=>L.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:ge.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=M1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",F1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,O=k.pageY,$=Math.abs(D-O);let R="bottom";if(n===i.children[0]?R="top":$<I/2?(R="top",L1.set(i,R)):(R="bottom",L1.set(i,R)),T===n){k.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),v=h.useCallback(()=>{c(!1)},[]),g=h.useCallback(k=>{const T=F1.get(i);if(T){g_.set(i,!1),k.preventDefault(),k.stopPropagation(),F1.delete(i),s.current&&(Gl("Removing drag ghost"),document.body.removeChild(s.current));const A=L1.get(i);L1.delete(i);let D=ge.findPath(i,T);const I=ge.findPath(i,n),O=ne.isBefore(I,D);if(A==="bottom"&&!O){if(D[0]>=i.children.length-1){Gl("target is already at the bottom, not moving");return}const $=D;D=ne.next(D),Gl("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(A==="top"&&O&&D[0]!==i.children.length-1){const $=D;D=ne.previous(D),Gl("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(ne.equals(D,I)){k.preventDefault(),Gl("targetPath and myPath is the same, not moving");return}Gl("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),ae.moveNodes(i,{at:I,to:D}),i.onChange();return}Gl("No target element, not doing anything")},[i,n]),b=h.useCallback(k=>{M1.get(i)&&(Gl("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(k=>{if(!u){M1.delete(i);return}g_.set(i,!0),M1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),y=h.useCallback(k=>{if(!u||d){Gl("Not dragging block"),M1.delete(i),g_.set(i,!1);return}if(Gl("Drag start"),g_.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,O=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,O)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===F1.get(i),C=a&&i.children[i.children.length-1]===F1.get(i),_=L1.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:y,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:b,children:[S&&j,t,E&&j]})};Hr("components:Element");const u6t=[],d6t={display:"inline-block"},f6t=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Bc(),p=f5e(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,b=h.useMemo(()=>yr([r],o.block.name,ba.get(f))[0],[f,r,o.block.name]);let x=n,y;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=ge.findPath(f,r),[j]=L.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Re.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:d6t,contentEditable:!1,children:[a&&a({annotations:u6t,children:l.jsx(C_,{value:b}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:b}),!a&&l.jsx(C_,{value:b})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){y="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";y="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),y+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(b)&&E&&r.listItem){const I=o.lists.find(O=>O.value===r.listItem);c&&I?x=c({block:b,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:b.level||1,editorElementRef:m}):x=l.jsx(n6t,{listStyle:b.listItem||o.lists[0].value,listLevel:b.level||1,children:l.jsx(r6t,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:b},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return l.jsx("div",{...t,className:y,spellCheck:d,children:l.jsx(vQ,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));y="pt-block pt-object-block";const _=yr([r],o.block.name,ba.get(f))[0];let S;if(s){const E=Object.defineProperty({children:l.jsx(C_,{value:b}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return l.jsxs("div",{...t,className:y,children:[n,l.jsxs(vQ,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(t6t,{selected:p,children:l.jsx(C_,{value:b})})]})]},r._key)},h6t=typeof window>"u"?h.useEffect:h.useLayoutEffect;function p6t(e){const t=h.useRef(null);return h6t(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const Kl=Hr("component:Editable"),m6t={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none"},g6t=[],K5e=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:b,scrollSelectionIntoView:x,spellCheck:y,...w}=t,C=po(),_=UFt(),S=b4t(),E=p6t(n),[j,k]=h.useState(!1),{change$:T,schemaTypes:A}=C,D=MT(),I=A.block.name,O=h.useMemo(()=>LFt(T,A,S),[T,S,A]),$=h.useMemo(()=>FFt(A,S,C,r),[r,S,C,A]);h.useMemo(()=>_?(Kl("Editable is in read only mode"),O(D)):(Kl("Editable is in edit mode"),O($(D))),[_,D,$,O]);const R=h.useCallback(G=>l.jsx(f6t,{...G,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:A,spellCheck:y}),[A,y,_,d,f,m,g]),V=h.useCallback(G=>{const J=l.jsx(JFt,{...G,schemaTypes:A,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&G.leaf.placeholder&&G.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:m6t,contentEditable:!1,children:v()}),J]}):J},[_,u,f,p,v,A]),M=h.useCallback(()=>{if(b){Kl("Selection from props ".concat(JSON.stringify(b)));const G=ZFt(b,yr(D.children,I));if(G!==null){Kl("Normalized selection from props ".concat(JSON.stringify(G)));const J=iS(G,D);J&&(ae.select(D,J),D.operations.some(X=>X.type==="set_selection")||T.next({type:"selection",selection:G}),D.onChange())}}},[b,D,I,T]);h.useEffect(()=>{Kl("Subscribing to editor changes$");const G=T.subscribe(J=>{switch(J.type){case"ready":M();break;case"invalidValue":k(!0);break;case"value":k(!1);break}});return()=>{Kl("Unsubscribing to changes$"),G.unsubscribe()}},[T,M]),h.useEffect(()=>{b&&!j&&M()},[j,b,M]);const H=h.useCallback(G=>{c&&c(G)!==void 0&&G.preventDefault()},[c]),q=h.useCallback(G=>{if(G.preventDefault(),!!D.selection){if(!a){Kl("Pasting normally"),D.insertData(G.clipboardData);return}new Promise(J=>{const X=ke.getValue(C),ee=op(X,D.selection,A),oe=(ee==null?void 0:ee.focus.path)||[];J(a({event:G,value:X,path:oe,schemaTypes:A}))}).then(J=>{if(Kl("Custom paste function from client resolved",J),T.next({type:"loading",isLoading:!0}),!J||!J.insert){Kl("No result from custom paste handler, pasting normally"),D.insertData(G.clipboardData);return}if(J&&J.insert){D.insertFragment(wc(J.insert,{schemaTypes:A})),T.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",J)}).catch(J=>(T.next({type:"loading",isLoading:!1}),console.error(J),J))}},[T,a,C,A,D]),U=h.useCallback(G=>{if(i&&i(G),!G.isDefaultPrevented()){const J=ke.getSelection(C);T.next({type:"focus",event:G});const X=ke.getSelection(C);J===X&&T.next({type:"selection",selection:J})}},[T,C,i]),W=h.useCallback(G=>{o&&o(G),G.isPropagationStopped()||T.next({type:"blur",event:G})},[T,o]),Q=h.useCallback(G=>{s&&s(G)},[s]),N=h.useCallback(()=>{let G=null;const J=D.selection;try{G=D.selection&&ge.toDOMRange(D,D.selection)}catch{Ok(!0),ae.deselect(D),ae.select(D,[0,0]),D.onChange(),Kl("Could not resolve selection (".concat(JSON.stringify(J),"), unselecting"))}},[D]);h.useEffect(()=>{const G=new MutationObserver(N);return E.current&&G.observe(E.current,{childList:!0,subtree:!0}),()=>{G.disconnect()}},[N,E]);const K=h.useCallback(G=>{t.onKeyDown&&t.onKeyDown(G),G.isDefaultPrevented()||D.pteWithHotKeys(G)},[t,D]),z=h.useMemo(()=>{if(x!==void 0)return x===null?$Se:(G,J)=>{x(C,J)}},[C,x]),Z=h.useCallback(()=>Ik(D.children,A)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:g6t,[A,D]);return h.useEffect(()=>{E.current=ge.toDOMNode(D,D)},[D,E]),C?j?null:l.jsx(q$t,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:Z,onBlur:W,onCopy:H,onDOMBeforeInput:Q,onFocus:U,onKeyDown:K,onPaste:q,readOnly:_,renderPlaceholder:void 0,renderElement:R,renderLeaf:V,scrollSelectionIntoView:z}):null});var v6t=S_e,y6t=k0,yQ=cT;function b6t(e,t,n){var r=e.length;if(r<2)return r?yQ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=v6t(i[o]||s,e[a],t,n));return yQ(y6t(i,1),t,n)}var x6t=b6t,w6t=LCe,C6t=T0,_6t=x6t,S6t=tT,E6t=C6t(function(e){return _6t(w6t(e,S6t))}),k6t=E6t;const j6t=Oe(k6t);function Z5e(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(T6t(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function T6t(e){return typeof e=="object"&&typeof e._key=="string"}class wy extends Error{constructor(t,n,r){const o=Z5e(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const A6t=/^[a-z0-9][a-z0-9_.-]+$/i,D6t=/^[a-zA-Z_][a-zA-Z0-9_]*$/,I6t=/^[a-z_]/i;function bQ(e,t,n){if(!I6t.test(e))throw new wy("Keys must start with a letter (a-z)",n.concat(e),t);if(!D6t.test(e))throw new wy("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new wy("Keys must be strings",n.concat(e),t);if(!A6t.test(t))throw new wy("Invalid key - use less exotic characters",n.concat(e),t)}return e}const O6t=["_id","_type","_createdAt","_updatedAt","_rev"],iM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function P6t(e){return{...iM,...e,diffMatchPatch:{...iM.diffMatchPatch,...e.diffMatchPatch||{}}}}function zT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=P6t(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?$6t(e,t,u,r,o):R6t(e,t,u,r,o):L6t(e,t,u,r,o)}function R6t(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?xQ:CQ).map(d=>bQ(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?xQ:CQ).map(d=>bQ(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];zT(e[f],t[f],n,r.concat([f]),o)}return o}function $6t(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>e7(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);z6t(n)||!PO(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new wy("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return PO(s)&&PO(a)?M6t(s,a,n,r,o):X5e(s,a,n,r,o)}function X5e(e,t,n,r,o){for(let i=0;i<e.length;i++)zT(e[i],e7(t[i],r,i,n),n,r.concat(i),o);return o}function M6t(e,t,n,r,o){const i=wQ(e),s=wQ(t);if(!N6t(i.keys,s.keys))return X5e(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=e7(s.index[c],r,a,n);zT(u,d,n,r.concat({_key:c}),o)}return o}function F6t(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=Dw(e,t),d=t9(u);c=WEe(HEe(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function L6t(e,t,n,r,o){const i=F6t(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function xQ(e){return O6t.indexOf(e)===-1}function PO(e){const t=[];for(let n=0;n<e.length;n++){const r=B6t(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function B6t(e){return typeof e=="object"&&e!==null&&e._key}function wQ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function N6t(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function e7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=Z5e(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function z6t(e){return!!e.ifRevisionID}function CQ(e){return!0}var V6t=nT,H6t=M8,U6t=Object.prototype,W6t=U6t.hasOwnProperty,Y6t=H6t(function(e,t,n){W6t.call(e,n)?e[n].push(t):V6t(e,n,[t])}),q6t=Y6t;const t7=Oe(q6t),_Q=e=>typeof e=="object"&&e!=null&&e.nodeType===1,SQ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",RO=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return SQ(n.overflowY,t)||SQ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},__=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,G6t=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},EQ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:R=>R!==u;if(!_Q(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;_Q(v)&&f(v);){if(v=G6t(v),v===p){m.push(v);break}v!=null&&v===document.body&&RO(v)&&!RO(document.documentElement)||v!=null&&RO(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,b=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:y}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=(R=>{const V=window.getComputedStyle(R);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,O=c==="center"?j+C/2-D+T:c==="end"?S+T:j-D;const $=[];for(let R=0;R<m.length;R++){const V=m[R],{height:M,width:H,top:q,right:U,bottom:W,left:Q}=V.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=b&&S<=g&&_>=q&&E<=W&&j>=Q&&S<=U)return $;const N=getComputedStyle(V),K=parseInt(N.borderLeftWidth,10),z=parseInt(N.borderTopWidth,10),Z=parseInt(N.borderRightWidth,10),G=parseInt(N.borderBottomWidth,10);let J=0,X=0;const ee="offsetWidth"in V?V.offsetWidth-V.clientWidth-K-Z:0,oe="offsetHeight"in V?V.offsetHeight-V.clientHeight-z-G:0,de="offsetWidth"in V?V.offsetWidth===0?0:H/V.offsetWidth:0,le="offsetHeight"in V?V.offsetHeight===0?0:M/V.offsetHeight:0;if(p===V)J=a==="start"?I:a==="end"?I-b:a==="nearest"?__(y,y+b,b,z,G,y+I,y+I+w,w):I-b/2,X=c==="start"?O:c==="center"?O-g/2:c==="end"?O-g:__(x,x+g,g,K,Z,x+O,x+O+C,C),J=Math.max(0,J+y),X=Math.max(0,X+x);else{J=a==="start"?I-q-z:a==="end"?I-W+G+oe:a==="nearest"?__(q,W,M,z,G+oe,I,I+w,w):I-(q+M/2)+oe/2,X=c==="start"?O-Q-K:c==="center"?O-(Q+H/2)+ee/2:c==="end"?O-U+Z+ee:__(Q,U,H,K,Z+ee,O,O+C,C);const{scrollLeft:ve,scrollTop:Ce}=V;J=le===0?0:Math.max(0,Math.min(Ce+J/le,V.scrollHeight-M/le+oe)),X=de===0?0:Math.max(0,Math.min(ve+X/de,V.scrollWidth-H/de+ee)),I+=Ce-J,O+=ve-X}$.push({el:V,top:J,left:X})}return $},K6t=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function fx(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(EQ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of EQ(e,K6t(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}function Z6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const VT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function L0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function n7(e){return"nodeType"in e}function As(e){var t,n;return e?L0(e)?e:n7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function r7(e){const{Document:t}=As(e);return e instanceof t}function Fw(e){return L0(e)?!1:e instanceof As(e).HTMLElement}function Q5e(e){return e instanceof As(e).SVGElement}function B0(e){return e?L0(e)?e.document:n7(e)?r7(e)?e:Fw(e)||Q5e(e)?e.ownerDocument:document:document:document}const Ol=VT?h.useLayoutEffect:h.useEffect;function o7(e){const t=h.useRef(e);return Ol(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function X6t(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function hx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Ol(()=>{n.current!==e&&(n.current=e)},t),n}function Lw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Mk(e){const t=o7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function sM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let $O={};function Bw(e,t){return h.useMemo(()=>{if(t)return t;const n=$O[e]==null?0:$O[e]+1;return $O[e]=n,e+"-"+n},[e,t])}function J5e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const dv=J5e(1),px=J5e(-1);function Q6t(e){return"clientX"in e&&"clientY"in e}function i7(e){if(!e)return!1;const{KeyboardEvent:t}=As(e.target);return t&&e instanceof t}function J6t(e){if(!e)return!1;const{TouchEvent:t}=As(e.target);return t&&e instanceof t}function aM(e){if(J6t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Q6t(e)?{x:e.clientX,y:e.clientY}:null}const mx=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[mx.Translate.toString(e),mx.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),kQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function eLt(e){return e.matches(kQ)?e:e.querySelector(kQ)}const tLt={display:"none"};function nLt(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:tLt},n)}function rLt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function oLt(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const eje=h.createContext(null);function iLt(e){const t=h.useContext(eje);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function sLt(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const aLt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},lLt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function cLt(e){let{announcements:t=lLt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=aLt}=e;const{announce:i,announcement:s}=oLt(),a=Bw("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),iLt(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=ie.createElement(ie.Fragment,null,ie.createElement(nLt,{id:r,value:o.draggable}),ie.createElement(rLt,{id:a,announcement:s}));return n?cc.createPortal(d,n):d}var xo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(xo||(xo={}));function Fk(){}function jQ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function uLt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Pl=Object.freeze({x:0,y:0});function tje(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nje(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function dLt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function TQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function rje(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function AQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const fLt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=AQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=tje(AQ(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(nje)},hLt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=TQ(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=TQ(c),d=o.reduce((p,m,v)=>p+tje(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(nje)};function pLt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const mLt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=pLt(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(dLt)};function gLt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function oje(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Pl}function vLt(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const yLt=vLt(1);function bLt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function xLt(e,t,n){const r=bLt(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const wLt={ignoreTransform:!1};function N0(e,t){t===void 0&&(t=wLt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=As(e).getComputedStyle(e);u&&(n=xLt(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function DQ(e){return N0(e,{ignoreTransform:!0})}function CLt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function _Lt(e,t){return t===void 0&&(t=As(e).getComputedStyle(e)),t.position==="fixed"}function SLt(e,t){t===void 0&&(t=As(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function HT(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(r7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Fw(o)||Q5e(o)||n.includes(o))return n;const i=As(e).getComputedStyle(o);return o!==e&&SLt(o,i)&&n.push(o),_Lt(o,i)?n:r(o.parentNode)}return e?r(e):n}function ije(e){const[t]=HT(e,1);return t??null}function MO(e){return!VT||!e?null:L0(e)?e:n7(e)?r7(e)||e===B0(e).scrollingElement?window:Fw(e)?e:null:null}function sje(e){return L0(e)?e.scrollX:e.scrollLeft}function aje(e){return L0(e)?e.scrollY:e.scrollTop}function lM(e){return{x:sje(e),y:aje(e)}}var Io;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Io||(Io={}));function lje(e){return!VT||!e?!1:e===document.scrollingElement}function cje(e){const t={x:0,y:0},n=lje(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const ELt={x:.2,y:.2};function kLt(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=ELt);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=cje(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Io.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Io.Forward,v.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&a>=t.right-g.width?(m.x=Io.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Io.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function jLt(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function uje(e){return e.reduce((t,n)=>dv(t,lM(n)),Pl)}function TLt(e){return e.reduce((t,n)=>t+sje(n),0)}function ALt(e){return e.reduce((t,n)=>t+aje(n),0)}function DLt(e,t){if(t===void 0&&(t=N0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);ije(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ILt=[["x",["left","right"],TLt],["y",["top","bottom"],ALt]];let s7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=HT(n),o=uje(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of ILt)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class ub{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function OLt(e){const{EventTarget:t}=As(e);return e instanceof t?e:B0(e)}function FO(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var wa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(wa||(wa={}));function IQ(e){e.preventDefault()}function PLt(e){e.stopPropagation()}var Xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Xt||(Xt={}));const dje={start:[Xt.Space,Xt.Enter],cancel:[Xt.Esc],end:[Xt.Space,Xt.Enter]},RLt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Xt.Right:return{...n,x:n.x+25};case Xt.Left:return{...n,x:n.x-25};case Xt.Down:return{...n,y:n.y+25};case Xt.Up:return{...n,y:n.y-25}}};class a7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ub(B0(n)),this.windowListeners=new ub(As(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wa.Resize,this.handleCancel),this.windowListeners.add(wa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&DLt(r),n(Pl)}handleKeyDown(t){if(i7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=dje,coordinateGetter:s=RLt,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Pl;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=px(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const b=t.code,{isTop:x,isRight:y,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=cje(g),E=jLt(g),j={x:Math.min(b===Xt.Right?E.right-E.width/2:E.right,Math.max(b===Xt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(b===Xt.Down?E.bottom-E.height/2:E.bottom,Math.max(b===Xt.Down?E.top:E.top+E.height/2,f.y))},k=b===Xt.Right&&!y||b===Xt.Left&&!w,T=b===Xt.Down&&!C||b===Xt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=b===Xt.Right&&A<=_.x||b===Xt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=b===Xt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=b===Xt.Down&&A<=_.y||b===Xt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=b===Xt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,dv(px(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}a7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=dje,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function OQ(e){return!!(e&&"distance"in e)}function PQ(e){return!!(e&&"delay"in e)}class l7{constructor(t,n,r){var o;r===void 0&&(r=OLt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=B0(s),this.documentListeners=new ub(this.document),this.listeners=new ub(r),this.windowListeners=new ub(As(s)),this.initialCoordinates=(o=aM(i))!=null?o:Pl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(wa.Resize,this.handleCancel),this.windowListeners.add(wa.DragStart,IQ),this.windowListeners.add(wa.VisibilityChange,this.handleCancel),this.windowListeners.add(wa.ContextMenu,IQ),this.documentListeners.add(wa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(PQ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(OQ(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(wa.Click,PLt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=aM(t))!=null?n:Pl,u=px(o,c);if(!r&&a){if(OQ(a)){if(a.tolerance!=null&&FO(u,a.tolerance))return this.handleCancel();if(FO(u,a.distance))return this.handleStart()}return PQ(a)&&FO(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const $Lt={move:{name:"pointermove"},end:{name:"pointerup"}};class c7 extends l7{constructor(t){const{event:n}=t,r=B0(n.target);super(t,$Lt,r)}}c7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const MLt={move:{name:"mousemove"},end:{name:"mouseup"}};var cM;(function(e){e[e.RightClick=2]="RightClick"})(cM||(cM={}));class FLt extends l7{constructor(t){super(t,MLt,B0(t.event.target))}}FLt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===cM.RightClick?!1:(r==null||r({event:n}),!0)}}];const LO={move:{name:"touchmove"},end:{name:"touchend"}};class LLt extends l7{constructor(t){super(t,LO)}static setup(){return window.addEventListener(LO.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(LO.move.name,t)};function t(){}}}LLt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var db;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(db||(db={}));var Lk;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lk||(Lk={}));function BLt(e){let{acceleration:t,activator:n=db.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=Lk.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=zLt({delta:f,disabled:!i}),[v,g]=X6t(),b=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),y=h.useMemo(()=>{switch(n){case db.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case db.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=b.current.x*x.current.x,j=b.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===Lk.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!y){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=kLt(S,j,y,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),b.current=T,x.current=k;return}}b.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(y),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const NLt={x:{[Io.Backward]:!1,[Io.Forward]:!1},y:{[Io.Backward]:!1,[Io.Forward]:!1}};function zLt(e){let{delta:t,disabled:n}=e;const r=sM(t);return Lw(o=>{if(n||!r||!o)return NLt;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Io.Backward]:o.x[Io.Backward]||i.x===-1,[Io.Forward]:o.x[Io.Forward]||i.x===1},y:{[Io.Backward]:o.y[Io.Backward]||i.y===-1,[Io.Forward]:o.y[Io.Forward]||i.y===1}}},[n,t,r])}function VLt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Lw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function HLt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var gx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(gx||(gx={}));var uM;(function(e){e.Optimized="optimized"})(uM||(uM={}));const RQ=new Map;function ULt(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=b(),p=hx(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[p]),v=h.useRef(null),g=Lw(x=>{if(f&&!n)return RQ;if(!x||x===RQ||d.current!==e||i!=null){const y=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new s7(c(C),C):null;w.rect.current=_,_&&y.set(w.id,_)}return y}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function b(){switch(u){case gx.Always:return!1;case gx.BeforeDragging:return n;default:return!n}}}function fje(e,t){return Lw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function WLt(e,t){return fje(e,t)}function YLt(e){let{callback:t,disabled:n}=e;const r=o7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function UT(e){let{callback:t,disabled:n}=e;const r=o7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function qLt(e){return new s7(N0(e),e)}function $Q(e,t,n){t===void 0&&(t=qLt);const[r,o]=h.useReducer(a,null),i=YLt({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=UT({callback:o});return Ol(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function GLt(e){const t=fje(e);return oje(e,t)}const MQ=[];function KLt(e){const t=h.useRef(e),n=Lw(r=>e?r&&r!==MQ&&e&&t.current&&e.parentNode===t.current.parentNode?r:HT(e):MQ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function ZLt(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=MO(i.target);s&&n(a=>a?(a.set(s,lM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=MO(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,lM(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=MO(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>dv(i,s),Pl):uje(e):Pl,[e,t])}function FQ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Pl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?px(e,n.current):Pl}function XLt(e){h.useEffect(()=>{if(!VT)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function QLt(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function hje(e){return h.useMemo(()=>e?CLt(e):null,[e])}const BO=[];function JLt(e,t){t===void 0&&(t=N0);const[n]=e,r=hje(n?As(n):null),[o,i]=h.useReducer(a,BO),s=UT({callback:i});return e.length>0&&o===BO&&i(),Ol(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>lje(c)?r:new s7(t(c),c)):BO}}function e8t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Fw(t)?t:e}function t8t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(Fw(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=UT({callback:o}),s=h.useCallback(u=>{const d=e8t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=Mk(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const n8t=[{sensor:c7,options:{}},{sensor:a7,options:{}}],r8t={current:{}},sS={draggable:{measure:DQ},droppable:{measure:DQ,strategy:gx.WhileDragging,frequency:uM.Optimized},dragOverlay:{measure:N0}};class fb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const o8t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new fb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fk},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sS,measureDroppableContainers:Fk,windowRect:null,measuringScheduled:!1},i8t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fk,draggableNodes:new Map,over:null,measureDroppableContainers:Fk},WT=h.createContext(i8t),pje=h.createContext(o8t);function s8t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new fb}}}function a8t(e,t){switch(t.type){case xo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case xo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case xo.DragEnd:case xo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new fb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case xo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new fb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case xo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new fb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function l8t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(WT),i=sM(r),s=sM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!i7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=eLt(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function c8t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function u8t(e){return h.useMemo(()=>({draggable:{...sS.draggable,...e==null?void 0:e.draggable},droppable:{...sS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...sS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function d8t(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Ol(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=oje(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=ije(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const mje=h.createContext({...Pl,scaleX:1,scaleY:1});var Pd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Pd||(Pd={}));const f8t=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=n8t,collisionDetection:f=mLt,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(a8t,void 0,s8t),[b,x]=g,[y,w]=sLt(),[C,_]=h.useState(Pd.Uninitialized),S=C===Pd.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=b,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Fn;return E!=null?{id:E,data:(Fn=A==null?void 0:A.data)!=null?Fn:r8t,rect:D}:null},[E,A]),O=h.useRef(null),[$,R]=h.useState(null),[V,M]=h.useState(null),H=hx(v,Object.values(v)),q=Bw("DndDescribedBy",s),U=h.useMemo(()=>T.getEnabled(),[T]),W=u8t(p),{droppableRects:Q,measureDroppableContainers:N,measuringScheduled:K}=ULt(U,{dragging:S,dependencies:[k.x,k.y],config:W.droppable}),z=VLt(j,E),Z=h.useMemo(()=>V?aM(V):null,[V]),G=ii(),J=WLt(z,W.draggable.measure);d8t({activeNode:E?j.get(E):null,config:G.layoutShiftCompensation,initialRect:J,measure:W.draggable.measure});const X=$Q(z,W.draggable.measure,J),ee=$Q(z?z.parentElement:null),oe=h.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),de=T.getNodeFor((n=oe.current.over)==null?void 0:n.id),le=t8t({measure:W.dragOverlay.measure}),ve=(r=le.nodeRef.current)!=null?r:z,Ce=S?(o=le.rect)!=null?o:X:null,be=!!(le.nodeRef.current&&le.rect),me=GLt(be?null:X),Ie=hje(ve?As(ve):null),Se=KLt(S?de??z:null),ot=JLt(Se),Ze=c8t(m,{transform:{x:k.x-me.x,y:k.y-me.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:X,containerNodeRect:ee,draggingNodeRect:Ce,over:oe.current.over,overlayNodeRect:le.rect,scrollableAncestors:Se,scrollableAncestorRects:ot,windowRect:Ie}),it=Z?dv(Z,k):null,_e=ZLt(Se),he=FQ(_e),He=FQ(_e,[X]),Ye=dv(Ze,he),Me=Ce?yLt(Ce,Ze):null,Ct=I&&Me?f({active:I,collisionRect:Me,droppableRects:Q,droppableContainers:U,pointerCoordinates:it}):null,Tt=rje(Ct,"id"),[Et,Zt]=h.useState(null),Mi=be?Ze:dv(Ze,He),is=gLt(Mi,(i=Et==null?void 0:Et.rect)!=null?i:null,X),Ds=h.useCallback((Fn,Mr)=>{let{sensor:Zr,options:We}=Mr;if(O.current==null)return;const yt=j.get(O.current);if(!yt)return;const Qn=Fn.nativeEvent,gn=new Zr({active:O.current,activeNode:yt,event:Qn,options:We,context:oe,onStart(mo){const ss=O.current;if(ss==null)return;const Is=j.get(ss);if(!Is)return;const{onDragStart:Ul}=H.current,Wc={active:{id:ss,data:Is.data,rect:D}};cc.unstable_batchedUpdates(()=>{Ul==null||Ul(Wc),_(Pd.Initializing),x({type:xo.DragStart,initialCoordinates:mo,active:ss}),y({type:"onDragStart",event:Wc})})},onMove(mo){x({type:xo.DragMove,coordinates:mo})},onEnd:si(xo.DragEnd),onCancel:si(xo.DragCancel)});cc.unstable_batchedUpdates(()=>{R(gn),M(Fn.nativeEvent)});function si(mo){return async function(){const{active:Is,collisions:Ul,over:Wc,scrollAdjustedTranslate:Fm}=oe.current;let fh=null;if(Is&&Fm){const{cancelDrop:hh}=H.current;fh={activatorEvent:Qn,active:Is,collisions:Ul,delta:Fm,over:Wc},mo===xo.DragEnd&&typeof hh=="function"&&await Promise.resolve(hh(fh))&&(mo=xo.DragCancel)}O.current=null,cc.unstable_batchedUpdates(()=>{x({type:mo}),_(Pd.Uninitialized),Zt(null),R(null),M(null);const hh=mo===xo.DragEnd?"onDragEnd":"onDragCancel";if(fh){const d1=H.current[hh];d1==null||d1(fh),y({type:hh,event:fh})}})}}},[j]),Wt=h.useCallback((Fn,Mr)=>(Zr,We)=>{const yt=Zr.nativeEvent,Qn=j.get(We);if(O.current!==null||!Qn||yt.dndKit||yt.defaultPrevented)return;const gn={active:Qn};Fn(Zr,Mr.options,gn)===!0&&(yt.dndKit={capturedBy:Mr.sensor},O.current=We,Ds(Zr,Mr))},[j,Ds]),Ur=HLt(d,Wt);XLt(d),Ol(()=>{X&&C===Pd.Initializing&&_(Pd.Initialized)},[X,C]),h.useEffect(()=>{const{onDragMove:Fn}=H.current,{active:Mr,activatorEvent:Zr,collisions:We,over:yt}=oe.current;if(!Mr||!Zr)return;const Qn={active:Mr,activatorEvent:Zr,collisions:We,delta:{x:Ye.x,y:Ye.y},over:yt};cc.unstable_batchedUpdates(()=>{Fn==null||Fn(Qn),y({type:"onDragMove",event:Qn})})},[Ye.x,Ye.y]),h.useEffect(()=>{const{active:Fn,activatorEvent:Mr,collisions:Zr,droppableContainers:We,scrollAdjustedTranslate:yt}=oe.current;if(!Fn||O.current==null||!Mr||!yt)return;const{onDragOver:Qn}=H.current,gn=We.get(Tt),si=gn&&gn.rect.current?{id:gn.id,rect:gn.rect.current,data:gn.data,disabled:gn.disabled}:null,mo={active:Fn,activatorEvent:Mr,collisions:Zr,delta:{x:yt.x,y:yt.y},over:si};cc.unstable_batchedUpdates(()=>{Zt(si),Qn==null||Qn(mo),y({type:"onDragOver",event:mo})})},[Tt]),Ol(()=>{oe.current={activatorEvent:V,active:I,activeNode:z,collisionRect:Me,collisions:Ct,droppableRects:Q,draggableNodes:j,draggingNode:ve,draggingNodeRect:Ce,droppableContainers:T,over:Et,scrollableAncestors:Se,scrollAdjustedTranslate:Ye},D.current={initial:Ce,translated:Me}},[I,z,Ct,Me,j,ve,Ce,Q,T,Et,Se,Ye]),BLt({...G,delta:k,draggingRect:Me,pointerCoordinates:it,scrollableAncestors:Se,scrollableAncestorRects:ot});const Hl=h.useMemo(()=>({active:I,activeNode:z,activeNodeRect:X,activatorEvent:V,collisions:Ct,containerNodeRect:ee,dragOverlay:le,draggableNodes:j,droppableContainers:T,droppableRects:Q,over:Et,measureDroppableContainers:N,scrollableAncestors:Se,scrollableAncestorRects:ot,measuringConfiguration:W,measuringScheduled:K,windowRect:Ie}),[I,z,X,V,Ct,ee,le,j,T,Q,Et,N,Se,ot,W,K,Ie]),el=h.useMemo(()=>({activatorEvent:V,activators:Ur,active:I,activeNodeRect:X,ariaDescribedById:{draggable:q},dispatch:x,draggableNodes:j,over:Et,measureDroppableContainers:N}),[V,Ur,I,X,x,q,j,Et,N]);return ie.createElement(eje.Provider,{value:w},ie.createElement(WT.Provider,{value:el},ie.createElement(pje.Provider,{value:Hl},ie.createElement(mje.Provider,{value:is},u)),ie.createElement(l8t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ie.createElement(cLt,{...a,hiddenTextDescribedById:q}));function ii(){const Fn=($==null?void 0:$.autoScrollEnabled)===!1,Mr=typeof c=="object"?c.enabled===!1:c===!1,Zr=S&&!Fn&&!Mr;return typeof c=="object"?{...c,enabled:Zr}:{enabled:Zr}}}),h8t=h.createContext(null),LQ="button",p8t="Droppable";function m8t(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=Bw(p8t),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(WT),{role:m=LQ,roleDescription:v="draggable",tabIndex:g=0}=o??{},b=(c==null?void 0:c.id)===t,x=h.useContext(b?mje:h8t),[y,w]=Mk(),[C,_]=Mk(),S=QLt(s,t),E=hx(n);Ol(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":b&&m===LQ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,b,v,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:b,listeners:r?void 0:S,node:y,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function g8t(){return h.useContext(pje)}const v8t="Droppable",y8t={timeout:25};function b8t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=Bw(v8t),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(WT),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:b}={...y8t,...o},x=hx(g??r),y=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},b)},[b]),w=UT({callback:y,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=Mk(C),E=hx(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),Ol(()=>(a({type:xo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:xo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:xo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:S}}function gje(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function x8t(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function S_(e){return e!==null&&e>=0}function w8t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function C8t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const E_={scaleX:1,scaleY:1},_8t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=S8t(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...E_}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...E_}:s<o&&s>=i?{x:a.width+c,y:0,...E_}:{x:0,y:0,...E_}};function S8t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const vje=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=gje(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},k_={scaleX:1,scaleY:1},E8t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...k_}:null}const c=k8t(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...k_}:o<n&&o>=s?{x:0,y:a.height+c,...k_}:{x:0,y:0,...k_}};function k8t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const yje="Sortable",bje=ie.createContext({activeIndex:-1,containerId:yje,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:vje,disabled:{draggable:!1,droppable:!1}});function j8t(e){let{children:t,id:n,items:r,strategy:o=vje,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=g8t(),f=Bw(yje,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,b=u?m.indexOf(u.id):-1,x=h.useRef(m),y=!w8t(m,x.current),w=b!==-1&&g===-1||y,C=C8t(i);Ol(()=>{y&&v&&d(m)},[y,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:b,useDragOverlay:p,sortedRects:x8t(m,c),strategy:o}),[g,f,C.draggable,C.droppable,w,m,b,c,p,o]);return ie.createElement(bje.Provider,{value:_},t)}const T8t=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return gje(n,r,o).indexOf(t)},A8t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},D8t={duration:200,easing:"ease"},xje="transform",I8t=mx.Transition.toString({property:xje,duration:0,easing:"linear"}),O8t={roleDescription:"sortable"};function P8t(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Ol(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=N0(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function wje(e){let{animateLayoutChanges:t=A8t,attributes:n,disabled:r,data:o,getNewIndex:i=T8t,id:s,strategy:a,resizeObserverConfig:c,transition:u=D8t}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:b,useDragOverlay:x,strategy:y}=h.useContext(bje),w=R8t(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=b8t({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:O,setNodeRef:$,listeners:R,isDragging:V,over:M,setActivatorNodeRef:H,transform:q}=m8t({id:s,data:_,attributes:{...O8t,...n},disabled:w.draggable}),U=Z6t(T,$),W=!!A,Q=W&&!v&&S_(p)&&S_(b),N=!x&&V,K=N&&Q?q:null,Z=Q?K??(a??y)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:b,index:C}):null,G=S_(p)&&S_(b)?i({id:s,items:d,activeIndex:p,overIndex:b}):C,J=A==null?void 0:A.id,X=h.useRef({activeId:J,items:d,newIndex:G,containerId:f}),ee=d!==X.current.items,oe=t({active:A,containerId:f,isDragging:V,isSorting:W,id:s,index:C,items:d,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:u,wasDragging:X.current.activeId!=null}),de=P8t({disabled:!oe,index:C,node:j,rect:E});return h.useEffect(()=>{W&&X.current.newIndex!==G&&(X.current.newIndex=G),f!==X.current.containerId&&(X.current.containerId=f),d!==X.current.items&&(X.current.items=d)},[W,G,f,d]),h.useEffect(()=>{if(J===X.current.activeId)return;if(J&&!X.current.activeId){X.current.activeId=J;return}const ve=setTimeout(()=>{X.current.activeId=J},50);return()=>clearTimeout(ve)},[J]),{active:A,activeIndex:p,attributes:O,data:_,rect:E,index:C,newIndex:G,items:d,isOver:k,isSorting:W,isDragging:V,listeners:R,node:j,overIndex:b,over:M,setNodeRef:U,setActivatorNodeRef:H,setDroppableNodeRef:T,setDraggableNodeRef:$,transform:de??Z,transition:le()};function le(){if(de||ee&&X.current.newIndex===C)return I8t;if(!(N&&!i7(D)||!u)&&(W||oe))return mx.Transition.toString({...u,property:xje})}}function R8t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Bk(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const $8t=[Xt.Down,Xt.Right,Xt.Up,Xt.Left],M8t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if($8t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Xt.Down:r.top<p.top&&c.push(f);break;case Xt.Up:r.top>p.top&&c.push(f);break;case Xt.Left:r.left>p.left&&c.push(f);break;case Xt.Right:r.left<p.left&&c.push(f);break}});const u=hLt({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=rje(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const b=HT(v).some((S,E)=>a[E]!==S),x=Cje(f,p),y=F8t(f,p),w=b||!x?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:px(C,w)}}}};function Cje(e,t){return!Bk(e)||!Bk(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function F8t(e,t){return!Bk(e)||!Bk(t)||!Cje(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const L8t=e=>{let{transform:t}=e;return{...t,y:0}},B8t=e=>{let{transform:t}=e;return{...t,x:0}};var N8t=om;function z8t(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!N8t(s):n(s,a)))var a=s,c=i}return c}var _je=z8t;function V8t(e,t){return e<t}var H8t=V8t,U8t=_je,W8t=H8t,Y8t=ym;function q8t(e){return e&&e.length?U8t(e,Y8t,W8t):void 0}var G8t=q8t;const K8t=Oe(G8t);function Z8t(e,t){return e>t}var X8t=Z8t,Q8t=_je,J8t=X8t,e9t=ym;function t9t(e){return e&&e.length?Q8t(e,e9t,J8t):void 0}var n9t=t9t;const r9t=Oe(n9t);var dM={exports:{}};function o9t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=eT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var i9t=o9t;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=i9t(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(dM,dM.exports);var s9t=dM.exports;const a9t=Oe(s9t),l9t=/[0-9]/,c9t=/^[a-zA-Z0-9_]$/,u9t=/^[a-zA-Z_]$/,Sje={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},d9t=Object.keys(Sje);class f9t{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(u9t)?r:null):r.match(c9t)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(l9t)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of d9t){const r=Sje[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function h9t(e){return new f9t(e).tokenize()}class p9t{constructor(t){this.tokens=h9t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function Eje(e){const t=new p9t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function m9t(e){const[t,n]=kje(e);if(!t)throw new Error("Head cannot be null");return v9t(t,n)}function kje(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function g9t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function v9t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=kje(n);return[r,g9t(o,t)]}return[n,t]})}function jje(e){return ug(e,!1)}function ug(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(ug(e.rhs,!1)):"",r="".concat(ug(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(jje(o));const i=r[0];i&&ug(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>ug(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(ug(e.term,!1))}}class Us{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=NO(r,t);let o="end"in this.expr&&this.expr.end||n();o=NO(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return BQ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return BQ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Us({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return m9t(this.expr).map(t=>{const[n,r]=t;return{head:n?new Us(n):null,tail:r?new Us(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Us(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[NO(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return jje(this.expr)}static fromPath(t){const n=Eje(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Us(n)}static attributeReference(t){return new Us({type:"attribute",name:t})}static indexReference(t){return new Us({type:"index",value:t})}}function BQ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function NO(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class Ng{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=Dn(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Ng(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Ng(new Us({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Ng(t.head,t.tail)):[new Ng(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class ip{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new ip(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Us({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new ip(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new ip([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Us.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Us.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=Eje(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Ng(null,new Us(n));return new ip(r.descend())}}function aS(e){return e!==null&&typeof e=="object"}class Nk{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new Nk(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return aS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return aS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!aS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new Nk(this._value[t],this.path.concat(t)):null}get(){return this._value}}function y9t(e,t){const n=[],r=ip.fromPath(e).setPayload(function(s){n.push(...s)}),o=new Nk(t);return Tje(r,o),n}function Tje(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{NQ(o.target,t).forEach(i=>{Tje(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(NQ(o,t))})}function NQ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return vT(n)}function b9t(e,t){return y9t(e,t).map(r=>({path:r.path,value:r.get()}))}const x9t=/^[a-z_$]+/;function Aje(e){let t="";return e.forEach((n,r)=>{t+=w9t(n,r===0)}),t}function w9t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(aS(e)){const n=e;return Object.keys(e).map(r=>C9t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&x9t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function C9t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class Dje{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function zQ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class VQ{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,zQ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),zQ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function YT(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class _9t{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=S9t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=E9t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=YT(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function S9t(e,t){let n=K8t(YT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function E9t(e,t){let n=r9t(YT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class Ije{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class k9t{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(YT(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function HQ(e,t){if(typeof t!="string")return t;const[n]=UEe(e,t,{allowExceedingIndices:!0});return n}class j9t{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=YEe(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=HQ(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=HQ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function Oje(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(Oje(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new Ije(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new Dje(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new k9t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new j9t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new VQ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new VQ(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new _9t(e.id,u,d,f.items))}return t}class rc{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new rc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return N1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return N1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!N1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new rc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new rc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new rc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new rc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new rc(r,this.path)}setAttribute(t,n){if(!N1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new rc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!N1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new rc(n,this.path)}}function N1(e){return e!==null&&typeof e=="object"}let T9t=class{constructor(t){this.patches=Oje(t)}apply(t){const n=new rc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=ip.fromPath(i.path).setPayload(i);n=fM(s,n)}return n}};function fM(e,t){const n=e.payload instanceof Dje||e.payload instanceof Ije;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,fM(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=fM(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&A9t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function A9t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const D9t=ad,Bt=a9t("mutator-document");class Cc{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=D9t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new T9t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Bt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Bt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Cc({mutations:r})}}let I9t=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Bt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Bt.enabled&&Bt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Bt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Bt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Bt.enabled&&(Bt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Bt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Bt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Bt("needRebase === %s",n)),n}return Bt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Bt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Bt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Bt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Bt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Cc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Vt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class j_{constructor(t){this.out=[],t?Bt("Reset mutation buffer to rev %s",t._rev):Bt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Bt("Purged mutation buffer"),n=new Cc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Bt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Bt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=b9t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=WEe(HEe(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=Aje(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Cc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Cc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const O9t=1e3*60;class P9t{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Cc.applyAll(t,this.mutations)}squash(t){const n=Cc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const UQ=(e,t)=>e.concat(t.mutations);class R9t{constructor(t){this.committerRunning=!1,this.buffer=new j_(t),this.document=new I9t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Bt("Document state reset to revision %s",t._rev):Bt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Bt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Bt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Bt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Bt("Committing local changes");const r=this.buffer.purge();this.commits.push(new P9t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new j_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Bt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Bt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,O9t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new j_(this.LOCAL),this.committerRunning=!1}};Bt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Bt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Bt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new j_(this.LOCAL),this.onMutation&&this.onMutation(t);return}Bt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Bt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Vt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(UQ,[]),n.reduce(UQ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var Pje={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(bs)})(Pje);var $9t=Pje.ExifReader,M9t=function(e){var t=new $9t;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[F9t(o)]=n[o].description;return r};function F9t(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const L9t=Oe(M9t);var B9t=Qf,N9t=Zf,z9t=Xf;function V9t(e){return function(t,n,r){var o=Object(t);if(!N9t(t)){var i=B9t(n);t=z9t(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var H9t=V9t,U9t=H9t,W9t=y5e,Y9t=U9t(W9t),q9t=Y9t;const Rje=Oe(q9t);var G9t=Math.ceil,K9t=Math.max;function Z9t(e,t,n,r){for(var o=-1,i=K9t(G9t((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var X9t=Z9t,Q9t=X9t,J9t=JL,zO=v5e;function e7t(e){return function(t,n,r){return r&&typeof r!="number"&&J9t(t,n,r)&&(n=r=void 0),t=zO(t),n===void 0?(n=t,t=0):n=zO(n),r=r===void 0?t<n?1:-1:zO(r),Q9t(t,n,r,e)}}var t7t=e7t,n7t=t7t,r7t=n7t(),o7t=r7t;const u7=Oe(o7t);var $je={exports:{}};(function(e){(function(t){var n={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],o={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},i={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},s={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,b){var x="-",y="",w="",C=!0,_={},S,E,j,k,T,A,D,I,O,$,R,V,M,H,q="";if(typeof g!="string")return"";if(typeof b=="string"&&(x=b),D=s.en,I=i.en,typeof b=="object"){S=b.maintainCase||!1,_=b.custom&&typeof b.custom=="object"?b.custom:_,j=+b.truncate>1&&b.truncate||!1,k=b.uric||!1,T=b.uricNoSlash||!1,A=b.mark||!1,C=!(b.symbols===!1||b.lang===!1),x=b.separator||x,k&&(q+=a),T&&(q+=c),A&&(q+=u),D=b.lang&&s[b.lang]&&C?s[b.lang]:C?s.en:{},I=b.lang&&i[b.lang]?i[b.lang]:b.lang===!1||b.lang===!0?{}:i.en,b.titleCase&&typeof b.titleCase.length=="number"&&Array.prototype.toString.call(b.titleCase)?(b.titleCase.forEach(function(U){_[U+""]=U+""}),E=!0):E=!!b.titleCase,b.custom&&typeof b.custom.length=="number"&&Array.prototype.toString.call(b.custom)&&b.custom.forEach(function(U){_[U+""]=U+""}),Object.keys(_).forEach(function(U){var W;U.length>1?W=new RegExp("\\b"+p(U)+"\\b","gi"):W=new RegExp(p(U),"gi"),g=g.replace(W,_[U])});for(R in _)q+=R}for(q+=x,q=p(q),g=g.replace(/(^\s+|\s+$)/g,""),M=!1,H=!1,$=0,V=g.length;$<V;$++)R=g[$],m(R,_)?M=!1:I[R]?(R=M&&I[R].match(/[A-Za-z0-9]/)?" "+I[R]:I[R],M=!1):R in n?($+1<V&&r.indexOf(g[$+1])>=0?(w+=R,R=""):H===!0?(R=o[w]+n[R],w=""):R=M&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],M=!1,H=!1):R in o?(w+=R,R="",$===V-1&&(R=o[w]),H=!0):D[R]&&!(k&&a.indexOf(R)!==-1)&&!(T&&c.indexOf(R)!==-1)?(R=M||y.substr(-1).match(/[A-Za-z0-9]/)?x+D[R]:D[R],R+=g[$+1]!==void 0&&g[$+1].match(/[A-Za-z0-9]/)?x:"",M=!0):(H===!0?(R=o[w]+R,w="",H=!1):M&&(/[A-Za-z0-9]/.test(R)||y.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),M=!1),y+=R.replace(new RegExp("[^\\w\\s"+q+"_-]","g"),x);return E&&(y=y.replace(/(\w)(\S*)/g,function(U,W,Q){var N=W.toUpperCase()+(Q!==null?Q:"");return Object.keys(_).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),y=y.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&y.length>j&&(O=y.charAt(j)===x,y=y.slice(0,j),O||(y=y.slice(0,y.lastIndexOf(x)))),!S&&!E&&(y=y.toLowerCase()),y},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var b in g)if(g[b]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(bs)})($je);var i7t=$je.exports,s7t=i7t;const Mje=Oe(s7t);var a7t=T0,l7t=JL;function c7t(e){return a7t(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&l7t(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var u7t=c7t,d7t=D0,f7t=u7t,h7t=Xf,p7t=f7t(function(e,t,n,r){d7t(t,h7t(t),e,r)}),m7t=p7t;const g7t=Oe(m7t);var v7t=Pc;function y7t(e,t){return v7t(t,function(n){return e[n]})}var b7t=y7t,x7t=b7t,w7t=Xf;function C7t(e){return e==null?[]:x7t(e,w7t(e))}var Fje=C7t;const _7t=Oe(Fje);var qp={};Object.defineProperty(qp,"__esModule",{value:!0});qp.SKIP=Bje;var Lje=qp.reduce=Nje;qp.withCustomPathSegment=qp.SKIP_MARKER=void 0;function d7(e,t){return k7t(e)||E7t(e,t)||S7t()}function S7t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function E7t(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function k7t(e){if(Array.isArray(e))return e}function lS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lS=function(n){return typeof n}:lS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lS(e)}function qT(e,t,n){return t}function j7t(e){return Array.isArray(e)?"array":e===null?"null":lS(e)}var f7={_:"SKIP_MARKER"};qp.SKIP_MARKER=f7;function Bje(e){return[f7,e]}function h7(e,t,n,r){var o=t(e,n,r);return o===Bje?[!0,e]:Array.isArray(o)&&o[0]===f7?[!0,o[1]]:[!1,o]}function T7t(e,t,n,r){var o=h7(e,t,n,r),i=d7(o,2),s=i[1];return s}function A7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:qT,i=h7(e,t,n,r),s=d7(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return p7(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function D7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:qT,i=h7(e,t,n,r),s=d7(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return p7(u,t,d,r.concat(o(d,f,n)),o)},c)}function p7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:qT,i=j7t(n);return i==="object"?A7t(e,t,n,r,o):i==="array"?D7t(e,t,n,r,o):T7t(e,t,n,r)}function Nje(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qT;return p7(n,t,e,[],r)}var I7t=function(t){return function(n,r,o){return Nje(n,r,o,t)}};qp.withCustomPathSegment=I7t;function m7(e){return t=>lo(()=>{const n=new wr;return t.pipe(ACe(()=>n,{leading:!0,trailing:!0}),SCe((r,o)=>pCe(e(r,o),jl).pipe(ECe(()=>{n.next()}))))})}var O7t=Object.defineProperty,P7t=(e,t,n)=>t in e?O7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WQ=(e,t,n)=>(P7t(e,typeof t!="symbol"?t+"":t,n),n);function R7t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $7t(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(R7t(n));return new RegExp("^".concat(t.join("."),"$"))}class zje{constructor(t){WQ(this,"pattern"),WQ(this,"patternRe"),this.pattern=t,this.patternRe=$7t(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var M7t=Object.defineProperty,F7t=(e,t,n)=>t in e?M7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z1=(e,t,n)=>(F7t(e,typeof t!="symbol"?t+"":t,n),n);class Kd{constructor(t){z1(this,"type","stream"),z1(this,"generator"),z1(this,"ticker"),z1(this,"isDone"),z1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const L7t=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function B7t(e){return L7t.test(e)?new Date(e):null}function N7t(e){const t=Ch(e.getUTCFullYear(),4),n=Ch(e.getUTCMonth()+1,2),r=Ch(e.getUTCDate(),2),o=Ch(e.getUTCHours(),2),i=Ch(e.getUTCMinutes(),2),s=Ch(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(Ch(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function Ch(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var z7t=Object.defineProperty,V7t=(e,t,n)=>t in e?z7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hM=(e,t,n)=>(V7t(e,typeof t!="symbol"?t+"":t,n),n);class dd{constructor(t,n){hM(this,"data"),hM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield nr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const $e=new dd(null,"null"),Ao=new dd(!0,"boolean"),no=new dd(!1,"boolean");class Yv{constructor(t){hM(this,"date"),this.date=t}static parseToValue(t){const n=B7t(t);return n?new dd(new Yv(n),"datetime"):$e}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Yv(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return N7t(this.date)}toJSON(){return this.toString()}}function Ra(e){return Number.isFinite(e)?new dd(e,"number"):$e}function $a(e){return new dd(e,"string")}function pM(e){return new dd(e,"datetime")}function H7t(e){return new dd(e,"path")}function U7t(e){return e&&typeof e.next=="function"}function nr(e){return U7t(e)?new Kd(async function*(){for await(const t of e)yield nr(t)}):e==null?$e:new dd(e,qv(e))}function qv(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof zje?"path":e instanceof Yv?"datetime":typeof e}function VO(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const W7t=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Y7t=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,Vje=/(\b\.+|\.+\b)/g,q7t=1024;function G7t(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function Hje(e){return e.replace(Vje,"").match(W7t)||[]}function K7t(e){return Uje(e).map(n=>r=>r.some(o=>n.test(o)))}function Uje(e){return(e.replace(Vje,"").match(Y7t)||[]).map(n=>new RegExp("^".concat(n.slice(0,q7t).replace(/\*/g,".*"),"$"),"i"))}async function zk(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const YQ={datetime:1,number:2,string:3,boolean:4};function sp(e,t){const n=qv(e),r=qv(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function Z7t(e,t){const n=qv(e),r=qv(t),o=YQ[n]||100,i=YQ[r]||100;if(o!==i)return o-i;let s=sp(e,t);return s===null&&(s=0),s}const X7t={"==":function(t,n){return VO(t,n)?Ao:no},"!=":function(t,n){return VO(t,n)?no:Ao},">":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r>0?Ao:no},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r>=0?Ao:no},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r<0?Ao:no},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return $e;const r=sp(t.data,n.data);return r===null?$e:r<=0?Ao:no},in:async function(t,n){if(n.type==="path")return t.type!=="string"?$e:n.data.matches(t.data)?Ao:no;if(n.isArray()){for await(const r of n)if(VO(t,r))return Ao;return no}return $e},match:async function(t,n){let r=[],o=[];return await zk(t,a=>{r=r.concat(Hje(a))}),await zk(n,a=>{o=o.concat(K7t(a))})&&G7t(r,o)?Ao:no},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?pM(t.data.add(n.data)):t.type==="number"&&n.type==="number"?Ra(t.data+n.data):t.type==="string"&&n.type==="string"?$a(t.data+n.data):t.type==="object"&&n.type==="object"?nr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?nr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Kd(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):$e},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?pM(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?Ra(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?Ra(t.data-n.data):$e},"*":T_((e,t)=>e*t),"/":T_((e,t)=>e/t),"%":T_((e,t)=>e%t),"**":T_((e,t)=>Math.pow(e,t))};function T_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Ra(r)}return $e}}var Q7t=Object.defineProperty,J7t=(e,t,n)=>t in e?Q7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qm=(e,t,n)=>(J7t(e,typeof t!="symbol"?t+"":t,n),n);class vx{constructor(t,n,r,o,i){qm(this,"params"),qm(this,"source"),qm(this,"value"),qm(this,"parent"),qm(this,"context"),qm(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new vx(this.params,this.source,t,this.context,this.parent):new vx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function g7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g7;const r=eBt[e.type];return r(e,t,n)}function qQ(e,t){return"then"in e?e.then(t):t(e)}const eBt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return nr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||$e;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return $e;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=X7t[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):$e},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=sp(await a.get(),await c.get());if(d===null)return $e;const f=sp(await a.get(),await u.get());return f===null?$e:s?d>=0&&f<=0?Ao:no:d>=0&&f<0?Ao:no},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Kd(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):$e},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return $e;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?nr(i.data[o]):$e},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return $e;const s=await i.get(),a=o<0?o+s.length:o;return nr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return $e;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),nr(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return $e;const i=o.data._ref;if(typeof i!="string")return $e;if(t.context.dereference)return nr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return $e},Value(e){let{value:t}=e;return nr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return nr(o)},Array(e,t,n){let{elements:r}=e;return new Kd(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?Ao:i.type!=="boolean"||s.type!=="boolean"?$e:no},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?no:i.type!=="boolean"||s.type!=="boolean"?$e:Ao},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?$e:o.data?no:Ao},Neg(e,t,n){let{base:r}=e;return qQ(n(r,t),o=>o.type!=="number"?$e:Ra(-o.data))},Pos(e,t,n){let{base:r}=e;return qQ(n(r,t),o=>o.type!=="number"?$e:Ra(o.data))},Asc(){return $e},Desc(){return $e},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:$e},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Kd(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):$e},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Kd(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):$e}};function Wje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=nr(t.root),r=nr(t.dataset),o={...t.params},i=new vx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?nr(t.after):null,before:t.before?nr(t.before):null,dereference:t.dereference},null);return g7(e,i)}function Cy(e){switch(e.type){case"Group":return Cy(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Cy(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Cy(e.left)&&Cy(e.right);default:return!1}default:return!1}}const tBt=new vx({},$e,$e,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function HO(e){return Cy(e)?Yje(e):null}function Yje(e){const t=g7(e,tBt,Yje);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function nBt(e){if(e.type==="object")return Gje(e.data);if(e.isArray()){const t=await qje(e);if(t.length>0)return t.join(`

`)}return null}async function qje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=Gje(n.data);r!==null&&t.push(r)}else n.isArray()&&await qje(n,t);return t}function Gje(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const GQ=1.2;async function dg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return rBt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await dg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await dg(e.left,t,n),o=await dg(e.right,t,n);return r+o}case"And":{const r=await dg(e.left,t,n),o=await dg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function rBt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await zk(o,d=>{s=s.concat(Hje(d))}),!await zk(i,d=>{a=a.concat(Uje(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(GQ+1)/(f+GQ)}return u}function mM(e,t){switch(qv(e)){case"array":for(const n of e)if(mM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(mM(n,t))return!0;break}return!1}function oBt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const $n={};$n.anywhere=async function(){throw new Error("not implemented")};$n.anywhere.arity=1;$n.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return $e};$n.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return $e;let i=0;for await(const s of o)i++;return Ra(i)};$n.count.arity=1;$n.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?$e:Yv.parseToValue(o.data)};$n.dateTime.arity=1;$n.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?no:Ao};$n.defined.arity=1;$n.identity=async function(t,n){return $a(n.context.identity)};$n.identity.arity=0;$n.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return Ra(oBt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return Ra(i)}return $e};$n.length.arity=1;$n.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?$e:H7t(new zje(o.data))};$n.path.arity=1;$n.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return $a("".concat(o.data));default:return $e}};$n.string.arity=1;$n.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return no;const i=await n.value.get();return mM(i,o)?Ao:no};$n.references.arity=e=>e>=1;$n.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return $e;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return $e;s=a.data}return s===0?i<0?Ra(-Math.round(-i)):Ra(Math.round(i)):Ra(Number(i.toFixed(s)))};$n.round.arity=e=>e>=1&&e<=2;$n.now=async function(t,n){return $a(n.context.timestamp.toISOString())};$n.now.arity=0;$n.boost=async function(){throw new Error("unexpected boost call")};$n.boost.arity=2;const Ll={};Ll.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?$e:$a(r.data.toLowerCase())};Ll.lower.arity=1;Ll.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?$e:$a(r.data.toUpperCase())};Ll.upper.arity=1;Ll.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return $e;const o=await n(e[1],t);return o.type!=="string"?$e:r.data.length===0?nr([]):o.data.length===0?nr(Array.from(r.data)):nr(r.data.split(o.data))};Ll.split.arity=2;$n.lower=Ll.lower;$n.upper=Ll.upper;Ll.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return $e;const o=await n(e[1],t);return o.type!=="string"?$e:r.data.startsWith(o.data)?Ao:no};Ll.startsWith.arity=2;const Em={};Em.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;const o=await n(e[1],t);if(o.type!=="string")return $e;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return $e}s=!0}return nr(i)};Em.join.arity=2;Em.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Kd(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):$e};Em.compact.arity=1;Em.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Kd(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):$e};Em.unique.arity=1;const v7={};v7.text=async function(e,t,n){const r=await n(e[0],t),o=await nBt(r);return o===null?$e:$a(o)};v7.text.arity=1;const y7={};y7.projectId=async function(e,t){return t.context.sanity?$a(t.context.sanity.projectId):$e};y7.dataset=async function(e,t){return t.context.sanity?$a(t.context.sanity.dataset):$e};const Nw={};Nw.order=async function(t,n,r,o){if(await!0,!t.isArray())return $e;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=Z7t(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),nr(c.map(d=>d[0]))};Nw.order.arity=e=>e>=1;Nw.score=async function(t,n,r,o){if(!t.isArray())return $e;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await dg(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),nr(s)};Nw.score.arity=e=>e>=1;const nh={};nh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?$a("update"):r?$a("create"):n?$a("delete"):$e};nh.changedAny=()=>{throw new Error("not implemented")};nh.changedAny.arity=1;nh.changedAny.mode="delta";nh.changedOnly=()=>{throw new Error("not implemented")};nh.changedOnly.arity=1;nh.changedOnly.mode="delta";const zw={};zw.changedAny=()=>{throw new Error("not implemented")};zw.changedAny.arity=3;zw.changedOnly=()=>{throw new Error("not implemented")};zw.changedOnly.arity=3;const fd={};fd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;(o===void 0||i.data<o)&&(o=i.data)}return nr(o)};fd.min.arity=1;fd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;(o===void 0||i.data>o)&&(o=i.data)}return nr(o)};fd.max.arity=1;fd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return $e;o+=i.data}return nr(o)};fd.sum.arity=1;fd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return $e;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return $e;o+=s.data,i++}return i===0?$e:nr(o/i)};fd.avg.arity=1;const b7={};b7.now=async function(t,n,r){return pM(new Yv(n.context.timestamp))};b7.now.arity=0;const iBt={global:$n,string:Ll,array:Em,pt:v7,delta:nh,diff:zw,sanity:y7,math:fd,dateTime:b7};var sBt=Object.defineProperty,aBt=(e,t,n)=>t in e?sBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V1=(e,t,n)=>(aBt(e,typeof t!="symbol"?t+"":t,n),n);class lBt{constructor(t,n,r){V1(this,"string"),V1(this,"marks"),V1(this,"index"),V1(this,"parseOptions"),V1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const cBt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,UO=/^\d+/,ap=/^[a-zA-Z_][a-zA-Z_0-9]*/,A_=1,D_=2,I_=3,Xr=4,Gm=4,O_=6,P_=6,R_=7,$_=7,M_=7,F_=8,uBt=10,dBt=10,fBt=8;function hBt(e){let t=0;t=Je(e,t);let n=jn(e,t,0);return n.type==="error"?n:(t=Je(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function jn(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=jn(e,Je(e,t+1),uBt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=jn(e,Je(e,t+1),fBt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=jn(e,Je(e,t+1),0);if(u.type==="error")return u;switch(t=Je(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Je(e,t+1);;){if(u=jn(e,t,0),u.type==="error")return u;if(t=Je(e,u.position),e[t]!==",")break;t=Je(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=jn(e,Je(e,t+1),dBt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=gM(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Je(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Je(e,t+3));let u=jn(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Je(e,t),e[t]!==","||(t=Je(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=pBt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=sc(e,t+1,ap);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=sc(e,t,UO);if(u){t+=u;let f="integer";if(e[t]==="."){let p=sc(e,t+1,UO);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=sc(e,t,UO);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=sc(e,t,ap);if(d){switch(t+=d,e[t]){case":":case"(":{let f=ZQ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Je(e,t);if(u===e.length){t=u;break}if(a=KQ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=KQ(e,Je(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>A_||s<=A_)break e;let p=jn(e,Je(e,u+2),A_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=A_;break}case"=":{if(n>Xr||s<=Xr)break e;let p=jn(e,Je(e,u+2),Xr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=Xr;break}default:break e}break}case"+":{if(n>O_||s<O_)break e;let f=jn(e,Je(e,u+1),O_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=O_;break}case"-":{if(n>P_||s<P_)break e;let f=jn(e,Je(e,u+1),P_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=P_;break}case"*":{if(e[u+1]==="*"){if(n>F_||s<=F_)break e;let p=jn(e,Je(e,u+2),F_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=F_;break}if(n>R_||s<R_)break e;let f=jn(e,Je(e,u+1),R_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=R_;break}case"/":{if(n>$_||s<$_)break e;let f=jn(e,Je(e,u+1),$_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=$_;break}case"%":{if(n>M_||s<M_)break e;let f=jn(e,Je(e,u+1),M_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=M_;break}case"<":case">":{if(n>Xr||s<=Xr)break e;let f=u+1;e[f]==="="&&f++;let p=jn(e,Je(e,f),Xr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=Xr;break}case"|":{if(e[u+1]==="|"){if(n>D_||s<D_)break e;let f=jn(e,Je(e,u+2),D_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=D_}else{if(n>11||s<11)break e;let f=Je(e,u+1),p=sc(e,f,ap);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=ZQ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>I_||s<I_)break e;let f=jn(e,Je(e,u+2),I_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=I_;break}case"!":{if(e[u+1]!=="="||n>Xr||s<=Xr)break e;let f=jn(e,Je(e,u+2),Xr+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=Xr;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>Gm||s<Gm)break e;i.unshift({name:"desc",position:r}),t=u+4,s=Gm;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>Gm||s<Gm)break e;i.unshift({name:"asc",position:r}),t=u+3,s=Gm;break}default:switch(mBt(e,u,ap)){case"in":{if(n>Xr||s<=Xr)break e;t=Je(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Je(e,t+1));let m=t,v=jn(e,t,Xr+1);if(v.type==="error")return v;if(t=Je(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Je(e,t+3)):t=Je(e,t+2);let b=jn(e,t,Xr+1);if(b.type==="error")return b;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,b.marks),t=b.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Je(e,t),e[t]!==")")return{type:"error",position:t};t++}s=Xr;break}case"match":{if(n>Xr||s<=Xr)break e;let p=jn(e,Je(e,u+5),Xr+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function KQ(e,t){let n=t;switch(e[t]){case".":{t=Je(e,t+1);let s=t,a=sc(e,t,ap);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Je(e,t),i=sc(e,o,ap);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Je(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=jn(e,t,0);if(a.type==="error")return a;if(t=Je(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=Je(e,t);let u=jn(e,t,0);return u.type==="error"?u:(t=Je(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Je(e,t+1),e[t]==="{"){let s=gM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=gM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function ZQ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Je(e,n+2);let i=sc(e,n,ap);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Je(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Je(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Je(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=jn(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Je(e,i.position),e[n]!==","||(n=Je(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function gM(e,t){let n=[{name:"object",position:t}];for(t=Je(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Je(e,t+3),e[t]!=="}"&&e[t]!==","){let o=jn(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=jn(e,t,0);if(o.type==="error")return o;let i=Je(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=jn(e,Je(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Je(e,t),e[t]!==",")break;t=Je(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function pBt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Je(e,t){return t+sc(e,t,cBt)}function sc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function mBt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Da(e,t){return n=>t(e(n))}function vM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function gBt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function cS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Da(e,t.build)};case"a-b":return{type:"a-b",build:Da(e,t.build)};case"b-b":return{type:"a-a",build:Da(e,vM(t.build))};case"b-a":return{type:"a-a",build:Da(e,gBt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function WO(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Da(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Da(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function vBt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Da(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Da(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function yBt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Da(vM(e),t.build)};case"a-b":return{type:"a-b",build:Da(vM(e),t.build)};case"b-a":return{type:"b-a",build:Da(e,t.build)};case"b-b":return{type:"b-b",build:Da(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var bBt=Object.defineProperty,xBt=(e,t,n)=>t in e?bBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yM=(e,t,n)=>(xBt(e,typeof t!="symbol"?t+"":t,n),n);const wBt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function CBt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Ni extends Error{constructor(){super(...arguments),yM(this,"name","GroqQueryError")}}const at={group(e){return{type:"Group",base:e.process(at)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(at).n+1}},traverse(e){const t=e.process(at),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(Kje));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=cS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(at)}},pos(e){return{type:"Pos",base:e.process(at)}},add(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(at),n=e.processString(),r=e.process(at);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(at),n=e.getMark().name==="inc_range";e.shift();const r=e.process(at),o=e.process(at);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=wBt[r];break}case"unicode_hex":e.shift(),t+=CBt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(_Bt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(at);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(at));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Ni("unexpected argument to select()");e.shift();const a=e.process(at),c=e.process(at);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Ni("unexpected argument to select()");const a=e.process(at);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)SBt(t,n,r.length)?(e.process(bM),r.push({type:"Selector"})):r.push(e.process(at));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Ni("unexpected boost");const o=iBt[t];if(!o)throw new Ni("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Ni("Undefined function: ".concat(n));if(i.arity!==void 0&&XQ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Ni("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(at);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Ni("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(at)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(at)});continue}}o.push(e.process(at))}e.shift(),e.allowBoost=i;const s=Nw[r];if(!s)throw new Ni("Undefined pipe function: ".concat(r));return s.arity&&XQ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Ni("unexpected =>")},and(e){const t=e.process(at),n=e.process(at);return{type:"And",left:t,right:n}},or(e){const t=e.process(at),n=e.process(at);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(at)}},asc(e){throw new Ni("unexpected asc")},desc(e){throw new Ni("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},_Bt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(at),r=e.process(at);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(at);return{type:"ObjectAttributeValue",name:Zje(t),value:t}},object_pair(e){const t=e.process(at);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(at);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(at)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},Kje={square_bracket(e){const t=e.process(at),n=HO(t);return n&&n.type==="number"?r=>vBt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>WO(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>cS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(at),r=e.process(at),o=HO(n),i=HO(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Ni("slicing must use constant numbers");return s=>cS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(at);return n=>yBt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>WO(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>WO(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>cS(n=>({type:"ArrayCoerce",base:n}),t)}},bM={group(e){return e.process(bM),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(bM);e.getMark().name!=="traversal_end";)e.process(Kje);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=at.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function Zje(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return Zje(e.base);throw new Ni("Cannot determine property key for type: ".concat(e.type))}function XQ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Ni("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Ni("Incorrect number of arguments to function ".concat(e,"()."))}function SBt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class EBt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),yM(this,"position"),yM(this,"name","GroqSyntaxError"),this.position=t}}function Xje(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=hBt(e);if(n.type==="error")throw new EBt(n.position);return new lBt(e,n.marks,t).process(at)}function kBt(e,t=Jet){return n=>{const r=n;let o=null,i=null;const s=new wr,a=s.pipe(na((c,u)=>c+u,0),rt(c=>c===0?Fo(e,t).pipe(bn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?Fo(0,t).pipe(bn(()=>{o||(o=r.connect())})):$L));return ztt(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var jBt=Object.defineProperty,TBt=(e,t,n)=>t in e?jBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Km=(e,t,n)=>(TBt(e,typeof t!="symbol"?t+"":t,n),n);const ABt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class Qje{constructor(t,n,r){Km(this,"model"),Km(this,"root"),Km(this,"patch"),Km(this,"i"),Km(this,"inputStack"),Km(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=ABt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function Vw(e){return e>>16?4:e>>11?3:e>>7?2:1}function xM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=Vw(r);o==4&&n++,t+=o}return t}function QQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=Vw(i);s===4&&o++,r+=s}return o}function DBt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=Vw(i);r+=a,o+=a===4?2:1}return r}function IBt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=Vw(s);o+=c,i+=c===4?2:1}return o}var OBt=Object.defineProperty,PBt=(e,t,n)=>t in e?OBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RBt=(e,t,n)=>(PBt(e,typeof t!="symbol"?t+"":t,n),n);class wM{constructor(t){RBt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:xM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(lu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=Vw(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function $Bt(e,t){return{data:e,startMeta:t,endMeta:t}}function lu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>lu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=lu(o)}}return e.data=t,t}function CM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function _M(e,t){let n=CM(e),r=CM(t);if(n!==r)return t;let o=new wM(e.endMeta),i=new wM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=_M(v,m),a.fields[p]===v&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=_M(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(lu(e)===lu(t))return e;break}case"string":{let s=lu(e),a=lu(t);if(s===a)return e;let c=i.copyString(null),u=DBt(s,a),d=IBt(s,a,u),f=xM(a),p=xM(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(lu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function MBt(e,t,n){let r=new wM(n);return new Qje(r,e,t).process()}var rl=Object.freeze({__proto__:null,applyPatch:MBt,getType:CM,rebaseValue:_M,unwrap:lu,wrap:$Bt});class FBt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=QQ(i,r),a=QQ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function SM(e,t){let n=e;return new Qje(new FBt,n,t).process()}function rh(e,t,n){return delete e[t],e[t]=n,n}function LBt(e,t){const n=BBt(e,t);return NBt(n,e,t)}function BBt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function NBt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function zBt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=JQ(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return rh(this,"items",c)}}}const r=tJ(e),o=tJ(t);if(r&&o)return HBt(e,r,t,o);const i=JQ(e,t);return i?x7(e,t,i,!1):VBt(e,t)}function x7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function JQ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=GT(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function VBt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:jm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:km(i,void 0),annotation:i.annotation})}return x7(e,t,r,!0)}function HBt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){eJ(t.index,u,d),eJ(r.index,u,f);const m=e.at(d),v=n.at(f),g=GT(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const c=LBt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!c.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:km(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:jm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(UBt),x7(e,n,i,s)}function UBt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function eJ(e,t,n){const r=e.get(t);WBt(r,n),r.length===0&&e.delete(t)}function WBt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function tJ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function YBt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:km(i,void 0),annotation:e.annotationAt(o)})}return rh(this,"items",r)}}}function qBt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:jm(i,void 0),annotation:e.annotationAt(o)})}return rh(this,"items",r)}}}function GBt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=KBt(e,t);return rh(this,"segments",i)}}}function KBt(e,t){const n=[],r=e9(Dw(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case St:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Tn:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case qn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function ZBt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return rh(this,"segments",r)}}}function XBt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return rh(this,"segments",r)}}}function QBt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:km(e,void 0),toType:t.type,toValue:t.value,toDiff:jm(t,void 0),annotation:t.annotation}}const nJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function JBt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(nJ.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=GT(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=km(c,void 0),o=!0}for(const a of t.keys){if(nJ.has(a)||e.get(a))continue;const c=t.get(a);r[a]=jm(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function eNt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=km(i,void 0)}return rh(this,"fields",r)}}}function tNt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=jm(i,void 0)}return rh(this,"fields",r)}}}function nNt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function rNt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function GT(e,t){return e.type!==t.type?e.type==="null"?jm(t,null):t.type==="null"?km(e,null):QBt(e,t):oNt(e.type,e,t)}function oNt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return rNt(t,n);case"number":return nNt(t,n);case"string":return GBt(t,n);case"array":return zBt(t,n);case"object":return JBt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function km(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return ZBt(e,t);case"array":return YBt(e,t);case"object":return eNt(e,t);default:throw new Error("Unhandled diff type")}}function jm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return XBt(e,t);case"array":return qBt(e,t);case"object":return tNt(e,t);default:throw new Error("Unhandled diff type")}}class iNt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=w7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class sNt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=w7(r,this.annotation)}}let aNt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class YO{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function w7(e,t){if(Array.isArray(e))return new iNt(e,t);if(e===null)return new YO("null",e,t);const n=typeof e;switch(n){case"number":return new YO(n,e,t);case"boolean":return new YO(n,e,t);case"object":return new sNt(e,t);case"string":return new aNt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var Jje={exports:{}},eTe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw=h;function lNt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cNt=typeof Object.is=="function"?Object.is:lNt,uNt=Hw.useSyncExternalStore,dNt=Hw.useRef,fNt=Hw.useEffect,hNt=Hw.useMemo,pNt=Hw.useDebugValue;eTe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=dNt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=hNt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,cNt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=uNt(e,i[0],i[1]);return fNt(function(){s.hasValue=!0,s.value=a},[a]),pNt(a),a};Jje.exports=eTe;var C7=Jje.exports,mNt=Math.floor,gNt=Math.random;function vNt(e,t){return e+mNt(gNt()*(t-e+1))}var yNt=vNt,bNt=yNt;function xNt(e){var t=e.length;return t?e[bNt(0,t-1)]:void 0}var tTe=xNt,wNt=tTe,CNt=Fje;function _Nt(e){return wNt(CNt(e))}var SNt=_Nt,ENt=tTe,kNt=SNt,jNt=Kr;function TNt(e){var t=jNt(e)?ENt:kNt;return t(e)}var ANt=TNt;const DNt=Oe(ANt);var INt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=$Nt(r),this._batchScheduleFn=MNt(r),this._cacheKeyFn=FNt(r),this._cacheMap=LNt(r),this._batch=null,this.name=BNt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=PNt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!nTe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),ONt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){qO||(qO=Promise.resolve()),qO.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},qO;function PNt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){RNt(e,n)}),n}function RNt(e,t){if(t.hasDispatched=!0,t.keys.length===0){EM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return GO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return GO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!nTe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));EM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){GO(e,t,r)})}function GO(e,t,n){EM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function EM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function $Nt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function MNt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return ONt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function FNt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function LNt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function BNt(e){return e&&e.name?e.name:null}function nTe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var NNt=INt;const zNt=Oe(NNt);var KT={exports:{}},_y={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?_y.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(_y.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(_y.exports=function(){return Date.now()-n},n=Date.now()):(_y.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(bs);var VNt=_y.exports,HNt=VNt,Cu=typeof window>"u"?bs:window,L_=["moz","webkit"],fv="AnimationFrame",Gv=Cu["request"+fv],yx=Cu["cancel"+fv]||Cu["cancelRequest"+fv];for(var H1=0;!Gv&&H1<L_.length;H1++)Gv=Cu[L_[H1]+"Request"+fv],yx=Cu[L_[H1]+"Cancel"+fv]||Cu[L_[H1]+"CancelRequest"+fv];if(!Gv||!yx){var KO=0,rJ=0,_h=[],UNt=1e3/60;Gv=function(e){if(_h.length===0){var t=HNt(),n=Math.max(0,UNt-(t-KO));KO=n+t,setTimeout(function(){var r=_h.slice(0);_h.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(KO)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return _h.push({handle:++rJ,callback:e,cancelled:!1}),rJ},yx=function(e){for(var t=0;t<_h.length;t++)_h[t].handle===e&&(_h[t].cancelled=!0)}}KT.exports=function(e){return Gv.call(Cu,e)};KT.exports.cancel=function(){yx.apply(Cu,arguments)};KT.exports.polyfill=function(e){e||(e=Cu),e.requestAnimationFrame=Gv,e.cancelAnimationFrame=yx};var WNt=KT.exports;const YNt=Oe(WNt);function hb(e,t,n){return Math.min(Math.max(e,n),t)}class qNt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Sy=qNt;function rTe(e){if(typeof e!="string")throw new Sy(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=tzt.test(e)?ZNt(e):e;const n=XNt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(bx(a,2),16)),parseInt(bx(s[3]||"f",2),16)/255]}const r=QNt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=JNt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=ezt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(hb(0,100,a)!==a)throw new Sy(e);if(hb(0,100,c)!==c)throw new Sy(e);return[...nzt(s,a,c),Number.isNaN(u)?1:u]}throw new Sy(e)}function GNt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const oJ=e=>parseInt(e.replace(/_/g,""),36),KNt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=oJ(t.substring(0,3)),r=oJ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function ZNt(e){const t=e.toLowerCase().trim(),n=KNt[GNt(t)];if(!n)throw new Sy(e);return`#${n}`}const bx=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),XNt=new RegExp(`^#${bx("([a-f0-9])",3)}([a-f0-9])?$`,"i"),QNt=new RegExp(`^#${bx("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),JNt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${bx(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),ezt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,tzt=/^[a-z]+$/i,iJ=e=>Math.round(e*255),nzt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(iJ);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(iJ)};function rzt(e){const[t,n,r,o]=rTe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function ozt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${hb(0,100,t*100).toFixed()}%, ${hb(0,100,n*100).toFixed()}%, ${parseFloat(hb(0,1,r).toFixed(3))})`}function oTe(e,t){const[n,r,o,i]=rzt(e);return ozt(n,r,o-t,i)}function kM(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=rTe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function izt(e,t){const n=kM(e),r=kM(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const szt={decorative:1.5,readable:3,aa:4.5,aaa:7};function sJ(e,t="aa",n="#fff"){return izt(e,n)<szt[t]}function azt(e,t){return oTe(e,-t)}function lzt(e){return kM(e)>.179}function czt(e){return lzt(e)?"#000":"#fff"}var uzt=HCe,dzt=vw,fzt=Gj,hzt=Kr,pzt=Zf,mzt=Kj,gzt=Xj,vzt=GL,yzt="[object Map]",bzt="[object Set]",xzt=Object.prototype,wzt=xzt.hasOwnProperty;function Czt(e){if(e==null)return!0;if(pzt(e)&&(hzt(e)||typeof e=="string"||typeof e.splice=="function"||mzt(e)||vzt(e)||fzt(e)))return!e.length;var t=dzt(e);if(t==yzt||t==bzt)return!e.size;if(gzt(e))return!uzt(e).length;for(var n in e)if(wzt.call(e,n))return!1;return!0}var _zt=Czt;const Szt=Oe(_zt);var Ezt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),kzt=()=>{try{return!!(Ezt&&import.meta.webpackHot)}catch{return!1}};function jzt(e){if(kzt)return typeof import.meta.webpackHot>"u"?Azt(e):Tzt(e)}function Tzt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function Azt(e){h.useEffect(()=>{},[e])}var Dzt=_7;_7.displayName="bash";_7.aliases=["shell"];function _7(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const Izt=Oe(Dzt);var Ozt=S7;S7.displayName="json";S7.aliases=["webmanifest"];function S7(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const Pzt=Oe(Ozt);var Rzt=E7;E7.displayName="jsx";E7.aliases=[];function E7(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const $zt=Oe(Rzt);var Mzt=k7;k7.displayName="typescript";k7.aliases=["ts"];function k7(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const Fzt=Oe(Mzt);var pc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pc||(pc={}));var Vk=function(e){return e},aJ="beforeunload",Lzt="popstate";function Bzt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,Vk({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=pc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else y(E)}}r.addEventListener(Lzt,a);var c=pc.Pop,u=i(),d=u[0],f=u[1],p=Hk(),m=Hk();d==null&&(d=0,o.replaceState(Lu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:iTe(E)}function g(E,j){return j===void 0&&(j=null),Vk(Lu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?TM(E):E,{state:j,key:jM()}))}function b(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function y(E){c=E;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(E,j){var k=pc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=b(T,d+1),I=D[0],O=D[1];try{o.pushState(I,"",O)}catch{r.location.assign(O)}y(k)}}function C(E,j){var k=pc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=b(T,d),I=D[0],O=D[1];o.replaceState(I,"",O),y(k)}}function _(E){o.go(E)}var S={get action(){return c},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(aJ,cJ),function(){k(),m.length||r.removeEventListener(aJ,cJ)}}};return S}function Nzt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=Vk(Lu({pathname:"/",search:"",hash:"",state:null,key:jM()},typeof w=="string"?TM(w):w));return C}),s=lJ(o??i.length-1,0,i.length-1),a=pc.Pop,c=i[s],u=Hk(),d=Hk();function f(w){return typeof w=="string"?w:iTe(w)}function p(w,C){return C===void 0&&(C=null),Vk(Lu({pathname:c.pathname,search:"",hash:""},typeof w=="string"?TM(w):w,{state:C,key:jM()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,c=C,u.call({action:a,location:c})}function g(w,C){var _=pc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function b(w,C){var _=pc.Replace,S=p(w,C);function E(){b(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=lJ(s+w,0,i.length-1),_=pc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var y={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:g,replace:b,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return y}function lJ(e,t,n){return Math.min(Math.max(e,t),n)}function cJ(e){e.preventDefault(),e.returnValue=""}function Hk(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function jM(){return Math.random().toString(36).substr(2,8)}function iTe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function TM(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var zzt=Rc,sTe=/[\\^$.*+?()[\]{}|]/g,Vzt=RegExp(sTe.source);function Hzt(e){return e=zzt(e),e&&Vzt.test(e)?e.replace(sTe,"\\$&"):e}var Uzt=Hzt;const j7=Oe(Uzt);var aTe,uJ=cc;aTe=uJ.createRoot,uJ.hydrateRoot;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:pe.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:pe.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:pe.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:pe.purple[300].hex})]})});const Wzt={light:[pe.red[200].hex,pe.red[300].hex,pe.red[500].hex],dark:[pe.gray[500].hex,pe.gray[300].hex,xa.hex]},Yzt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=Wzt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),qzt={bg1:pe.red[500].hex,bg2:pe.red[200].hex,fg:xa.hex},Gzt=h.forwardRef(function(t,n){const{color:r=qzt,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var z0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lTe=h;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ds=Object.prototype.hasOwnProperty,Kzt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dJ={},fJ={};function cTe(e){return ds.call(fJ,e)?!0:ds.call(dJ,e)?!1:Kzt.test(e)?fJ[e]=!0:(dJ[e]=!0,!1)}function rs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new rs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new rs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new rs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new rs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new rs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new rs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new rs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new rs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new rs(e,5,!1,e.toLowerCase(),null,!1,!1)});var T7=/[\-:]([a-z])/g;function A7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T7,A7);ei[t]=new rs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T7,A7);ei[t]=new rs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T7,A7);ei[t]=new rs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new rs(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new rs(e,1,!1,e.toLowerCase(),null,!0,!0)});var uS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zzt=["Webkit","ms","Moz","O"];Object.keys(uS).forEach(function(e){Zzt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uS[t]=uS[e]})});var Xzt=/["'&<>]/;function Ui(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Xzt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var Qzt=/([A-Z])/g,Jzt=/^ms-/,AM=Array.isArray;function Kc(e,t){return{insertionMode:e,selectedValue:t}}function eVt(e,t,n){switch(t){case"select":return Kc(1,n.value!=null?n.value:n.defaultValue);case"svg":return Kc(2,null);case"math":return Kc(3,null);case"foreignObject":return Kc(1,null);case"table":return Kc(4,null);case"thead":case"tbody":case"tfoot":return Kc(5,null);case"colgroup":return Kc(7,null);case"tr":return Kc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Kc(1,null):e}var hJ=new Map;function uTe(e,t,n){if(typeof n!="object")throw Error(_t(62));t=!0;for(var r in n)if(ds.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Ui(r);o=Ui((""+o).trim())}else{i=r;var s=hJ.get(i);s!==void 0||(s=Ui(i.replace(Qzt,"-$1").toLowerCase().replace(Jzt,"-ms-")),hJ.set(i,s)),i=s,o=typeof o=="number"?o===0||ds.call(uS,r)?""+o:o+"px":Ui((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Rs(e,t,n,r){switch(n){case"style":uTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ei.hasOwnProperty(n)?ei[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Ui(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Ui(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Ui(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Ui(r),'"')}}else if(cTe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Ui(r),'"')}}}function dS(e,t,n){if(t!=null){if(n!=null)throw Error(_t(60));if(typeof t!="object"||!("__html"in t))throw Error(_t(61));t=t.__html,t!=null&&e.push(""+t)}}function tVt(e){var t="";return lTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function ZO(e,t,n,r){e.push(Xl(n));var o=n=null,i;for(i in t)if(ds.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Rs(e,r,i,s)}}return e.push(">"),dS(e,o,n),typeof n=="string"?(e.push(Ui(n)),null):n}var nVt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,pJ=new Map;function Xl(e){var t=pJ.get(e);if(t===void 0){if(!nVt.test(e))throw Error(_t(65,e));t="<"+e,pJ.set(e,t)}return t}function rVt(e,t,n,r,o){switch(t){case"select":e.push(Xl("select"));var i=null,s=null;for(d in n)if(ds.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Rs(e,r,d,a)}}return e.push(">"),dS(e,s,i),i;case"option":s=o.selectedValue,e.push(Xl("option"));var c=a=null,u=null,d=null;for(i in n)if(ds.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Rs(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:tVt(a),AM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),dS(e,d,a),a;case"textarea":e.push(Xl("textarea")),d=s=i=null;for(a in n)if(ds.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(_t(91));default:Rs(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(_t(92));if(AM(d)&&1<d.length)throw Error(_t(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Ui(""+i)),null;case"input":e.push(Xl("input")),c=d=a=i=null;for(s in n)if(ds.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Rs(e,r,s,u)}return d!==null?Rs(e,r,"checked",d):c!==null&&Rs(e,r,"checked",c),i!==null?Rs(e,r,"value",i):a!==null&&Rs(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(Xl("menuitem"));for(var p in n)if(ds.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(_t(400));default:Rs(e,r,p,i)}return e.push(">"),null;case"title":e.push(Xl("title")),i=null;for(f in n)if(ds.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(_t(434));default:Rs(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(Xl(t)),s=i=null;for(c in n)if(ds.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Rs(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(_t(60));if(typeof s!="object"||!("__html"in s))throw Error(_t(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Xl(t));for(var m in n)if(ds.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,t));default:Rs(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ZO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),ZO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return ZO(e,n,t,r);e.push(Xl(t)),s=i=null;for(u in n)if(ds.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":uTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:cTe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Ui(a),'"')}return e.push(">"),dS(e,s,i),i}}function mJ(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(_t(395));return e.push(n),e.push('"></template>')}function oVt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(_t(397))}}function iVt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(_t(397))}}var sVt=/[<\u2028\u2029]/g;function XO(e){return JSON.stringify(e).replace(sVt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function aVt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function gJ(e,t,n,r){return n.generateStaticMarkup?(e.push(Ui(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Ui(t)),e=!0),e)}var pb=Object.assign,lVt=Symbol.for("react.element"),dTe=Symbol.for("react.portal"),fTe=Symbol.for("react.fragment"),hTe=Symbol.for("react.strict_mode"),pTe=Symbol.for("react.profiler"),mTe=Symbol.for("react.provider"),gTe=Symbol.for("react.context"),vTe=Symbol.for("react.forward_ref"),yTe=Symbol.for("react.suspense"),bTe=Symbol.for("react.suspense_list"),xTe=Symbol.for("react.memo"),D7=Symbol.for("react.lazy"),cVt=Symbol.for("react.scope"),uVt=Symbol.for("react.debug_trace_mode"),dVt=Symbol.for("react.legacy_hidden"),fVt=Symbol.for("react.default_value"),vJ=Symbol.iterator;function DM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fTe:return"Fragment";case dTe:return"Portal";case pTe:return"Profiler";case hTe:return"StrictMode";case yTe:return"Suspense";case bTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gTe:return(e.displayName||"Context")+".Consumer";case mTe:return(e._context.displayName||"Context")+".Provider";case vTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xTe:return t=e.displayName||null,t!==null?t:DM(e.type)||"Memo";case D7:t=e._payload,e=e._init;try{return DM(e(t))}catch{}}return null}var wTe={};function yJ(e,t){if(e=e.contextTypes,!e)return wTe;var n={},r;for(r in e)n[r]=t[r];return n}var lp=null;function ZT(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(_t(401))}else{if(n===null)throw Error(_t(401));ZT(e,n)}t.context._currentValue2=t.value}}function CTe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&CTe(e)}function _Te(e){var t=e.parent;t!==null&&_Te(t),e.context._currentValue2=e.value}function STe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(_t(402));e.depth===t.depth?ZT(e,t):STe(e,t)}function ETe(e,t){var n=t.parent;if(n===null)throw Error(_t(402));e.depth===n.depth?ZT(e,n):ETe(e,n),t.context._currentValue2=t.value}function Uk(e){var t=lp;t!==e&&(t===null?_Te(e):e===null?CTe(t):t.depth===e.depth?ZT(t,e):t.depth>e.depth?STe(t,e):ETe(t,e),lp=e)}var bJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function xJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=bJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:pb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&bJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=pb({},i,a)):pb(i,a))}e.state=i}else i.queue=null}var hVt={id:1,overflow:""};function IM(e,t,n){var r=e.id;e=e.overflow;var o=32-fS(r)-1;r&=~(1<<o),n+=1;var i=32-fS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-fS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var fS=Math.clz32?Math.clz32:gVt,pVt=Math.log,mVt=Math.LN2;function gVt(e){return e>>>=0,e===0?32:31-(pVt(e)/mVt|0)|0}function vVt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yVt=typeof Object.is=="function"?Object.is:vVt,Hu=null,I7=null,hS=null,Nn=null,Ey=!1,Wk=!1,xx=0,Zd=null,XT=0;function Yh(){if(Hu===null)throw Error(_t(321));return Hu}function wJ(){if(0<XT)throw Error(_t(312));return{memoizedState:null,queue:null,next:null}}function O7(){return Nn===null?hS===null?(Ey=!1,hS=Nn=wJ()):(Ey=!0,Nn=hS):Nn.next===null?(Ey=!1,Nn=Nn.next=wJ()):(Ey=!0,Nn=Nn.next),Nn}function P7(){I7=Hu=null,Wk=!1,hS=null,XT=0,Nn=Zd=null}function kTe(e,t){return typeof t=="function"?t(e):t}function CJ(e,t,n){if(Hu=Yh(),Nn=O7(),Ey){var r=Nn.queue;if(t=r.dispatch,Zd!==null&&(n=Zd.get(r),n!==void 0)){Zd.delete(r),r=Nn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Nn.memoizedState=r,[r,t]}return[Nn.memoizedState,t]}return e=e===kTe?typeof t=="function"?t():t:n!==void 0?n(t):t,Nn.memoizedState=e,e=Nn.queue={last:null,dispatch:null},e=e.dispatch=bVt.bind(null,Hu,e),[Nn.memoizedState,e]}function _J(e,t){if(Hu=Yh(),Nn=O7(),t=t===void 0?null:t,Nn!==null){var n=Nn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!yVt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Nn.memoizedState=[e,t],e}function bVt(e,t,n){if(25<=XT)throw Error(_t(301));if(e===Hu)if(Wk=!0,e={action:n,next:null},Zd===null&&(Zd=new Map),n=Zd.get(t),n===void 0)Zd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function xVt(){throw Error(_t(394))}function B_(){}var SJ={readContext:function(e){return e._currentValue2},useContext:function(e){return Yh(),e._currentValue2},useMemo:_J,useReducer:CJ,useRef:function(e){Hu=Yh(),Nn=O7();var t=Nn.memoizedState;return t===null?(e={current:e},Nn.memoizedState=e):t},useState:function(e){return CJ(kTe,e)},useInsertionEffect:B_,useLayoutEffect:function(){},useCallback:function(e,t){return _J(function(){return e},t)},useImperativeHandle:B_,useEffect:B_,useDebugValue:B_,useDeferredValue:function(e){return Yh(),e},useTransition:function(){return Yh(),[!1,xVt]},useId:function(){var e=I7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-fS(e)-1)).toString(32)+t;var n=pS;if(n===null)throw Error(_t(404));return t=xx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Yh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(_t(407));return n()}},pS=null,QO=lTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function wVt(e){return console.error(e),null}function ky(){}function CVt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?wVt:o,onAllReady:i===void 0?ky:i,onShellReady:s===void 0?ky:s,onShellError:a===void 0?ky:a,onFatalError:c===void 0?ky:c},n=Yk(t,0,null,n,!1,!1),n.parentFlushed=!0,e=R7(t,e,null,n,d,wTe,null,hVt),u.push(e),t}function R7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&ATe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function Yk(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function wx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function qk(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function EJ(e,t,n,r,o){for(Hu={},I7=t,xx=0,e=n(r,o);Wk;)Wk=!1,xx=0,XT+=1,Nn=null,e=n(r,o);return P7(),e}function kJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(_t(108,DM(r)||"Unknown",a));r=pb({},s,n)}t.legacyContext=r,Bs(e,t,o),t.legacyContext=s}else Bs(e,t,o)}function jJ(e,t){if(e&&e.defaultProps){t=pb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function OM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=yJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),xJ(i,n,r,o),kJ(e,t,i,n)}else{i=yJ(n,t.legacyContext),o=EJ(e,t,n,r,i);var s=xx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)xJ(o,n,r,i),kJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=IM(r,1,0);try{Bs(e,t,o)}finally{t.treeContext=r}}else Bs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=rVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=eVt(s,n,r),PM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case dVt:case uVt:case hTe:case pTe:case fTe:Bs(e,t,r.children);return;case bTe:Bs(e,t,r.children);return;case cVt:throw Error(_t(343));case yTe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=Yk(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=Yk(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(PM(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Gk(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=wx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=R7(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case vTe:if(r=EJ(e,t,n.render,r,o),xx!==0){n=t.treeContext,t.treeContext=IM(n,1,0);try{Bs(e,t,r)}finally{t.treeContext=n}}else Bs(e,t,r);return;case xTe:n=n.type,r=jJ(n,r),OM(e,t,n,r,o);return;case mTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=lp,lp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Bs(e,t,o),e=lp,e===null)throw Error(_t(403));r=e.parentValue,e.context._currentValue2=r===fVt?e.context._defaultValue:r,e=lp=e.parent,t.context=e;return;case gTe:r=r.children,r=r(n._currentValue2),Bs(e,t,r);return;case D7:o=n._init,n=o(n._payload),r=jJ(n,r),OM(e,t,n,r,void 0);return}throw Error(_t(130,n==null?n:typeof n,""))}}function Bs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case lVt:OM(e,t,n.type,n.props,n.ref);return;case dTe:throw Error(_t(257));case D7:var r=n._init;n=r(n._payload),Bs(e,t,n);return}if(AM(n)){TJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=vJ&&n[vJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);TJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=gJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=gJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function TJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=IM(i,r,o);try{PM(e,t,n[o])}finally{t.treeContext=i}}}function PM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Bs(e,t,n)}catch(c){if(P7(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=Yk(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=R7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Uk(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Uk(i),c}}function _Vt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,TTe(this,t,e)}function jTe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(_t(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return jTe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Gk(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Gk(e,n)}else e.completedSegments.push(t)}function TTe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(_t(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=ky,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Gk(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(_Vt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Gk(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function ATe(e){if(e.status!==2){var t=lp,n=QO.current;QO.current=SJ;var r=pS;pS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){Uk(s.context);try{Bs(a,s,s.node),a.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),s.abortSet.delete(s),c.status=1,TTe(a,s.blockedBoundary,c)}catch(v){if(P7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=wx(a,f);if(d===null?qk(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&$7(e,e.destination)}catch(v){wx(e,v),qk(e,v)}finally{pS=r,QO.current=n,n===SJ&&Uk(t)}}}function N_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=QT(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(_t(390))}}function QT(e,t,n){var r=n.boundary;if(r===null)return N_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Ui(r),t.push(r),t.push('"')),t.push("></template>")),N_(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,mJ(t,e.responseState,r),N_(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),mJ(t,e.responseState,r.id),N_(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(_t(391));return QT(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function AJ(e,t,n){return oVt(t,e.responseState,n.formatContext,n.id),QT(e,t,n),iVt(t,n.formatContext)}function DJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)DTe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(_t(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function DTe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(_t(392));return AJ(e,t,r)}return AJ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function $7(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){QT(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(_t(395));if(r.push(c),r.push('"'),u||d||f){r.push(",");var p=XO(u||"");r.push(p)}if(d||f){r.push(",");var m=XO(d||"");r.push(m)}if(f){r.push(",");var v=XO(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!DJ(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var b=e.partialBoundaries;for(i=0;i<b.length;i++){var x=b[i];e:{o=e,s=t;var y=x.completedSegments;for(a=0;a<y.length;a++)if(!DTe(o,s,x,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){e.destination=null,i++,b.splice(0,i);return}}b.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!DJ(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function SVt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return jTe(r,e,t)}),n.clear(),e.destination!==null&&$7(e,e.destination)}catch(r){wx(e,r),qk(e,r)}}function EVt(){}function ITe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},c=!1;if(e=CVt(e,aVt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,EVt,void 0,function(){c=!0},void 0,void 0),ATe(e),SVt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{$7(e,a)}catch(u){wx(e,u),qk(e,u)}}if(o)throw i;if(!c)throw Error(_t(426));return s}z0.renderToNodeStream=function(){throw Error(_t(207))};z0.renderToStaticMarkup=function(e,t){return ITe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};z0.renderToStaticNodeStream=function(){throw Error(_t(208))};z0.renderToString=function(e,t){return ITe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};z0.version="18.2.0";var M7={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OTe=h;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ns=null,zs=0;function Xe(e,t){if(t.length!==0)if(512<t.length)0<zs&&(e.enqueue(new Uint8Array(Ns.buffer,0,zs)),Ns=new Uint8Array(512),zs=0),e.enqueue(t);else{var n=Ns.length-zs;n<t.length&&(n===0?e.enqueue(Ns):(Ns.set(t.subarray(0,n),zs),e.enqueue(Ns),t=t.subarray(n)),Ns=new Uint8Array(512),zs=0),Ns.set(t,zs),zs+=t.length}}function rr(e,t){return Xe(e,t),!0}function IJ(e){Ns&&0<zs&&(e.enqueue(new Uint8Array(Ns.buffer,0,zs)),Ns=null,zs=0)}var PTe=new TextEncoder;function $t(e){return PTe.encode(e)}function Fe(e){return PTe.encode(e)}function RTe(e,t){typeof e.error=="function"?e.error(t):e.close()}var fs=Object.prototype.hasOwnProperty,kVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OJ={},PJ={};function $Te(e){return fs.call(PJ,e)?!0:fs.call(OJ,e)?!1:kVt.test(e)?PJ[e]=!0:(OJ[e]=!0,!1)}function os(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ti[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ti[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ti[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ti[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ti[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ti[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ti[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ti[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ti[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var F7=/[\-:]([a-z])/g;function L7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F7,L7);ti[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F7,L7);ti[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F7,L7);ti[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ti[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});ti.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ti[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});var mS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jVt=["Webkit","ms","Moz","O"];Object.keys(mS).forEach(function(e){jVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mS[t]=mS[e]})});var TVt=/["'&<>]/;function Go(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=TVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var AVt=/([A-Z])/g,DVt=/^ms-/,RM=Array.isArray,IVt=Fe("<script>"),OVt=Fe("<\/script>"),PVt=Fe('<script src="'),RVt=Fe('<script type="module" src="'),RJ=Fe('" async=""><\/script>'),$Vt=/(<\/|<)(s)(cript)/gi;function MVt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function FVt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?IVt:Fe('<script nonce="'+Go(t)+'">');var i=[];if(n!==void 0&&i.push(t,$t((""+n).replace($Vt,MVt)),OVt),r!==void 0)for(n=0;n<r.length;n++)i.push(PVt,$t(Go(r[n])),RJ);if(o!==void 0)for(r=0;r<o.length;r++)i.push(RVt,$t(Go(o[r])),RJ);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Fe(e+"P:"),segmentPrefix:Fe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Ql(e,t){return{insertionMode:e,selectedValue:t}}function LVt(e){return Ql(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function BVt(e,t,n){switch(t){case"select":return Ql(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ql(2,null);case"math":return Ql(3,null);case"foreignObject":return Ql(1,null);case"table":return Ql(4,null);case"thead":case"tbody":case"tfoot":return Ql(5,null);case"colgroup":return Ql(7,null);case"tr":return Ql(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ql(1,null):e}var B7=Fe("<!-- -->");function $J(e,t,n,r){return t===""?r:(r&&e.push(B7),e.push($t(Go(t))),!0)}var MJ=new Map,NVt=Fe(' style="'),FJ=Fe(":"),zVt=Fe(";");function MTe(e,t,n){if(typeof n!="object")throw Error(Ot(62));t=!0;for(var r in n)if(fs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=$t(Go(r));o=$t(Go((""+o).trim()))}else{i=r;var s=MJ.get(i);s!==void 0||(s=Fe(Go(i.replace(AVt,"-$1").toLowerCase().replace(DVt,"-ms-"))),MJ.set(i,s)),i=s,o=typeof o=="number"?o===0||fs.call(mS,r)?$t(""+o):$t(o+"px"):$t(Go((""+o).trim()))}t?(t=!1,e.push(NVt,i,FJ,o)):e.push(zVt,i,FJ,o)}}t||e.push(qh)}var _d=Fe(" "),fg=Fe('="'),qh=Fe('"'),LJ=Fe('=""');function $s(e,t,n,r){switch(n){case"style":MTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ti.hasOwnProperty(n)?ti[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=$t(t.attributeName),t.type){case 3:r&&e.push(_d,n,LJ);break;case 4:r===!0?e.push(_d,n,LJ):r!==!1&&e.push(_d,n,fg,$t(Go(r)),qh);break;case 5:isNaN(r)||e.push(_d,n,fg,$t(Go(r)),qh);break;case 6:!isNaN(r)&&1<=r&&e.push(_d,n,fg,$t(Go(r)),qh);break;default:t.sanitizeURL&&(r=""+r),e.push(_d,n,fg,$t(Go(r)),qh)}}else if($Te(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(_d,$t(n),fg,$t(Go(r)),qh)}}}var Sd=Fe(">"),BJ=Fe("/>");function gS(e,t,n){if(t!=null){if(n!=null)throw Error(Ot(60));if(typeof t!="object"||!("__html"in t))throw Error(Ot(61));t=t.__html,t!=null&&e.push($t(""+t))}}function VVt(e){var t="";return OTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var JO=Fe(' selected=""');function eP(e,t,n,r){e.push(Jl(n));var o=n=null,i;for(i in t)if(fs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:$s(e,r,i,s)}}return e.push(Sd),gS(e,o,n),typeof n=="string"?(e.push($t(Go(n))),null):n}var tP=Fe(`
`),HVt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,NJ=new Map;function Jl(e){var t=NJ.get(e);if(t===void 0){if(!HVt.test(e))throw Error(Ot(65,e));t=Fe("<"+e),NJ.set(e,t)}return t}var UVt=Fe("<!DOCTYPE html>");function WVt(e,t,n,r,o){switch(t){case"select":e.push(Jl("select"));var i=null,s=null;for(d in n)if(fs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:$s(e,r,d,a)}}return e.push(Sd),gS(e,s,i),i;case"option":s=o.selectedValue,e.push(Jl("option"));var c=a=null,u=null,d=null;for(i in n)if(fs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:$s(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:VVt(a),RM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(JO);break}}else""+s===n&&e.push(JO);else u&&e.push(JO);return e.push(Sd),gS(e,d,a),a;case"textarea":e.push(Jl("textarea")),d=s=i=null;for(a in n)if(fs.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Ot(91));default:$s(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(Sd),d!=null){if(i!=null)throw Error(Ot(92));if(RM(d)&&1<d.length)throw Error(Ot(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(tP),i!==null&&e.push($t(Go(""+i))),null;case"input":e.push(Jl("input")),c=d=a=i=null;for(s in n)if(fs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:$s(e,r,s,u)}return d!==null?$s(e,r,"checked",d):c!==null&&$s(e,r,"checked",c),i!==null?$s(e,r,"value",i):a!==null&&$s(e,r,"value",a),e.push(BJ),null;case"menuitem":e.push(Jl("menuitem"));for(var p in n)if(fs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(400));default:$s(e,r,p,i)}return e.push(Sd),null;case"title":e.push(Jl("title")),i=null;for(f in n)if(fs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Ot(434));default:$s(e,r,f,s)}return e.push(Sd),i;case"listing":case"pre":e.push(Jl(t)),s=i=null;for(c in n)if(fs.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:$s(e,r,c,a)}if(e.push(Sd),s!=null){if(i!=null)throw Error(Ot(60));if(typeof s!="object"||!("__html"in s))throw Error(Ot(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(tP,$t(n)):e.push($t(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(tP),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Jl(t));for(var m in n)if(fs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,t));default:$s(e,r,m,i)}return e.push(BJ),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return eP(e,n,t,r);case"html":return o.insertionMode===0&&e.push(UVt),eP(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return eP(e,n,t,r);e.push(Jl(t)),s=i=null;for(u in n)if(fs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":MTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:$Te(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(_d,$t(u),fg,$t(Go(a)),qh)}return e.push(Sd),gS(e,s,i),i}}var YVt=Fe("</"),qVt=Fe(">"),GVt=Fe('<template id="'),KVt=Fe('"></template>'),ZVt=Fe("<!--$-->"),XVt=Fe('<!--$?--><template id="'),QVt=Fe('"></template>'),JVt=Fe("<!--$!-->"),eHt=Fe("<!--/$-->"),tHt=Fe("<template"),nHt=Fe('"'),rHt=Fe(' data-dgst="');Fe(' data-msg="');Fe(' data-stck="');var oHt=Fe("></template>");function zJ(e,t,n){if(Xe(e,XVt),n===null)throw Error(Ot(395));return Xe(e,n),rr(e,QVt)}var iHt=Fe('<div hidden id="'),sHt=Fe('">'),aHt=Fe("</div>"),lHt=Fe('<svg aria-hidden="true" style="display:none" id="'),cHt=Fe('">'),uHt=Fe("</svg>"),dHt=Fe('<math aria-hidden="true" style="display:none" id="'),fHt=Fe('">'),hHt=Fe("</math>"),pHt=Fe('<table hidden id="'),mHt=Fe('">'),gHt=Fe("</table>"),vHt=Fe('<table hidden><tbody id="'),yHt=Fe('">'),bHt=Fe("</tbody></table>"),xHt=Fe('<table hidden><tr id="'),wHt=Fe('">'),CHt=Fe("</tr></table>"),_Ht=Fe('<table hidden><colgroup id="'),SHt=Fe('">'),EHt=Fe("</colgroup></table>");function kHt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Xe(e,iHt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),rr(e,sHt);case 2:return Xe(e,lHt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),rr(e,cHt);case 3:return Xe(e,dHt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),rr(e,fHt);case 4:return Xe(e,pHt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),rr(e,mHt);case 5:return Xe(e,vHt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),rr(e,yHt);case 6:return Xe(e,xHt),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),rr(e,wHt);case 7:return Xe(e,_Ht),Xe(e,t.segmentPrefix),Xe(e,$t(r.toString(16))),rr(e,SHt);default:throw Error(Ot(397))}}function jHt(e,t){switch(t.insertionMode){case 0:case 1:return rr(e,aHt);case 2:return rr(e,uHt);case 3:return rr(e,hHt);case 4:return rr(e,gHt);case 5:return rr(e,bHt);case 6:return rr(e,CHt);case 7:return rr(e,EHt);default:throw Error(Ot(397))}}var THt=Fe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),AHt=Fe('$RS("'),DHt=Fe('","'),IHt=Fe('")<\/script>'),OHt=Fe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),PHt=Fe('$RC("'),RHt=Fe('","'),$Ht=Fe('")<\/script>'),MHt=Fe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),FHt=Fe('$RX("'),LHt=Fe('"'),BHt=Fe(")<\/script>"),nP=Fe(","),NHt=/[<\u2028\u2029]/g;function rP(e){return JSON.stringify(e).replace(NHt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var mb=Object.assign,zHt=Symbol.for("react.element"),FTe=Symbol.for("react.portal"),LTe=Symbol.for("react.fragment"),BTe=Symbol.for("react.strict_mode"),NTe=Symbol.for("react.profiler"),zTe=Symbol.for("react.provider"),VTe=Symbol.for("react.context"),HTe=Symbol.for("react.forward_ref"),UTe=Symbol.for("react.suspense"),WTe=Symbol.for("react.suspense_list"),YTe=Symbol.for("react.memo"),N7=Symbol.for("react.lazy"),VHt=Symbol.for("react.scope"),HHt=Symbol.for("react.debug_trace_mode"),UHt=Symbol.for("react.legacy_hidden"),WHt=Symbol.for("react.default_value"),VJ=Symbol.iterator;function $M(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case LTe:return"Fragment";case FTe:return"Portal";case NTe:return"Profiler";case BTe:return"StrictMode";case UTe:return"Suspense";case WTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VTe:return(e.displayName||"Context")+".Consumer";case zTe:return(e._context.displayName||"Context")+".Provider";case HTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case YTe:return t=e.displayName||null,t!==null?t:$M(e.type)||"Memo";case N7:t=e._payload,e=e._init;try{return $M(e(t))}catch{}}return null}var qTe={};function HJ(e,t){if(e=e.contextTypes,!e)return qTe;var n={},r;for(r in e)n[r]=t[r];return n}var cp=null;function JT(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Ot(401))}else{if(n===null)throw Error(Ot(401));JT(e,n)}t.context._currentValue=t.value}}function GTe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&GTe(e)}function KTe(e){var t=e.parent;t!==null&&KTe(t),e.context._currentValue=e.value}function ZTe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Ot(402));e.depth===t.depth?JT(e,t):ZTe(e,t)}function XTe(e,t){var n=t.parent;if(n===null)throw Error(Ot(402));e.depth===n.depth?JT(e,n):XTe(e,n),t.context._currentValue=t.value}function Kk(e){var t=cp;t!==e&&(t===null?KTe(e):e===null?GTe(t):t.depth===e.depth?JT(t,e):t.depth>e.depth?ZTe(t,e):XTe(t,e),cp=e)}var UJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function WJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=UJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:mb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&UJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=mb({},i,a)):mb(i,a))}e.state=i}else i.queue=null}var YHt={id:1,overflow:""};function MM(e,t,n){var r=e.id;e=e.overflow;var o=32-vS(r)-1;r&=~(1<<o),n+=1;var i=32-vS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-vS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var vS=Math.clz32?Math.clz32:KHt,qHt=Math.log,GHt=Math.LN2;function KHt(e){return e>>>=0,e===0?32:31-(qHt(e)/GHt|0)|0}function ZHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XHt=typeof Object.is=="function"?Object.is:ZHt,Uu=null,z7=null,yS=null,zn=null,jy=!1,Zk=!1,Cx=0,Xd=null,eA=0;function Gh(){if(Uu===null)throw Error(Ot(321));return Uu}function YJ(){if(0<eA)throw Error(Ot(312));return{memoizedState:null,queue:null,next:null}}function V7(){return zn===null?yS===null?(jy=!1,yS=zn=YJ()):(jy=!0,zn=yS):zn.next===null?(jy=!1,zn=zn.next=YJ()):(jy=!0,zn=zn.next),zn}function H7(){z7=Uu=null,Zk=!1,yS=null,eA=0,zn=Xd=null}function QTe(e,t){return typeof t=="function"?t(e):t}function qJ(e,t,n){if(Uu=Gh(),zn=V7(),jy){var r=zn.queue;if(t=r.dispatch,Xd!==null&&(n=Xd.get(r),n!==void 0)){Xd.delete(r),r=zn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return zn.memoizedState=r,[r,t]}return[zn.memoizedState,t]}return e=e===QTe?typeof t=="function"?t():t:n!==void 0?n(t):t,zn.memoizedState=e,e=zn.queue={last:null,dispatch:null},e=e.dispatch=QHt.bind(null,Uu,e),[zn.memoizedState,e]}function GJ(e,t){if(Uu=Gh(),zn=V7(),t=t===void 0?null:t,zn!==null){var n=zn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!XHt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),zn.memoizedState=[e,t],e}function QHt(e,t,n){if(25<=eA)throw Error(Ot(301));if(e===Uu)if(Zk=!0,e={action:n,next:null},Xd===null&&(Xd=new Map),n=Xd.get(t),n===void 0)Xd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function JHt(){throw Error(Ot(394))}function z_(){}var KJ={readContext:function(e){return e._currentValue},useContext:function(e){return Gh(),e._currentValue},useMemo:GJ,useReducer:qJ,useRef:function(e){Uu=Gh(),zn=V7();var t=zn.memoizedState;return t===null?(e={current:e},zn.memoizedState=e):t},useState:function(e){return qJ(QTe,e)},useInsertionEffect:z_,useLayoutEffect:function(){},useCallback:function(e,t){return GJ(function(){return e},t)},useImperativeHandle:z_,useEffect:z_,useDebugValue:z_,useDeferredValue:function(e){return Gh(),e},useTransition:function(){return Gh(),[!1,JHt]},useId:function(){var e=z7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-vS(e)-1)).toString(32)+t;var n=bS;if(n===null)throw Error(Ot(404));return t=Cx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Gh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Ot(407));return n()}},bS=null,oP=OTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function eUt(e){return console.error(e),null}function Ty(){}function tUt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?eUt:o,onAllReady:i===void 0?Ty:i,onShellReady:s===void 0?Ty:s,onShellError:a===void 0?Ty:a,onFatalError:c===void 0?Ty:c},n=Xk(t,0,null,n,!1,!1),n.parentFlushed=!0,e=U7(t,e,null,n,d,qTe,null,YHt),u.push(e),t}function U7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&tAe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function Xk(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function _x(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Qk(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,RTe(e.destination,t)):(e.status=1,e.fatalError=t)}function ZJ(e,t,n,r,o){for(Uu={},z7=t,Cx=0,e=n(r,o);Zk;)Zk=!1,Cx=0,eA+=1,zn=null,e=n(r,o);return H7(),e}function XJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Ot(108,$M(r)||"Unknown",a));r=mb({},s,n)}t.legacyContext=r,Vs(e,t,o),t.legacyContext=s}else Vs(e,t,o)}function QJ(e,t){if(e&&e.defaultProps){t=mb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function FM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=HJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),WJ(i,n,r,o),XJ(e,t,i,n)}else{i=HJ(n,t.legacyContext),o=ZJ(e,t,n,r,i);var s=Cx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)WJ(o,n,r,i),XJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=MM(r,1,0);try{Vs(e,t,o)}finally{t.treeContext=r}}else Vs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=WVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=BVt(s,n,r),LM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(YVt,$t(n),qVt)}o.lastPushedText=!1}else{switch(n){case UHt:case HHt:case BTe:case NTe:case LTe:Vs(e,t,r.children);return;case WTe:Vs(e,t,r.children);return;case VHt:throw Error(Ot(343));case UTe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=Xk(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=Xk(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(LM(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(B7),u.status=1,Jk(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=_x(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=U7(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case HTe:if(r=ZJ(e,t,n.render,r,o),Cx!==0){n=t.treeContext,t.treeContext=MM(n,1,0);try{Vs(e,t,r)}finally{t.treeContext=n}}else Vs(e,t,r);return;case YTe:n=n.type,r=QJ(n,r),FM(e,t,n,r,o);return;case zTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=cp,cp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Vs(e,t,o),e=cp,e===null)throw Error(Ot(403));r=e.parentValue,e.context._currentValue=r===WHt?e.context._defaultValue:r,e=cp=e.parent,t.context=e;return;case VTe:r=r.children,r=r(n._currentValue),Vs(e,t,r);return;case N7:o=n._init,n=o(n._payload),r=QJ(n,r),FM(e,t,n,r,void 0);return}throw Error(Ot(130,n==null?n:typeof n,""))}}function Vs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case zHt:FM(e,t,n.type,n.props,n.ref);return;case FTe:throw Error(Ot(257));case N7:var r=n._init;n=r(n._payload),Vs(e,t,n);return}if(RM(n)){JJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=VJ&&n[VJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);JJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Ot(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=$J(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=$J(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function JJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=MM(i,r,o);try{LM(e,t,n[o])}finally{t.treeContext=i}}}function LM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Vs(e,t,n)}catch(c){if(H7(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=Xk(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=U7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Kk(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Kk(i),c}}function nUt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,eAe(this,t,e)}function JTe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Ot(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return JTe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Jk(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Jk(e,n)}else e.completedSegments.push(t)}function eAe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ot(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ty,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Jk(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(nUt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Jk(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function tAe(e){if(e.status!==2){var t=cp,n=oP.current;oP.current=KJ;var r=bS;bS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){Kk(s.context);try{Vs(a,s,s.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(B7),s.abortSet.delete(s),c.status=1,eAe(a,s.blockedBoundary,c)}catch(v){if(H7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=_x(a,f);if(d===null?Qk(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&W7(e,e.destination)}catch(v){_x(e,v),Qk(e,v)}finally{bS=r,oP.current=n,n===KJ&&Kk(t)}}}function V_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Xe(t,GVt),Xe(t,e.placeholderPrefix),e=$t(r.toString(16)),Xe(t,e),rr(t,KVt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Xe(t,r[i]);o=tA(e,t,o)}for(;i<r.length-1;i++)Xe(t,r[i]);return i<r.length&&(o=rr(t,r[i])),o;default:throw Error(Ot(390))}}function tA(e,t,n){var r=n.boundary;if(r===null)return V_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,rr(t,JVt),Xe(t,tHt),r&&(Xe(t,rHt),Xe(t,$t(Go(r))),Xe(t,nHt)),rr(t,oHt),V_(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Fe(o.boundaryPrefix+i.toString(16)),r=r.id=o,zJ(t,e.responseState,r),V_(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),zJ(t,e.responseState,r.id),V_(e,t,n);else{if(rr(t,ZVt),n=r.completedSegments,n.length!==1)throw Error(Ot(391));tA(e,t,n[0])}return rr(t,eHt)}function eee(e,t,n){return kHt(t,e.responseState,n.formatContext,n.id),tA(e,t,n),jHt(t,n.formatContext)}function tee(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)nAe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Xe(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Xe(t,PHt):(e.sentCompleteBoundaryFunction=!0,Xe(t,OHt)),r===null)throw Error(Ot(395));return n=$t(n.toString(16)),Xe(t,r),Xe(t,RHt),Xe(t,e.segmentPrefix),Xe(t,n),rr(t,$Ht)}function nAe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Ot(392));return eee(e,t,r)}return eee(e,t,r),e=e.responseState,Xe(t,e.startInlineScript),e.sentCompleteSegmentFunction?Xe(t,AHt):(e.sentCompleteSegmentFunction=!0,Xe(t,THt)),Xe(t,e.segmentPrefix),o=$t(o.toString(16)),Xe(t,o),Xe(t,DHt),Xe(t,e.placeholderPrefix),Xe(t,o),rr(t,IHt)}function W7(e,t){Ns=new Uint8Array(512),zs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){tA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Xe(t,r[n]);n<r.length&&rr(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Xe(r,a.startInlineScript),a.sentClientRenderFunction?Xe(r,FHt):(a.sentClientRenderFunction=!0,Xe(r,MHt)),c===null)throw Error(Ot(395));Xe(r,c),Xe(r,LHt),(u||d||f)&&(Xe(r,nP),Xe(r,$t(rP(u||"")))),(d||f)&&(Xe(r,nP),Xe(r,$t(rP(d||"")))),f&&(Xe(r,nP),Xe(r,$t(rP(f)))),rr(r,BHt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)tee(e,t,p[i]);p.splice(0,i),IJ(t),Ns=new Uint8Array(512),zs=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!nAe(o,s,v,g[a])){a++,g.splice(0,a);var b=!1;break e}g.splice(0,a),b=!0}if(!b){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)tee(e,t,x[i]);x.splice(0,i)}finally{IJ(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function nee(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return JTe(r,e,t)}),n.clear(),e.destination!==null&&W7(e,e.destination)}catch(r){_x(e,r),Qk(e,r)}}M7.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=tUt(e,FVt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),LVt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,RTe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{W7(a,f)}catch(p){_x(a,p),Qk(a,p)}}},cancel:function(){nee(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){nee(a,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}tAe(a)})};M7.version="18.2.0";var V0,rAe;V0=z0,rAe=M7;V0.version;var rUt=V0.renderToString;V0.renderToStaticMarkup;V0.renderToNodeStream;V0.renderToStaticNodeStream;rAe.renderToReadableStream;function oUt(e){return typeof e=="function"}function ree(e){return oUt(e)?e():e}const iUt=()=>{};function sUt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=ie.useContext(e),c=ie.useRef();ie.useLayoutEffect(()=>{if(n===null)return iUt;const u=ree(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),ie.useLayoutEffect(()=>{const u=ree(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function aUt(){const e=new Map,{publish:t,subscribe:n}=uF(),r=qx(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let Kv=!1;const iP=e=>{Kv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),Kv=!0};function lUt(){return Kv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Kv=!0,[]}const cUt=()=>(Kv||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),Kv=!0,()=>{}),uUt={add:iP,update:iP,remove:iP,subscribe:cUt,read:lUt};let dUt=0;const fUt=()=>++dUt;function oAe(){const e=ie.createContext(uUt);function t(){const o=ie.useContext(e),[i,s]=ie.useState(o.read());return ie.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=ie.useMemo(()=>aUt(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=sUt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(ie.useRef(fUt()).current),o,i)}}}const Ps=4,hUt=16,oee=8,dt=8,Ea=2,H_=4,xi=12,Zm=2,pUt=!1,mUt=!1,Y7=oAe(),gUt=Y7.Tracker,q7=Y7.useReportedValues,iAe=Y7.useReporter,Tm=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),vUt=e=>{const t=ie.useRef(null),{onSetFocus:n}=ie.useContext(Tm),[r,o]=ie.useState(!1),i=ie.useCallback(()=>{o(!0)},[]),s=ie.useCallback(()=>{o(!1)},[]);iAe("change-".concat(jr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),cF);const a=h.useCallback(c=>{yUt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function yUt(e,t,n){e.stopPropagation(),t(n)}function Po(e){const t=h.useRef(e);return Vt(t.current,e)||(t.current=e),t.current}function oh(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Po(i),a=ho(()=>xe(s).pipe(rt(c=>zr(xe({type:"loading"}),e(c).pipe(ce(u=>({type:"value",value:u}))))),na((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Xn((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),ce(c=>({type:"tuple",tuple:c})),On(c=>xe({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function fo(e){return e!=null}const bUt="drafts",G7="".concat(bUt,".");function K7(e){return e.startsWith(G7)}function sAe(e){return{draftId:ni(e),publishedId:Pn(e)}}function ni(e){return K7(e)?e:G7+e}function Pn(e){return K7(e)?e.slice(G7.length):e}function nA(e){const t=e.reduce((n,r)=>{const o=Pn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function xUt(e){return nA(e).map(t=>t.draft||t.published).filter(fo)}const wUt=Object.freeze({}),Un=Object.freeze([]);function CUt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const _Ut=CUt();function iee(e){return Array.isArray(e)}function bt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function hv(e){return typeof e=="string"}const SUt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:t_e,EUt=()=>{const e=uF(),t=new SUt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},kUt=EUt(),jUt=["sanity.imageAsset","sanity.fileAsset"];function TUt(e){return e.type==="document"&&jUt.includes(e.name)}function CRn(e){return e.type==="document"&&!TUt(e)}const AUt=["match","in","asc","desc","true","false","null"],DUt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,aAe=e=>!DUt.test(e)||AUt.includes(e),Z7=e=>'["'.concat(e,'"]'),IUt=e=>"@".concat(Z7(e)),OUt=e=>Array.isArray(e)&&e.length===0,PUt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(OUt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;aAe(r)?t=o?IUt(r):"".concat(t).concat(Z7(r)):t=o?r:"".concat(t,".").concat(r)}return t},Gp=RUt();function RUt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const $Ut={isLoading:!0,value:void 0,error:null};function lAe(e,t){return ho(()=>e.pipe(MUt()),[e],typeof t>"u"?$Ut:{isLoading:!1,value:t,error:null})}function MUt(){return e=>e.pipe(ce(t=>({isLoading:!1,value:t,error:null})),On(t=>xe({isLoading:!1,value:void 0,error:t})))}function FUt(e,t,n){return h.useMemo(()=>Qj(e,t,n),[e,n,t])}function cAe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var see=Object.freeze,LUt=Object.defineProperty,mu=(e,t)=>see(LUt(e,"raw",{value:see(t||e.slice())})),aee,lee,cee,uee,dee,fee,hee,pee,mee;const BUt=250,NUt=P.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?fe(aee||(aee=mu([`
        `,` {
          display: none;
        }
      `])),BM):fe(uee||(uee=mu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&fe(lee||(lee=mu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),BM),r&&fe(cee||(cee=mu([`
        `,` {
          opacity: 0;
        }
      `])),uAe))}),zUt=P.div(dee||(dee=mu([`
  flex-grow: 1;
  min-width: 0;
`]))),BM=P.div(fee||(fee=mu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),VUt=P.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return fe(hee||(hee=mu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),uAe=P.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return fe(mee||(mee=mu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),BUt,r,n&&fe(pee||(pee=mu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function HUt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=ie.useContext(Tm),{zIndex:a}=Ka(),c=h.useMemo(()=>n||!r?null:l.jsxs(BM,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(VUt,{"data-testid":"change-bar__marker"}),l.jsx(uAe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(NUt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(zUt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const UUt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=Un,withHoverEffect:u,...d}=t,f=Ka(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),b=h.useRef(null);return iAe(r?null:"field-".concat(jr(c)),()=>({element:b.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),cF),l.jsx("div",{...d,ref:b,onMouseEnter:v,onMouseLeave:g,children:l.jsx(HUt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function ri(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(UUt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}ie.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const NM=ie.createContext(null);function WUt(e){const t=ie.useContext(NM);ie.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const gee=()=>{},rA=ie.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=cr(n),a=h.useContext(NM),c=h.useMemo(()=>uF(),[]);return h.useEffect(()=>o?c.subscribe(o):gee,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):gee,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(NM.Provider,{value:c,children:ie.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function YUt(e){let{onScroll:t,children:n}=e;return WUt(t),l.jsx(l.Fragment,{children:n})}function vee(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=_l(r),i="".concat(e,"-").concat(jr(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=VMe(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&Cl(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function qUt(e){return e[0]!=="changePanel"}function dAe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function GUt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&dAe(e)}const KUt=-15;function yee(e){let n=e.element;for(;!GUt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+KUt,left:0,behavior:"smooth"})}const bee=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),dAe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function U_(e,t,n){return["M ".concat(e-H_," ").concat(t-H_*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+H_," ").concat(t-H_*n)].join("")}function sP(e,t){return"M".concat(e," ").concat(t)}function Qr(e,t){return"L".concat(e," ").concat(t)}function ZUt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function ls(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function XUt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Ps,Math.abs(o-s)/2);return t.isAbove?a.push(sP(r+dt,o-xi+Ea),Qr(r+dt,o-Ps),ls(r+dt,o,r+dt+Ps,o)):t.isBelow?a.push(sP(r+dt,o+xi-Ea),Qr(r+dt,o+Ps),ls(r+dt,o,r+dt+Ps,o)):a.push(sP(r,o)),n.isAbove?o<n.bounds.top?a.push(Qr(n.bounds.left-8-c,o),ls(n.bounds.left-8,o,n.bounds.left-8,o+c),Qr(n.bounds.left-8,s-c),ls(n.bounds.left-8,s,n.bounds.left-8+c,s),Qr(n.bounds.left+dt-Ps,s),ls(n.bounds.left+dt,s,n.bounds.left+dt,s-Ps),Qr(n.bounds.left+dt,s-xi+Ea)):a.push(Qr(n.bounds.left+dt-Ps,o),ls(n.bounds.left+dt,o,n.bounds.left+dt,o-Ps),Qr(n.bounds.left+dt,s-xi+Ea)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(Qr(n.bounds.left-dt-c,o),ls(n.bounds.left-dt,o,n.bounds.left-dt,o-c),Qr(n.bounds.left-dt,s+c),ls(n.bounds.left-dt,s,n.bounds.left-dt+c,s),Qr(n.bounds.left+dt-Ps,s),ls(n.bounds.left+dt,s,n.bounds.left+dt,s+Ps),Qr(n.bounds.left+dt,s+xi-Ea)):a.push(Qr(n.bounds.left+dt-Ps,o),ls(n.bounds.left+dt,o,n.bounds.left+dt,o+Ps),Qr(n.bounds.left+dt,s+xi-Ea)):o<s?a.push(Qr(n.bounds.left+dt-c,o),ls(n.bounds.left+dt,o,n.bounds.left+dt,o+c),Qr(n.bounds.left+dt,s-c),ls(n.bounds.left+dt,s,n.bounds.left+dt+c,s),Qr(i,s)):a.push(Qr(n.bounds.left+dt-c,o),ls(n.bounds.left+dt,o,n.bounds.left+dt,o-c),Qr(n.bounds.left+dt,s+c),ls(n.bounds.left+dt,s,n.bounds.left+dt+c,s),Qr(i,s)),ZUt(a)}function xee(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ea,o=e.top>t.top+t.height-Ea;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+oee,endY:e.top+e.height-oee,isAbove:r,isBelow:o,outOfBounds:r||o}}function QUt(e){const t={top:e.from.bounds.top+xi,bottom:e.from.bounds.top+e.from.bounds.height-xi,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-xi*2},n=xee(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+xi,bottom:e.to.bounds.top+e.to.bounds.height-xi,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-xi*2},o=xee(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function JUt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var wee=Object.freeze,eWt=Object.defineProperty,oA=(e,t)=>wee(eWt(e,"raw",{value:wee(t||e.slice())})),Cee,_ee,See,Eee;P.rect(Cee||(Cee=oA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const U1=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return fe(_ee||(_ee=oA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),tWt=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return fe(See||(See=oA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),nWt=P(JUt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return fe(Eee||(Eee=oA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),rWt=h.memo(function(t){let{from:n,to:r}=t;const o=QUt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=XUt(o);return l.jsxs(l.Fragment,{children:[l.jsx(tWt,{d:i,strokeWidth:hUt}),l.jsx(U1,{d:i,strokeWidth:Zm}),l.jsx(nWt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:Zm,bounds:r.bounds}),o.from.isAbove&&l.jsx(U1,{d:U_(o.from.left+dt,o.from.bounds.top-xi+Ea,-1),strokeWidth:Zm}),o.from.isBelow&&l.jsx(U1,{d:U_(o.from.left+dt,o.from.bounds.top+o.from.bounds.height+xi-Ea,1),strokeWidth:Zm}),o.to.isAbove&&l.jsx(U1,{d:U_(o.to.bounds.left+dt,o.to.bounds.top-xi+Ea,-1),strokeWidth:Zm}),o.to.isBelow&&l.jsx(U1,{d:U_(o.to.bounds.left+dt,o.to.bounds.top+o.to.bounds.height+xi-Ea,1),strokeWidth:Zm}),pUt]})});function oWt(e,t){h.useEffect(()=>kUt.observe(e,t),[e,t])}var kee=Object.freeze,iWt=Object.defineProperty,sWt=(e,t)=>kee(iWt(e,"raw",{value:kee(t||e.slice())})),jee;const aWt=P.svg(jee||(jee=sWt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Tee(e,t,n,r){const o=[],i=[];for(const u of e){if(!qUt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=vee("field",d,n),p=vee("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(fo).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...bee(d.element,r)},change:{...f,...bee(f.element,r)}}}),isHoverConnector:s}}function lWt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=ie.useState(null),i=q7(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>Tee(i,r,s,t)),u=h.useMemo(()=>bm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(Tee(i,r,s,t))},[s,i,r,t]);return oWt(t,d),l.jsx(YUt,{onScroll:d,children:l.jsx(aWt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx(cWt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function cWt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{yee(n),yee(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(rWt,{from:c,to:u})}),mUt]})}function uWt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=ie.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Tm.Provider,{value:u,children:l.jsx(gUt,{children:l.jsxs(rA,{...s,ref:c,className:n,children:[t,a&&l.jsx(lWt,{rootElement:a,onSetFocus:i})]})})})}const dWt=uWt;function fWt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function X7(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&fWt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Aee=Object.freeze,hWt=Object.defineProperty,iA=(e,t)=>Aee(hWt(e,"raw",{value:Aee(t||e.slice())})),Dee,Iee,Oee,Pee;const pWt="data-active",aP="a,button",mWt=P.div(e=>{let{theme:t,offset:n}=e;return fe(Dee||(Dee=iA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ye(t.sanity.radius[1]),-n,-n,-n,fAe,X7({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),gWt=P.div(Iee||(Iee=iA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),fAe=P(F)(Oee||(Oee=iA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),vWt=P(F).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Pee||(Pee=iA([`
  position: relative;
  width: 100%;
`]))),ih=h.forwardRef(function(t,n){let{activeItemDataAttr:r=pWt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:b,items:x,onEndReached:y,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[O,$]=h.useState(!1),[R,V]=h.useState(null),[M,H]=h.useState(null),q=h.useCallback(he=>{if(!y)return;const[He]=[...he.getVirtualItems()].reverse();if(!He)return;He.index>=x.length-w-1&&k.current&&y()},[y,x.length,w]),U=C_e({count:x.length,getItemKey:f,getScrollElement:()=>M,estimateSize:()=>b,onChange:q,overscan:_}),W=h.useMemo(()=>{let he=-1;return x.reduce((He,Ye,Me)=>{var Ct,Tt;const Et=(Ct=d==null?void 0:d(Me))!=null?Ct:!1,Zt=(Tt=p==null?void 0:p(Me))!=null?Tt:!1;return Et||(he+=1),He[Me]={activeIndex:Et?null:he,disabled:Et,selected:Zt},He},[])},[d,p,x]),Q=h.useMemo(()=>W.filter(he=>!he.disabled).length,[W]),N=h.useCallback(he=>R==null?void 0:R.setAttribute("data-enabled",(!he).toString()),[R]),K=h.useCallback(he=>"".concat(T.current,"-item-").concat(he),[]),z=h.useCallback(()=>"".concat(T.current,"-children"),[]),Z=h.useCallback(()=>{const he=[g,M].some(Ye=>document.activeElement===Ye);if(C&&!he&&!O)return;const He=Array.from((D==null?void 0:D.children)||[]);He==null||He.forEach(Ye=>{var Me,Ct,Tt;const Et=Number((Me=Ye.dataset)==null?void 0:Me.index),Zt=(Ct=W[Et])==null?void 0:Ct.activeIndex;(Tt=Ye.querySelector(aP))==null||Tt.toggleAttribute(r,Zt===A.current)})},[r,D==null?void 0:D.children,O,g,W,C,M]),G=h.useCallback(()=>{const he=Array.from((D==null?void 0:D.children)||[]);he==null||he.forEach(He=>{var Ye;(Ye=He.querySelector(aP))==null||Ye.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),J=h.useMemo(()=>Qj(Z,200),[Z]),X=h.useCallback(()=>{const he=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",K(he)),M==null||M.setAttribute("aria-activedescendant",K(he))):(g==null||g.removeAttribute("aria-activedescendant"),M==null||M.removeAttribute("aria-activedescendant"))},[K,g,x.length,M]),ee=h.useCallback(()=>{var he,He;const Ye=D==null?void 0:D.parentElement;if(D&&Ye){const Me=Ye.getBoundingClientRect().top-D.getBoundingClientRect().top;return(He=(he=U.getVirtualItemForOffset(Me))==null?void 0:he.index)!=null?He:-1}return-1},[D,U]),oe=h.useCallback(he=>{let{index:He,scrollAlign:Ye,scrollIntoView:Me=!0}=he;if(A.current=He,X(),Z(),Me){const Ct=W.findIndex(Tt=>Tt.activeIndex===He);Ct>-1&&U.scrollToIndex(Ct,Ye?{align:Ye}:{})}},[X,W,Z,U]),de=h.useCallback(he=>{let He=-1;const Ye=Q-1;if(he==="next"){const Me=E?0:Ye;He=A.current<Q-1?A.current+1:Me}if(he==="previous"){const Me=E?Ye:0;He=A.current>0?A.current-1:Me}oe({index:He,scrollIntoView:!0}),N(!1)},[Q,N,oe,E]),le=h.useCallback(he=>{switch(he){case"input":g==null||g.focus();break;case"list":M==null||M.focus();break}},[g,M]),ve=h.useCallback(()=>{g==null||g.focus()},[g]),Ce=h.useCallback(()=>{M==null||M.focus()},[M]),be=h.useCallback(he=>()=>{oe({index:he,scrollIntoView:!1})},[oe]),me=h.useCallback(()=>{Z()},[Z]),Ie=h.useCallback(he=>He=>{const Ye=Array.from((D==null?void 0:D.children)||[]);if(Ye.length&&(He.key==="ArrowDown"&&(He.preventDefault(),le(he),de("next")),He.key==="ArrowUp"&&(He.preventDefault(),le(he),de("previous")),He.key==="Enter")){He.preventDefault(),le(he);const Me=Ye.find(Ct=>Number(Ct.dataset.index)===W.findIndex(Tt=>Tt.activeIndex===A.current));if(Me){const Ct=Me==null?void 0:Me.querySelector(aP);Ct==null||Ct.click()}}},[D==null?void 0:D.children,le,W,de]),Se=h.useCallback(he=>Ie("input")(he),[Ie]),ot=h.useCallback(he=>Ie("list")(he),[Ie]),Ze=h.useCallback(()=>{C&&(Z(),$(!0))},[C,Z]),it=h.useCallback(()=>{C&&(G(),$(!1))},[G,C]);h.useImperativeHandle(n,()=>({focusInputElement(){ve()},focusListElement(){Ce()},getTopIndex(){return ee()},scrollToIndex(he){oe({index:he}),N(!0)}}),[N,ve,Ce,ee,oe]),h.useEffect(()=>{typeof m<"u"&&!k.current&&oe({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,oe]),h.useEffect(()=>{function he(){N(!0)}return M==null||M.addEventListener("mousemove",he),M==null||M.addEventListener("wheel",he,{passive:!0}),()=>{M==null||M.removeEventListener("mousemove",he),M==null||M.removeEventListener("wheel",he)}},[N,M]),h.useEffect(()=>(g==null||g.addEventListener("focus",me),g==null||g.addEventListener("keydown",Se),M==null||M.addEventListener("focus",me),M==null||M.addEventListener("keydown",ot),()=>{g==null||g.removeEventListener("focus",me),g==null||g.removeEventListener("keydown",Se),M==null||M.removeEventListener("focus",me),M==null||M.removeEventListener("keydown",ot)}),[a,me,Ie,Se,ot,G,g,Z,M]),h.useEffect(()=>{X()},[X,x]),h.useEffect(()=>{const he=new MutationObserver(J);return D&&he.observe(D,{childList:!0,subtree:!0}),()=>{he.disconnect()}},[D,J]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",z()),g==null||g.setAttribute("role","combobox")},[z,g]),h.useEffect(()=>{s&&le(s)},[s,a,Ce,ve,le]);const _e=a?0:-1;return l.jsxs(fAe,{id:z(),onMouseEnter:Ze,onMouseLeave:it,ref:H,sizing:"border",tabIndex:_e,...j,children:[a&&l.jsx(mWt,{offset:u}),l.jsx(gWt,{"aria-hidden":"true","data-enabled":!0,ref:V}),U&&l.jsx(vWt,{forwardedAs:"ul",$height:U.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:U.getVirtualItems().map(he=>{const He=he.index,{activeIndex:Ye,disabled:Me,selected:Ct}=W[He],Tt=S(x[He],{activeIndex:Ye,disabled:Me,selected:Ct,virtualIndex:He}),Et=h.cloneElement(Tt,{tabIndex:-1}),Zt=typeof Ye=="number"&&!Me?{"aria-posinset":Ye+1,...i?{"aria-selected":Ct.toString()}:{},"aria-setsize":Q,id:K(Ye),role:"option",onMouseEnter:be(Ye)}:{};return l.jsx(re,{as:"li","data-index":He,ref:c?void 0:U.measureElement,style:{flex:1,...c?{height:"".concat(he.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(he.start,"px)"),width:"100%"},tabIndex:-1,...Zt,children:Et},he.key)})})]})}),Ree=new WeakMap;let yWt=0;function $ee(e){const t=Ree.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(yWt++);return Ree.set(e,n),n}function bWt(e){const t=h.useRef(void 0);return Fu(e,t.current)||(t.current=e),[t.current]}function xWt(e,t){h.useEffect(e,bWt(t))}const wWt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return xWt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),CWt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},_Wt=e=>clearTimeout(e),SWt=typeof requestIdleCallback>"u"?CWt:requestIdleCallback,EWt=typeof cancelIdleCallback>"u"?_Wt:cancelIdleCallback,kWt={trailing:!0};function hAe(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&EWt(d.current),d.current=SWt(()=>{d.current=null,a(x=>x+1)})},[]),p=FUt(f,60,kWt),m=h.useCallback((x,y)=>{if(y===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:y}}},[]),v=h.useCallback(x=>{u(y=>({...y,[x]:(y[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>$ee(x)),[t]),b=h.useMemo(()=>g.map(x=>{var y;return(y=i.current[x])==null?void 0:y.value}).filter(fo),[g,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const y=$ee(x),w=c[y]||0;return l.jsx(wWt,{hook:x,id:y,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(y,"-").concat(w))}),r({states:b})]})}function Q7(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(jWt):n;return l.jsx(_L,{...r,keys:o})}const Mee=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function jWt(e){const t=e.toLowerCase();return t==="alt"&&Mee?Fee(e,"option"):t==="option"&&!Mee?Fee(e,"alt"):e}function Fee(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Tc(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(F,{padding:2,children:[l.jsxs(qt,{space:2,children:[l.jsx(B,{size:1,children:l.jsx(Cf,{})}),l.jsx(B,{weight:"semibold",children:n})]}),l.jsx(qt,{marginTop:4,children:l.jsx(B,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",TWt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function TWt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const AWt=P(ao)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return pt(r,e.$width,o=>({width:o==="auto"?"none":ye(n[o]),maxWidth:"100%"}))}),DWt=ie.forwardRef(function(t,n){const{width:r,...o}=t,i=we(r);return l.jsx(AWt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var Lee=Object.freeze,IWt=Object.defineProperty,pAe=(e,t)=>Lee(IWt(e,"raw",{value:Lee(t||e.slice())})),Bee,Nee;const OWt=P(an)(()=>fe(Bee||(Bee=pAe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),PWt=P(es)(e=>{const t=e.theme.sanity.radius[3];return fe(Nee||(Nee=pAe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function RWt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(DWt,{width:s,children:l.jsx(id,{autoFocus:!0,children:l.jsxs(re,{ref:i,children:[l.jsx(PWt,{children:l.jsx(F,{padding:2,paddingLeft:3,children:l.jsxs(Y,{align:"center",gap:2,children:[l.jsx(F,{flex:1,children:l.jsx(B,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(se,{icon:Ei,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(OWt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var zee=Object.freeze,$Wt=Object.defineProperty,MWt=(e,t)=>zee($Wt(e,"raw",{value:zee(t||e.slice())})),Vee;const FWt=P(te)(()=>fe(Vee||(Vee=MWt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),mAe=h.createContext({selected:!1});function LWt(){const e=h.useContext(mAe);if(!e)throw new Error("PreviewCard: missing context value");return e}const _p=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx(FWt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(mAe.Provider,{value:{selected:o},children:r})})}),Zi={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},BWt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Hee=Object.freeze,NWt=Object.defineProperty,zWt=(e,t)=>Hee(NWt(e,"raw",{value:Hee(t||e.slice())})),Uee;const gAe=P.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=BWt[n];return fe(Uee||(Uee=zWt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we cant use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg>  icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ye(i),o?"100%":ye(s),o?void 0:ye(i),c=>{let{theme:u}=c;return ye(u.sanity.radius[r])},a)});gAe.displayName="MediaWrapper";function Uw(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(gAe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[VWt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function VWt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return Zn.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(B,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function HWt(e,t,n){return Zn.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Ro(e,t,n){return typeof e=="string"?e:Zn.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var Wee=Object.freeze,UWt=Object.defineProperty,J7=(e,t)=>Wee(UWt(e,"raw",{value:Wee(t||e.slice())})),Yee,qee,Gee;const WWt={...Zi.default,aspect:1,fit:"crop",dpr:wm()},Kee=P(Y)(Yee||(Yee=J7([`
  height: `,`;
`])),ye(Zi.default.height)),YWt=P(ji).attrs({animated:!0,radius:1})(qee||(qee=J7([`
  max-width: `,`;
  width: 80%;
`])),ye(160)),qWt=P(ji).attrs({animated:!0,radius:1,size:1})(Gee||(Gee=J7([`
  max-width: `,`;
  width: 60%;
`])),ye(120));function vAe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=nmt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(F,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Ro(o,"default")});return i?l.jsxs(Kee,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx(b0,{animated:!0,marginRight:2,radius:2,style:Zi.default}),l.jsxs(re,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(YWt,{}),l.jsx(qWt,{})]}),u]}):l.jsxs(Kee,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(Uw,{dimensions:WWt,layout:"default",media:r,styles:a}),l.jsxs(re,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(B,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Ro(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Ro(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var Zee=Object.freeze,GWt=Object.defineProperty,Am=(e,t)=>Zee(GWt(e,"raw",{value:Zee(t||e.slice())})),Xee,Qee,Jee,ete,tte,nte,rte;const ote=P(Y).attrs({align:"center"})(Xee||(Xee=Am([`
  height: `,`;
`])),ye(Zi.detail.height)),KWt=P(F)(Qee||(Qee=Am([`
  white-space: nowrap;
`]))),ZWt=P(b0).attrs({animated:!0,radius:2})(Jee||(Jee=Am([`
  width: `,`;
  height: `,`;
`])),ye(Zi.detail.width),ye(Zi.detail.height)),XWt=P(ji).attrs({animated:!0,radius:1})(ete||(ete=Am([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ye(160)),QWt=P(ji).attrs({animated:!0,radius:1,size:1})(tte||(tte=Am([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ye(120)),JWt=P(ji).attrs({animated:!0,radius:1,size:1})(nte||(nte=Am([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ye(180)),eYt=P(B)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return fe(rte||(rte=Am([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ye(i),o)}),tYt={...Zi.detail,fit:"crop",aspect:1,dpr:wm()};function nYt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=tYt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(KWt,{marginLeft:3,paddingRight:1,children:Ro(s,"detail")});return c?l.jsxs(ote,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(ZWt,{"data-testid":"detail-preview__media"}),l.jsxs(F,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(Y,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(re,{flex:1,space:2,children:[l.jsx(XWt,{}),l.jsx(QWt,{})]}),u]}),r&&l.jsx(F,{marginTop:3,children:l.jsx(JWt,{})})]})]}):l.jsxs(ote,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(Uw,{dimensions:o,layout:"detail",media:i}),l.jsxs(F,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(Y,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(re,{flex:1,space:2,children:[l.jsxs(B,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Ro(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(n,"detail")})]}),u]}),r&&l.jsx(F,{marginTop:3,children:l.jsx(eYt,{muted:!0,size:1,children:Ro(r,"detail")})})]}),a]})}var ite=Object.freeze,rYt=Object.defineProperty,eB=(e,t)=>ite(rYt(e,"raw",{value:ite(t||e.slice())})),ste,ate,lte;const ol=43,tB=3,oYt=P.svg(ste||(ste=eB([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),ol,ol),iYt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return fe(ate||(ate=eB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),pe.gray[n.dark?900:100].hex,tB)}),sYt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return fe(lte||(lte=eB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),pe.blue[n.dark?400:500].hex,tB)});function aYt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=ol/2-tB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(ol/2," ").concat(ol/2," ").concat(ol," ").concat(ol);return l.jsxs(oYt,{viewBox:s,children:[l.jsx(iYt,{cx:ol,cy:ol,r}),l.jsx(sYt,{cx:ol,cy:ol,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var cte=Object.freeze,lYt=Object.defineProperty,yAe=(e,t)=>cte(lYt(e,"raw",{value:cte(t||e.slice())})),ute,dte;const cYt=.5,uYt=P(te)(ute||(ute=yAe([`
  overflow: hidden;
  overflow: clip;
`]))),dYt=P(te)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return fe(dte||(dte=yAe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),cYt,pe.blue[n.dark?400:500].hex)});function fYt(e){const{value:t}=e;return l.jsx(uYt,{radius:5,children:l.jsx(dYt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var fte=Object.freeze,hYt=Object.defineProperty,Ww=(e,t)=>fte(hYt(e,"raw",{value:fte(t||e.slice())})),hte,pte,mte,gte,vte;const pYt=P(F)(hte||(hte=Ww([`
  position: relative;
`]))),mYt=P(Y).attrs({align:"center",justify:"center"})(pte||(pte=Ww([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),gYt=P(b0).attrs({animated:!0,radius:2})(mte||(mte=Ww([`
  width: 100%;
  height: 100%;
`]))),vYt=P(Y).attrs({align:"center",justify:"center"})(gte||(gte=Ww([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),yYt=P(re).attrs({padding:2,space:2})(vte||(vte=Ww([`
  max-width: `,`;
`])),ye(200)),bYt={...Zi.media,aspect:1,fit:"crop",dpr:wm()};function xYt(e){const{media:t,mediaDimensions:n=bYt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(yYt,{children:[a&&l.jsx(B,{align:"center",size:1,weight:"semibold",children:Ro(a,"media")}),s&&l.jsx(B,{align:"center",muted:!0,size:1,children:Ro(s,"media")})]}),[s,a]);return l.jsxs(pYt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(lt,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(mYt,{children:[o?l.jsx(gYt,{}):l.jsx(Uw,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(vYt,{children:l.jsx(aYt,{value:i})})]})}),r]})}var yte=Object.freeze,wYt=Object.defineProperty,nB=(e,t)=>yte(wYt(e,"raw",{value:yte(t||e.slice())})),bte,xte,wte;const CYt=P(Y).attrs({align:"center"})(bte||(bte=nB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ye(Zi.block.height)),_Yt=P(te)(xte||(xte=nB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),SYt=P(F).attrs({overflow:"hidden"})(wte||(wte=nB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),EYt={...Zi.blockImage,fit:"fillmax",dpr:wm()},kYt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function jYt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=EYt,media:a,children:c,status:u}=e;return l.jsxs(SYt,{children:[l.jsxs(re,{children:[l.jsxs(CYt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(re,{flex:1,space:2,children:[(n||i)&&l.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Ro(n,"block"):i}),r&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(r,"block")})]}),l.jsxs(Y,{gap:1,paddingLeft:1,children:[u&&l.jsx(F,{paddingX:2,paddingY:3,children:Ro(u,"block")}),t]})]}),l.jsx(_Yt,{$ratio:kYt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(Uw,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(F,{paddingX:2,paddingY:3,children:l.jsx(B,{muted:!0,size:1,children:Ro(o,"block")})}),c&&l.jsx("div",{children:c})]})}var Cte=Object.freeze,TYt=Object.defineProperty,AYt=(e,t)=>Cte(TYt(e,"raw",{value:Cte(t||e.slice())})),_te;const DYt={...Zi.block,aspect:1,fit:"crop",dpr:wm()},IYt=P(Y).attrs({align:"center"})(_te||(_te=AYt([`
  min-height: `,`;
`])),ye(Zi.block.height));function OYt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=DYt,media:s,status:a,children:c}=e;return l.jsxs(re,{"data-testid":"block-preview",space:1,children:[l.jsxs(IYt,{"data-testid":"block-preview__header",children:[s&&l.jsx(Uw,{dimensions:i,layout:"block",media:s}),l.jsxs(F,{flex:1,paddingLeft:s?2:1,children:[l.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Ro(n,"block"):"Untitled"}),r&&l.jsx(F,{marginTop:2,children:l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(r,"block")})}),o&&l.jsx(F,{marginTop:3,children:l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:Ro(o,"block")})})]}),l.jsxs(Y,{gap:1,paddingLeft:1,children:[a&&l.jsx(F,{paddingX:2,paddingY:3,children:Ro(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var Ste=Object.freeze,PYt=Object.defineProperty,rB=(e,t)=>Ste(PYt(e,"raw",{value:Ste(t||e.slice())})),Ete,kte,jte;const RYt=P.span(Ete||(Ete=rB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),$Yt=P.span(kte||(kte=rB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])},e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),MYt=P(B).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return fe(jte||(jte=rB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),FYt={...Zi.inline,fit:"crop",aspect:1,dpr:wm()};function LYt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=FYt}=e;return l.jsxs(RYt,{"data-testid":"inline-preview",children:[r&&l.jsxs($Yt,{"data-testid":"inline-preview-media",children:[HWt(r,"inline",o),l.jsx("span",{})]}),l.jsx(MYt,{"data-testid":"inline-preview-title",size:1,children:Ro(t,"inline",n)})]})}var Tte=Object.freeze,BYt=Object.defineProperty,sA=(e,t)=>Tte(BYt(e,"raw",{value:Tte(t||e.slice())})),Ate,Dte,Ite,Ote;({...Zi.default,dpr:wm()});P(F)(Ate||(Ate=sA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));P(Y).attrs({align:"center"})(Dte||(Dte=sA([`
  height: `,`;
`])),ye(Zi.default.height));P(ji).attrs({animated:!0,radius:1})(Ite||(Ite=sA([`
  max-width: `,`;
  width: 80%;
`])),ye(160));P(ji).attrs({animated:!0,radius:1,size:1})(Ote||(Ote=sA([`
  max-width: `,`;
  width: 60%;
`])),ye(120));const NYt=["aria-hidden","disabled","href"],zYt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function VYt(e){return[...e.querySelectorAll(zYt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function bAe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const y=VYt(s);d(y)}},[s]),b=h.useCallback(y=>{c(y)},[]),x=h.useCallback(y=>{if(i)return;const w=()=>{y.preventDefault(),c(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{y.preventDefault(),c(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};y.key==="Tab"&&o.includes("tab")&&(y.shiftKey?w():C()),o.includes("arrows")&&(y.key===v&&w(),y.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const y=new MutationObserver(g);return s&&y.observe(s,{childList:!0,subtree:!0,attributeFilter:NYt}),()=>{y.disconnect()}},[u,g,s]),h.useEffect(()=>{var y;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>b(C),w.onblur=()=>b(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>b(C))}),a===-1&&u&&((y=u[n==="last"?p:0])==null||y.setAttribute("tabIndex","0"))},[u,a,b,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const HYt=P(F)({position:"relative"}),UYt=P.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),sh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=Ts(),g=f&&v.sanity.color.solid[f],b=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,y=typeof r=="object"?l.jsx(B,{size:1,children:r.reason}):l.jsxs(Y,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(B,{size:1,children:a}),i&&l.jsx(Q7,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(lt,{padding:2,placement:"bottom",...p,content:y,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(se,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(Y,{gap:u,children:[l.jsxs(HYt,{children:[l.jsxs(B,{size:o,children:[h.isValidElement(s)&&s,Zn.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(UYt,{style:b})]}),d&&l.jsx(F,{flex:1,children:l.jsx(B,{size:o,children:d})})]})})})})});var Pte=Object.freeze,WYt=Object.defineProperty,YYt=(e,t)=>Pte(WYt(e,"raw",{value:Pte(t||e.slice())})),Rte;const qYt=P(B)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return fe(Rte||(Rte=YYt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),sr=ie.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(qYt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),Yw=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(lt,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),oB=h.forwardRef((e,t)=>{const{push:n}=zo();return h.useImperativeHandle(t,()=>({push:n})),null});oB.displayName="ImperativeToast";const GYt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},KYt=h.createContext(GYt);function xAe(){return h.useContext(KYt)}function Wu(e){let{children:t,zOffset:n}=e;const o=xAe()[n];return l.jsx($u,{zOffset:o,children:t})}function ZYt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const wAe=h.createContext(null);function XYt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||ZYt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(wAe.Provider,{value:n,children:t})}function hd(){const e=h.useContext(wAe);if(!e)throw new Error("Could not find `cache` context");return e}class iB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const sB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),aB={};function CAe(e,t){sB?localStorage[e]=t:aB[e]=t}function QYt(e){return sB?localStorage[e]:aB[e]}function _Ae(e){sB?localStorage.removeItem(e):delete aB[e]}function JYt(e){const t=typeof window>"u"?xe():Ti(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new wr,o=nn(r,t.pipe(ft(s=>s.key===n),ce(s=>s.newValue),ft(fo),ce(s=>JSON.parse(s)))).pipe(So(1));function i(s){try{CAe(n,JSON.stringify(s)),_Ae(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const $te=/sid=([^&]{20,})&?/;function eqt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match($te)||[];if(!t)return null;const n=e.replace($te,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Mte=eqt();const tqt=()=>{const e=Mte;return e&&(Mte=null),e};var Fte=Object.freeze,nqt=Object.defineProperty,SAe=(e,t)=>Fte(nqt(e,"raw",{value:Fte(t||e.slice())})),Lte,Bte;const rqt=P.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return fe(Lte||(Lte=SAe([`
    fill: `,`;
  `])),n)}),oqt=P.img(Bte||(Bte=SAe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),iqt=()=>l.jsx(rqt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),sqt=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function aqt(e){const{provider:t}=e;return t.logo?l.jsx(oqt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const lqt={google:sqt,github:iqt};async function cqt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Nte(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function uqt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=oh(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&cqt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Nte({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),b=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),b?l.jsxs(Y,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(B,{muted:!0,children:"Loading"}),l.jsx(ur,{muted:!0})]}):l.jsxs(re,{space:4,children:[l.jsx(No,{align:"center",size:1,children:"Choose login provider"}),l.jsx(re,{space:2,children:d.map((x,y)=>l.jsx(se,{as:"a",icon:lqt[x.name]||l.jsx(aqt,{provider:x}),href:Nte({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(y)))})]})}return s}const lB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},zte=e=>{try{const t=QYt(lB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},EAe=e=>{try{_Ae(lB(e))}catch(t){console.error(t)}},dqt=e=>{let{token:t,projectId:n}=e;try{CAe(lB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},Vte=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return EAe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new iB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function fqt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=JYt("dual_mode_auth_".concat(n)),u=t??Q2e,d=c.pipe(Jo(i==="dual"?zte(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ce(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),rt(x=>lo(async()=>{const y=await Vte(x,a);return{currentUser:y,client:x,authenticated:!!y}})),Xn((x,y)=>Vt(x.currentUser,y.currentUser)),So(1));async function m(){const x=tqt();if(!x){a(i==="cookie"?null:zte(n));return}const y=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await Vte(y,a)),w||i==="cookie"){a(null);return}const C=await v(y,x);a(C??null)}async function v(x,y){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:y},tag:"auth.fetch-token"});return dqt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});EAe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const b=uqt({...s,getClient:()=>p.pipe(ce(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:b,logout:g}}function kAe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,kAe(r)]})))}const hqt=Jj(fqt,kAe);function pqt(e){return bt(e)&&"state"in e&&bt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function jAe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function mqt(e){return t=>{let n=[];const r=On((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(bn(()=>{n=[]}),r)}}const Hte=typeof window>"u"?xe({}):Ti(window,"online"),gqt=typeof window>"u"?xe({}):Ti(window,"offline"),vqt=e=>Math.pow(2,e)*100,yqt={type:"connecting"},TAe=OCe(),bqt=TAe[0];TAe[1];const xqt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function wqt(e){let{bifur:t}=e;return{connectionStatus$:nn(t.heartbeats,gqt.pipe(Np(Mu(new Error("The browser went offline"))))).pipe(ce(r=>({type:"connected",lastHeartbeat:r})),mqt((r,o,i)=>{const s=Math.min(24e4,vqt(o)),a=new Date(new Date().getTime()+s),c=Fo(a),u=!navigator.onLine,d=xqt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=$L.pipe(BL(u?Hte:nn(c,Hte,bqt)));return zr(xe(d),f.pipe(Ci(1)),i)}),Jo(yqt))}}const Cqt=Kve(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function Ute(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(lT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function cB(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return Ute(r),r}}return Ute(e),()=>e}const _qt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},Sqt=[];const gf=class AAe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new AAe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function Eqt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function uB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Cl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function kqt(e){return e!==null||e!==void 0}function gb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>gb(i,t,n)).filter(kqt);if(typeof e=="string")return gb(new gf(e),t,n);if(!(e instanceof gf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(uB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return gb(new gf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const jqt={}.toString,Wte=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function Tqt(e){for(let t=0;t<Wte.length;t++)if(Wte[t]===e)return!0;return!1}function DAe(e){const t=jqt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!Tqt(n)?n.name:t}function Sx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Sx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!Sx(e[o],t[o]))return!1}return!0}return!1}const Yte=5e3,qte=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new gf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Dm={type:(e,t,n)=>{const r=DAe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?qte({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:qte({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),""):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>Sx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(uB(r.path)," has taken more than ").concat(Yte,"ms to respond"))},Yte);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},Aqt={...Dm,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},Dqt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,Iqt={...Dm,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(Dqt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},lP="http://sanity",Oqt=e=>/^\.*\//.test(e),Pqt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Rqt={...Dm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,lP):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==lP)return n||"Only relative URLs are allowed";if(!a&&c.origin===lP&&Oqt(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||Pqt.test(r)?!0:n||"Must be a valid email address"}},$qt={...Dm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>Sx(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new gf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];Sx(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new gf(n||"Can't be a duplicate",{paths:o}):!0}},Mqt=["_key","_type","_weak"],Fqt={...Dm,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!Mqt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!Xu(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function Gte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Lqt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Kte=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?Ko(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Ko(new Date(t),r))};function W_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const Bqt={...Dm,type:(e,t,n)=>!"".concat(t)||Lqt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=W_(t);if(!o||!t||o>=W_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Gte(r.type.options)?r.type.options:{},s=Kte(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=W_(t);if(!o||!t||o<=W_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Gte(r.type.options)?r.type.options:{},s=Kte(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var go;const Nqt={Boolean:Aqt,Number:Iqt,String:Rqt,Array:$qt,Object:Fqt,Date:Bqt},IAe=e=>e&&e.type?IAe(e.type):e,zqt=e=>typeof e!="object"||!e?!1:e.type===zM.FIELD_REF,Vqt=[],Zte=Symbol("FIELD_REF"),Hqt=["Array","Boolean","Date","Number","Object","String"],zM=(go=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=go.valueOfField.bind(go),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new go;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=ySt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!Hqt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(Eqt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=IAe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return Vqt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&Nqt[this._type]||Dm;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;zqt(c)&&(c=Vn(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new gf("".concat(uB(t.path),": Exception occurred while validating value: ").concat(d.message));return gb(f,"error",t)}return gb(u,this._level,t)}))).flat()}},go.FIELD_REF=Zte,go.array=e=>new go(e).type("Array"),go.object=e=>new go(e).type("Object"),go.string=e=>new go(e).type("String"),go.number=e=>new go(e).type("Number"),go.boolean=e=>new go(e).type("Boolean"),go.dateTime=e=>new go(e).type("Date"),go.valueOfField=e=>({type:Zte,path:e}),go),Uqt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},Wqt=function(t){return window.clearTimeout(t)},e5=typeof window>"u"?void 0:window,Yqt=(e5==null?void 0:e5.requestIdleCallback)||Uqt,qqt=(e5==null?void 0:e5.cancelIdleCallback)||Wqt,Gqt=Jj(Zqt);function Kqt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function Xte(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=Cl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const Qte=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=Kqt(r._id),d=r._type,f=Xte(o.concat("current"));!a&&f.includes("[]")&&Gqt(Xte(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function Zqt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const Xqt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||Qte,s={...t,parent:t.parent,type:t.type,defaultIsUnique:Qte};return await i(r,s)?!0:"Slug is already in use"},Qqt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},Jqt=e=>e in Qqt;function OAe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?OAe(e.type,t):[],e]):[]}function eGt(e,t){let n=e;Jqt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>tGt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(Xqt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function PAe(e){return e?!("fields"in e)&&e.type?PAe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function tGt(e,t){return t.jsonType==="object"&&PAe(t)||e.value===void 0?e:e.value}function Ex(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Ex({...e,validation:r}));if(t instanceof zM)return[t];const n=Object.values(OAe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(eGt,new zM(e));return t?Ex({...e,validation:t(n)}):[n]}const Jte=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),nGt=e=>e!=null;function rGt(e,t){if(t.length===1)return t[0];const n=eF(e)&&e._type,r=e==null||!n&&DAe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const oGt=[];function iGt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),xe(oGt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return VM(i).pipe(On(s=>(console.error(s),xe([{type:"validation",level:"error",path:[],item:new gf(s==null?void 0:s.message)}]))))}function VM(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Ex(n),a=s.map(p=>lo(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(nGt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const b=p[v];return Ex({...b,validation:g}).map(x=>{const y=Jte(t)?t[v]:void 0;return lo(()=>x.validate(y,{...i,parent:t,path:r.concat(v),type:b}))})})),c=c.concat(n.fields.map(m=>VM({...i,parent:t,value:Jte(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>VM({...i,parent:t,value:p,path:r.concat(Cl(p)?{_key:p._key}:m),type:rGt(p,n.of)})))),lo(()=>nn([...a,...c])).pipe(ut(p=>zr(sGt(),p),40),Lj(),bCe(),ce(Dn),ce(p=>s.some(m=>m._fieldRules)?Mf(p,m=>JSON.stringify(m)):p))}function sGt(e){return new ht(t=>{const n=Yqt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>qqt(n)})}function aGt(e){return xS(e,new Set),e}function xS(e,t){if(!t.has(e)){if(t.add(e),e.validation=Ex(e),"fields"in e)for(const n of e.fields)xS(n.type,t);if("of"in e)for(const n of e.of)xS(n,t);if(e.annotations)for(const n of e.annotations)xS(n,t)}}function lGt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&aGt(r)}),e}var cGt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},uGt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},dGt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},fGt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},hGt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},pGt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},mGt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},gGt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},vGt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},yGt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},bGt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const xGt=e=>e.severity==="error",wGt=[hGt,cGt,uGt,pGt,bGt,dGt,fGt,yGt,vGt,mGt,gGt];function CGt(e){const t=cSt(e.types).getTypes(),n=c2t(t),r=n.some(i=>i.problems.some(xGt)),o=O8.compile({name:e.name,types:r?[]:[...e.types,...wGt].filter(Boolean)});return o._validation=n,lGt(o)}function Sp(e){return typeof e.title=="string"?e.title:e.type?Sp(e.type):e.name||e.jsonType}const sn={apiVersion:"2022-09-09"};var ene=Object.freeze,_Gt=Object.defineProperty,SGt=(e,t)=>ene(_Gt(e,"raw",{value:ene(t||e.slice())})),tne;const EGt=P(es)(tne||(tne=SGt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function kGt(){return l.jsx(EGt,{children:l.jsx(Y,{height:"fill",align:"center",justify:"center",children:l.jsx(ur,{})})})}function jGt(e){const{text:t}=e;return l.jsxs(Y,{direction:"row",justify:"center",align:"center",children:[l.jsx(ur,{}),l.jsx(F,{marginLeft:2,children:l.jsx(B,{children:t})})]})}const nne={referringDocuments:[],isLoading:!0};function TGt(e){const t=Qa();return ho(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ce(n=>({referringDocuments:n,isLoading:!1})),Jo(nne)),[t,e],nne)}const AGt=()=>h.createElement(h.Fragment);function DGt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:AGt})}}function Bl(e){const{options:t}=Mn().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...MA(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return DGt(n,s)},[n,t,r])}function mc(e,t){return t.name===e||!!(t.type&&mc(e,t.type))}const IGt={default:vAe,media:xYt,detail:nYt,inline:LYt,block:OYt,blockImage:jYt};function OGt(){return l.jsx(_f,{className:"sanity-studio__preview-fallback-icon"})}function ah(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=fr(sn),c=h.useMemo(()=>gT(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return l.jsx("img",{alt:hv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||OGt),[t]),f=h.useMemo(()=>t===!1?!1:Zn.isValidElementType(r)||h.isValidElement(r)?r:ob(r)?u:hv(o)?l.jsx("img",{src:o,alt:hv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=IGt[n||"default"];return h.createElement(m,p)}const PGt=typeof window>"u"?Kn:Ti(window,"resize").pipe(So(1)),RGt=typeof window>"u"?Kn:Ti(window,"scroll",{passive:!0,capture:!0}).pipe(So(1)),$Gt=typeof window>"u"?Kn:Ti(window,"orientationchange").pipe(So(1)),RAe=150;function MGt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const FGt=MGt()?LGt():BGt();function LGt(){const e=new wr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(RAe,"px")});return function(r){return new ht(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(ut(()=>e.asObservable()),ft(o=>o.target===r),ce(o=>({isIntersecting:o.isIntersecting})))}}function BGt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),RAe)}return function(o){const i=n(o);return nn(xe(i()),PGt,RGt,$Gt).pipe(ce(i),ce(s=>({isIntersecting:s})))}}const NGt=typeof window>"u"?Kn:Ti(document,"visibilitychange").pipe(So(1));function zGt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=zr(xe(!document.hidden),NGt.pipe(ce(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Xn()),s=FGt(t).pipe(ce(u=>u.isIntersecting)),c=i.pipe(rt(u=>u?s:xe(!1)),rt(u=>u?xe(!0):xe(!1).pipe(CCe(n))),Xn()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const VGt={isLoading:!0},HGt={isLoading:!1};function dB(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=$i();return ho(()=>!t||!o||!r?xe(HGt):i(o,r,{ordering:n}).pipe(ce(s=>({isLoading:!1,value:s.snapshot||void 0})),On(s=>xe({isLoading:!1,error:s}))),[t,i,n,r,o],VGt)}function UGt(e){return WGt(e==null?void 0:e._upload)}function W1(e){return hv(e)?e:void 0}function WGt(e){var t,n;if(!bt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=W1(e.initiated||e.createdAt),i=W1(e.updated||e.updatedAt),s=W1((t=e==null?void 0:e.file)==null?void 0:t.name),a=W1((n=e==null?void 0:e.file)==null?void 0:n.type),c=W1(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const YGt=1e3*2;function $Ae(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=zGt({element:s?null:c,hideDelay:YGt}),f=dB({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>UGt(n),[n]),v=h.useMemo(()=>{var g,b;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(b=f==null?void 0:f.value)==null?void 0:b.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function fB(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const qGt=e=>e.liveEdit===!0;function aA(e,t,n,r){const o=qGt(t)?xe({snapshot:null}):e.observeForPreview({_type:"reference",_ref:ni(n)},t),i=e.observeForPreview({_type:"reference",_ref:Pn(n)},t);return Mo([o,i]).pipe(ce(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),Jo({draft:null,isLoading:!0,published:null}))}const GGt=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx($r,{})}),hB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?g7t({},o,t,(i,s)=>typeof s>"u"?i:s):GGt(t)},MAe=["_id","_rev","_type"],KGt=[...MAe,"_key"],rne={available:!0,reason:"READABLE"},ZGt={available:!1,reason:"PERMISSION_DENIED"},XGt={available:!1,reason:"NOT_FOUND"},QGt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx($r,{})};function JGt(e){return Array.isArray(e)&&(e.length===0||e.some(Vf))}function eKt(e){const t=Array.isArray(e)&&e.find(Vf);return!t||!t.children?"":t.children.filter(Ks).map(n=>n.text).join("")}function FAe(e){return Object.keys(e)}const tKt=["_id","_type","_upload","_createdAt","_updatedAt"],Zv=[],HM=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),nKt=qx(()=>{const e=HM.getAll(),n=Dn(Object.keys(e).map(r=>{const o=e[r];return Mf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Mf(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),HM.clear())},1e3),Y1=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?Zv:[mB("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(pB(t))))]},rKt={media:()=>Zv,title:Y1("title"),subtitle:Y1("subtitle"),description:Y1("description"),imageUrl:Y1("imageUrl"),date:Y1("date")};function pB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(bt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>pB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function oKt(e,t){if(typeof t>"u")return Zv;const n=rKt[e];return n&&n(t)||Zv}function mB(e,t){return Object.assign(t,{type:e})}function iKt(e){return!_r(e)||e===null?[mB("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(pB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...oKt(r,o)]},Zv)}function sKt(e){return{...e,errors:[...e.errors||[],...iKt(e.returnValue)]}}function aKt(e){return FAe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:JGt(r)?eKt(r):r}},{})}function UM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):aKt(t),errors:Zv}}catch(i){return{returnValue:null,errors:[mB("prepareError",i)]}}}function one(e,t,n){return e.errors.forEach(r=>HM.add(t,n,r)),nKt(),QGt}function lKt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function cKt(e){return lKt(e)?e.options.list.map(n=>rF(n)?n:{title:n,value:n}):void 0}function t5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],b=(m=v==null?void 0:v.fields)==null?void 0:m.find(y=>y.name===g),x=b&&cKt(b.type);if(!i&&x){const y=x&&x.find(w=>w.value===Vn(e,s[p]));f[p]=y?y.value:Vn(e,s[p])}else f[p]=Vn(e,s[p]);return f},{}),u=UM(t,c,n);if(u.errors.length>0)return one(u,t,c);const d=sKt(UM(t,c,n));return d.errors.length>0?one(d,t,c):{...wt(e,tKt),...u.returnValue}}function wS(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new ht(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(fo);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const uKt=11164;function dKt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=uKt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function fKt(e,t){return e.push(...t),e}function LAe(e,t){function n(s){const a=ni(s),c=Pn(s);return Mo([r(a),r(c)]).pipe(Xn(Fu),ce(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ce(a=>bt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Xn(),rt(a=>a?xe(rne):o(s)))}const o=wS(function(a){const c=[...new Set(Dn(a))];return Cr(dKt(c)).pipe(ut(i,10),yCe(fKt,[]),ce(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return lo(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ce(c=>{const u=K8(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return rne;if(f.reason==="existence")return XGt;if(f.reason==="permission")return ZGt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function ine(e,t,n){return{...e,[t]:n}}function hKt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new ht(n=>t.subscribe(n)).pipe(rt(n=>{const r=FAe(n).map(o=>{const i=n[o];return gtt(i)?Cr(i).pipe(ce(s=>[o,s])):xe([o,i])});return e.wait?Mo(r).pipe(ce(o=>o.reduce((i,s)=>{let[a,c]=s;return ine(i,a,c)},{}))):Cr(r).pipe(Lj(),na((o,i)=>{let[s,a]=i;return ine(o,s,a)},{}))}))}function pKt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function mKt(e,t){return t.filter(n=>!(n[0]in e))}function gKt(e){return Xu(e)?e._ref:"_id"in e?e._id:void 0}function WM(e,t,n,r){if(!e||typeof e!="object")return xe(e);const o=gKt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=mKt(i,t);if(o&&s.length>0){const u=co(s.map(f=>f[0])),d=dve(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(rt(f=>f===null?xe(null):WM({...pKt(u),...Xu(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=bt(e)?e[d]:void 0:u[d]=WM(e[d],f,n,r),u},i);return xe(c).pipe(hKt({wait:!0}))}function vKt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function yKt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return WM(n,vKt(r),t,o)}}}function bKt(e){return _r(e)}function xKt(e){return _r(e)}function wKt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(nF(i)){if(!dve(o))return xe({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(rt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return xe({snapshot:void 0})}))}if(Su(i))return xKt(o)?t(o._ref).pipe(rt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return xe({snapshot:void 0})})):xe({snapshot:void 0});const c=fB(i.preview);return c?n(o,c,a).pipe(ce(u=>({type:i,snapshot:u&&t5(u,i,s)}))):xe({type:i,snapshot:o&&bKt(o)?UM(i,o,s).returnValue:null})}}function CKt(e,t){const{observeDocumentPairAvailability:n}=LAe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=sAe(i);return n(a).pipe(rt(u=>{if(!u.draft.available&&!u.published.available)return xe({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Mo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(ce(f=>{let[p,m]=f;const v=bt(p)&&"_type"in p&&p._type||bt(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function _Kt(e){return _7t(e.reduce((t,n,r)=>{let[o,i]=n;const s=bm(i.join(","),f_e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function SKt(e){return JSON.stringify(e)}const EKt=e=>aAe(e)?'"'.concat(e,'": @').concat(Z7(e)):e;function kKt(e){let{ids:t,fields:n}=e;const r=[...MAe,...n];return"*[_id in [".concat(t.map(SKt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(EKt).join(","),"}")}function jKt(e){return"[".concat(e.map(kKt).join(","),"][0...").concat(e.length,"]")}function TKt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function AKt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const DKt=e=>e;function IKt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DKt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function OKt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=Cr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(ra()),C=w.pipe(ft(S=>S.type==="welcome"),So({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(ft(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return nn(C.welcome$,C.mutations$.pipe(ft(_=>_.documentId===w)))}function s(w){return function(_){const S=_Kt(_);return w.observable.fetch(jKt(S),{},{tag:"preview.document-paths"}).pipe(ce(E=>TKt(E,S)))}}const a=wS(s(n),100),c=wS(s(n),1e3);function u(w,C){return i(w).pipe(rt(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(ut(S=>zr(xe(S),S===void 0?c(w,C):[]))):c(w,C)))}const d={},f=Jj(function(C){const _=n.withConfig(C),S=s(_);return wS(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Ti(document,"visibilitychange").pipe(Jo(0),ce(()=>document.visibilityState==="visible"),rt(w=>w?Fo(0,p):Kn),ra());function v(w,C,_){return m.pipe(Jo(0)).pipe(rt(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=nn(lo(()=>S===null?Kn:xe(S)),_?v(w,C,_):u(w,C)).pipe(bn(j=>S=j),So({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function b(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];Qb(C,Dn(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Mo(k).pipe(ce(T=>T.filter(Boolean)),ft(T=>IKt(T,A=>A._rev)),ce(T=>T.length===0?null:x(T,C)),Xn(AKt(C)))}return{observeFields:b};function x(w,C){return[...KGt,...C].reduce((_,S)=>{const E=y(w,S);return E!==void 0&&(_[S]=E),_},{})}function y(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function PKt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=OKt({observePaths:r,versionedClient:n}),{observePaths:i}=yKt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ce(p=>bt(p)&&typeof p._type=="string"?p._type:void 0),Xn())}const a=wKt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=LAe(n,i),{observePathsDocumentPair:u}=CKt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const RKt=e=>!!(e.type&&e.type.name==="document"),$Kt=e=>e.name.startsWith("sanity."),MKt=e=>e.getTypeNames().map(t=>e.get(t)).filter(fo).filter(t=>RKt(t)).filter(t=>!$Kt(t)),FKt=(e,t)=>{const{phrases:n,words:r}=VKt(e),[o,i]=NKt(n,t),[s,a]=zKt(r,t);return[o+s,[a,i].join(", ")]},LKt=e=>typeof e=="string"?e:JSON.stringify(e);function BKt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=K8(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=LKt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=FKt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function NKt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function zKt(e,t){const n=co(vT(pSe(ov(t)))),r=PE(e,n),o=FEe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function VKt(e){const t=co(e.map(ov)),[n,r]=F8(t,o=>/^".*"$/.test(o));return{phrases:co(n).map(ov).map(HKt),words:co(r.map(ov))}}function HKt(e){return e.replace(/^"(.*)"$/,"$1")}const UKt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,WKt=/(^[.]+)|([.]+$)/;function YKt(e){return(e.match(UKt)||[]).map(t=>t.replace(WKt,""))}const qKt=4,GKt=1e3,KKt=Gjt([Dn,FEe,vT]);function sne(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:PUt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const BAe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function ZKt(e,t){const n=KKt(t.map(o=>(o.paths||[]).map(i=>BAe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function XKt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>pSe(i).length>1?(t.push(i),""):i),r=t.map(i=>cTt(ov(i))),o=co(vT(YKt(ov(n))));return[...r,...o]}function QKt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function NAe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=sne(e.types,!1),u=XKt(e.query),d=c?sne(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...ZKt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(BAe(k)))," }");return"".concat(E).concat(j)}),m=QKt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",b=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(b,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(b,"}")].join("|")}const y=["findability-mvi:".concat(qKt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=y?"".concat(y,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:GKt)+C;return{query:w,params:{...JKt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const JKt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function eZt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function gB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=eZt(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=NAe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?ce(xUt):bn(),ce(p=>BKt(d,p,f)),i!=null&&i.skipSortByScore?bn():ce(p=>bm(p,m=>-m.score)))}}const tZt={available:!0,reason:"READABLE"},ane={available:!1,reason:"PERMISSION_DENIED"},lne={available:!1,reason:"NOT_FOUND"};function zAe(e,t,n){const{publishedId:r,draftId:o}=sAe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(rt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?ane:lne;return xe({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return Mo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ce(d=>{let[f,p]=d;return f||p})).pipe(rt(d=>{if(!d)return xe({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(b=>b.name===d);if(!f)return xe({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...fB(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ce(b=>b?{_id:o,...t5(b,f)}:void 0),Jo(void 0)),v=e.observePaths(c,p).pipe(ce(b=>b?{_id:r,...t5(b,f)}:void 0),Jo(void 0));return Mo([m,v]).pipe(ce(b=>{let[x,y]=b;return{draft:x,published:y}})).pipe(ce(b=>{const x=s.draft.available||s.published.available?tZt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?ane:lne;return{type:d,id:r,availability:x,preview:{draft:bt(b.draft)?b.draft:void 0,published:bt(b.published)?b.published:void 0}}}))}))}))}function nZt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:ni(t.id))}function rZt(e,t){return t.length===0?xe([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function VAe(e,t,n,r){return gB(n.to,e,r)(t,{includeDrafts:!0}).pipe(ce(i=>i.map(s=>s.hit)),ce(nA),ce(i=>i.slice(0,100)),ut(i=>rZt(e,nZt(i)).pipe(ce(s=>i.map(a=>{const c=ni(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function oZt(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const Kp=Symbol.for("sanity.patch");function Gi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Kp,type:"setIfMissing",path:t,value:e}}function Qd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Kp,type:"insert",path:n,position:t,items:e}}function vt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Kp,type:"set",path:t,value:e}}function et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Kp,type:"unset",path:e}}function iZt(e,t){return{...e,path:[t,...e.path]}}class ct{static from(t){return t instanceof ct?t:new ct(Array.isArray(t)?Dn(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ct.from([...Dn(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ct.from([...this.patches,...Dn(n)])}prefixAll(t){return ct.from(this.patches.map(n=>iZt(n,t)))}}var cne=Object.freeze,sZt=Object.defineProperty,aZt=(e,t)=>cne(sZt(e,"raw",{value:cne(t||e.slice())})),une;const lZt={warning:"caution",error:"critical"},cZt=P(F)(une||(une=aZt([`
  border-top: 1px solid var(--card-border-color);
`])));function Nc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(te,{radius:2,tone:lZt[n],...i,"data-ui":"Alert",children:[l.jsxs(Y,{padding:4,children:[l.jsx(F,{children:l.jsxs(B,{size:1,children:[n==="warning"&&l.jsx($r,{}),n==="error"&&l.jsx(aa,{})]})}),l.jsxs(F,{flex:1,marginLeft:3,children:[l.jsx(B,{size:1,weight:"semibold",children:o}),t&&l.jsx(F,{marginTop:3,children:t})]})]}),r&&l.jsx(cZt,{children:r})]})}function vB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Ri(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fu;const r=vB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function HAe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const UAe=h.createContext(null);function oi(){const e=h.useContext(UAe);if(!e)throw new Error("FormBuilder: missing context value");return e}const uZt={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function yB(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(lt,{portal:!0,content:l.jsx(F,{padding:2,sizing:"border",children:l.jsx(B,{size:1,children:"This field is read-only"})}),children:l.jsx(on,{children:l.jsx(se,{icon:Zs,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(on,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:Zs,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(Jt,{button:l.jsx(se,{icon:Zs,mode:"ghost",text:"Add item"}),id:s||"",menu:l.jsx(Lt,{children:t.of.map((u,d)=>{var f,p;const m=Su(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(Ne,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:uZt}),r]})}var dne=Object.freeze,dZt=Object.defineProperty,fZt=(e,t)=>dne(dZt(e,"raw",{value:dne(t||e.slice())})),fne;const hZt=e=>e==="error"?l.jsx(aa,{}):e==="warning"?l.jsx($r,{}):l.jsx(sm,{}),pZt=P(B)(e=>{let{theme:t}=e;return fe(fne||(fne=fZt([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function WAe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=oi().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(re,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(Y,{children:[l.jsx(F,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(pZt,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:hZt(c)})}),l.jsx(F,{children:l.jsx(B,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(F,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function mZt(){return l.jsxs(B,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const bB=ie.createContext(null),qw=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(bB.Provider,{value:f,children:t.children})});function fa(){const e=h.useContext(bB);if(!e)throw new Error("Form context not provided");return e}function xB(e,t){return YM(e,t,new WeakSet)}function YM(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=YM(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=YM(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return s?e:a}return t}const YAe=h.createContext([]);function gZt(e){return l.jsx(YAe.Provider,{value:e.presence,children:e.children})}function vZt(){const e=h.useContext(YAe);if(!e)throw new Error("Form context not provided");return e}function H0(e,t){const n=vZt(),r=h.useRef(n),o=xB(r.current,n.filter(i=>yi(e,i.path)&&(t||!yn(e,i.path))));return r.current=o,o}const qAe=h.createContext([]);function yZt(e){return l.jsx(qAe.Provider,{value:e.validation,children:e.children})}function bZt(){const e=h.useContext(qAe);if(!e)throw new Error("Form context not provided");return e}function wB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=bZt();return h.useMemo(()=>n.filter(r=>yi(e,r.path)&&(t||!yn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function xZt(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(B,{size:1,children:t.disabled.reason});return l.jsx(Yw,{content:r,placement:"left",children:l.jsx(Ne,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?Ma:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const wZt={placement:"right",fallbackPlacements:["top","bottom"]};function CZt(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(F,{padding:2,paddingBottom:1,children:l.jsx(zt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(qM,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(SL,{fontSize:1,icon:t.icon,padding:3,popover:wZt,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(qM,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function qM(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx(Dr,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx(Dr,{}),l.jsx(CZt,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx(Dr,{}),l.jsx(xZt,{action:t})]})}const GAe={placement:"top"};function hne(e){return"renderAsButton"in e&&e.renderAsButton}const _Zt=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(hne),[n]),u=h.useMemo(()=>n.filter(p=>!hne(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Bo,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(SZt,{node:p,onOpen:s,onClose:a,open:o},m))})}),SZt=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(te,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(sh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:GAe}):l.jsx(kZt,{node:n,onOpen:r,onClose:o,open:i})}),EZt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function kZt(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(Jt,{button:l.jsx(sh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:GAe}),id:h.useId(),menu:l.jsx(Lt,{children:t.children.map((i,s)=>{var a;return l.jsx(qM,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:EZt})}function KAe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:KAe(t.children)}:t)}const Gw=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(b=>{const x=[...b];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(KAe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let g=0;g<c;g++)v[g]=p.current[g];u.current=c,f(v),p.current=v}},[c]),l.jsx(l.Fragment,{children:n.map((v,g)=>l.jsx(jZt,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),jZt=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=Po(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),ZAe=h.createContext(null);function CB(){const e=h.useContext(ZAe);if(!e)throw new Error("UserColorManager: missing context value");return e}function TZt(e){const t=CB();return ho(e?t.listen(e):ttt(),[e],t.get(null))}const AZt="purple",DZt=["green","red","gray"],IZt=Xve.filter(e=>!DZt.includes(e)),XAe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},OZt=e=>{const{background:t,border:n,text:r}=XAe(e);return IZt.reduce((o,i)=>(o[i]={name:i,background:pe[i][t].hex,border:pe[i][n].hex,text:pe[i][r].hex,tints:pe[i]},o),{})},PZt=e=>{const{background:t,border:n,text:r}=XAe(e);return{name:"gray",background:pe.gray[t].hex,border:pe.gray[n].hex,text:pe.gray[r].hex,tints:pe.gray}};function RZt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||OZt(o),s=t||PZt(o),a=r||AZt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:b};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function b(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function y(k,T){p.delete(k),f[T]--}function w(){return c.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return c.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new ht(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),y(k,T)}}).pipe(So({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function $Zt(e){let{children:t,manager:n}=e;const{scheme:r}=Vc(),o=h.useMemo(()=>n||RZt({scheme:r}),[n,r]);return l.jsx(ZAe.Provider,{value:o,children:t})}const MZt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FZt=/_key\s*==\s*['"](.*)['"]/;function xn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Or(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function wl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(vl(n))return wl(Array.isArray(e)?e[n]:void 0,r);if(Or(n))return wl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return wl(bt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function LZt(e,t){return typeof t!="number"&&!Or(t)?-1:typeof t=="number"?t:e.findIndex(n=>Cl(n)&&n._key===t._key)}function BZt(e){const t=e.match(MZt);if(!t)throw new Error("Invalid path string");return t.map(NZt)}function NZt(e){return vl(e)?zZt(e):Or(e)?VZt(e):jp(e)?HZt(e):e}function zZt(e){return Number(e.replace(/[^\d]/g,""))}function VZt(e){const t=e.match(FZt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function HZt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function QAe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Or(n)&&Or(o)?n._key===o._key:vl(n)?Number(n)===Number(o):jp(n)&&jp(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function JAe(e){return Cl(e)?e._key:void 0}function GM(e){const t=JAe(e);return t?{_key:t}:void 0}function UZt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function eDe(e,t){return e.get((t==null?void 0:t.author)||null)}function Kw(e,t){const n=Array.isArray(t)?t:BZt(t);return WZt(e,n)}function WZt(e,t){const n=KM(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function KM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(jp(r))throw new Error("Index tuples are not supported in diff paths");if(vl(r)||Or(r)){const s=vl(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(xn(n)," (not an array)");return}const a=e.items.find(vl(r)?c=>c.toIndex===r:c=>YZt(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(xn(n)," (item missing)");return}return KM(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(xn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(xn(n)," (field did not exist)");return}return KM(i,o,n.concat(r))}function YZt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function lA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){qZt(e,t,n);return}if(e.type==="object"){GZt(e,t,n);return}e.type==="string"&&KZt(e,t,n)}}function qZt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:ZZt(r);lA(r.diff,t,n.concat(s))})}function GZt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];lA(o,t,n.concat(r))})}function KZt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{lA(r,t,n)})}function ZZt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function tDe(e){const t=CB();return eDe(t,e)}function Xv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=CB(),r=h.useMemo(()=>Kw(e,t),[e,t]);return h.useMemo(()=>eDe(n,r),[r,n])}function Ki(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=Kw(t,n);return l.jsx(pne,{...r,annotations:o?[o]:[]})}return l.jsx(pne,{...e})}function pne(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(re,{padding:3,space:2,children:[l.jsx(zt,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(re,{space:2,children:t.map((s,a)=>l.jsx(XZt,{annotation:s},a))})]});return l.jsx(Wu,{zOffset:"paneFooter",children:l.jsx(lt,{content:i,portal:!0,...o,children:n})})}function XZt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=e1(n),i=tDe(t),s=qo(r,{minimal:!0});return l.jsxs(qt,{space:2,children:[l.jsxs(Y,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(za,{user:n}),l.jsx(qt,{paddingLeft:2,children:l.jsx(B,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading"})})]}),l.jsx(B,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var mne=Object.freeze,QZt=Object.defineProperty,JZt=(e,t)=>mne(QZt(e,"raw",{value:mne(t||e.slice())})),gne;const eXt=P(te)(gne||(gne=JZt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),tXt=[],Si=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=tXt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||Kw(a,u),[r,a,u]),v=tDe(m),g=l.jsx(eXt,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?l.jsx(Ki,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var vne=Object.freeze,nXt=Object.defineProperty,nDe=(e,t)=>vne(nXt(e,"raw",{value:vne(t||e.slice())})),yne,bne;const _B=P.div(yne||(yne=nDe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),n5=P(B)(bne||(bne=nDe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function rXt(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(F,{children:l.jsx(B,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(oXt,{annotation:s,change:t,toIndex:i});if(c)return l.jsx(iXt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(sXt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(F,{padding:1,children:l.jsxs(B,{size:1,weight:"semibold",children:["#",u]})})}function oXt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?Kw(n.diff,[]):void 0)||t;return c?l.jsx(Si,{annotation:c,tooltip:{description:i},as:_B,children:l.jsx(n5,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(B,{size:1,weight:"semibold",children:s})}function iXt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx(Si,{annotation:t||null,as:_B,tooltip:{description:o},children:l.jsxs(n5,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function sXt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"":"",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(F,{padding:1,children:l.jsxs(n5,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx(Si,{annotation:t,as:_B,tooltip:{description:a},children:l.jsxs(n5,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function rDe(e){const{change:t,titlePath:n}=e;return l.jsx(CL,{maxLength:4,separator:l.jsx(B,{muted:!0,size:1,children:l.jsx(Dc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(rXt,{change:t,segment:r},o):null)})}function aXt(e){return bt(e)&&typeof(e==null?void 0:e.then)=="function"}function lXt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return aXt(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const ZM=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Po(i),a=Vo();return lXt(t,n,{currentUser:a,document:r,parent:o,value:s})},Yu=h.createContext({path:[]});function XM(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(cXt(t)&&uXt(e))for(const o of t.fields){const i=XM(e[o.name],o.type);if(i)return i}}}function cXt(e){return e.jsonType==="object"}function uXt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function dXt(e){return eF(e)?e._type:hXt(e)}function fXt(e,t){return e.action==="added"?{toType:q1(t,e.toValue)}:e.action==="changed"?{fromType:q1(t,e.fromValue),toType:q1(t,e.toValue)}:e.action==="removed"?{fromType:q1(t,e.fromValue)}:{toType:q1(t,e.toValue)}}function q1(e,t){const n=dXt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function hXt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const U0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],cA="",W0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],pXt="",r5=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mXt="",oDe="";function gXt(e){return e.of.some(sDe)}const vXt=W0.map(e=>e[0]).concat(U0.map(e=>e[0])),yXt=W0.map(e=>e[1]).concat(U0.map(e=>e[1])),iDe=vXt.concat(yXt).concat(r5).concat(cA).concat(oDe),xne=new RegExp("".concat(iDe.join("|")),"g"),bXt=new RegExp("".concat(iDe.join("|"),`|
`),"g");function sDe(e){return e.jsonType==="object"&&e.name==="block"}function xXt(e){return Vf(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function wne(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function QM(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function SB(e){return e.decorators?I0(e.decorators,["value"],["asc"]):[]}function aDe(e,t){return SB(t).some(n=>n.value===e)}function Cne(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Ks(i)?(s=i.text)==null?void 0:s.replace(xne,""):"";if(Ks(i)){const c=EB(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(xne,"")).join(oDe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(cA).concat(a)}).join(""):""}function wXt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=QM(t.fields,{_key:"bogus",_type:"span"});a&&SB(a).forEach((g,b)=>{i[g.value]=W0[b]}),uDe(r.origin).forEach((g,b)=>{o[g._key]=U0[b]}),lDe(r.origin).forEach((g,b)=>{s[g._key]=r5[b]});const d=Cne(r.origin,r.fromValue,i,o,s),f=Cne(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:CXt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function CXt(e,t){const n=[],r=t9(Dw(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case St:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Tn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case qn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return Dn(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll(bXt)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function lDe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),I0(t,["_key"],["asc"])}function EB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function _Xt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function cDe(e){return e&&Vt(Object.keys(e),["_key","_type"])||!1}function SXt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function uDe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),I0(t,["_key"],["asc"])}const EXt=[];function kXt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function jXt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const TXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?kXt:jXt,c=Xv(t,[]),u=o!=null;return l.jsxs(Y,{align:"center",children:[l.jsx(Ki,{diff:t,children:l.jsxs(Y,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(F,{marginX:2,children:l.jsx(OB,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(F,{marginLeft:2,children:l.jsx(B,{size:1,weight:"semibold",children:i})})]})};var _ne=Object.freeze,AXt=Object.defineProperty,DXt=(e,t)=>_ne(AXt(e,"raw",{value:_ne(t||e.slice())})),Sne;const IXt="YYYY-MM-DD",OXt="HH:mm",PXt=P.div(Sne||(Sne=DXt([`
  display: inline-block;
  word-wrap: break-word;
`]))),RXt=function(t){let{value:n,schemaType:r}=t;return l.jsx(F,{as:PXt,paddingX:2,paddingY:1,children:$Xt(n,r)})};function $Xt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||IXt,i=(n==null?void 0:n.timeFormat)||OXt;return OT(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const Ene=e=>{let{diff:t,schemaType:n}=e;return l.jsx(Zw,{align:"center",diff:t,layout:"grid",previewComponent:RXt,schemaType:n})},dDe=h.createContext(null);function uA(){const e=h.useContext(dDe);if(!e)throw new Error("DocumentChange: missing context value");return e}function kne(e){const[t,n]=h.useState(void 0),r=fr(sn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function MXt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var jne=Object.freeze,FXt=Object.defineProperty,LXt=(e,t)=>jne(FXt(e,"raw",{value:jne(t||e.slice())})),Tne;const BXt=P.div(Tne||(Tne=LXt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),NXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=kne(s==null?void 0:s._ref),u=kne(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=MXt(m,v),b=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,y=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx(Si,{as:"del",diff:t,path:"asset._ref",style:y,children:l.jsx(r4,{title:c.originalFilename||"Untitled",icon:_f,children:l.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(b,"MB")})})}),C=u&&l.jsx(Si,{as:"ins",diff:t,path:"asset._ref",style:y,children:l.jsx(r4,{title:u.originalFilename||"Untitled",icon:_f,children:l.jsxs(Y,{align:"center",children:[l.jsx(B,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&l.jsx(te,{radius:2,padding:1,as:BXt,marginLeft:2,children:l.jsxs(B,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=l.jsxs(l.Fragment,{children:[w&&!C&&l.jsx(Ki,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&l.jsx(Ki,{diff:t,path:"asset._ref",children:l.jsx(PB,{from:w,layout:"grid",to:C})}),!w&&C&&l.jsx(Ki,{diff:t,path:"asset._ref",description:"Added",children:C})]});return l.jsxs(l.Fragment,{children:[f&&_,p.length>0&&l.jsx(F,{marginTop:f?4:3,children:l.jsx(Xw,{diff:t,schemaType:n,fields:p})})]})};function Ane(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function zXt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function VXt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function HXt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=Xv(n,"crop"),u=Xv(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(Dne,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(Ki,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(UXt,{crop:t,fill:Ane(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(Ki,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(Dne,{hotspot:o,fill:Ane(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function UXt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Dne(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var Ine=Object.freeze,WXt=Object.defineProperty,kB=(e,t)=>Ine(WXt(e,"raw",{value:Ine(t||e.slice())})),One,Pne,Rne;const YXt=["originalFilename"],$ne=()=>l.jsx(te,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(Y,{align:"center",justify:"center",height:"fill",children:l.jsx(B,{size:1,muted:!0,children:"(no image)"})})}),qXt=P.div(One||(One=kB([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),pe.gray[100].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex),GXt=P.img(Pne||(Pne=kB([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),KXt=P.div(Rne||(Rne=kB([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function cP(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=fr(sn),[p,m]=ie.useState(),{value:v}=Lbn(i,YXt),g=M5t(i),b=h.useMemo(()=>gT(f),[f]),x=v===null,y=v&&v.originalFilename||"Untitled",w=b.image(i).height(190).dpr(VXt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return l.jsxs(Y,{direction:"column",height:"fill",flex:1,children:[l.jsx(F,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(Y,{as:qXt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(GXt,{src:w.toString()||"",alt:y,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&l.jsx(F,{paddingY:5,children:l.jsx(B,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(KXt,{children:l.jsx(HXt,{crop:u&&!C5t(u)?u:void 0,diff:a,hash:zXt("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!_5t(c)?c:void 0,width:g.width,height:g.height})})]})}),l.jsx(r4,{title:y,icon:Sl,markRemoved:C&&d==="from",children:_?l.jsx("div",{children:_}):l.jsxs("div",{children:[g.width,"  ",g.height]})})]})}const ZXt=["crop","hotspot"],XXt=["asset",...ZXt],uP={flex:1},QXt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=Kw(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!XXt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),b=p.includes("crop"),x=p.includes("hotspot"),y=b||x,w=g||y,C=y&&!g,_=i&&u?l.jsx(Si,{annotation:f,style:uP,children:l.jsx(cP,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&b?i.crop:void 0})}):l.jsx($ne,{}),S=s&&d?l.jsx(Si,{annotation:f,style:uP,children:l.jsx(cP,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&b?s.crop:void 0})}):l.jsx($ne,{});if(!_&&!S)return l.jsx(te,{padding:4,radius:2,tone:"transparent",children:l.jsx(B,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx(Si,{annotation:f,style:uP,children:l.jsx(cP,{id:d,is:"to",diff:t})}):null;const E=l.jsx(PB,{align:"center",from:_,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(g?l.jsx(Ki,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&l.jsx(F,{marginTop:w?4:3,children:l.jsx(Xw,{diff:t,schemaType:n,fields:m})})]})};var Mne=Object.freeze,JXt=Object.defineProperty,eQt=(e,t)=>Mne(JXt(e,"raw",{value:Mne(t||e.slice())})),Fne;const tQt=P.div(Fne||(Fne=eQt([`
  display: inline-block;
  word-break: break-all;
`]))),nQt=e=>{const{value:t}=e;return l.jsx(F,{as:tQt,paddingX:2,paddingY:1,children:t})},rQt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(Zw,{diff:t,schemaType:n,previewComponent:nQt,layout:"inline"})};var Lne=Object.freeze,oQt=Object.defineProperty,iQt=(e,t)=>Lne(oQt(e,"raw",{value:Lne(t||e.slice())})),Bne;const sQt=P.blockquote(Bne||(Bne=iQt([`
  margin: 0;
`])));function aQt(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(sQt,{children:t})})}var Nne=Object.freeze,lQt=Object.defineProperty,cQt=(e,t)=>Nne(lQt(e,"raw",{value:Nne(t||e.slice())})),zne;const uQt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},dQt=P(No)(zne||(zne=cQt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function fQt(e){let{style:t,children:n}=e;return l.jsx(dQt,{size:uQt[t],children:n})}var Vne=Object.freeze,hQt=Object.defineProperty,pQt=(e,t)=>Vne(hQt(e,"raw",{value:Vne(t||e.slice())})),Hne;const mQt=P.div(Hne||(Hne=pQt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function gQt(e){let{children:t}=e;return l.jsx(mQt,{children:t})}const vQt=[];function yQt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=Xv(o,vQt),{path:c}=h.useContext(Yu),{onSetFocus:u}=h.useContext(Tm),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(aQt,{children:f}):i.style&&xXt(i)?f=l.jsx(fQt,{style:i.style,children:f}):f=l.jsx(gQt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=l.jsx(te,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(re,{space:2,children:[l.jsx(Ki,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(B,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(F,{style:v,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var Une=Object.freeze,bQt=Object.defineProperty,dA=(e,t)=>Une(bQt(e,"raw",{value:Une(t||e.slice())})),Wne,Yne,qne,Gne;const Y0=P(F)(Wne||(Wne=dA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),fDe=P(B)(Yne||(Yne=dA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),jB=P(F)(qne||(qne=dA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),Y0),hDe=P(F)(Gne||(Gne=dA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var Kne=Object.freeze,xQt=Object.defineProperty,wQt=(e,t)=>Kne(xQt(e,"raw",{value:Kne(t||e.slice())})),Zne;const JM=P.div(Zne||(Zne=wQt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),jB);function CQt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(_Qt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(JM,{children:t}):l.jsx(JM,{...s,children:"Unknown schema type"})}function _Qt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Tm),{path:c}=h.useContext(Yu),[u,d]=h.useState(null),f=Xv(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),b=r&&cDe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),y=h.useMemo(()=>c.slice(0,c.findIndex(I=>Or(I)&&I._key===r._key)),[c,r._key]),w=h.useMemo(()=>y.concat(i),[i,y]),C=h.useMemo(()=>y.concat(x),[x,y]),_="field-".concat(jr(C)),S=q7(),E=h.useMemo(()=>S.filter(I=>{let[O]=I;return O.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);lr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=l.jsx(Yu.Provider,{value:{path:C},children:l.jsx(hDe,{padding:3,children:l.jsxs("div",{children:[b&&l.jsxs(zt,{size:1,muted:!0,children:["Empty ",o.title]}),!b&&l.jsx(Xw,{diff:t,schemaType:o})]})})});return l.jsx(JM,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(an,{content:D,open:v,ref:d,portal:!0,children:l.jsx(jB,{paddingLeft:1,children:l.jsx(Ki,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(Y0,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(Y,{align:"center",paddingX:1,children:l.jsx(fDe,{size:0,children:l.jsx(qa,{})})})]})})})})})}var Xne=Object.freeze,SQt=Object.defineProperty,EQt=(e,t)=>Xne(SQt(e,"raw",{value:Xne(t||e.slice())})),Qne;const kQt=P.span(Qne||(Qne=EQt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function jQt(e){let{mark:t,children:n}=e;return l.jsx(kQt,{decoration:t,children:n})}var Jne=Object.freeze,TQt=Object.defineProperty,AQt=(e,t)=>Jne(TQt(e,"raw",{value:Jne(t||e.slice())})),ere;const e4=P(te)(ere||(ere=AQt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),Y0);function DQt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(IQt,{...o,diff:t,object:n,schemaType:r}):l.jsx(e4,{children:l.jsx(rC,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(e4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function IQt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Yu),{onSetFocus:a}=h.useContext(Tm),c=Xv(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&cDe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Or(k)&&k._key===n._key)).concat(r),b="field-".concat(jr(g)),y=q7().filter(k=>{let[T]=k;return T.startsWith(b)}).length>0,w=s.slice(0,-1).concat(r).concat([kve]);h.useEffect(()=>{y&&(f(!0),a(w))},[w,y,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=l.jsx(Yu.Provider,{value:{path:g},children:l.jsx(OQt,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return l.jsx(e4,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(an,{content:S,open:d,portal:!0,children:l.jsx(jB,{children:l.jsx(Ki,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(Y0,{children:[l.jsx(rC,{schemaType:o,value:n,layout:"inline"}),l.jsx(Y,{align:"center",paddingX:1,children:l.jsx(fDe,{size:0,children:l.jsx(qa,{})})})]})})})})})}function OQt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return lr(a,[i]),l.jsxs(hDe,{ref:s,padding:3,children:[n&&l.jsxs(zt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(Xw,{diff:t,schemaType:o})]})}function PQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(RQt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(Y0,{children:r})}function RQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=ie.useContext(Tm),{path:c}=ie.useContext(Yu),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(y=>Or(y)&&Or(u)&&y._key===u._key)).concat(o),m=h.useCallback(y=>{y.stopPropagation(),d||(y.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(y=>y.text===i.text)||t||n,b=g&&g.action!=="unchanged"&&g.annotation||null,x=b&&i.action!=="unchanged"?l.jsx(Si,{annotation:b,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(un(i.action)," text")},children:r}):null;return l.jsx(Y0,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const TB=W0.map(e=>e[0]),AB=W0.map(e=>e[1]),CS=U0.map(e=>e[0]),t4=U0.map(e=>e[1]),$Qt=TB.concat(CS),pDe=AB.concat(t4),MQt=TB.concat(AB),FQt=new RegExp("".concat(MQt.concat(pDe).join("|")),"g");function LQt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?lDe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=QM(n.fields,s);let c=[];if(a){c=SB(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(zQt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const y=wne(t.origin,r.children[0])||t.origin;if(y&&y.action!=="unchanged")return l.jsx(Si,{annotation:y.annotation,as:y.action==="removed"?"del":"ins",tooltip:{description:"".concat(un(y.action)," empty text")},children:l.jsx("span",{children:pXt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let b;const x=uDe(t.origin);return d.forEach(y=>{var w,C,_;v++;const S=r5.includes(y.text),E=$Qt.includes(y.text),j=pDe.includes(y.text),k=y.text===cA,T=y.action==="removed";if(k)T||m++;else if(E||j){if(E&&CS.includes(y.text)){const A=x[CS.indexOf(y.text)];A&&g.push({mark:A._key,symbols:[y.text,t4[CS.indexOf(y.text)]],object:A})}j&&t4.includes(y.text)&&(b=g.pop())}else if(S){const A=r5.findIndex(O=>O===y.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const O=QM(n.fields,I),$=wne(t.origin,I);f.push(l.jsx(DQt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:$,schemaType:O},"inline-object-".concat(I._key)))}}else if(y.text){const A=()=>{var R;return(R=t.origin.fromValue)==null?void 0:R.children.find(V=>V.text&&V.text.match(SXt(y.text)))},D=r.children[m]||A(),I=D&&EB(t.origin,D);if(!D)throw new Error("Could not find child");const O=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,$=l.jsx(PQt,{diff:O,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:y,children:BQt({diff:t,child:D,decoratorTypes:c,seg:y,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach(R=>{p[R.mark]=p[R.mark]||[],p[R.mark].push($)}),b){const R="annotation-".concat(b.object._key),V=f[f.length-1];if(V&&V.key!==R){const M=_Xt(t.origin,b.mark),H=b&&a.annotations&&a.annotations.find(q=>b&&b.object&&q.name===b.object._type);f.push(l.jsx(CQt,{object:b.object,diff:M,path:[{_key:r._key},"children",{_key:D._key}],schemaType:H,children:l.jsx(l.Fragment,{children:p[b.mark]})},R))}b=void 0}g.length===0&&f.push($)}}),ie.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(yQt,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function BQt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,mXt)},"text-".concat(i));const c=n&&EB(t.origin,n),u=Ks(n)?n.marks||[]:[];return c&&(a=NQt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{aDe(d,s)&&(a=l.jsx(jQt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function NQt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(cA).filter(S=>!!S).join(""),y=x.substring(0,x.indexOf(i.text)+i.text.length),w=y.substring(0,y.indexOf(i.text)),C=[];return[...w.matchAll(FQt)].forEach(S=>{var E;const j=S[0],k=W0.concat(U0).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?TB.indexOf(j):AB.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=j6t(t,co(C)),v&&g.length>0&&g.some(S=>aDe(S,c))&&(d=l.jsx(Si,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function zQt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const VQt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>wXt(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(LQt,{diff:r,schemaType:n})})};var tre=Object.freeze,HQt=Object.defineProperty,UQt=(e,t)=>tre(HQt(e,"raw",{value:tre(t||e.slice())})),nre;const WQt=P.div(nre||(nre=UQt([`
  word-wrap: break-word;
`]))),YQt=e=>{let{value:t,schemaType:n}=e;return l.jsx(F,{as:WQt,padding:2,children:l.jsx(rC,{schemaType:n,value:t,layout:"default"})})},qQt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(Zw,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:YQt,schemaType:n})};var rre=Object.freeze,GQt=Object.defineProperty,KQt=(e,t)=>rre(GQt(e,"raw",{value:rre(t||e.slice())})),ore;const ZQt=P.div(ore||(ore=KQt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),XQt=e=>{const{value:t}=e;return l.jsx(F,{as:ZQt,paddingX:2,paddingY:1,children:t})};var ire=Object.freeze,QQt=Object.defineProperty,JQt=(e,t)=>ire(QQt(e,"raw",{value:ire(t||e.slice())})),sre;const eJt=P.div(sre||(sre=JQt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),tJt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(Zw,{diff:t,previewComponent:XQt,schemaType:n}):l.jsx(eJt,{children:l.jsx(qJt,{diff:t})})},are={block:VQt,boolean:{component:TXt,showHeader:!1},date:Ene,datetime:Ene,file:NXt,image:QXt,number:rQt,reference:qQt,string:tJt};function mDe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||nJt(r,t)||are[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return are[i]}function nJt(e,t){const n=EXt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function rJt(e){const t=lre(e.fromValue),n=lre(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function gDe(e){return e.type==="field"}function lre(e){return e!==null&&typeof e<"u"&&e!==""}function DB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!mDe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return vDe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return sJt(e,t,n,r)}return yDe(e,t,n,r,o)}function vDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...oJt(c.field,t,n,r,s)):i.push(...iJt(c,t,n,r,s));return i.length<2?i:[{type:"group",key:xn(n)||"root",path:n,titlePath:r,changes:IB(i,r.length),schemaType:e}]}function oJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return DB(e.type,a,c,u,s)}function iJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,v=r.concat([a||s]),g=[];for(const b of i){const x=t.fields[b.name];if(!x||!x.isChanged||d&&!d.includes(b.name))continue;const y=n.concat([b.name]),w=v.concat([b.type.title||b.name]);g.push(...DB({readOnly:m,hidden:p,...b.type},x,y,w,f))}return g.length<2?g:[{type:"group",key:xn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:IB(g,v.length),readOnly:m,hidden:p}]}function sJt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=gXt(e),s=[],a=o.reduce((c,u)=>{const d=fXt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",xn(n)),c;const p=GM(u.diff.fromValue)||GM(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),b=y=>(y.type==="field"&&QAe(m,y.path)&&(y.itemDiff=u),y),x=DB(f,u.diff,m,g,v).map(b);return i&&x.filter(gDe).forEach((y,w,C)=>{y.showHeader=C.length===1,y.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...yDe(f,u.diff,m,g,v)):c.push(...x),c},s);return a.length>1?[{type:"group",key:xn(n)||"root",path:n,titlePath:r,changes:IB(a,r.length),schemaType:e}]:a}function yDe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&cre(a)&&cre(c))return[];let d;typeof a<"u"&&(d=XM(a,e)),!d&&typeof c<"u"&&(d=XM(c,e));let f=!0,p;const m=mDe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:xn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function IB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function cre(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const ure=e=>e.type==="field"&&e.diff.action==="added",bDe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...bDe(n))}),t},xDe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},aJt=(e,t)=>{const n=e[t],r=JAe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},lJt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function fA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=bDe(e),i=o.filter(ure);o.filter(s=>!ure(s)).forEach(s=>fA(s,t,n)),r.push(...dre(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...dre(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...uJt(e.itemDiff,e.parentDiff,e.path)):r.push(...dJt(e.diff,t,e.path));n.patch.execute(r)}function cJt(e,t,n){const r=e.toValue;return wDe(r,t,n)}function dre(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>xDe(t[r],i))||n.push(cJt(e,t[r],t));return[{unset:[...new Set(n.map(xn))]}]}function wDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=wl(e,o),s=[o,...n.filter(a=>!xDe(a,o))];return CDe(i,o,n)?wDe(e,o,s,r):t}function uJt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=pJt(t,e);let a;if(i===0)a={before:xn([...r,0])};else{const c=i-1,d=GM(o[c])||c;a={after:xn([...r,d])}}return[{unset:[xn(n)]},{insert:{...a,items:[s]}}]}function dJt(e,t,n){const r=zT(e.toValue,e.fromValue,lJt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:xn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(xn(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...fJt(f.path,t,s)),d[xn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function fJt(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=xn(a);if(n.has(c))continue;const u=e[s],d=Or(u)||vl(u),f=wl(r,a),p=fre(f);if(d&&Array.isArray(f)&&!wl(o,e.slice(0,s+1))){const m=LZt(f,u),v=f[m-1],g=wl(r,a.concat(u)),b=Cl(v)?{_key:v._key}:m-1,x=xn(a.concat(m<1?0:b));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[fre(g)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function hJt(e,t,n){if(!bt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,aJt(e,r)];if(!CDe(e[r],o,n))return!1}return!0}function CDe(e,t,n){const r=n==null?void 0:n.some(i=>xn(i)===xn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||UZt(e)||hJt(e,t,n)}function fre(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Cl(e)&&(t._key=e._key),eF(e)&&(t._type=e._type),t}function pJt(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const zc=!1;class mJt extends ie.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(te,{padding:3,radius:2,tone:"critical",children:l.jsxs(Y,{children:[l.jsx(B,{size:1,children:l.jsx(aa,{})}),l.jsxs(F,{paddingLeft:3,children:[l.jsx(B,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),zc]})]})}):this.props.children}}const gJt={down:Qve,right:Jve};function OB(e){const{direction:t="right",...n}=e,r=gJt[t];return l.jsx(B,{muted:!0,size:1,...n,children:h.createElement(r)})}var hre=Object.freeze,vJt=Object.defineProperty,_De=(e,t)=>hre(vJt(e,"raw",{value:hre(t||e.slice())})),pre,mre;const dP=P.pre(pre||(pre=_De([`
  overflow-x: auto;
  position: relative;
`]))),yJt=P.div(mre||(mre=_De([`
  position: absolute;
  top: 0;
  right: 0;
`])));function bJt(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(F,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(xJt,{change:r}):t})}const fP=e=>{let{title:t}=e;return l.jsx(F,{padding:3,display:"inline-block",as:yJt,children:l.jsx(zt,{size:1,muted:!0,children:t})})};function xJt(e){let{change:t}=e;var n,r,o;return l.jsxs(re,{space:3,children:[l.jsxs(te,{padding:3,tone:"transparent",as:dP,radius:1,children:[l.jsx(fP,{title:"meta"}),l.jsx(ir,{language:"json",size:1,children:wJt({path:xn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(te,{as:dP,tone:"critical",padding:3,radius:1,children:[l.jsx(fP,{title:"from"}),l.jsx(ir,{language:"json",size:1,children:gre(t.diff.fromValue)})]}),l.jsx(te,{children:l.jsx(OB,{direction:"down",align:"center"})}),l.jsxs(te,{as:dP,tone:"positive",padding:3,radius:1,children:[l.jsx(fP,{title:"to"}),l.jsx(ir,{language:"json",size:1,children:gre(t.diff.toValue)})]})]})}function gre(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function wJt(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const CJt={flexShrink:0},_Jt={alignItems:"stretch"},vre={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},PB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=Ts(),d=o==="inline"?Y:on,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ye(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?CJt:_Jt;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(Y,{align:vre[r],style:p,children:i}),l.jsx(Y,{align:"center",justify:"center",padding:2,children:l.jsx(OB,{})})]}),l.jsx(Y,{align:vre[r],style:p,children:s})]})}),hP={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function Zw(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=rJt(r);if(c==="unchanged")return l.jsx(Si,{className:n,style:hP,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx(Si,{as:"del",className:n,diff:r,path:i,style:hP,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx(Si,{as:"ins",className:n,diff:r,path:i,style:hP,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(Ki,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(Ki,{description:u,diff:r,path:i,children:f}):l.jsx(Ki,{description:u,diff:r,path:i,children:l.jsx(PB,{align:t,from:d,layout:o,to:f})})}const SJt=e=>{let{value:t,schemaType:n}=e;return l.jsx(F,{padding:2,children:l.jsx(rC,{schemaType:n,value:t,layout:"default"})})},EJt=e=>{const{diff:t,schemaType:n}=e;return l.jsx(Zw,{diff:t,schemaType:n,previewComponent:SJt,layout:"grid"})};var yre=Object.freeze,kJt=Object.defineProperty,jJt=(e,t)=>yre(kJt(e,"raw",{value:yre(t||e.slice())})),bre;const TJt=P(se)(bre||(bre=jJt([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),SDe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(TJt,{icon:TF,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function AJt(e){let{error:t}=e;return l.jsx(te,{tone:"critical",padding:3,children:l.jsxs(Y,{align:"flex-start",children:[l.jsx(F,{children:l.jsx(B,{children:l.jsx(aa,{})})}),l.jsx(F,{flex:1,paddingLeft:3,children:l.jsxs(B,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var xre=Object.freeze,DJt=Object.defineProperty,RB=(e,t)=>xre(DJt(e,"raw",{value:xre(t||e.slice())})),wre,Cre,_re;const IJt=P.div(wre||(wre=RB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),OJt=P.div(Cre||(Cre=RB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),PJt=P(an)(_re||(_re=RB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function RJt(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||EJt,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=ie.Fragment}=uA(),f=Vl(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[b,x]=h.useState(null),[y,w]=uh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{fA(n,c,f)},[n,c,f]),_=h.useCallback(()=>{m(!0)},[]),S=ie.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);lr(k,[b]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(re,{space:1,as:IJt,children:[n.showHeader&&l.jsx(rDe,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:v,children:l.jsxs(bJt,{change:n,as:OJt,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(AJt,{error:n.error}):l.jsx(mJt,{children:l.jsx(Yu.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(y==null?void 0:y.granted)&&l.jsx(PJt,{content:l.jsxs(F,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(on,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:S,children:l.jsx(B,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:C,children:l.jsx(B,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(F,{flex:1,children:l.jsx(SDe,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,y,v,A])}function $Jt(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var Sre=Object.freeze,MJt=Object.defineProperty,$B=(e,t)=>Sre(MJt(e,"raw",{value:Sre(t||e.slice())})),Ere,kre,jre;const FJt=P.div(Ere||(Ere=$B([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),LJt=P.div(kre||(kre=$B([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),BJt=P(an)(jre||(jre=$B([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function NJt(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(Yu),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=uA(),v=s.every(I=>gDe(I)&&sDe(I.schemaType)),g=QAe(c,a),[b,x]=$Jt(),y=Vl(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=uh({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>fA(t,p,y),[t,p,y]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);lr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:l.jsxs(re,{space:1,as:LJt,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[l.jsx(re,{as:FJt,space:5,children:s.map(I=>l.jsx(EDe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&l.jsx(BJt,{content:l.jsxs(F,{children:["Are you sure you want to revert the changes?",l.jsxs(on,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:A,children:l.jsx(B,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:k,children:l.jsx(B,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(F,{children:l.jsx(SDe,{onClick:T,ref:b,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,b]);return r?null:l.jsxs(re,{space:1,...o,children:[l.jsx(rDe,{titlePath:i}),g||!f?D:l.jsx(f,{hasHover:x,path:t.path,children:D})]})}function EDe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=uA(),a=ZM({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=ZM({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(RJt,{change:r,readOnly:c}):r.type==="group"?l.jsx(NJt,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(B,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function n4(){return l.jsxs(re,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(B,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Tre=Object.freeze,zJt=Object.defineProperty,kDe=(e,t)=>Tre(zJt(e,"raw",{value:Tre(t||e.slice())})),Are,Dre;const VJt=P.div(Are||(Are=kDe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),HJt=P(an)(Dre||(Dre=kDe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function Xw(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=uA(),a=Vl(o,r.name),{path:c}=h.useContext(Yu),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=ZM({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,b]=uh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>vDe(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),y=h.useMemo(()=>n&&n.length===0?[]:UJt(x),[x,n]),w=x[0],C=h.useCallback(()=>{fA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(lr(A,[k]),y.length===0)return u?l.jsx(n4,{}):null;const D=u&&y.length>1;return l.jsx(te,{children:l.jsxs(re,{space:5,children:[l.jsx(re,{as:VJt,space:5,children:y.map(I=>l.jsx("div",{children:l.jsx(EDe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!b&&(g==null?void 0:g.granted)&&l.jsx(HJt,{content:l.jsxs(F,{children:["Are you sure you want to revert all ",y.length," changes?",l.jsxs(on,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(se,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(re,{children:l.jsx(se,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:TF,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function UJt(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var Ire=Object.freeze,WJt=Object.defineProperty,jDe=(e,t)=>Ire(WJt(e,"raw",{value:Ire(t||e.slice())})),Ore,Pre;const Rre=P.span(Ore||(Ore=jDe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),$re=P(B)(Pre||(Pre=jDe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function YJt(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx(Si,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Rre,children:l.jsx($re,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx(Si,{annotation:t.annotation,as:Rre,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx($re,{as:"del",children:n})}):l.jsx(te,{as:"span",radius:2,style:{display:"inline"},children:n})}function qJt(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx(YJt,{segment:n},r))})}var Mre=Object.freeze,GJt=Object.defineProperty,KJt=(e,t)=>Mre(GJt(e,"raw",{value:Mre(t||e.slice())})),Fre;const pP=P(B)(Fre||(Fre=KJt([`
  color: inherit;
`])));function r4(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(Y,{padding:2,align:"center",children:[r&&l.jsx(F,{padding:2,children:l.jsx(pP,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(re,{space:2,paddingLeft:2,children:[l.jsx(pP,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx(pP,{size:0,textOverflow:"ellipsis",children:o})]})]})}var Lre=Object.freeze,ZJt=Object.defineProperty,XJt=(e,t)=>Lre(ZJt(e,"raw",{value:Lre(t||e.slice())})),Bre;P.div(Bre||(Bre=XJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const TDe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Nre(){return h.useContext(TDe)}const ADe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function Qw(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Nre(),a=Nre().hoveredStack[0],c=Gp||(a?xn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(ADe.Provider,{value:f,children:n})}function MB(){return h.useContext(ADe)}function QJt(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=xn(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=xn(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(TDe.Provider,{value:s,children:t})}const JJt={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function een(e){const{__internal_fieldActions:t=Un,__internal_patchChannel:n=JJt,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,unstable:V,validation:M,value:H}=e,q=h.useRef(H);h.useEffect(()=>{q.current=H},[H]);const U=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:yB,CustomMarkers:(V==null?void 0:V.CustomMarkers)||mZt,Markers:(V==null?void 0:V.Markers)||WAe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>q.current,onChange:b}),[t,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,b,n,V==null?void 0:V.CustomMarkers,V==null?void 0:V.Markers]),W=h.useMemo(()=>({__internal:U,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,value:H}),[U,r,o,s,a,H,d,f,p,m,g,j,k,T,A,D,I,O,$,R]);return l.jsx(UAe.Provider,{value:W,children:l.jsx(qw,{onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetPathCollapsed:S,onSetFieldSetCollapsed:_,children:l.jsx(gZt,{presence:E,children:l.jsx(yZt,{validation:M,children:l.jsx(QJt,{children:i})})})})})}function ten(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=Mn().form,A=Lfn(),D=Bfn(),I=AOe(),O=Nfn(),$=zfn(),R=Vfn(),V=Hfn(),M=h.useCallback(K=>l.jsx(A,{...K}),[A]),H=h.useCallback(K=>l.jsx(D,{...K}),[D]),q=h.useCallback(K=>l.jsx(O,{...K}),[O]),U=h.useCallback(K=>l.jsx($Ae,{component:I,...K}),[I]),W=h.useCallback(K=>l.jsx($,{...K}),[$]),Q=h.useCallback(K=>l.jsx(R,{...K}),[R]),N=h.useCallback(K=>l.jsx(V,{...K}),[V]);return l.jsx(een,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:c,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,renderAnnotation:N,renderBlock:W,renderField:H,renderInlineBlock:Q,renderInput:M,renderItem:q,renderPreview:U,schemaType:S,validation:E,value:j,children:i})}function nen(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetFieldSetCollapsed:x,onSetPathCollapsed:y,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e;return l.jsx(ten,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,value:E,children:l.jsx(ren,{})})}function ren(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=oi(),{onChange:g,onFieldGroupSelect:b,onPathBlur:x,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_}=fa(),S=h.useCallback(M=>_([M],!0),[_]),E=h.useCallback(M=>_([M],!1),[_]),j=h.useCallback(()=>x(Un),[x]),k=h.useCallback(()=>y(Un),[y]),T=h.useCallback(M=>g(ct.from(M)),[g]),A=h.useRef(null),D=h.useCallback(M=>b(Un,M),[b]),I=h.useCallback(M=>w([M]),[w]),O=h.useCallback(()=>w([]),[w]),$=h.useCallback(M=>C([M],!0),[C]),R=h.useCallback(M=>C([M],!1),[C]),V={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(M=>M.kind==="field"&&M.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:O,onFieldCollapse:S,onFieldSetCollapse:$,onFieldExpand:E,onFieldSetExpand:R,onPathFocus:y,onFieldOpen:I,onFieldGroupSelect:D,path:Un,presence:Un,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:Un,value:v};return l.jsx(l.Fragment,{children:d(V)})}const DDe=h.createContext({});function IDe(){return h.useContext(DDe)}function oen(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(DDe.Provider,{value:s,children:t})}h.createContext(null);function hA(e,t){return Ri(t,h.useCallback((n,r)=>{e.current&&!n&&r&&fx(e.current,{scrollMode:"always"})},[e]))}function ien(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return E9(t),t}const sen=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function kx(e){const t=sen();return ien(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var zre=Object.freeze,aen=Object.defineProperty,ODe=(e,t)=>zre(aen(e,"raw",{value:zre(t||e.slice())})),Vre,Hre;const len={portal:!0},cen=P(te)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return fe(Vre||(Vre=ODe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),uen=P(F)(Hre||(Hre=ODe([`
  max-width: 150px;
`]))),Ure=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function FB(e){const{presence:t}=e,{color:n}=Zve().sanity,r=n.dark?"light":"dark",{selected:o}=LWt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(fo),[t]),s=h.useMemo(()=>l.jsx(uen,{padding:2,children:l.jsx(B,{align:"center",size:1,children:Ure(i)})}),[i]);return l.jsx(lt,{content:s,...len,children:l.jsx(cen,{scheme:o?r:void 0,$selected:o,children:l.jsx(Dj,{maxLength:2,"aria-label":Ure(i),children:i.map(a=>l.jsx(za,{user:a.user},a.user.id))})})})}const den=3,PDe=3,o5=-4,jx=23,Wre=4,fen=[0,.25,.75,1],Y_=23,hen=8,pen=8,RDe=20,$De=20,mP=!1,men=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function gen(e){return-o5+(jx+o5)*e}var Yre=Object.freeze,ven=Object.defineProperty,MDe=(e,t)=>Yre(ven(e,"raw",{value:Yre(t||e.slice())})),qre,Gre;const FDe=P(Y)(qre||(qre=MDe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),yen=P(Y)(Gre||(Gre=MDe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),ben=ie.createContext([]);function xen(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(re,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(Y,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(za,{user:o.user,status:"online"})}),l.jsx(B,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(lt,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:wen,useReporter:Cen,useReportedValues:_en}=oAe(),LDe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=PDe,stack:s=!0}=t;const a=Mf(n||[],p=>p.user.id),c=bm(a,p=>p.lastActiveAt),[u,d]=s?men(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(za,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(RR,{count:u.length})}:null].filter(Boolean);return l.jsxs(FDe,{children:[l.jsx("div",{}),l.jsx(yen,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(jx+o5),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function Sen(e){const t=h.useContext(ben),{presence:n=t,maxAvatars:r=PDe}=e,o=h.useRef(null);Cen(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Mf(n||[],s=>s.user.id),[n]);return l.jsx(xen,{items:i,children:l.jsx(FDe,{ref:o,style:{minHeight:jx,minWidth:jx}})})}const Jw=Sen,Een=e=>{const t=new wr,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new ht(o=>{const i=t.pipe(ft(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},LB=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=ie.useRef(null);return ie.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(bn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var Kre=Object.freeze,ken=Object.defineProperty,Zp=(e,t)=>Kre(ken(e,"raw",{value:Kre(t||e.slice())})),Zre,Xre,Qre,Jre,eoe,toe,noe;const jen=P.div(Zre||(Zre=Zp([`
  position: relative;
`]))),Ten=P.div(Xre||(Xre=Zp([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),BB=fe(Qre||(Qre=Zp([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),Aen=P(LB)(e=>{let{$debug:t,margins:n}=e;return fe(Jre||(Jre=Zp([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),BB,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),Den=P(LB)(e=>{let{$debug:t}=e;return fe(toe||(toe=Zp([`
    `,`

    visibility: none;

    `,`
  `])),BB,t&&fe(eoe||(eoe=Zp([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),Ien=P(LB)(e=>{let{$debug:t}=e;return fe(noe||(noe=Zp([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),BB,t?"blue":"transparent")}),Oen=e=>"".concat(e,"px"),Pen=e=>0-e,Ren=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>Een({rootMargin:c.map(Pen).map(Oen).join(" "),threshold:fen}),[c]),[d,f]=h.useState({}),p=h.useCallback((b,x)=>{f(y=>({...y,[b]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(b=>{var x;return((x=b.presence)==null?void 0:x.length)>0}).map(b=>{const x=d[b.id];if(!x)return null;const{bottom:y,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-Y_):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(y-(x.intersectionRect.bottom+Y_)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=hen?"top":E<=pen?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:b,position:j}}).filter(Boolean):[],[v,d,r,m]);return l.jsxs(jen,{ref:n,children:[l.jsx(Aen,{$debug:mP,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(Ten,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(b=>{const x=b.rect.width===0;return l.jsx(Den,{$debug:mP,io:u,onIntersection:p,id:b.id,style:{width:x?1:b.rect.width,left:b.rect.left-(x?1:0),top:b.rect.top-Y_,height:b.rect.height+Y_*2}},b.id)}),l.jsx(Ien,{$debug:mP,id:"::bottom",io:u,onIntersection:p})]})}),BDe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},$en=e=>e.top+e.height;function Men(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?$en(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const q_=e=>I0(e,t=>t.region.rect.top),Fen=(e,t)=>e+t,roe=e=>e.reduce(Fen,0);function Len(e){const t=Men(q_(e)),n={top:[],inside:[],bottom:[],...t7(t,r=>r.position)};return{top:q_(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:q_(n.inside).map(r=>({...r,indent:0})),bottom:q_(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const ooe=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},Ben=[0,0,0,0],Nen=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function zen(e,t){return{...Nen(e,t),width:e.offsetWidth,height:e.offsetHeight}}function Ven(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:zen(o.element,t)}})}function Hen(e){const{children:t,margins:n=Ben}=e,r=_en(),o=ie.useRef(null),i=ie.useMemo(()=>o.current?Ven(r,o.current):o4,[r]),s=ie.useCallback((a,c)=>{const u=Len(a.filter(m=>m.region.presence.length>0)),d=roe(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=roe([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:b}=v,x=g<=RDe,y=b<=$De;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(y?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(ioe,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(ooe,{height:d}),l.jsx(Uen,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(ooe,{height:f}),l.jsx(ioe,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(Ren,{ref:o,margins:n,regions:i,render:s,children:t})}const o4=[],ioe=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?Dn(bm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||o4)):o4,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(jx+o5):0)-u,m=o==="top"?c:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...BDe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:Wre+1+m,bottom:Wre+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:v,children:l.jsx(LDe,{position:o,maxAvatars:den,presence:a})},"sticky-".concat(o))});function Uen(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=RDe,c=s<=$De,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(ie.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...BDe,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(Yen,{value:()=>"".concat(i," | ").concat(s,""),children:l.jsx(LDe,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const Wen=e=>e.children,Yen=Wen,qen=[0,0,0,0];function Gen(e){let{children:t,margins:n}=e;return l.jsx(wen,{children:l.jsx(Hen,{margins:n||qen,children:t})})}const eC=Gen;var soe=Object.freeze,Ken=Object.defineProperty,tC=(e,t)=>soe(Ken(e,"raw",{value:soe(t||e.slice())})),aoe,loe,coe,uoe,doe;const Zen=P(Y)(aoe||(aoe=tC([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),Xen=P(F)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return fe(loe||(loe=tC([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),Qen=P(F)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return fe(coe||(coe=tC([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),Jen=P(F)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return fe(uoe||(uoe=tC([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),etn=P(te)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return fe(doe||(doe=tC([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;
  `])),n[1]/2,n[1]/2)}),foe=4;function NDe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[b,x]=h.useState(0),{hasComments:y=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||c||C,E=S&&_||!y?3:void 0,j=(t==null?void 0:t.button)||_,k=S||y;h.useEffect(()=>{if(d){const{width:A}=d.getBoundingClientRect();m(A||0)}},[d,S]),h.useEffect(()=>{if(v){const{width:A}=v.getBoundingClientRect();x(A||0)}},[v]);const T=h.useMemo(()=>n?l.jsx(Jen,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return l.jsxs(Zen,{align:"flex-end",children:[l.jsx(Qen,{flex:1,paddingY:2,$presenceMaxWidth:gen(foe),children:o}),a&&a.length>0&&l.jsx(Xen,{flex:"none",paddingBottom:1,$right:p+b,children:l.jsx(Jw,{maxAvatars:foe,presence:a})}),T,k&&j&&l.jsxs(etn,{display:"flex",radius:2,ref:f,shadow:E,sizing:"border",children:[S&&_&&l.jsx(_Zt,{nodes:r,onMenuOpenChange:u}),w]})]})}function lh(e,t){if(!(!t||!e))return"desc_".concat(e)}var hoe=Object.freeze,ttn=Object.defineProperty,ntn=(e,t)=>hoe(ttn(e,"raw",{value:hoe(t||e.slice())})),poe;const rtn=[],pv={error:pe.red[500].hex,warning:pe.yellow[500].hex,info:pe.blue[500].hex},mv={error:l.jsx(aa,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx($r,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(sm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},otn=P(re)(poe||(poe=ntn([`
  max-width: 200px;
`])));function q0(e){const{validation:t=rtn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return mv.error;if(u)return mv.warning;if(d)return mv.info},[c,d,u]),p=h.useMemo(()=>{if(c)return pv.error;if(u)return pv.warning;if(d)return pv.info},[c,d,u]);return l.jsx(lt,{content:l.jsxs(otn,{padding:3,space:3,children:[n&&l.jsx(stn,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,v)=>l.jsx(itn,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(B,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function itn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return mv.error;if(t.level==="warning")return mv.warning;if(t.level==="info")return mv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return pv.error;if(t.level==="warning")return pv.warning;if(t.level==="info")return pv.info},[t]);return l.jsxs(Y,{children:[l.jsx(F,{marginRight:2,children:l.jsx(B,{size:1,style:{color:r},children:n})}),l.jsx(F,{flex:1,children:l.jsx(B,{size:1,children:t.message})})]})}function stn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(B,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const atn=[],zDe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=atn}=t,s=i.length>0;return l.jsxs(re,{space:2,children:[l.jsxs(Y,{children:[l.jsx(B,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(F,{marginLeft:2,children:l.jsx(q0,{fontSize:1,validation:i})})]}),n&&l.jsx(B,{muted:!0,size:1,id:lh(r,n),children:n})]})}),moe=[],G0=h.memo(function(t){const{__unstable_headerActions:n=moe,__unstable_presence:r=moe,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:b}=MB();return l.jsxs(re,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:b,space:1,children:[d&&l.jsx(NDe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:l.jsx(zDe,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var goe=Object.freeze,ltn=Object.defineProperty,NB=(e,t)=>goe(ltn(e,"raw",{value:goe(t||e.slice())})),voe,yoe,boe;const xoe=P.legend(voe||(voe=NB([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),ctn=P(Y).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return fe(yoe||(yoe=NB([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ye(r[1]),X7({base:o,focusRing:n}))}),utn=P(F)(boe||(boe=NB([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),dtn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(B,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(xoe,{children:l.jsxs(ctn,{type:"button",onClick:o,children:[l.jsx(utn,{children:l.jsx(B,{muted:!0,size:1,children:l.jsx(J5,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(xoe,{children:s})});var woe=Object.freeze,ftn=Object.defineProperty,VDe=(e,t)=>woe(ftn(e,"raw",{value:woe(t||e.slice())})),Coe,_oe;function htn(e){return typeof e=="function"?e():e}const ptn=P(F).attrs({forwardedAs:"fieldset"})(Coe||(Coe=VDe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),mtn=P(F)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return fe(_oe||(_oe=VDe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ye(o[1]),X7({base:i,focusRing:{...r,offset:2}}))}),gP=[],pA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=gP,__unstable_presence:s=gP,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:b,title:x,validation:y=gP,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=MB(),k=y.length>0,T=cr(n),A=h.useCallback(O=>{T.current===O.target&&g&&g(O)},[T,g]),D=h.useCallback(()=>c?v==null?void 0:v():m==null?void 0:m(),[c,m,v]),I=h.useMemo(()=>c?null:l.jsx(on,{columns:d,gapX:4,gapY:5,children:htn(a)}),[a,c,d]);return l.jsxs(ptn,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[l.jsx(NDe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:l.jsxs(re,{space:2,children:[l.jsxs(Y,{children:[l.jsx(dtn,{collapsed:!!c,collapsible:u,onClick:u?D:void 0,title:x}),k&&l.jsx(F,{marginLeft:2,children:l.jsx(q0,{fontSize:1,validation:y})})]}),f&&l.jsx(B,{muted:!0,size:1,id:lh(w,f),children:f})]})}),l.jsx(mtn,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof b=="number"&&b>-1?A:void 0,ref:T,tabIndex:b,children:!c&&I})]})});var Soe=Object.freeze,gtn=Object.defineProperty,vtn=(e,t)=>Soe(gtn(e,"raw",{value:Soe(t||e.slice())})),Eoe;const ytn=P.div(Eoe||(Eoe=vtn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function btn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(ytn,{"data-max-avatars":n,"data-position":r,children:t})}var koe=Object.freeze,xtn=Object.defineProperty,wtn=(e,t)=>koe(xtn(e,"raw",{value:koe(t||e.slice())})),joe;const Ctn=P(se)(joe||(joe=wtn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),HDe=ie.createContext(null),UDe=function(t){const n=h.useContext(HDe),{listeners:r,attributes:o}=wje({id:n});return l.jsx(Ctn,{icon:d0e,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function _tn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Stn=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:_tn(o,r,n,e)};var Toe=Object.freeze,Etn=Object.defineProperty,Aoe=(e,t)=>Toe(Etn(e,"raw",{value:Toe(t||e.slice())})),Doe,Ioe;const zB="moving",WDe=P(F)(Ioe||(Ioe=Aoe([`
  `,`
`])),e=>e.$moving&&fe(Doe||(Doe=Aoe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),ktn={threshold:{x:0,y:.02}},jtn={coordinateGetter:M8t},Ttn={duration:200,easing:"ease"};function Atn(e){return e==="x"?L8t:B8t}function Dtn(e){return e==="x"?_8t:E8t}const Itn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=uLt(jQ(c7),jQ(a7,jtn)),d=h.useCallback(p=>{var m,v,g,b;const{active:x,over:y}=p;x.id!==(y==null?void 0:y.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(b=(g=y==null?void 0:y.data.current)==null?void 0:g.sortable)==null?void 0:b.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Stn({y:4}),...r?[Atn(r)]:[]],[r]);return l.jsx(f8t,{sensors:u,autoScroll:ktn,modifiers:f,collisionDetection:fLt,onDragEnd:d,onDragStart:i,children:l.jsx(j8t,{items:n,strategy:r?Dtn(r):void 0,children:l.jsx(on,{...c,children:a})})})}),Otn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=wje({id:r,transition:i?null:Ttn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:mx.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(WDe,{ref:p,style:f,$moving:d,className:d?zB:"","data-index":t["data-index"],children:o})});function VB(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(Itn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(on,{...i})}const HB=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(HDe.Provider,{value:t.id,children:r?l.jsx(Otn,{ref:n,...o}):l.jsx(WDe,{ref:n,...o})})});var Ooe=Object.freeze,Ptn=Object.defineProperty,Rtn=(e,t)=>Ooe(Ptn(e,"raw",{value:Ooe(t||e.slice())})),Poe;const $tn=P(te)(Poe||(Poe=Rtn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),zB);function mA(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return Ri(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx($tn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(re,{space:1,children:[l.jsxs(Y,{align:"center",children:[a&&l.jsx(F,{marginRight:1,paddingY:1,children:l.jsx(UDe,{paddingX:1,paddingY:3})}),l.jsx(F,{flex:1,children:s}),(o||t||c)&&l.jsxs(Y,{align:"center",marginLeft:1,children:[o&&l.jsx(F,{marginLeft:1,children:o}),t&&l.jsx(F,{marginLeft:1,children:t}),c]})]}),u]})})}var Roe=Object.freeze,Mtn=Object.defineProperty,gA=(e,t)=>Roe(Mtn(e,"raw",{value:Roe(t||e.slice())})),$oe,Moe,Foe,Loe;const Ftn=P.button($oe||($oe=gA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),Ltn=P(J5)(Moe||(Moe=gA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),Btn=P(Y)(Foe||(Foe=gA([`
  cursor: default;
`]))),Ntn=P(F)(Loe||(Loe=gA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Im(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(F,{...i,children:[l.jsx(Ftn,{type:"button",onClick:c,children:l.jsx(Btn,{align:"center",children:l.jsxs(qt,{children:[l.jsx(Ntn,{"data-open":s?"":void 0,children:l.jsx(B,{size:1,children:l.jsx(Ltn,{open:s})})}),r&&l.jsx(F,{marginLeft:1,children:r}),l.jsx(F,{flex:1,marginLeft:1,children:l.jsx(B,{size:1,weight:"medium",children:o})})]})})}),l.jsx(F,{hidden:!s,marginTop:3,children:t})]})}const ztn={warning:"caution",error:"critical",info:"positive"},Vtn={warning:l.jsx($r,{}),error:l.jsx(aa,{}),info:l.jsx(sm,{})};function vf(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(te,{radius:2,tone:ztn[n],...o,"data-ui":"Alert",children:l.jsx(Y,{padding:1,children:t&&l.jsx(F,{flex:1,children:l.jsx(Im,{icon:Vtn[n],title:r,children:l.jsx(F,{marginLeft:3,marginTop:3,children:t})})})})})}function UB(e){if(Ha(e))return e.name==="object"?{}:{_type:e.name};if(Rl(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function K0(e){if(!Ha(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...UB(e),_key:$w(12)}}const Htn={portal:!0,tone:"default",placement:"left",constrainSize:!0},vA=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx(Boe,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:g0e}),l.jsx(Boe,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:v0e})]})});function Boe(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(Ne,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(SL,{text:o,popover:Htn,children:t==null?void 0:t.map(s=>l.jsx(Ne,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const YDe=()=>{},vP={isLoading:!0,result:void 0,error:void 0,retry:YDe},Utn={isLoading:!1,result:void 0,error:void 0,retry:YDe};function yA(e,t){const n=h.useMemo(()=>new wr,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=ho(()=>zr(xe(null),r).pipe(ce(()=>e),t$(a=>a?t(a).pipe(ce(c=>({isLoading:!1,result:c,error:void 0,retry:o})),Jo(vP),On(c=>(console.error(c),xe({isLoading:!1,result:void 0,error:c,retry:o})))):xe(Utn))),[t,e,r,o],vP),s=vB(e,e);return e&&s!==e?vP:i}function qDe(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=p0(),v=lC(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,b=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:b}),[c,b,d]),y=qo(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=qo(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(Y,{align:"center",children:[l.jsx(F,{flex:1,children:f(x)}),l.jsx(F,{paddingLeft:3,children:l.jsxs(qt,{space:3,children:[p&&l.jsx(zt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&l.jsx(FB,{presence:v}),l.jsxs(qt,{space:4,children:[l.jsx(F,{children:l.jsx(lt,{portal:!0,content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(y):"Not published"})}),children:l.jsx(sr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(a0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(F,{children:l.jsx(lt,{portal:!0,content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(sr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(ku,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function GDe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(ah,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return l.jsx(zoe,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const y=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(Y,{align:"center",children:[l.jsx(F,{flex:1,children:c({layout:"default",schemaType:x,value:y,skipVisibilityCheck:!0})}),l.jsx(F,{children:l.jsx(qt,{space:4,children:f&&l.jsx(zt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return l.jsxs(qt,{space:2,children:[l.jsx(F,{padding:1,children:l.jsx(Y,{align:"center",children:l.jsx(F,{flex:1,paddingY:2,children:l.jsx(B,{muted:!0,children:"Document unavailable"})})})}),v||m?l.jsx(F,{children:l.jsx(lt,{portal:!0,content:m?l.jsxs(Noe,{title:"Not found",icon:Ev,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(Noe,{title:"Insufficient permissions",icon:Cf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(sr,{tone:"default",children:l.jsx(Ev,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,b=u.to.find(x=>x.name===g);return b?l.jsx(qDe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:b,renderPreview:c,showTypeLabel:f}):l.jsx(zoe,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function Noe(e){const t=e.icon;return l.jsxs(Y,{padding:3,children:[l.jsx(F,{children:l.jsx(B,{size:1,children:l.jsx(t,{})})}),l.jsxs(F,{flex:1,marginLeft:3,children:[l.jsx(B,{size:1,weight:"semibold",children:e.title}),l.jsx(F,{marginTop:3,children:l.jsx(B,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function zoe(e){return l.jsxs(Y,{align:"center",justify:"flex-start",children:[l.jsx(F,{padding:1,children:l.jsx(Y,{align:"center",children:l.jsx(F,{flex:1,paddingY:2,children:l.jsx(B,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(F,{children:l.jsx(lt,{portal:!0,content:l.jsxs(re,{space:3,padding:3,children:[l.jsxs(B,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(B,{size:1,children:["According to the schema, referenced documents can only be of type"," ",Wtn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(F,{padding:2,children:l.jsx(sr,{tone:"default",children:l.jsx(Ev,{})})})})})]})}const Wtn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var Voe=Object.freeze,Ytn=Object.defineProperty,qtn=(e,t)=>Voe(Ytn(e,"raw",{value:Voe(t||e.slice())})),Hoe;const Gtn=P(te)(Hoe||(Hoe=qtn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),KDe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(Gtn,{...s,...a,ref:n})}),ZDe=h.createContext(null);function Ktn(){const e=h.useContext(ZDe);return e||{menuRef:{current:null},containerRef:{current:null}}}function Ztn(e){const{menuRef:t,containerRef:n}=e;return l.jsx(ZDe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function Xtn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Qtn={portal:!0,tone:"default"},Jtn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function enn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:b,value:x,open:y,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:O}}=e,$=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,R=m.of,V=h.useRef(null),M=h.useRef(null),H=h.useRef(null),{EditReferenceLink:q,getReferenceInfo:U,selectedState:W,isCurrentDocumentLiveEdit:Q}=aN({path:v,schemaType:p,value:x});hA(V,y),Ri(j,(Tt,Et)=>{var Zt;!Tt&&Et&&V.current&&((Zt=V.current)==null||Zt.focus())});const N=e.validation.some(Tt=>Tt.level==="error"),K=e.validation.some(Tt=>Tt.level==="warning"),z=x._resolvingInitialValue,Z=h.useCallback(()=>{w({items:[{...x,_key:kx()}],position:"after"})},[w,x]),G=h.useCallback((Tt,Et)=>{w({items:[{...K0(Et),_key:kx()}],position:Tt})},[w]),J=yA(x==null?void 0:x._ref,U),X=x._ref,ee=((n=J.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),oe=X&&((s=(i=(o=J.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),de=h.useCallback(()=>{T([p.weak===!0?vt(!0,["_weak"]):et(["_weak"]),et(["_strengthenOnPublish"])])},[T,p.weak]),le=ee?p.to.find(Tt=>Tt.name===ee):void 0,ve=W==="pressed",Ce=W==="selected",be=Xtn({readOnly:g,hasErrors:N,hasWarnings:K}),me=!X||A[0]==="_ref",Ie=h.useMemo(()=>h.forwardRef(function(Et,Zt){return l.jsx(xm,{...Et,intent:"edit",params:{id:x==null?void 0:x._ref,type:le==null?void 0:le.name},target:"_blank",rel:"noopener noreferrer",ref:Zt})}),[le==null?void 0:le.name,x==null?void 0:x._ref]),Se=h.useCallback(()=>{D(X&&me?[]:["_ref"])},[X,me,D]),ot=h.useMemo(()=>g?null:l.jsx(F,{marginLeft:1,children:l.jsx(Jt,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:Bo}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Lt,{ref:M,children:[!g&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:uo,onClick:b}),l.jsx(Ne,{text:X&&me?"Cancel replace":"Replace",icon:X&&me?Ei:l0,onClick:Se}),l.jsx(Ne,{text:"Duplicate",icon:Eu,onClick:Z}),l.jsx(vA,{onInsert:G,types:R})]}),!g&&!me&&X&&l.jsx(Dr,{}),!me&&X&&l.jsx(Ne,{as:Ie,"data-as":"a",text:"Open in new tab",icon:am})]}),popover:Qtn})}),[g,S,b,X,me,Se,Z,G,R,Ie]),Ze=h.useCallback(()=>{T(p.weak===!0?vt(!0,["_weak"]):et(["_weak"]))},[T,p]),it=x!=null&&x._weak?"weak":"strong",_e=p.weak===!0?"weak":"strong",he=X&&!J.isLoading&&(x==null?void 0:x._strengthenOnPublish),He=!J.isLoading&&((a=J.result)==null?void 0:a.availability.available)&&X&&it!==_e&&!he,Ye=((c=J.result)==null?void 0:c.preview.draft)||((u=J.result)==null?void 0:u.preview.published),Me=l.jsxs(l.Fragment,{children:[Q&&oe&&x._strengthenOnPublish&&l.jsx(vf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=J.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:de,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),He&&l.jsx(vf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:it}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[_e,"."]})]}),l.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",Ye!=null&&Ye.title?l.jsxs(l.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",Ye!=null&&Ye.title?l.jsxs(l.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:Ze,text:l.jsxs(l.Fragment,{children:["Convert to ",_e," reference"]}),tone:"caution"})]})}),J.error&&l.jsx(vf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",J.error.message]}),l.jsx(se,{onClick:J.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),Ct=l.jsx(Ztn,{menuRef:M,containerRef:H,children:l.jsx(mA,{dragHandle:$,presence:!me&&C.length>0&&l.jsx(Jw,{presence:C,maxAvatars:1}),validation:!me&&_.length>0&&l.jsx(q0,{validation:_}),menu:ot,footer:me?void 0:Me,tone:me?void 0:be,focused:j,children:me?l.jsx(F,{padding:1,ref:H,children:l.jsx(pA,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):l.jsxs(KDe,{as:q,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:le==null?void 0:le.name,disabled:z,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:Ce,pressed:ve,"data-selected":Ce?!0:void 0,"data-pressed":ve?!0:void 0,...O,children:[l.jsx(GDe,{value:x,referenceInfo:J,renderPreview:I,type:p}),z&&l.jsx(te,{style:Jtn,tone:"transparent",radius:2,as:Y,justify:"center",children:l.jsxs(Y,{align:"center",justify:"center",padding:3,children:[l.jsx(F,{marginX:3,children:l.jsx(ur,{muted:!0})}),l.jsx(B,{children:"Resolving initial value"})]})})]})})});return l.jsx(ri,{path:v,isChanged:E,hasFocus:!!j,children:l.jsx(F,{paddingX:1,children:Ct})})}function Uoe(e){return Ha(e.schemaType)}function Woe(e){return Rl(e.schemaType)}function tnn(e){return e._key!==void 0}function _S(e){return tnn(e)?e:{...e,_key:kx(12)}}const XDe=4;function Yoe(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function nnn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XDe;const n=rnn(t);return function(){return Cr(n(e(...arguments)))}}function rnn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:XDe;const t=[],n=[],r=new wr;return o;function o(a){return new ht(c=>{if(t.length>=e)return i(a).pipe(ut(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{Yoe(t,u),Yoe(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(kCe(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const onn=4;function inn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return unn(n).pipe(On(()=>xe(null)),ut(f=>f?lnn(e,"sanity.".concat(t,"Asset"),f):xe(null)),ut(f=>f?xe({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(ce(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const QDe=nnn(inn,onn),snn=(e,t,n)=>QDe(e,"image",t,n),ann=(e,t,n)=>QDe(e,"file",t,n);function JDe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function eIe(e,t){return JDe(e,t)}function tIe(e,t){return JDe(e,t)}function lnn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function cnn(e){return new ht(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function unn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?xe(null):cnn(e).pipe(ut(t=>crypto.subtle.digest("SHA-1",t)),ce(dnn))}function dnn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function fnn(e,t){return new ht(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const hnn=/(invalid image format)|(No exif data)/i,pnn=128e3;function mnn(e){return Cr(fnn(e,pnn)).pipe(ce(t=>L9t(t)),On(t=>(hnn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),xe({}))))}function qoe(e){return[5,6,7,8].indexOf(e)>-1}function gnn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function Goe(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const vnn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],ynn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],bnn="top-left",xnn=120;function wnn(e,t){const n=vnn[t-1],r=e.height/e.width;e.width=xnn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(qoe(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&Goe(o,!0,!1),n.op==="flip-y"&&Goe(o,!1,!0),n.degrees&&(gnn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),qoe(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Cnn(e,t){return new ht(n=>{const r=ynn.indexOf(t)+1,o=wnn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function _nn(e){return new ht(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Snn(e,t){return _nn(window.URL.createObjectURL(e)).pipe(ut(n=>Cnn(n,t)))}const ul="_upload",Enn=et([ul]);function Ep(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const nIe=Ep([Enn]);function rIe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return Ep([vt(n,[ul])])}function knn(e,t,n){const r=snn(e,t,n).pipe(ft(i=>i.stage!=="download"),ce(i=>({...i,progress:2+i.percent/100*98})),ce(i=>i.type==="complete"?Ep([vt({_type:"reference",_ref:i.asset._id},["asset"]),vt(100,[ul,"progress"]),vt(new Date().toISOString(),[ul,"updatedAt"])]):Ep([vt(i.percent,[ul,"progress"]),vt(new Date().toISOString(),[ul,"updatedAt"])]))),o=mnn(t).pipe(ut(i=>Snn(t,i.orientation||bnn)),On(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),xe(null))),ft(Boolean),ce(i=>Ep([vt(i,[ul,"previewImage"])])));return zr(xe(rIe(t)),nn(r,o),xe(nIe))}function oIe(e,t,n){const r=ann(e,t,n).pipe(ce(o=>o.type==="complete"?Ep([vt({_type:"reference",_ref:o.asset._id},["asset"]),vt(100,[ul,"progress"]),vt(new Date().toISOString(),[ul,"updated"])]):Ep([vt(o.percent,[ul,"progress"]),vt(new Date().toISOString(),[ul,"updated"])])));return zr(xe(rIe(t)),r,xe(nIe))}const jnn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>knn(e,t,r)},Tnn={type:"file",accepts:"",upload:(e,t,n,r)=>oIe(e,t,r)},Ann={type:"string",accepts:"text/*",upload:(e,t,n,r)=>oIe(e,t,r).pipe(ce(o=>({type:"uploadProgress",patches:[vt(o)]})))},Dnn=[jnn,Ann,Tnn].map((e,t)=>({...e,priority:t}));function i4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function WB(e,t){return Dnn.find(n=>{var r;return mc(n.type,e)&&i4(t,n.accepts)&&i4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const Inn=["_key","_type","_weak"];function iIe(e){return Object.keys(e).every(t=>Inn.includes(t))}const Onn=(e,t)=>{const n=ks(t);return e.of.find(r=>r.name===n)};function Pnn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return vt(o,[...t,r])})}function sIe(e,t,n){return Cr(e).pipe(ut(r=>{const o={_key:r._key};return xe(Onn(t,r)).pipe(ut(i=>i?xe(i):Kn),ut(i=>!iIe(r)||!n?Kn:zr(xe({type:"patch",patches:[vt(!0,[o,"_resolvingInitialValue"])]}),lo(()=>n(i,r)).pipe(ft(fo),ce(s=>({type:"patch",patches:Pnn(s,[o])})),On(s=>xe({type:"error",error:s,item:r,schemaType:i}))),xe({type:"patch",patches:[et([o,"_resolvingInitialValue"])]}))))}))}const Koe="before",Zoe="after";function Rnn(e,t,n){if(t!==Koe&&t!==Zoe)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(Koe," or ").concat(Zoe));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=Xoe(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...Xoe(s)),d}function Xoe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const Qoe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function $nn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Mnn(e,t){if(typeof t=="number")return t;const n=W9(e,t);return n===-1?!1:n}function Fnn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!Qoe(t.value,"from")||!Qoe(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return $nn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=Mnn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return Rnn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=qB(n[i],{...t,path:o}),n}function Lnn(e,t){const n=b5e(e);if(t.path.length===0){if(t.type==="set"){if(!Yx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ai(n,r):(n[r]=qB(n[r],{...t,path:o}),n)}const aIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},Bnn=Object.keys(aIe);function Nnn(e,t){if(!Bnn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return aIe[t.type](e,t.value)}const lIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=UEe(YEe(t),e,{allowExceedingIndices:!0});return n}},znn=Object.keys(lIe);function Vnn(e,t){if(!znn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return lIe[t.type](e,t.value)}function YB(e,t){return t.reduce(qB,e)}function Hnn(e,t){return Array.isArray(e)?Fnn(e,t):lT(e)?Vnn(e,t):Yx(e)?Lnn(e,t):Nnn(e,t)}function qB(e,t){return Hnn(e,t)}function Unn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=fa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=oi().__internal,x=h.useRef(),y=h.useRef({});Ri(c.field.focused,(ee,oe)=>{var de;!ee&&oe&&((de=x.current)==null||de.focus())});const w=h.useCallback(ee=>{ee.currentTarget===ee.target&&ee.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(ee=>{ee.currentTarget===ee.target&&ee.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),_=h.useRef(c.field.value);h.useEffect(()=>{_.current=c.field.value},[c.field.value]);const S=h.useCallback(ee=>{const oe=ct.from(ee).patches;if(oe.some(le=>le.type==="unset"&&le.path.length===1)&&(_.current=YB(_.current||[],oe),Array.isArray(_.current)&&!_.current.length)){r(ct.from(et([c.name])));return}r(ct.from(ee).prepend(Gi([])).prefixAll(c.name))},[r,c.name,_]),E=$N(),j=zo(),k=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(ee=>{o(c.field.path.concat({_key:ee}),!0)},[o,c.field.path]),D=h.useCallback(ee=>{o(c.field.path.concat({_key:ee}),!1)},[o,c.field.path]),I=h.useCallback(ee=>{s(ee),o(ee,!1)},[s,o]),O=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),$=h.useCallback(ee=>{if(ee.items.length===0)throw new Error("Insert event should include at least one item");const oe=ee.items.map(Ce=>_S(Ce));S(ct.from([Qd(oe,ee.position,[ee.referenceItem])]));const de=oe[0]._key,le=[...c.field.path,{_key:de}];n(le);const ve=ee.open!==!1;ee.skipInitialValue?ve&&I(le):sIe(oe,c.field.schemaType,E).pipe(bn(Ce=>{Ce.type==="patch"?S(Ce.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(Ce.schemaType.title,": ").concat(Ce.error.message,"."),status:"error"})})).subscribe({complete:()=>{ve&&I(le)}})},[S,I,c.field.path,c.field.schemaType,n,E,j]),R=h.useCallback(ee=>{const oe=c.field.value,de=oe==null?void 0:oe[ee.fromIndex],le=oe==null?void 0:oe[ee.toIndex];if(ee.fromIndex!==ee.toIndex){if(!(de!=null&&de._key)||!(le!=null&&le._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([et([{_key:de._key}]),Qd([de],ee.fromIndex>ee.toIndex?"before":"after",[{_key:le._key}])])}},[S,c.field.value]),V=h.useCallback(ee=>{S([Gi([]),Qd([_S(ee)],"before",[0])])},[S]),M=h.useCallback(ee=>{S([Gi([]),Qd([_S(ee)],"after",[-1])])},[S]),H=h.useCallback(ee=>{y.current[ee]&&(y.current[ee].unsubscribe(),delete y.current[ee]),S([et([{_key:ee}])])},[S]),q=h.useCallback(ee=>{n(c.field.path.concat(ee))},[c.field.path,n]),U=h.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":lh(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),W=fr(sn),Q=oi(),N=Q.__internal.image.directUploads,K=Q.__internal.file.directUploads,z=h.useCallback((ee,oe)=>mc("image",ee)&&!N||mc("file",ee)&&!K?null:WB(ee,oe),[K,N]),Z=h.useCallback(ee=>{let{file:oe,schemaType:de,uploader:le}=ee;const ve=K0(de),Ce=ve._key;$({items:[ve],position:"after",referenceItem:-1,open:!1});const be=le.upload(W,oe,de).pipe(ce(me=>ct.from(me.patches||[]).prefixAll({_key:Ce})),bn(me=>S(me.patches)));y.current={...y.current,[Ce]:be.subscribe()}},[W,S,$]),G=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:O,onItemOpen:I,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:$,onItemMove:R,onItemRemove:H,onItemAppend:M,onItemPrepend:V,onPathFocus:q,resolveInitialValue:E,onUpload:Z,resolveUploader:z,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:U}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,D,A,O,I,S,$,R,H,M,V,q,E,Z,z,u,d,p,m,f,v,g,U]),J=h.useMemo(()=>m(G),[G,m]),X=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:k,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:J,inputProps:G}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,T,J,G]);return l.jsx(qw,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(X),[X,f])})}function cIe(e,t,n){return Tp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function Wnn(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=oi().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=fa();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(ct.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(Tp(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Ux(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Tp(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(ct.from(S?et():vt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,b=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:cIe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":lh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:b}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,b]),y=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:y,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,y,x]);return l.jsx(l.Fragment,{children:r(w)})}const Ynn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=fa(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}=t,{field:{actions:x}}=oi().__internal,y=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Ri(u.field.focused,(Q,N)=>{var K;!Q&&N&&((K=y.current)==null||K.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(Q=>{r(u.field.path.concat(Q))},[u.field.path,r]),E=h.useCallback(Q=>{if(!(u.field.path.length===0)){const K=ct.from(Q).patches;if(w.current=YB(w.current||{},K),w.current&&YOt(w.current)){o(ct.from(et([u.name])));return}}o(ct.from(Q).prepend(Gi(UB(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(Q=>{s(u.field.path.concat(Q),!0)},[s,u.field.path]),A=h.useCallback(Q=>{s(u.field.path.concat(Q),!1)},[s,u.field.path]),D=h.useCallback(Q=>{i(u.field.path.concat(Q))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),O=h.useCallback(Q=>{a(u.field.path.concat(Q),!1)},[a,u.field.path]),$=h.useCallback(Q=>{a(u.field.path.concat(Q),!0)},[a,u.field.path]),R=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),V=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),M=h.useCallback(Q=>{c(u.field.path,Q)},[c,u.field.path]),H=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:y,"aria-describedby":lh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),q=h.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:M,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:O,onFieldSetCollapse:$,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,M,D,I,T,A,O,$,S,E,d,f,p,m,v,g,b]),U=h.useMemo(()=>v(q),[q,v]),W=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:R,onClose:V,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:U,inputProps:q}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,R,V,U,q]);return l.jsx(qw,{onFieldGroupSelect:c,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(W),[W,p])})};function qnn(e,t){return new ht(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function Gnn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function Knn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function Znn(e){return/^\d+$/.test(e)}function Xnn(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{Ux(i)&&(n=!0),fve(i)&&(o=!0),Tp(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&Znn(e)?Number(e):o?e:void 0}function Qnn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return qnn(n,"utf-8").pipe(ce(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>Xnn(o,e)).filter(o=>o!==void 0)),ft(r=>Array.isArray(r)),ce(r=>({type:"uploadProgress",patches:[Qd(r,"after",[-1])]})))}}}function Jnn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=fa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=oi().__internal,x=h.useRef(),y=h.useRef(),w=fr(sn);Ri(c.field.focused,(N,K)=>{var z;!N&&K&&((z=x.current)==null||z.focus())});const C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(N=>{const K=ct.from(N).patches;if(K.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=YB(c.field.value||[],K);if(Array.isArray(Z)&&!Z.length){r(ct.from(et([c.name])));return}}r(ct.from(N).prepend(Gi([])).prefixAll(c.name))},[r,c.name,c.field.value]),E=h.useCallback(N=>{i(c.field.path,N)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),k=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(N=>{S(N.length===0?et():vt(N))},[S]),A=h.useCallback(N=>{const{value:K=[]}=c.field;N.fromIndex!==N.toIndex&&T(Gnn(K,N.fromIndex,N.toIndex))},[c.field,T]),D=h.useCallback(N=>{const{value:K=[]}=c.field;T(K.concat(N))},[c.field,T]),I=h.useCallback(N=>{const{value:K=[]}=c.field;T([N].concat(K||[]))},[c.field,T]),O=h.useCallback(N=>{const{value:K=[]}=c.field,z=N.referenceIndex+(N.position==="before"?-1:0);T(Knn(z,K,N.items))},[c.field,T]),$=h.useCallback(N=>{S(et([N]))},[S]),R=h.useCallback(N=>{n(c.field.path.concat([N]))},[c.field.path,n]),V=h.useMemo(()=>({onBlur:_,onFocus:C,id:c.field.id,ref:x,"aria-describedby":lh(c.field.id,c.field.schemaType.description)}),[_,C,c.field.id,c.field.schemaType.description]),M=h.useMemo(()=>Qnn(c.field.schemaType.of),[c.field.schemaType.of]),H=h.useCallback((N,K)=>i4(K,"text/*")?M:null,[M]),q=h.useCallback(N=>{let{file:K,schemaType:z,uploader:Z}=N;const G=Z.upload(w,K,z).pipe(ce(J=>ct.from(J.patches||[])),bn(J=>S(J.patches)));y.current&&y.current.unsubscribe(),y.current=G.subscribe()},[w,S]),U=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:E,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:V,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:O,onMoveItem:A,onItemRemove:$,onItemAppend:D,onItemPrepend:I,validation:c.field.validation,presence:c.field.presence,resolveUploader:H,onUpload:q,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:R,renderPreview:g}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,E,V,S,O,A,$,D,I,H,q,u,d,p,m,v,R,g]),W=h.useMemo(()=>m(U),[U,m]),Q=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:k,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:W,inputProps:U}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,j,W,U]);return l.jsx(qw,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Q),[Q,f])})}function uIe(e){return Ha(e.field.schemaType)}function ern(e){return Rl(e.field.schemaType)&&e.field.schemaType.of.every(t=>hve(t))}function GB(e){return Rl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ha(t))}const nC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return uIe(n)?l.jsx(Ynn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):ern(n)?l.jsx(Jnn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):GB(n)?l.jsx(Unn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(Wnn,{member:n,renderField:i,renderInput:a})}),dIe=["yes","true","1"],fIe=["false","no","false","0","null"],trn=dIe.concat(fIe),G_=()=>!0,nrn=e=>t=>t&&t[e],rrn=e=>t=>(t&&t._type)===e;function orn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function irn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const yP={string:{number:{test:Number,convert:Number},boolean:{test:e=>trn.includes(e.toLowerCase()),convert:e=>dIe.includes(e.toLowerCase())||!fIe.includes(e.toLowerCase())},richDate:{test:e=>Bu(e),convert:e=>({_type:"richDate",local:orn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:irn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:rrn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:nrn("utc"),convert:e=>e.utc}},number:{string:{test:G_,convert:String},boolean:{test:G_,convert:Number}},boolean:{string:{test:G_,convert:e=>e?"Yes":"No"},number:{test:G_,convert:Number}}};function srn(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(ct.from(Gi(n,["_type"])),o),[o,r,n]);return l.jsx(se,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function arn(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(ct.from(et()),o),[o,n]);return l.jsx(se,{onClick:i,tone:"critical",text:"Unset value"})}function lrn(e){let{validTypes:t,value:n,onChange:r}=e;const o=En(),i=t.length===1,s=o.has(t[0]);return l.jsx(Nc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Im,{open:zc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(B,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(B,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(re,{as:"ul",space:2,children:t.map(a=>l.jsx(B,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(re,{space:2,children:[l.jsxs(B,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(te,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(ir,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(on,{columns:[1,2,2],gap:1,children:[i&&l.jsx(srn,{onChange:r,targetType:t[0],value:n}),l.jsx(arn,{onChange:r,validTypes:t,value:n})]})]})})})}function crn(e,t,n){return t in yP?Object.keys(yP[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...yP[t][r]})).filter(r=>r.test(e)):[]}const hIe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(ct.from(et()))},[i]),a=h.useCallback(d=>{i(ct.from(vt(d)))},[i]),c=h.useMemo(()=>crn(n,r,o),[n,r,o]);if(_r(n)&&!("_type"in n))return l.jsx(lrn,{value:n,validTypes:o,onChange:i});const u=l.jsx(re,{padding:2,children:l.jsx(se,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(Nc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Im,{marginTop:4,open:zc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[o.length===1&&l.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(B,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(B,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(re,{as:"ul",space:2,children:o.map(d=>l.jsx(B,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(re,{marginTop:2,space:2,children:[l.jsxs(B,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(te,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(ir,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(re,{space:1,children:c.map(d=>l.jsx(urn,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});hIe.displayName="InvalidValueInput";function urn(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(se,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function drn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ct.from((t.value||[]).map((o,i)=>Gi($w(),[i,"_key"]))))},[t.value,n]);return l.jsx(G0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Nc,{status:"warning",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Im,{marginTop:4,open:zc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function frn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ct.from((t.duplicates||[]).map(o=>{let[i,s]=o;return vt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(G0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Nc,{status:"warning",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Im,{marginTop:4,open:zc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(B,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function hrn(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>_r(s)?[]:[a]).reverse().map(s=>et([s]));n(ct.from(i))};return l.jsx(G0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Nc,{status:"error",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Im,{marginTop:4,open:zc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(re,{space:3,children:l.jsx(B,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function bA(e){const{member:t}=e,{onChange:n}=fa(),r=h.useCallback(o=>{n(ct.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx(hIe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(drn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(frn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(hrn,{onChange:r,error:t.error}):l.jsxs(F,{children:["Unexpected error: ",e.member.error.type]})}const KB=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=fa(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(pA,{title:r.fieldSet.title||Cm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?l.jsx(bA,{member:v},r.key):l.jsx(nC,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},v.key))})});function ZB(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:b}=fa(),x=$N();Ri(n.item.focused,(z,Z)=>{var G;!z&&Z&&((G=t.current)==null||G.focus())});const y=h.useCallback(()=>{p(ct.from([et([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(z=>{m(z),v(z,!1)},[m,v]),C=zo(),_=h.useCallback(z=>{if(z.items.length===0)throw new Error("Insert event should include at least one item");const Z=z.items.map(oe=>_S(oe));p(ct.from([Qd(Z,z.position,[{_key:n.key}])]));const G=Z[0]._key,X=[...n.item.path.slice(0,-1),{_key:G}];f(X);const ee=z.open!==!1;z.skipInitialValue?ee&&w(X):sIe(Z,n.parentSchemaType,x).pipe(bn(oe=>{oe.type==="patch"?p(ct.from(oe.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(oe.schemaType.title,": ").concat(oe.error.message,"."),status:"error"})})).subscribe({complete:()=>{ee&&w(X)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(z=>{f(n.item.path.concat(z))},[n.item.path,f]),k=h.useCallback(z=>{p(ct.from(z).prepend(Gi(UB(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(z=>{v(n.item.path.concat(z),!0)},[v,n.item.path]),I=h.useCallback(z=>{v(n.item.path.concat(z),!1)},[v,n.item.path]),O=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),$=h.useCallback(z=>{m(n.item.path.concat(z))},[m,n.item.path]),R=h.useCallback(z=>{g(n.item.path.concat(z),!1)},[g,n.item.path]),V=h.useCallback(z=>{g(n.item.path.concat(z),!0)},[g,n.item.path]),M=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),H=!n.item.value||iIe(n.item.value),q=h.useCallback(()=>{H&&y();const z=n.item.path.slice(0,-1);m(z),f(z)},[H,m,n.item.path,f,y]),U=h.useCallback(z=>{b(n.item.path,z)},[b,n.item.path]),W=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":lh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),Q=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:O,onFieldCollapse:D,onFieldSetCollapse:V,onFieldExpand:I,onFieldSetExpand:R,onFieldGroupSelect:U,onPathFocus:j,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:W}),[W,k,O,D,V,I,R,j,$,U,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),N=h.useMemo(()=>a(Q),[Q,a]),K=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:y,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:M,onClose:q,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:Q}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,y,M,q,A,T,E,S,N,Q]);return l.jsx(qw,{onFieldGroupSelect:b,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(K),[K,c])})}function XB(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function prn(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=fa();Ri(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(C=>{u(ct.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(Tp(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Ux(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Tp(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(vt(S?XB(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:mrn(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":lh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),b=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(ct.from([et([n.index])]))},[n.index,u]),y=h.useCallback(C=>{u(ct.from([Qd(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:y,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:b}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,y,x,f,d,b]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function mrn(e,t,n){return Object.is(t,-0)?"":cIe(e,t,n)}var Joe=Object.freeze,grn=Object.defineProperty,vrn=(e,t)=>Joe(grn(e,"raw",{value:Joe(t||e.slice())})),eie;const yrn=P(te)(eie||(eie=vrn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function pIe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);lr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(an,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(yrn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(re,{space:4,children:[l.jsxs(B,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(B,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(B,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(F,{children:l.jsxs(B,{size:1,children:[l.jsx(G5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(re,{space:2,children:[l.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(te,{padding:2,overflow:"auto",border:!0,children:l.jsx(ir,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(te,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(Y,{align:"center",children:[l.jsx(F,{marginRight:3,children:l.jsx(B,{children:l.jsx(yl,{})})}),l.jsx(F,{flex:1,children:l.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function brn(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(pIe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const xrn=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(nC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(bA,{member:n},n.key):n.kind==="fieldSet"?l.jsx(KB,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function wrn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(xrn,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const G1=e=>{let{children:t}=e;return t};function Crn(e){return"absolutePath"in e}const mIe=h.memo(function(t){const n=h.useMemo(()=>Crn(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(_rn,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),_rn=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(b=>{if(yn(b.path,n)||yi(n,b.path))return a(b);if(!Uoe(b)&&!Woe(b))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(b.path)));return l.jsx(e,{...b,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(b=>yi(n,b.path)&&(t.includeField||!yn(n,b.path))?i(b):G1(b),[n,i,t.includeField]),p=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!yn(n,b.path))?c(b):G1(b),[n,c,t.includeItem]),m=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!yn(n,b.path))?o(b):G1(b),[n,o,t.includeItem]),v=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!yn(n,b.path))?s(b):G1(b),[n,s,t.includeItem]),g=h.useCallback(b=>yi(n,b.path)&&(t.includeItem||!yn(n,b.path))?r(b):G1(b),[n,r,t.includeItem]);if(Woe(t)){const b=Py(t.path,n),x=t.members.find(y=>y.kind=="item"&&Or(b[0])&&y.key===b[0]._key);if(!x){const w=Py(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(brn,{member:x}):l.jsx(ZB,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(Uoe(t)){const b=Py(t.path,n),x=t.members.find(y=>y.kind=="field"&&b[0]===y.name);if(!x){const y=b[0];return l.jsxs("div",{children:["Field ",JSON.stringify(y)," not found among members  please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(nC,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),gIe=h.createContext(null);function Srn(){const e=h.useContext(gIe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function Tx(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(gIe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Ern=[0,0,1,0];function vIe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(eC,{margins:Ern,children:l.jsx(F,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx(Tx,{scrollElement:u,containerElement:f,children:l.jsx(Ii,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(RWt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx(Tx,{scrollElement:u,containerElement:f,children:p})})}function krn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const jrn={portal:!0,tone:"default"},Trn={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},Arn={position:"relative"};function Drn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);hA(j,m),Ri(w,(W,Q)=>{var N;!W&&Q&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:kx()}],position:"after"})},[v,p]),A=h.useCallback((W,Q)=>{v({items:[K0(Q)],position:W})},[v]),D=H0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(Jw,{presence:D,maxAvatars:1}),[D]),O=wB(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(q0,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(W=>W.level==="error"),V=O.some(W=>W.level==="warning"),M=h.useMemo(()=>d?null:l.jsx(Jt,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Lt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:uo,onClick:f}),l.jsx(Ne,{text:"Duplicate",icon:Eu,onClick:T}),l.jsx(vA,{types:E,onInsert:A})]}),popover:jrn}),[T,A,f,E,e.inputId,d]),H=krn({readOnly:d,hasErrors:R,hasWarnings:V}),q=l.jsx(mA,{menu:M,presence:I,validation:$,tone:H,focused:w,dragHandle:S,selected:m,children:l.jsxs(te,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,style:Arn,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&l.jsx(te,{style:Trn,tone:"transparent",radius:2,as:Y,justify:"center",children:l.jsxs(Y,{align:"center",justify:"center",padding:3,children:[l.jsx(F,{marginX:3,children:l.jsx(ur,{muted:!0})}),l.jsx(B,{size:1,muted:!0,children:"Resolving initial value"})]})})]})}),U=Sp(a);return l.jsxs(l.Fragment,{children:[l.jsx(ri,{path:u,isChanged:y,hasFocus:!!w,children:l.jsx(F,{paddingX:1,children:q})}),m&&l.jsx(vIe,{header:d?"View ".concat(U):"Edit ".concat(U),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function Irn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Su(e)?enn:Drn}function xA(e){const t=Po(e),{value:n}=oi();return wl(n,t)}function wA(){const e=xA(["_id"]);if(typeof e=="string")return Pn(e)}function Orn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Prn={portal:!0,tone:"default"};function Rrn(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:b,inputProps:x}=e,{readOnly:y,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=wA(),k=h.useCallback(()=>x.onChange(et()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:O}=aN({path:m,schemaType:p,value:T});hA(f,v),Ri(w,(be,me)=>{!be&&me&&f.current&&f.current.focus()});const $=e.validation.some(be=>be.level==="error"),R=e.validation.some(be=>be.level==="warning"),V=yA(T==null?void 0:T._ref,D),M=((t=V.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),H=M?p.to.find(be=>be.name===M):void 0,q=I==="pressed",U=I==="selected",W=T==null?void 0:T._ref,Q=W&&((i=(o=(r=V.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{_([p.weak===!0?vt(!0,["_weak"]):et(["_weak"]),et(["_strengthenOnPublish"])])},[_,p.weak]),K=h.useCallback(()=>{_(p.weak===!0?vt(!0,["_weak"]):et(["_weak"]))},[_,p]),z=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),Z=T!=null&&T._weak?"weak":"strong",G=p.weak===!0?"weak":"strong",J=W&&!V.isLoading&&(T==null?void 0:T._strengthenOnPublish),X=!V.isLoading&&((s=V.result)==null?void 0:s.availability.available)&&W&&Z!==G&&!J,ee=Orn({readOnly:y,hasErrors:$,hasWarnings:R}),oe=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",de=((a=V.result)==null?void 0:a.preview.draft)||((c=V.result)==null?void 0:c.preview.published),le=l.jsxs(l.Fragment,{children:[O&&Q&&T._strengthenOnPublish&&l.jsx(vf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=V.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:N,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),X&&l.jsx(vf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Z}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[G,"."]})]}),l.jsx(B,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",de!=null&&de.title?l.jsxs(l.Fragment,{children:['"',de==null?void 0:de.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",de!=null&&de.title?l.jsxs(l.Fragment,{children:['"',de==null?void 0:de.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:K,text:l.jsxs(l.Fragment,{children:["Convert to ",G," reference"]}),tone:"caution"})]})}),V.error&&l.jsx(vf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",V.error.message]}),l.jsx(se,{onClick:V.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),ve=h.useMemo(()=>h.forwardRef(function(me,Ie){return l.jsx(xm,{...me,intent:"edit",params:{id:T==null?void 0:T._ref,type:H==null?void 0:H.name},target:"_blank",rel:"noopener noreferrer",ref:Ie})}),[H==null?void 0:H.name,T==null?void 0:T._ref]),Ce=h.useMemo(()=>y?null:l.jsx(F,{marginLeft:1,children:l.jsx(Jt,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:Bo}),id:"".concat(g,"-menuButton"),menu:l.jsxs(Lt,{children:[!y&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Clear",tone:"critical",icon:uo,onClick:k}),l.jsx(Ne,{text:"Replace",icon:l0,onClick:z})]}),!y&&(T==null?void 0:T._ref)&&l.jsx(Dr,{}),(T==null?void 0:T._ref)&&l.jsx(Ne,{as:ve,"data-as":"a",text:"Open in new tab",icon:am})]}),popover:Prn})}),[k,z,g,ve,y,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(Gw,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),l.jsx(Qw,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(G0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:oe?l.jsx(F,{children:b}):l.jsx(te,{shadow:1,radius:1,padding:1,tone:ee,children:l.jsxs(re,{space:1,children:[l.jsxs(Y,{gap:1,align:"center",children:[l.jsx(KDe,{__unstable_focusRing:!0,as:A,"data-pressed":q?!0:void 0,"data-selected":U?!0:void 0,documentId:T==null?void 0:T._ref,documentType:H==null?void 0:H.name,flex:1,paddingX:2,paddingY:1,pressed:q,radius:2,ref:f,selected:U,tone:"inherit",children:l.jsx(GDe,{value:T,referenceInfo:V,renderPreview:C,type:p})}),l.jsx(F,{children:Ce})]}),le]})})})})]})}function yIe(e,t){return Vn(e.options,t)}const tie=["array","file","image","reference","slug"],$rn=["asset","crop","hotspot","_ref","_weak"],Mrn=["tags"],Frn=["slug"];function QB(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?QB(e.type,t):[];return[e,...n]}function Lrn(e,t){return Rl(e)?Nrn(e,t):Brn(e,t)}function Brn(e,t){var n,r,o;const{type:i,options:s}=e,a=bIe(i,tie),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(Frn.includes(u))return 0;const d=tie.includes(u),f=((n=c==null?void 0:c.filter(m=>!$rn.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function Nrn(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=Mrn.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function bIe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return bIe(e.type,t)}const i5=[];function zrn(e){return l.jsx(ri,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function bP(e){const[t,n]=h.useState(i5),r=wA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(Gw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(Qw,{actions:t,focused:o,path:e.path,children:l.jsx(G0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(ri,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function Vrn(e){const[t,n]=h.useState(i5),r=wA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(Gw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(Qw,{actions:t,focused:o,path:e.path,children:l.jsx(pA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Hrn(e){const[t,n]=h.useState(i5),r=wA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||i5);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(Gw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(Qw,{actions:t,focused:o,path:e.path,children:l.jsx(pA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Urn(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(Ux(e))return zrn;const n=QB(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?Hrn:n.some(r=>nF(r))||n.some(r=>r.name==="slug")?bP:n.some(r=>Su(r))?Rrn:e.jsonType!=="object"&&e.jsonType!=="array"?bP:Vrn}function Wrn(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>cx(a,{allowedDecorators:t}));const s=[Qd(o,"after",[{_key:n._key}])];return r(ct.from(s))}}function Yrn(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[vt(cx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(ct.from(i))}}function qrn(e){const{block:t,onChange:n}=e;return()=>{const r=[et([{_key:t._key}])];return n(ct.from(r))}}var nie=Object.freeze,Grn=Object.defineProperty,Krn=(e,t)=>nie(Grn(e,"raw",{value:nie(t||e.slice())})),rie;const Zrn=P.div(rie||(rie=Krn([`
  display: flex;
  pointer-events: all;
`])));function xIe(e){const t=po(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:ke.getValue(t),set:Yrn({allowedDecorators:i,block:n,onChange:r}),unset:qrn({block:n,onChange:r}),insert:Wrn({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(Zrn,{contentEditable:!1,children:s}):null}var oie=Object.freeze,Xrn=Object.defineProperty,Qrn=(e,t)=>oie(Xrn(e,"raw",{value:oie(t||e.slice())})),iie;const wIe=P.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=At(o.spot.yellow,.2);return fe(iie||(iie=Qrn([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var sie=Object.freeze,Jrn=Object.defineProperty,eon=(e,t)=>sie(Jrn(e,"raw",{value:sie(t||e.slice())})),aie;const CIe=P(ri)(()=>fe(aie||(aie=eon([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function CA(e){return e.type?CA(e.type):e.name==="block"}function ton(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const non=["@@_NONEXISTENT_PATH_@@"];function _A(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:Un,r=wB((e==null?void 0:e.path)||non),o=h.useMemo(()=>e!=null&&e.schemaType&&CA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=xB(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const _Ie=h.createContext([]);function ron(e){return l.jsx(_Ie.Provider,{value:e.markers,children:e.children})}function SA(e){const t=h.useContext(_Ie);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>yn(r.path,e)),[t,e])}const JB=h.createContext([]);function oon(e){return l.jsx(JB.Provider,{value:e.memberItems,children:e.children})}function EA(e){const t=h.useContext(JB);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function ion(){const e=h.useContext(JB);if(!e)throw new Error("Form context not provided");return e}var lie=Object.freeze,son=Object.defineProperty,qu=(e,t)=>lie(son(e,"raw",{value:lie(t||e.slice())})),cie,uie,die,fie,hie,pie,mie,gie,vie;const aon=P(te)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=fe(cie||(cie=qu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return fe(uie||(uie=qu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?pe.purple[950].hex:pe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),lon=P(F)(die||(die=qu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),con=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return fe(hie||(hie=qu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&fe(fie||(fie=qu([`
        display: none;
      `]))))}),uon=P(Y)(pie||(pie=qu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),don=P(F)(mie||(mie=qu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),fon=P(Y)(gie||(gie=qu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),hon=P(F)(vie||(vie=qu([`
  max-width: 250px;
`]))),pon={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function mon(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>Xu(a)?h.forwardRef(function(v,g){return l.jsx(xm,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Ji(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(Y,{children:[l.jsx(F,{flex:1,children:t}),l.jsx(F,{children:l.jsx(Jt,{button:l.jsx(se,{"aria-label":"Open menu",fontSize:1,iconRight:Bo,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Lt,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(Ne,{as:f,"data-as":"a",icon:Sf,text:"Open reference"}),s&&l.jsx(Ne,{icon:_F,onClick:o,text:"View"}),!s&&l.jsx(Ne,{icon:ku,onClick:o,text:"Edit"}),!s&&l.jsx(Ne,{icon:uo,onClick:p,text:"Delete",tone:"critical"})]})}),popover:pon})})]})}const SIe=e=>Array.isArray(e)?e.flatMap(SIe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],gon=e=>e==="dialog"||e==="popover"?e:void 0;function von(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:gon(n.type),width:SIe(n.width)}:void 0}function yon(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Ii,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(eC,{margins:[0,0,1,0],children:l.jsx(Tx,{scrollElement:a,containerElement:u,children:l.jsx(F,{padding:4,ref:u,children:n})})})})}var yie=Object.freeze,bon=Object.defineProperty,eN=(e,t)=>yie(bon(e,"raw",{value:yie(t||e.slice())})),bie,xie,wie;const xon=P(an)(bie||(bie=eN([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),won=P(F)(xie||(xie=eN([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Con=P(F)(wie||(wie=eN([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),_on=["top","bottom"];function Son(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(xon,{content:l.jsx(Eon,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:_on,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function Eon(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Ji(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),lr(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx(Tx,{scrollElement:s,containerElement:c,children:l.jsxs(Y,{ref:c,direction:"column",height:"fill",children:[l.jsx(Con,{flex:"none",padding:1,children:l.jsxs(Y,{align:"center",children:[l.jsx(F,{flex:1,padding:2,children:l.jsx(B,{weight:"semibold",children:o})}),l.jsx(se,{autoFocus:!!i,icon:Ei,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(won,{flex:1,children:l.jsx(eC,{margins:[0,0,1,0],children:l.jsx(F,{padding:3,ref:a,children:e.children})})})]})})}function tN(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>von(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(Son,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(yon,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function kon(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=fa(),{Markers:k}=oi().__internal.components,[T,A]=h.useState(!1),D=SA(c),I=po(),O=EA(xn(c)),$=h.useRef(!1),R=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),V=h.useCallback(()=>A(!0),[]),M=h.useCallback(()=>A(!1),[]),H=h.useCallback(()=>{O&&(ke.blur(I),s(O.node.path))},[I,O,s]),q=h.useCallback(()=>{i(),ke.select(I,R),ke.focus(I)},[i,I,R]),U=h.useCallback(()=>{if(!$.current)try{ke.delete(I,R,{mode:"blocks"})}catch(me){console.error(me)}finally{$.current=!0}},[I,R]);h.useEffect(()=>()=>{$.current&&ke.focus(I)},[I]);const W=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:Q,hasError:N,hasWarning:K,hasInfo:z}=_A(O==null?void 0:O.node),Z=I.schemaTypes.portableText,G=D.length>0,J=H0(c,!0),X=h.useMemo(()=>J.filter(me=>yn(me.path,c)),[c,J]),ee=N||K||z||G,oe=h.useMemo(()=>ee&&l.jsx(hon,{padding:2,children:l.jsx(k,{markers:D,validation:Q,renderCustomMarkers:g})})||null,[k,D,g,ee,Q]),de=!!(O!=null&&O.member.open),le=O==null?void 0:O.input,ve=(O==null?void 0:O.node.path)||Un,Ce=(t=O==null?void 0:O.elementRef)==null?void 0:t.current,be=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:Ce||null,children:le,focused:r,markers:D,onClose:q,onOpen:H,onPathFocus:a,onRemove:U,open:de,parentSchemaType:Z,path:ve,presence:X,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:EIe,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:Q,value:E}),[n,Ce,le,r,D,q,H,a,U,de,Z,ve,X,u,d,p,m,b,x,y,w,C,_,S,Q,E]);return h.useMemo(()=>l.jsx(F,{ref:O==null?void 0:O.elementRef,contentEditable:!1,children:l.jsx(Y,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs(uon,{flex:1,children:[l.jsx(lt,{placement:"top",portal:"editor",disabled:!ee,content:oe,children:l.jsx(lon,{...W,children:m&&m(be)})}),l.jsx(don,{marginRight:1,children:l.jsx(fon,{children:v&&E&&r&&!u&&l.jsx(xIe,{block:E,onChange:j,renderBlockActions:v})})}),o&&O&&l.jsx(con,{$hasChanges:O.member.item.changed,onMouseOut:M,onMouseOver:V,children:l.jsx(CIe,{hasFocus:r,isChanged:O.member.item.changed,path:O.member.item.path,withHoverEffect:!1})}),T&&l.jsx(wIe,{})]})})}),[be,r,M,V,W,o,O,j,u,m,v,T,oe,ee,E])}const EIe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:b}=e,x=lMe(g),y=b.filter(E=>E.level==="error").length>0,w=b.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx(aon,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":y?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:l.jsx(mon,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&l.jsx(tN,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},K1=[1,2,3,4,5,6,7,8,9],Cie=["","",""],_ie=["number","lower-alpha","lower-roman"],jon={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},Ton={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Kh(e){return"list-level-".concat(e)}var Sie=Object.freeze,Aon=Object.defineProperty,Ac=(e,t)=>Sie(Aon(e,"raw",{value:Sie(t||e.slice())})),Eie,kie,jie,Tie,Aie,Die,Iie,Oie,Pie,Rie;function Don(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=_ie[(n-1)%_ie.length],u=Cie[(n-1)%Cie.length];return fe(Eie||(Eie=Ac([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?pe.purple[950].hex:pe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,Kh(n),Kh(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const Ion=P.div(Don),Oon=P(F)(kie||(kie=Ac([`
  position: relative;
  display: flex;
`]))),Pon=P.div(jie||(jie=Ac([`
  user-select: none;
  white-space: nowrap;
`]))),Ron=P(F)(Tie||(Tie=Ac([`
  user-select: none;
`]))),$on=P(F)(Aie||(Aie=Ac([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),Mon=P(Y)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return fe(Die||(Die=Ac([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Fon=P(F)(Iie||(Iie=Ac([`
  max-width: 250px;
`]))),Lon=P(Y)(Oie||(Oie=Ac([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),Bon=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return fe(Rie||(Rie=Ac([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&fe(Pie||(Pie=Ac([`
        display: none;
      `]))))});var $ie=Object.freeze,Non=Object.defineProperty,kIe=(e,t)=>$ie(Non(e,"raw",{value:$ie(t||e.slice())})),Mie,Fie;const pd=P.div(Mie||(Mie=kIe([`
  display: block;
`]))),nN=e=>{let{children:t,...n}=e;return l.jsx(B,{"data-testid":"text-style--normal",...n,children:l.jsx(pd,{children:t})})},jIe=e=>{let{children:t,...n}=e;return l.jsx(No,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(pd,{children:t})})},TIe=e=>{let{children:t,...n}=e;return l.jsx(No,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(pd,{children:t})})},AIe=e=>{let{children:t,...n}=e;return l.jsx(No,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(pd,{children:t})})},DIe=e=>{let{children:t,...n}=e;return l.jsx(No,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(pd,{children:t})})},IIe=e=>{let{children:t,...n}=e;return l.jsx(No,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(pd,{children:t})})},OIe=e=>{let{children:t,...n}=e;return l.jsx(No,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(pd,{children:t})})},zon=P.blockquote(Fie||(Fie=kIe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),PIe=e=>{let{children:t,...n}=e;return l.jsx(zon,{"data-testid":"text-style--blockquote",...n,children:l.jsx(B,{as:"p",children:t})})},xP={normal:nN,h1:jIe,h2:TIe,h3:AIe,h4:DIe,h5:IIe,h6:OIe,blockquote:PIe};function Von(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=oi().__internal.components,[k,T]=h.useState(!1),A=SA(c),D=EA(xn(c)),I=po(),{onChange:O}=fa(),$=H0(c,!0),R=h.useMemo(()=>$.filter(le=>yn(le.path,c)||le.path.slice(-3)[1]==="children"&&le.path.length-c.length===2),[c,$]),V=h.useCallback(()=>T(!0),[]),M=h.useCallback(()=>T(!1),[]),{validation:H,hasError:q,hasWarning:U,hasInfo:W}=_A(D==null?void 0:D.node),Q=!!v&&A.length>0,N=q||U||Q||W,K=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),z=h.useCallback(()=>{const le={path:c.slice(-1),offset:0},ve={focus:le,anchor:le};ke.delete(I,ve,{mode:"blocks"}),ke.focus(I)},[c,I]),Z=h.useMemo(()=>l.jsxs(Lon,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&l.jsx(Pon,{contentEditable:!1,children:l.jsx(B,{"data-list-prefix":"",children:l.jsx(pd,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),G=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),J=h.useMemo(()=>E.listItem?{paddingY:2}:Ton[E.style||"normal"]||{paddingY:2},[E]),X=!!(D!=null&&D.member.open),ee=I.schemaTypes.portableText,oe=h.useMemo(()=>{var le;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((le=D==null?void 0:D.elementRef)==null?void 0:le.current)||null,children:Z,focused:r,markers:A,onClose:i,onOpen:K,onPathFocus:a,onRemove:z,open:X,parentSchemaType:ee,path:(D==null?void 0:D.node.path)||Un,presence:R,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:RIe,renderField:g,renderInput:x,renderInlineBlock:b,renderItem:y,renderPreview:w,schemaType:C,selected:_,validation:H,value:E}},[n,r,X,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,K,a,z,ee,u,d,p,f,g,b,x,y,w,C,_,Z,R,H,E]),de=h.useMemo(()=>N&&l.jsx(Fon,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:v,validation:H})})||null,[j,A,v,N,H]);return h.useMemo(()=>l.jsx(F,{"data-testid":"text-block",...J,style:void 0,ref:D==null?void 0:D.elementRef,children:l.jsx(Oon,{"data-testid":"text-block__wrapper",children:l.jsxs(Y,{flex:1,...G,children:[l.jsx(F,{flex:1,children:l.jsx(lt,{content:de,disabled:!N,placement:"top",portal:"editor",children:l.jsx(Ion,{$level:E.level||1,"data-error":q?"":void 0,"data-list-item":E.listItem,"data-markers":Q?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":U?"":void 0,spellCheck:S,children:f&&f(oe)})})}),l.jsxs(Ron,{contentEditable:!1,children:[l.jsx($on,{marginRight:1,children:l.jsx(Mon,{children:m&&r&&!u&&l.jsx(xIe,{onChange:O,block:E,renderBlockActions:m})})}),o&&D&&l.jsx(Bon,{$hasChanges:D.member.item.changed,onMouseEnter:V,onMouseLeave:M,children:l.jsx(CIe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&l.jsx(wIe,{})]})})}),[oe,r,V,M,q,Q,U,G,o,D,O,J,u,f,m,k,S,de,N,E])}const RIe=e=>l.jsx(l.Fragment,{children:e.children});var Lie=Object.freeze,Hon=Object.defineProperty,Uon=(e,t)=>Lie(Hon(e,"raw",{value:Lie(t||e.slice())})),Bie;const Won=P(an)(Bie||(Bie=Uon([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Yon=["top","bottom"];function qon(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=Ts(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Ji(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var b;if(!((b=f.current)!=null&&b.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>l.jsx(F,{padding:1,children:l.jsxs(qt,{space:1,children:[l.jsx(F,{padding:2,children:l.jsx(B,{weight:"semibold",size:1,children:a})}),l.jsx(se,{icon:ku,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(se,{ref:f,icon:uo,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(Won,{constrainSize:!0,content:v,fallbackPlacements:Yon,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var Nie=Object.freeze,Gon=Object.defineProperty,rN=(e,t)=>Nie(Gon(e,"raw",{value:Nie(t||e.slice())})),zie,Vie,Hie;const Kon=P(te)(Qon),Zon=P.span(zie||(zie=rN([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),Xon=P(F)(Vie||(Vie=rN([`
  max-width: 250px;
`])));function Qon(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return fe(Hie||(Hie=rN([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?pe.purple[950].hex:pe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const Jon=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:b,renderInput:x,renderPreview:y,schemaType:w,selected:C,value:_}=e,{Markers:S}=oi().__internal.components,E=po(),j=SA(a),k=EA(xn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=_A(k==null?void 0:k.node),O=E.schemaTypes.block,$=j.length>0,R=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),V=h.useCallback(()=>{ke.delete(E,R,{mode:"children"}),ke.focus(E)},[R,E]),M=h.useCallback(()=>{k&&(ke.blur(E),i(k.node.path))},[E,i,k]),H=h.useCallback(()=>{o(),ke.select(E,R),ke.focus(E)},[o,E,R]),q=!!(k!=null&&k.member.open),U=k==null?void 0:k.input,W=(k==null?void 0:k.node.path)||Un,Q=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,N=H0(a,!0),K=h.useMemo(()=>N.filter(J=>yn(J.path,a)),[a,N]),z=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:Q,children:U,focused:r,onClose:H,onOpen:M,onPathFocus:s,onRemove:V,open:q,markers:j,member:k==null?void 0:k.member,parentSchemaType:O,path:W,presence:K,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:$Ie,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:g,renderPreview:y,schemaType:w,selected:C,value:_,validation:T}),[n,r,U,q,j,k==null?void 0:k.member,W,H,M,s,V,O,c,u,Q,f,p,v,b,x,g,y,K,w,C,T,_]),Z=A||I||D||$,G=h.useMemo(()=>Z&&l.jsx(Xon,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,Z,T]);return h.useMemo(()=>l.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:l.jsx(lt,{placement:"bottom",portal:"editor",disabled:!Z,content:G,children:b&&l.jsx("span",{style:{position:"relative"},children:b(z)})})}),[z,k==null?void 0:k.elementRef,b,G,Z])},$Ie=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:b}=e,x=s.length>0,[y,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(Kon,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:l.jsx(Zon,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:b,fallbackTitle:"Click to edit"})})}),r&&l.jsx(qon,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:y,referenceBoundary:n,referenceElement:r,title:C}),d&&l.jsx(tN,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var Uie=Object.freeze,ein=Object.defineProperty,tin=(e,t)=>Uie(ein(e,"raw",{value:Uie(t||e.slice())})),Wie;const nin=P(an)(Wie||(Wie=tin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),rin=["top","bottom"];function oin(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=Ts(),g=h.useRef(null),b=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Ji(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const y=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",y,{passive:!0}),()=>{document.removeEventListener("selectionchange",y)}),[y]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?l.jsx(nin,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(F,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(qt,{space:1,children:[l.jsx(F,{padding:2,children:l.jsx(B,{weight:"semibold",size:1,children:c})}),l.jsx(se,{icon:ku,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(se,{icon:uo,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:rin,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:b}):null}var Yie=Object.freeze,iin=Object.defineProperty,MIe=(e,t)=>Yie(iin(e,"raw",{value:Yie(t||e.slice())})),qie,Gie;const sin=P.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return fe(qie||(qie=MIe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?pe.purple[950].hex:pe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),ain=P(F).attrs({forwardedAs:"span"})(Gie||(Gie=MIe([`
  max-width: 250px;
`])));function lin(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=WAe}=oi().__internal.components,j=po(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=EA(xn(k)),{validation:O}=_A(I==null?void 0:I.node),$=SA(u),R=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),V=h.useCallback(()=>{I&&(ke.blur(j),c(I.node.focusPath),a(I.node.path))},[j,I,a,c]),M=h.useCallback(()=>{s();const X=ke.getSelection(j),ee=(X==null?void 0:X.focus.path)&&yn(X.focus.path,D)&&X.focus.offset,oe=(X==null?void 0:X.anchor.path)&&yn(X.anchor.path,D)&&X.anchor.offset;ke.select(j,{anchor:{path:D,offset:oe||0},focus:{path:D,offset:ee||0}}),ke.focus(j)},[j,D,s]),H=h.useCallback(()=>{ke.removeAnnotation(j,C),ke.focus(j)},[j,C]),q=h.useMemo(()=>O.length>0||$.length>0?l.jsx(lt,{placement:"bottom",portal:"default",content:l.jsx(ain,{padding:2,children:l.jsx(E,{markers:$,renderCustomMarkers:v,validation:O})}),children:R}):void 0,[E,$,v,R,O]),U=H0(u,!0),W=h.useMemo(()=>U.filter(X=>yn(X.path,u)),[u,U]),Q=!!(I!=null&&I.member.open),N=I==null?void 0:I.input,K=(I==null?void 0:I.node.path)||Un,z=T,Z=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:z,__unstable_textElementFocus:r,children:N,focused:i,markers:$,onClose:M,onOpen:V,onPathFocus:c,onRemove:H,open:Q,parentSchemaType:j.schemaTypes.block,path:K,presence:W,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:b,renderInput:x,renderPreview:w,renderItem:y,renderDefault:s4,schemaType:C,selected:_,textElement:q||R,validation:O,value:S}),[j.schemaTypes.block,r,o,i,N,Q,$,q,K,M,V,c,H,d,f,z,p,m,g,b,x,y,w,W,C,_,R,O,S]),G=(t=C.components)==null?void 0:t.annotation,J=h.useCallback(X=>{I!=null&&I.elementRef&&(I.elementRef.current=X),A(X)},[I]);return h.useMemo(()=>l.jsx("span",{ref:J,style:void 0,children:G?l.jsx(G,{...Z}):l.jsx(s4,{...Z})}),[G,Z,J])}const s4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,b=m.name==="link",x=g.filter(_=>_.level==="error").length>0,y=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":y?"caution":b?"primary":"default",[b,x,y]);return l.jsxs(sin,{$toneKey:C,"data-link":b?"":void 0,"data-error":x?"":void 0,"data-warning":y?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[v,l.jsx(oin,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(tN,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function cin(e){var t;return(t=e.components)!=null&&t.block?e.components.block:CA(e)?RIe:EIe}function uin(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:$Ie}function din(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:s4}const fin=/^\d+$/;function hin(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function pin(e){const[t,n]=e.split("==");return{[t]:hin(n)}}function min(e){return fin.test(e)?Number(e):e}function gin(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?pin(t):min(t))}function Xm(e){return gin(e)}class _Rn extends ie.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function Qv(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=ho(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function vin(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):FIe(Array.from(e.items||[])).then(Dn)}function yin(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):FIe(n).then(Dn)}function Kie(e){return e===null?[]:[e]}function FIe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return Kie(t.getAsFile())}return n?n.isDirectory?LIe(n):Kie(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function LIe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(LIe)).then(Dn))}return Promise.resolve([])}function bin(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const xin={opacity:0,position:"absolute"};function BIe(e){return ie.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=ie.useState(!1),f=ie.useRef(null),p=cr(r),m=ie.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),b=h.useCallback(S=>{vin(S.clipboardData).then(E=>f.current?E.length>0?E:win(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&yin(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),y=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=ie.useRef(!1);return ie.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Cin(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:y,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:b,ref:f,style:xin})]})})}function win(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>bin(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Cin(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function oN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function iN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&oN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Zie=Object.freeze,_in=Object.defineProperty,Sin=(e,t)=>Zie(_in(e,"raw",{value:Zie(t||e.slice())})),Xie;function NIe(e){return P(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return fe(Xie||(Xie=Sin([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),oN(n),ye(t.theme.sanity.radius[1]),iN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const zIe=NIe(BIe(te));var Qie=Object.freeze,Ein=Object.defineProperty,kA=(e,t)=>Qie(Ein(e,"raw",{value:Qie(t||e.slice())})),Jie,ese,tse,nse;const kin=P(te)(Jie||(Jie=kA([`
  min-height: 82px;
  box-sizing: border-box;
`]))),jin=P(Y)(ese||(ese=kA([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Tin=P(re)(tse||(tse=kA([`
  position: relative;
  width: 60%;
`]))),Ain=P(ir)(nse||(nse=kA([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Din=1e3*60*2,Iin=e=>new Date().getTime()-new Date(e).getTime();function VIe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{Iin(t.updatedAt)>Din&&(r==null||r())},[t.updatedAt,r]),l.jsx(kin,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(jin,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs(Tin,{children:[l.jsx(Y,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(B,{size:1,children:l.jsxs(qt,{space:2,children:["Uploading",l.jsx(Ain,{size:1,children:i||"..."})]})})}),l.jsx(te,{marginTop:3,radius:5,shadow:1,children:l.jsx(fYt,{value:t.progress})})]}),n?l.jsx(se,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function Oin(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(HIe(i.result,t||"".concat(ad(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function Pin(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(HIe(e,t||"".concat(ad(),".").concat(i)))})}function HIe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function UIe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,g=s?[et(["hotspot"]),et(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([Gi({_type:r.name}),...g,vt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const b=o(r,a.value);b&&i(b,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":Pin(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":Oin(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var rse=Object.freeze,Rin=Object.defineProperty,$in=(e,t)=>rse(Rin(e,"raw",{value:rse(t||e.slice())})),ose;const Min=P(Ne)(ose||(ose=$in([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),Fin=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=ie.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),y=l.jsxs(Y,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(F,{marginRight:m?f:void 0,children:l.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,Zn.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(B,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(Min,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,ref:n,children:[y,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:b,multiple:c,onChange:x,type:"file",value:"",disabled:v})]})});function WIe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=zo(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(F,{padding:2,children:l.jsx(zt,{muted:!0,size:1,children:"Replace"})}),l.jsx(Fin,{icon:ej,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx(Dr,{}),a&&l.jsx(Ne,{as:"a",icon:CF,text:"Download",href:a}),c&&l.jsx(Ne,{icon:Eu,text:"Copy URL",onClick:d}),l.jsx(Dr,{}),l.jsx(Ne,{tone:"critical",icon:ju,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var ise=Object.freeze,Lin=Object.defineProperty,Bin=(e,t)=>ise(Lin(e,"raw",{value:ise(t||e.slice())})),sse;const Nin=P(Y)(sse||(sse=Bin([`
  pointer-events: none;
`])));function YIe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(Kx,{}):t&&i>0||!s?l.jsx(Cf,{}):a?l.jsx(s0,{}):l.jsx(Sl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(Nin,{align:"center",gap:2,justify:"center",children:[l.jsx(B,{muted:!0,children:c}),l.jsx(B,{size:1,muted:!0,children:u})]})}var ase=Object.freeze,zin=Object.defineProperty,Vin=(e,t)=>ase(zin(e,"raw",{value:ase(t||e.slice())})),lse;const Hin=P(se).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return fe(lse||(lse=Vin([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),iN({base:r,border:o,focusRing:n}))}),Uin=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=Ts(),y=ie.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=l.jsxs(Y,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(F,{marginRight:m?f:void 0,children:l.jsxs(B,{size:a,children:[h.isValidElement(r)&&r,Zn.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(B,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(Hin,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:b,multiple:c,onChange:y,ref:n,type:"file",value:"",disabled:v})]})});function Win(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=Aj(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(Y,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(Y,{flex:1,justify:"center",children:l.jsx(YIe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(Y,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(Uin,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:ej,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const qIe=ie.memo(Win);var cse=Object.freeze,Yin=Object.defineProperty,qin=(e,t)=>cse(Yin(e,"raw",{value:cse(t||e.slice())})),use;const Gin=P(se)(use||(use=qin([`
  width: 100%;
`])));function GIe(e){let{onClearStale:t}=e;return l.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(Y,{gap:4,marginBottom:4,children:[l.jsx(F,{children:l.jsx(B,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(B,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(Gin,{icon:ju,text:"Clear upload",onClick:t,mode:"ghost"})]})}var dse=Object.freeze,Kin=Object.defineProperty,KIe=(e,t)=>dse(Kin(e,"raw",{value:dse(t||e.slice())})),fse,hse;const Zin=P(te)(fse||(fse=KIe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),Xin=P(Y)(hse||(hse=KIe([`
  height: 100%;
`])));function ZIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function Qin(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>c(!0),[c]);Ji(h.useCallback(b=>{a&&(b.key==="Escape"||b.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),lr(h.useCallback(b=>{p!=null&&p.contains(b.target)||c(!1)},[p,c]),[d]);const g=h.useCallback(b=>{u(b),m(b)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(Y,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(te,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(Y,{wrap:"nowrap",align:"center",children:[l.jsx(te,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(B,{muted:o,children:l.jsx(s0,{})})}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(B,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(B,{size:1,muted:!0,"data-testid":"file-size",children:ZIe(n)})]})]})}),l.jsx(F,{padding:2,children:l.jsx(Y,{justify:"center",children:l.jsx(an,{content:l.jsx(Lt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Bo,mode:"bleed",onClick:v,ref:g})})})})]})}function pse(){return l.jsxs(Y,{align:"center",justify:"flex-start",padding:2,children:[l.jsx(b0,{padding:3,radius:1,animated:!0}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(_E,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(_E,{style:{width:"100%"},radius:1,animated:!0})]})]})}var mse=Object.freeze,Jin=Object.defineProperty,esn=(e,t)=>mse(Jin(e,"raw",{value:mse(t||e.slice())})),gse;const tsn=P(se)(gse||(gse=esn([`
  width: 100%;
`])));function nsn(e){let{onClearValue:t}=e;return l.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(Y,{gap:4,marginBottom:4,children:[l.jsx(F,{children:l.jsx(B,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(B,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(tsn,{icon:ju,text:"Reset value",onClick:t,mode:"ghost"})]})}function rsn(e){let{children:t}=e;return t}const osn=["asset"];class isn extends ie.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>et([f]));this.props.onChange(ct.from(u&&!s?et():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(et(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:Vn(s,"options.metadata"),storeOriginalFilename:Vn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(ct.from([Gi({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(ct.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;UIe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(osn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(ct.from([et(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(VIe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Vn(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(Qv,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx(pse,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!rZ(t)?()=>l.jsx(nsn,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(F,{marginBottom:2,children:l.jsx(GIe,{onClearStale:this.handleClearUploadState})}),l.jsx(ri,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(zIe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=Vn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(Ne,{icon:Zo,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(Ne,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Sl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(Qv,{reference:c,observeAsset:s,waitPlaceholder:l.jsx(pse,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const b=p||"download.".concat(m);let x,y;return rZ(t)&&(y="".concat(v,"?dl"),x=v),l.jsx(Qin,{size:g,originalFilename:b,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(WIe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:y,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(Zin,{tone:t,children:l.jsx(Xin,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(YIe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(Jt,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(se,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:Zo}),"data-testid":"input-select-button",menu:l.jsx(Lt,{children:t.map(i=>l.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Sl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(se,{fontSize:2,text:"Browse",icon:Zo,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=Vn(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(te,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(qIe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(oB,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(nC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?rsn:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(KB,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(bA,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function ssn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=$i(),{file:o}=oi().__internal,i=fr(sn),s=h.useCallback((u,d)=>o.directUploads?WB(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>tIe(r,u),[r]);return l.jsx(isn,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var vse=Object.freeze,asn=Object.defineProperty,lsn=(e,t)=>vse(asn(e,"raw",{value:vse(t||e.slice())})),yse;const bse=P(F)(yse||(yse=lsn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function csn(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const usn=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let K_=-1;function dsn(e){return K_===-1&&(K_=usn.find(t=>t in e)),K_&&e[K_]}function xse(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function wse(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function wP(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Cse(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class a4{constructor(t,n){this.x=t,this.y=n}}class _se{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new a4(this._right,this.y)}get left(){return new a4(this._left,this.y)}get length(){return this._right-this._left}}class fsn{constructor(t){this.rect=t}get top(){return new _se(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new _se(this.rect.bottom,this.rect.left,this.rect.right)}}class to{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new to(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new to(t,n,this.width||0,this.height||0)}setSize(t,n){return new to(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new to(t-r/2,n-o/2,r||0,o||0)}get center(){return new a4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new fsn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new to((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new to(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new to(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new to(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const Z_=zd("sanity-imagetool");function hsn(e){return class extends ie.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){Z_("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=_P(n);Z_("Drag started %o",i),r(CP(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=_P(n),i=psn(o,this.currentPos);r(i),Z_("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=_P(n);r(CP(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,Z_("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(CP(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){Gp?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Gp?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function CP(e,t,n){return{x:e-n.left,y:t-n.top}}function _P(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function psn(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Sse=Object.freeze,msn=Object.defineProperty,XIe=(e,t)=>Sse(msn(e,"raw",{value:Sse(t||e.slice())})),Ese,kse;const gsn=hsn("canvas"),vsn=P.div(Ese||(Ese=XIe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),ysn=P(gsn)(kse||(kse=XIe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),bsn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",xsn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",Gu={x:.5,y:.5,height:1,width:1},Ku={top:0,left:0,right:0,bottom:0},Z1=8,wsn=12,Csn=10;function _sn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Ssn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function jse(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Ku,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Esn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Tse=Jj(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&dsn(t)||1;return e/n}),Ase=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class ksn extends ie.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=xse(o,this.getHotspotRect()),s=wse(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=wP(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=_sn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||Gu,o=new to().setSize(r.width,r.height).setCenter(r.x,r.y);return new to().setSize(n.width,n.height).shrink(Z1*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new to().setSize(n.width,n.height).shrink(Z1*this.getScale()).cropRelative(to.fromEdges(t.crop||Ku).clamp(new to(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=wsn*this.getScale(),r=n/2,o=new to(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of Ase)if(wP({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(jsn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};Ssn(o,d)&&r(Dse(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=jse(i,f).value,m=jse(i,f).delta;o(Dse(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(Tsn(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=to.fromEdges(t.crop||Ku).clamp(new to(0,0,1,1)),r=t.hotspot||Gu,o=new to(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new to().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=Z1*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),b=g.height/g.width;t.scale(1,b),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/b,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(g,b,x,y,w,C,_,S){t.save(),t.drawImage(r,g,b,x,y,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),b=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height)}function m(){const g=i.cropRelative(a),b=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(b.left,b.top,b.width,b.height),t.restore()}function v(g){t.save();const b=Csn*c,x=i.shrink(u).multiply(s),y=Cse(g,x);t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Cse(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=Z1*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new to().setSize(n.width,n.height).shrink(Z1*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Tse();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();Ase.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Esn(r)||"auto";const o=wse(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(xsn,"), move");const i=xse(t,this.getHotspotRect()),s=wP(t,this.getCropRect());return i||s?"url(".concat(bsn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Tse();return l.jsx(vsn,{children:l.jsx(ysn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function jsn(e,t){const n=e&&e.hotspot||Gu;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Tsn(e,t){const n=e&&e.hotspot||Gu;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Dse(e,t){const n=e&&e.crop||Ku;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function Asn(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const b=i.getContext("2d");return b&&b.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Ax(e){return l.jsx(csn,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(Asn,{image:r,maxHeight:Ax.maxHeight,maxWidth:Ax.maxWidth,children:i=>l.jsx(ksn,{image:i,...e})}):null}})}Ax.maxHeight=500;Ax.maxWidth=1e3;function Dsn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Ise(e.image)||1,n=e.hotspot||Gu,r=e.crop||Ku,o=Ise(e.container)||t*Osn(r),i=e.align||{x:"center",y:"center"},s=Isn(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=JIe(QIe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:xd(s.crop.height),width:xd(s.crop.width),top:xd(s.crop.top),left:xd(s.crop.left)},image:{position:"absolute",height:xd(s.image.height),width:xd(s.image.width),top:xd(s.image.top),left:xd(s.image.left)}}}function Ise(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function QIe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function Isn(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const b=d<=o;b?g=1:g=d/o;let x,y;if(g>v){x="letterbox";let w;const C=g-v;b?w=1-C:w=v,y={width:w,height:w/d*o,left:0,top:0};const _=f.x*y.width-f.width*y.width/2;switch(i.x){case"left":y.left=b?0:-_;break;case"right":y.left=b?1-y.width:_;break;case"center":y.left=b?(1-y.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*y.height-f.height*y.height/2;switch(i.y){case"top":y.top=b?-S:0;break;case"bottom":y.top=S;break;case"center":y.top=b?-S:(1-y.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(b){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),y={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),y={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:y,image:c}}function Osn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function JIe(e){return e===0?0:"".concat(e,"%")}function xd(e){return JIe(QIe(e*100))}var Ose=Object.freeze,Psn=Object.defineProperty,Rsn=(e,t)=>Ose(Psn(e,"raw",{value:Ose(t||e.slice())})),Pse;const $sn=P.div(Pse||(Pse=Rsn([`
  position: relative;
  width: 100%;
`]))),Msn=zd("sanity-imagetool");function Fsn(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const Lsn=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Ku,hotspot:c=Gu,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,b]=h.useState(null),x=h.useRef(null),y=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>b(S.offsetWidth/S.offsetHeight))}else b(null)},[i]);h.useEffect(()=>{const S=y.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(Msn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?Fsn(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>Dsn({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,C]);return l.jsx($sn,{className:"".concat(s),style:v,ref:x,children:l.jsxs("div",{style:_.container,children:[l.jsx("div",{style:_.padding}),l.jsx("div",{style:_.crop,children:l.jsx("img",{ref:y,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),Bsn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Nsn(e){return e.startsWith("blob:")}function zsn(e){return new ht(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(Nsn(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=Bsn)}})}const Rse={isLoading:!0};function Vsn(e){const[t,n]=h.useState(Rse);return h.useEffect(()=>{n(Rse);const r=zsn(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var $se=Object.freeze,Hsn=Object.defineProperty,Usn=(e,t)=>$se(Hsn(e,"raw",{value:$se(t||e.slice())})),Mse;const Fse=["hotspot"],Lse=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Bse={crop:Ku,hotspot:Gu},Wsn=P.div(Mse||(Mse=Usn([`
  min-height: 6em;
`])));function Ysn(e){return l.jsx(Y,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function qsn(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=Un,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||Bse),{image:g,isLoading:b,error:x}=Vsn(t),y=h.useCallback(()=>{d(Fse)},[d]);h.useEffect(()=>{v(n||Bse)},[n]);const w=s[0]==="hotspot";Ri(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||Ku}:_.crop,k=E?{_type:E.type.name,..._.hotspot||Gu}:_.hotspot;c([vt(j,["crop"]),vt(k,["hotspot"])])},[c,f,u.fields]);return l.jsx(G0,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(te,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:y,children:l.jsx(ri,{path:i.concat(Fse),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(bse,{ratio:3/2,children:[(b||x)&&l.jsx(Ysn,{children:x?l.jsx(te,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(B,{children:["Error: ",x.message]})}):l.jsx(B,{muted:!0,children:"Loading image "})}),!b&&g&&l.jsx(F,{margin:1,children:l.jsx(Ax,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),l.jsx(F,{marginTop:3,children:l.jsx(on,{columns:Lse.length,gap:1,children:Lse.map(_=>{let[S,E]=_;return l.jsxs("div",{children:[l.jsx(No,{as:"h4",size:0,children:S}),l.jsx(F,{marginTop:2,children:l.jsx(bse,{ratio:E,children:l.jsx(te,{__unstable_checkered:!0,children:!b&&g?l.jsx(Lsn,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||Gu,crop:m.crop||Ku}):l.jsx(Wsn,{})})})})]},E)})})})]})})}var Nse=Object.freeze,Gsn=Object.defineProperty,Ksn=(e,t)=>Nse(Gsn(e,"raw",{value:Nse(t||e.slice())})),zse;const Zsn=P(qt)(zse||(zse=Ksn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function Xsn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Ji(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),lr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(Zsn,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(se,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:l0e,mode:"ghost",onClick:t,ref:o}),l.jsx(an,{id:"image-actions-menu",content:l.jsx(Lt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Bo,mode:"ghost",onClick:p,ref:m})})]})}var Vse=Object.freeze,Qsn=Object.defineProperty,jA=(e,t)=>Vse(Qsn(e,"raw",{value:Vse(t||e.slice())})),Hse,Use,Wse,Yse;const qse=30,Jsn=P(te)(Hse||(Hse=jA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),ean=P(ur)(Use||(Use=jA([`
  position: absolute;
`]))),tan=P(Y)(e=>{let{$drag:t,$tone:n}=e;const r=Pf.color.light[n].card.enabled.fg,o=At(Pf.color.light[n].card.enabled.bg,.8);return fe(Wse||(Wse=jA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),nan=P(Y)(Yse||(Yse=jA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),ran=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function oan(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=td(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=qse*document.documentElement.clientHeight/100,[g,b]=ran(o),x=g/b,w=(g>f?f/x:b)<v?null:"".concat(qse,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return l.jsxs(Jsn,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(te,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(Gse,{cardTone:"transparent",drag:!0,content:l.jsx(ean,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(Gse,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(F,{marginBottom:3,children:l.jsx(No,{children:l.jsx(ian,{isRejected:r,readOnly:n})})}),l.jsx(san,{isRejected:r,readOnly:n})]})})]})}function ian(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(Cf,{}):n?l.jsx(Kx,{}):l.jsx(Sl,{})}function san(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(B,{size:1,children:r})}function Gse(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(tan,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(nan,{direction:"column",align:"center",justify:"center",children:r})})}var Kse=Object.freeze,aan=Object.defineProperty,lan=(e,t)=>Kse(aan(e,"raw",{value:Kse(t||e.slice())})),Zse;const can=P(se)(Zse||(Zse=lan([`
  width: 100%;
`])));function uan(e){let{onClearValue:t}=e;return l.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(Y,{gap:4,marginBottom:4,children:[l.jsx(F,{children:l.jsx(B,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(B,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx(can,{icon:ju,text:"Reset value",onClick:t,mode:"ghost"})]})}const dan=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function fan(e){let{children:t}=e;return t}const Xse=["asset"],han={portal:!0};class pan extends ie.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Vn(s,"options.metadata"),storeOriginalFilename:Vn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(Gi({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var b;console.error(g),(b=n.toast)==null||b.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([et(["hotspot"]),et(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>et([c]));this.props.onChange(s&&!this.valueIsArrayElement()?et():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(et());return}o(r.prepend(Gi({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{const{onFieldOpen:r}=this.props;r("hotspot")},this.handleCloseDialog=()=>{var r;const{onFieldClose:o}=this.props;o("hotspot"),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;UIe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([et(["asset"]),et(["crop"]),et(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Ii,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(eC,{children:l.jsx(F,{padding:4,children:l.jsx(re,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(qsn,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!ob(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(dan()).auto("format").url();return l.jsx(oan,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(Xse)}isImageToolEnabled(){return Vn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(et(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=Vn(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(Ne,{icon:Zo,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(Ne,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Sl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(Qv,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,b,x;if(ob(t)){const y=v||"download.".concat(g);x=s.image(m).forceDownload(y).url(),b=s.image(m).url()}return l.jsx(Xsn,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:y=>this.setState({isMenuOpen:y}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(WIe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:b,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(Jt,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(se,{"data-testid":"file-input-multi-browse-button",icon:Zo,iconRight:qa,mode:"ghost",text:"Select"}),menu:l.jsx(Lt,{children:t.map(i=>l.jsx(Ne,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Sl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:han}):l.jsx(se,{fontSize:2,text:"Select",icon:Zo,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=Vn(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(te,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(qIe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(VIe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Vn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(Qv,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!ob(t)?()=>l.jsx(uan,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(F,{marginBottom:2,children:l.jsx(GIe,{onClearStale:this.handleClearUploadState})}),l.jsx(ri,{path:a.path.concat(Xse),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(zIe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state,d=t.find(f=>f.kind==="field"&&f.name==="hotspot");return l.jsxs(re,{space:5,"data-testid":"image-input",children:[l.jsx(oB,{ref:this.setToast}),t.map(f=>f.kind==="field"&&(f.name==="crop"||f.name==="hotspot")?null:f.kind==="field"?l.jsx(nC,{member:f,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderInput:f.name==="asset"?this.renderAsset():s,renderField:f.name==="asset"?fan:o,renderItem:a,renderPreview:c},f.key):f.kind==="fieldSet"?l.jsx(KB,{member:f,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:i,renderInput:s,renderItem:a,renderPreview:c},f.key):f.kind==="error"?l.jsx(bA,{member:f},f.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",f.kind]})),(d==null?void 0:d.open)&&l.jsx(mIe,{...this.props,absolutePath:d.field.path,renderInput:this.renderHotspotInput}),u&&this.renderAssetSource()]})}}function man(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=oi().__internal,o=$i(),i=fr(sn),a=oi().__internal.image.directUploads,c=h.useCallback((p,m)=>a?WB(p,m):null,[a]),u=ie.useMemo(()=>n||r.assetSources,[r,n]),d=ie.useMemo(()=>gT(i),[i]),f=h.useCallback(p=>eIe(o,p),[o]);return l.jsx(pan,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:c})}const eOe=()=>{},SP={isLoading:!0,result:void 0,error:void 0,retry:eOe},gan={isLoading:!1,result:void 0,error:void 0,retry:eOe};function tOe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=ho(()=>i._id?t(i).pipe(ce(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),Jo(SP),On(c=>(console.error(c),xe({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):xe(gan),[i,t,o,n],SP);return vB(e._id,e._id)!==e._id?SP:s}var Qse=Object.freeze,van=Object.defineProperty,nOe=(e,t)=>Qse(van(e,"raw",{value:Qse(t||e.slice())})),Jse,eae;const yan=P(Y)(Jse||(Jse=nOe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),rOe=P(Y)(eae||(eae=nOe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function tae(e){return l.jsx(rOe,{padding:3,children:l.jsx(F,{flex:1,children:l.jsx(F,{children:l.jsx(B,{as:"p",size:1,children:e.children})})})})}function oOe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,b=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&ob(g),y=ie.isValidElement(g);return!x&&!y?null:function(C){let{dimensions:_}=C;return y?g:l.jsx("img",{src:gT({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return l.jsxs(yan,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(F,{flex:1,children:l.jsx(vAe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:b||!1})}):l.jsx(F,{flex:1,children:l.jsx(Y,{align:"center",children:l.jsx(F,{flex:1,paddingY:2,children:l.jsx(B,{muted:!0,children:"Document unavailable"})})})}),l.jsx(F,{paddingLeft:3,children:l.jsxs(qt,{space:4,children:[o&&a&&l.jsx(zt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&l.jsx(F,{children:l.jsx(lt,{portal:!0,content:m?l.jsxs(tae,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(tae,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(sr,{tone:"default",children:v?l.jsx(Cf,{}):l.jsx(Ev,{})})})}),!(m||v)&&i&&l.jsx(F,{children:l.jsx(lt,{portal:!0,content:l.jsx(rOe,{padding:2,children:s?l.jsx(B,{size:1,children:"This document opens in a new tab"}):l.jsxs(B,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(sr,{size:1,tone:"default",muted:!s,children:l.jsx(am,{})})})})]})})]})}function sN(){return fr(sn).config().projectId}function ban(e){var t;const{isLoading:n,result:r,error:o}=tOe(e.document,e.getReferenceInfo),i=sN();if(n)return l.jsxs(re,{space:2,padding:1,children:[l.jsx(ji,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(ji,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(re,{space:2,padding:1,children:l.jsxs(Nc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(re,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(oOe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(re,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function nae(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=sN();if(a.isLoading||a.error)return l.jsxs(re,{space:2,padding:1,children:[l.jsx(ji,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(ji,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(re,{space:2,padding:2,children:l.jsxs(B,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(oOe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var rae=Object.freeze,xan=Object.defineProperty,iOe=(e,t)=>rae(xan(e,"raw",{value:rae(t||e.slice())})),oae,iae;const wan=P(an)(oae||(oae=iOe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Can=P(B)(iae||(iae=iOe([`
  word-break: break-word;
`]))),_an=["top-start","bottom-start"],San=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(wan,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:_an,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(F,{padding:4,children:l.jsx(Y,{align:"center",height:"fill",justify:"center",children:l.jsxs(Can,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["",t.searchString,""]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(wL,{...t,ref:n,renderPopover:o})});var sae=Object.freeze,Ean=Object.defineProperty,kan=(e,t)=>sae(Ean(e,"raw",{value:sae(t||e.slice())})),aae;const jan=P(se)(aae||(aae=kan([`
  width: 100%;
`])));function Tan(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(Y,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(F,{children:l.jsx(B,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(B,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(B,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(B,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(jan,{icon:ju,text:"Reset value",onClick:n,mode:"ghost"})]})}const lae={hits:[],isLoading:!1},Aan=()=>!0,cae=["_ref"],Dan="crossDatasetReferences";function Ian(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:b}=e,x=sN(),[y,w]=h.useState(lae),C=h.useCallback(le=>{if(!le){c(et()),u([]);return}if(!y.hits.find(Ce=>Ce.id===le))throw new Error("Selected an item that wasnt part of the result set");c(vt({_type:m.name,_ref:Pn(le),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,y.hits,m.name,m.dataset,m.weak,x,c,u]),_=h.useCallback(()=>{c(et())},[c]),S=h.useCallback(le=>{le.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(le=>a(le,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=tOe(j,E),T=HPe(Dan),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=b.ref;Ri({hasFocusAt:D,ref:g==null?void 0:g._ref},(le,ve)=>{var Ce;const be=(le==null?void 0:le.ref)!==ve.ref;((le==null?void 0:le.hasFocusAt)!==ve.hasFocusAt||be)&&ve.hasFocusAt&&((Ce=I.current)==null||Ce.focus())});const O=g!=null&&g._weak?"weak":"strong",$=m.weak===!0?"weak":"strong",R=!!(g!=null&&g._ref),V=h.useCallback(()=>{c(m.weak===!0?vt(!0,["_weak"]):et(["_weak"]))},[c,m]),{push:M}=zo(),H=h.useMemo(()=>v.filter(le=>le.level==="error"),[v]),q=h.useCallback(le=>{le.currentTarget===b.ref.current&&(u==null||u([kve]))},[b.ref,u]),U=h.useCallback(le=>{le.currentTarget===b.ref.current&&(u==null||u(cae))},[b.ref,u]),W=h.useCallback(()=>{u==null||u(cae)},[u]),Q=h.useId(),N=Nj(le=>le.pipe(ft(fo),Xn(),rt(ve=>zr(xe({isLoading:!0}),d(ve).pipe(ce(Ce=>({hits:Ce,searchString:ve,isLoading:!1})),On(Ce=>(M({title:"Reference search failed",description:Ce.message,status:"error",id:"reference-search-fail-".concat(Q)}),console.error(Ce),xe({hits:[]})))))),na((ve,Ce)=>({...ve,...Ce}),lae),bn(w)),[Q,d,M]),K=h.useCallback(()=>{N("")},[N]),z=!k.isLoading&&R&&O!==$,Z=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,G=h.useCallback(le=>l.jsx(_p,{as:"button",type:"button",radius:2,children:l.jsx(F,{paddingX:3,paddingY:1,children:l.jsx(ban,{referenceType:m,document:le.hit.published,getReferenceInfo:E})})}),[m,E]),J=(r=k.result)==null?void 0:r.preview.published,X=D||!(g!=null&&g._ref),ee=h.useRef(null),oe=h.useRef(null),de=h.useRef(null);return HAe([ee,oe,de],()=>{D&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx(Tan,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&l.jsx(re,{space:1,children:X?l.jsx(re,{space:2,ref:ee,children:l.jsx(ri,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(San,{...b,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:A.current,portalRef:oe,id:Q||"",options:y.hits.map(le=>({value:le.id,hit:le})),onFocus:U,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:N,searchString:y.searchString,onChange:C,filterOption:Aan,renderOption:G,openButton:{onClick:K}})})})}):l.jsx(ri,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(te,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||H.length>0?"critical":"default",children:[l.jsxs(Y,{align:"center",padding:1,children:[Z?l.jsx(_p,{as:"a",target:"_blank",rel:"noopener noreferrer",href:Z,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:q,ref:b.ref,children:l.jsx(nae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!Z,type:m})}):l.jsx(_p,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:q,ref:b.ref,children:l.jsx(nae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),l.jsx(qt,{paddingX:1,children:l.jsx(Jt,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Bo,"data-testid":"menu-button"}),id:"".concat(Q,"-menuButton"),menu:l.jsx(Lt,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{text:"Clear",tone:"critical",icon:ju,"data-testid":"menu-item-clear",onClick:_}),l.jsx(Ne,{text:"Replace",icon:l0,"data-testid":"menu-item-replace",onClick:W})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),z&&l.jsx(vf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:O}),", but according to the current schema it should be ",l.jsxs("em",{children:[$,"."]})]}),l.jsx(B,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',J==null?void 0:J.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',J==null?void 0:J.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(se,{onClick:V,text:l.jsxs(l.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),k.error&&l.jsx(vf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(re,{space:3,children:[l.jsxs(B,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),l.jsx(se,{onClick:k.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function Oan(e,t,n,r){return gB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ce(i=>i.map(s=>s.hit)),ce(nA),ce(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const Pan="cross-dataset-refs",sOe={available:!0,reason:"READABLE"},Ran={available:!1,reason:"PERMISSION_DENIED"},$an={available:!1,reason:"NOT_FOUND"};function Man(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?xe(a):n.observeDocumentTypeFromId(a._id,i).pipe(ce(u=>({_id:a._id,_type:u})))).pipe(rt(u=>{if(!u._type)return Fan(t,a._id).pipe(ce(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...fB(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ce(m=>m&&t5(m,d)));return Mo([p]).pipe(ce(m=>{let[v]=m;return{type:u._type,id:a._id,availability:sOe,preview:{published:bt(v)?v:void 0}}}))}))}}function Fan(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(Pan,".availability")};return e.observable.request(n).pipe(ce(r=>{const i=K8(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?$an:i.reason==="permission"?Ran:null:sOe}))}async function Lan(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=nm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Ban(e){const t=h.useRef(e);return t.current=e,t}function Nan(e){const{path:t,schemaType:n}=e,r=Mn(),o=r.getClient(sn),i=$i(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=xA([]),u=Ban(c),d=h.useCallback(p=>Cr(Lan(n.options,u.current,t,s)).pipe(ut(m=>{let{filter:v,params:g}=m;return Oan(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),On(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),Mu(m)})),[a,u,t,n,s]),f=h.useMemo(()=>Man({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(Ian,{...e,getReferenceInfo:f,onSearch:d})}function zan(e){const t=h.useRef(e);return t.current=e,t}async function Van(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=nm(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function aN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Mn(),c=a.getClient(sn),u=En(),d=$i(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=IDe(),b=xA([]),x=zan(b),y=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(y))==null?void 0:I.liveEdit},[y,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>Cr(Van(s.options,x.current,i,_)).pipe(ut(O=>{let{filter:$,params:R}=O;return VAe(f,I,s,{...s.options,filter:$,params:R,tag:"search.reference"})}),On(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=s.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),Mu(O)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return p?l.jsx(p,{...O,ref:$,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=yi(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(fo),[C,g,s.to]),D=h.useCallback(I=>zAe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function Han(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=yA(n,t);if(o)return l.jsxs(re,{space:2,padding:1,children:[l.jsx(ji,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(ji,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(re,{space:2,padding:1,children:l.jsx(Nc,{title:"Failed to load referenced document",children:l.jsxs(B,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(re,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(qDe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(re,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const Uan={display:"inline-flex"},Wan={width:"100%"},Yan={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function qan(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(Jt,{button:l.jsx(se,{...o,disabled:e.readOnly,text:"Create new",mode:"ghost",icon:Zs}),id:r,menu:l.jsx(Lt,{ref:e.menuRef,children:t.map(s=>l.jsx(lt,{disabled:s.permission.granted,content:l.jsx(F,{padding:2,children:l.jsx(Tc,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(Ne,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:Yan}):l.jsx(se,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Zs}):l.jsx(lt,{content:l.jsx(F,{padding:2,children:l.jsx(Tc,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:Uan,children:l.jsx(se,{text:"Create new",mode:"ghost",disabled:!0,icon:Zs,style:Wan})})})}var uae=Object.freeze,Gan=Object.defineProperty,aOe=(e,t)=>uae(Gan(e,"raw",{value:uae(t||e.slice())})),dae,fae;const Kan=P(an)(dae||(dae=aOe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Zan=P(B)(fae||(fae=aOe([`
  word-break: break-word;
`]))),Xan=["top-start","bottom-start"],Qan=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(Kan,{placement:"bottom-start",fallbackPlacements:Xan,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(F,{padding:4,children:l.jsx(Y,{align:"center",height:"fill",justify:"center",children:l.jsxs(Zan,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["",t.searchString,""]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(wL,{...t,ref:n,renderPopover:o})});var hae=Object.freeze,Jan=Object.defineProperty,lOe=(e,t)=>hae(Jan(e,"raw",{value:hae(t||e.slice())})),pae,mae;const eln=fe(pae||(pae=lOe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),tln=fe(mae||(mae=lOe([`
  grid-template-columns: 1fr min-content;
`]))),nln=P(on)(e=>e.$narrow?eln:tln),rln=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{oln(n,a),o(a)},[n]),s=td(r);return l.jsx(nln,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function oln(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var gae=Object.freeze,iln=Object.defineProperty,sln=(e,t)=>gae(iln(e,"raw",{value:gae(t||e.slice())})),vae;const aln=P(_p)(vae||(vae=sln([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),yae={hits:[],isLoading:!1},lln=()=>!0;function cln(e){return e!==null}function uln(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:b,path:x,elementProps:y,focusPath:w}=e,{getReferenceInfo:C}=aN({path:x,schemaType:f,value:g}),[_,S]=h.useState(yae),E=h.useCallback(X=>{const ee=ad(),oe=[Gi({}),vt(f.name,["_type"]),vt(ee,["_ref"]),vt(!0,["_weak"]),vt({type:X.type,weak:f.weak,template:X.template},["_strengthenOnPublish"])].filter(fo);c(oe),u({id:ee,type:X.type,template:X.template}),v([])},[c,u,v,f]),j=h.useCallback(X=>{if(!X){c(et()),v([]);return}const ee=_.hits.find(de=>de.id===X);if(!ee)throw new Error("Selected an item that wasnt part of the result set");const oe=[Gi({}),vt(f.name,["_type"]),vt(Pn(X),["_ref"]),ee.published&&!f.weak?et(["_weak"]):vt(!0,["_weak"]),ee.published?et(["_strengthenOnPublish"]):vt({type:ee==null?void 0:ee.type,weak:f.weak},["_strengthenOnPublish"])].filter(fo);c(oe),v([])},[c,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{c(et())},[c]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(X=>{X.key==="Escape"&&v([])},[v]),D=yA(g==null?void 0:g._ref,C),I=h.useRef(null),{push:O}=zo(),$=Nj(X=>X.pipe(ft(cln),rt(ee=>zr(xe({isLoading:!0}),d(ee).pipe(ce(oe=>({hits:oe,searchString:ee,isLoading:!1})),On(oe=>(O({title:"Reference search failed",description:oe.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(oe),xe({hits:[]})))))),na((ee,oe)=>({...ee,...oe}),yae),bn(S)),[m,d,O]),R=h.useCallback(()=>{$("")},[$]),V=h.useCallback(X=>{X.key==="Escape"&&v([])},[v]),M=h.useCallback(X=>{var ee,oe;const de=((ee=X.hit.draft)==null?void 0:ee._id)||((oe=X.hit.published)==null?void 0:oe._id)||X.value;return l.jsx(aln,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(F,{paddingX:3,paddingY:1,children:l.jsx(Han,{getReferenceInfo:C,id:de,renderPreview:b,type:f})})})},[f,C,b]),H=h.useCallback(()=>{var X,ee,oe,de;return((ee=(X=D.result)==null?void 0:X.preview.draft)==null?void 0:ee.title)||((de=(oe=D.result)==null?void 0:oe.preview.published)==null?void 0:de.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),q=h.useCallback(()=>v(["_ref"]),[v]),U=h.useCallback(X=>{var ee;(ee=I.current)!=null&&ee.contains(X.relatedTarget)||e.elementProps.onBlur(X)},[e.elementProps]),W=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Ri((w==null?void 0:w[0])==="_ref",(X,ee)=>{var oe;!X&&ee&&((oe=y.ref.current)==null||oe.focus())});const Q=h.useMemo(()=>_.hits.map(X=>({value:X.id,hit:X})),[_.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:K,containerRef:z}=Ktn(),Z=h.useRef(null),G=h.useRef(null),J=h.useRef(null);return HAe([z,Z,G,J,K],()=>{N&&T()}),l.jsx(re,{space:1,"data-testid":"reference-input",ref:Z,children:l.jsxs(re,{space:2,children:[W?l.jsx(Nc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{text:"Clear",onClick:k})}),children:l.jsxs(B,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(rln,{ref:I,children:[l.jsx(Qan,{...y,onFocus:q,onBlur:U,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:Q,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:$,searchString:_.searchString,onChange:j,filterOption:lln,renderOption:M,renderValue:H,openButton:{onClick:R},portalRef:G,value:g==null?void 0:g._ref}),a.length>0&&l.jsx(qan,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:V,menuRef:J})]})]})})}async function dln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=nm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function fln(e){const t=h.useRef(e);return t.current=e,t}function hln(e){var t,n,r,o;const i=Mn(),s=i.getClient(sn),a=En(),c=$i(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=IDe(),g=xA([]),b=fln(g),x=(t=b.current)==null?void 0:t._type,y=a.get(x),w=h.useMemo(()=>y==null?void 0:y.liveEdit,[y]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>Cr(dln(d.options,b.current,u,_)).pipe(ut(O=>{let{filter:$,params:R}=O;return VAe(s,I,d,{...d.options,filter:$,params:R,tag:"search.reference"})}),On(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),Mu(O)})),[b,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return f?l.jsx(f,{...O,ref:$,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=yi(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O,$,R;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(($=I.template)==null?void 0:$.id),type:I.template.schemaType,icon:I.icon,template:{id:(R=I.template)==null?void 0:R.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(fo),[C,v,d.to]),D=h.useCallback((I,O)=>zAe(c,I,O),[c]);return l.jsx(uln,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function pln(e){return tF(e.schemaType)}function mln(e){return pMe(e.schemaType)}function s5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>s5(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>s5(e[o],t[o]))}function bae(e,t){return e?e.some(n=>s5(n,t)):!1}function gln(e,t){return e.of.find(n=>n.name===ks(t))}const vln=[];function yln(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var b;return(((b=o.options)==null?void 0:b.list)||vln).map((x,y)=>Cl(x)?x:{...x,_key:"auto-generated-".concat(y)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((b,x)=>{if(!b&&Cl(x)){i(et([{_key:x._key}]));return}const y=p.filter(w=>s5(x,w)?b:bae(a,w));i(y.length>0?vt(y):et())},[i,p,a]),v=h.useCallback(b=>{s([b])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(ri,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(on,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((b,x)=>{const y=gln(o,b),w=bae(a,b),C=!y;return l.jsxs(Y,{align:"center",as:"label",muted:C,children:[l.jsx(Ij,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,b),onFocus:()=>v(x),readOnly:c}),l.jsx(F,{flex:1,marginLeft:2,children:y?r({layout:"default",schemaType:y,value:b}):l.jsx(te,{tone:"caution",radius:2,children:l.jsx(pIe,{value:b,onFocus:()=>v(x)})})})]},x)})})})}var xae=Object.freeze,bln=Object.defineProperty,xln=(e,t)=>xae(bln(e,"raw",{value:xae(t||e.slice())})),wae;const wln=P(te)(wae||(wae=xln([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function cOe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);lr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(an,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(wln,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(re,{space:4,children:[l.jsx(F,{children:l.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(B,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(F,{children:l.jsxs(B,{size:1,children:[l.jsx(G5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(re,{space:2,children:[l.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(te,{padding:2,overflow:"auto",border:!0,children:l.jsx(ir,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(te,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(Y,{align:"center",children:[l.jsx(F,{marginRight:3,children:l.jsx(B,{children:l.jsx(yl,{})})}),l.jsx(F,{flex:1,children:l.jsxs(B,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Cln(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function _ln(e){return e.map(t=>Cln(t)?{title:t.title||un(String(t.value)),value:t.value}:{title:un(String(t)),value:t})}function Sln(e,t){return e.of.find(n=>n.name===ks(t.value))}function Eln(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return _ln(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const b=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(b.length>0?vt(b):et())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(ri,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(on,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const b=Sln(r,v),x=i.includes(v.value),y=!b;return l.jsxs(Y,{align:"center",as:"label",muted:y,children:[l.jsx(Ij,{disabled:y,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),l.jsx(F,{padding:2,children:l.jsx(B,{children:v.title})}),!b&&l.jsx(cOe,{value:v,onFocus:()=>u(g)})]},g)})})})}function uOe(e){return pln(e)?l.jsx(yln,{...e}):l.jsx(Eln,{...e})}var Cae=Object.freeze,kln=Object.defineProperty,TA=(e,t)=>Cae(kln(e,"raw",{value:Cae(t||e.slice())})),_ae,Sae,Eae,kae;const jln=P.div(_ae||(_ae=TA([`
  position: relative;
`]))),dOe=P.div(Sae||(Sae=TA([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),fOe=P(te)(Eae||(Eae=TA([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),Tln=P(Y)(kae||(kae=TA([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),fOe,dOe),Aln=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function Dln(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=Aln();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return l.jsx(B,{weight:"semibold",children:v})},[i,n]);return l.jsxs(jln,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs(Tln,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(fOe,{radius:1}),l.jsx(dOe,{children:f})]}),t]})}var jae=Object.freeze,Iln=Object.defineProperty,Oln=(e,t)=>jae(Iln(e,"raw",{value:jae(t||e.slice())})),Tae;const Pln=P.span(Tae||(Tae=Oln([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function Rln(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=jon[t],a=i.component,c=h.useCallback(u=>l.jsx(Pln,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const $ln={portal:!0,constrainSize:!0};function Aae(e){const{disableRestoreFocusOnClose:t,menuButton:n,menuButtonProps:r,menuOptionsArray:o,onMenuClose:i}=e;return l.jsx(Jt,{__unstable_disableRestoreFocusOnClose:t,id:"menu-button",onClose:i,popover:$ln,...r,button:n,menu:l.jsx(Lt,{children:o.map((s,a)=>{const{collapsedProps:c={},expandedProps:u={},tooltipProps:d={},tooltipText:f,dividerBefore:p,fontSize:m,padding:v,text:g,icon:b,selected:x,...y}=s.props;return l.jsxs(ie.Fragment,{children:[p&&a!==0&&l.jsx(Dr,{}),l.jsx(Ne,{text:g,icon:b,pressed:x,...y})]},s.key)})})})}function Mln(e){const{callback:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(Y,{ref:s,...o,children:n})}var Dae=Object.freeze,Fln=Object.defineProperty,Lln=(e,t)=>Dae(Fln(e,"raw",{value:Dae(t||e.slice())})),Iae;const Bln=P.div(Iae||(Iae=Lln([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function Oae(e){const{hidden:t,...n}=e;return l.jsx(Bln,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Pae=Object.freeze,Nln=Object.defineProperty,Z0=(e,t)=>Pae(Nln(e,"raw",{value:Pae(t||e.slice())})),Rae,$ae,Mae,Fae,Lae,Bae;const Nae=3,hOe=fe(Rae||(Rae=Z0([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),zln=P(Y)($ae||($ae=Z0([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Nae,Nae),Vln=P(Y)(Mae||(Mae=Z0([`
  border-radius: inherit;
  position: relative;
`]))),zae=P(Y)(Fae||(Fae=Z0([`
  width: max-content;

  &[data-hidden='true'] {
    height: 0px;
    visibility: hidden;
  }
`]))),Hln=P(Mln)(Lae||(Lae=Z0([`
  `,`
`])),hOe),Uln=P(Y)(Bae||(Bae=Z0([`
  `,`
`])),hOe);function Wln(e){return!!e}const lN=h.forwardRef(function(t,n){const{children:r,collapsed:o,collapseText:i=!0,disableRestoreFocusOnClose:s,gap:a,menuButtonProps:c,onMenuClose:u,...d}=t,[f,p]=h.useState(null),[m,v]=h.useState(null),g=td(f),[b,x]=h.useState([]),y=h.useMemo(()=>g&&f&&m?g.width<m.scrollWidth:!1,[m,f,g]),w=h.useMemo(()=>(c==null?void 0:c.button)||l.jsx(se,{icon:Bo,mode:"bleed"}),[c]),C=h.useMemo(()=>({root:f,threshold:1,rootMargin:"2px"}),[f]),_=h.useMemo(()=>ie.Children.toArray(r).filter(Wln),[r]),S=h.useMemo(()=>_.filter(A=>{let{key:D}=A;return b.find(I=>I.key===D)}),[_,b]),E=h.useMemo(()=>o||S.length>0,[o,S.length]),j=h.useCallback(A=>S.some(D=>D.key===A),[S]),k=h.useCallback((A,D)=>{const I=j(D.key);if(!A.isIntersecting&&!I&&x(O=>[D,...O]),A.isIntersecting&&I){const O=S.filter($=>{let{key:R}=$;return R!==D.key});x(O)}},[j,S]),T=h.useMemo(()=>_.map(A=>{const{collapsedProps:D,expandedProps:I}=A.props,O=y?D:I,$=y&&i?void 0:A.props.text;return h.cloneElement(A,{...O,text:$})}),[_,i,y]);return o?l.jsx(Aae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:c,menuOptionsArray:_,onMenuClose:u}):l.jsxs(zln,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...d,children:[l.jsxs(Vln,{direction:"column",flex:1,justify:"center",ref:p,children:[l.jsx(zae,{gap:a,children:T.map((A,D)=>{const{dividerBefore:I,tooltipText:O="",tooltipProps:$={}}=A.props,R=j(A.key);return l.jsxs(ie.Fragment,{children:[I&&D!==0&&l.jsx(Oae,{hidden:R}),l.jsx(Hln,{options:C,callback:V=>k(V[0],A),"aria-hidden":R,"data-hidden":R,children:l.jsx(lt,{portal:!0,disabled:!O,content:l.jsx(F,{padding:2,sizing:"border",children:l.jsx(B,{size:1,children:O})}),...$,children:l.jsx(Y,{children:h.cloneElement(A,{disabled:A.props.disabled||R,"aria-hidden":R})})})})]},A.key)})}),l.jsx(zae,{"data-hidden":!0,"aria-hidden":"true",gap:a,ref:v,children:_.map((A,D)=>{const{dividerBefore:I}=A.props;return l.jsxs(ie.Fragment,{children:[I&&D!==0&&l.jsx(Oae,{}),l.jsx(Uln,{children:h.cloneElement(A,{disabled:!0,"aria-hidden":!0})},A.key)]},A.key)})})]}),E&&l.jsx(Y,{marginLeft:a,children:l.jsx(Aae,{disableRestoreFocusOnClose:s,menuButton:w,menuButtonProps:c,menuOptionsArray:S,onMenuClose:u})})]})}),cN=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(se,{"data-ui":"CollapseMenuButton",...c,ref:n})});var Vae=Object.freeze,Yln=Object.defineProperty,qln=(e,t)=>Vae(Yln(e,"raw",{value:Vae(t||e.slice())})),Hae;const Gln=P.div(Hae||(Hae=qln([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function Kln(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(Gln,{style:r})}function Zln(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{ke.toggleMark(e,o.value),ke.focus(e)},hotkeys:s,title:o.title}})}function Xln(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{ke.toggleList(e,r.value)},title:r.title}))}function Qln(e){return Vn(e,"icon")||Vn(e,"type.icon")||Vn(e,"type.to.icon")||Vn(e,"type.to[0].icon")}function Jln(e,t,n){const r=e.schemaTypes,o=ke.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:Qln(s),key:s.name,handle:a=>{a?(ke.removeAnnotation(e,s),ke.focus(e)):n(s)},title:s.title||Cm(s.name)}))}function ecn(e,t,n,r){return[{name:"format",actions:Zln(e,t,r)},{name:"list",actions:Xln(e,t)},{name:"annotation",actions:Jln(e,t,n)}]}function tcn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function Uae(e,t){const n=Vn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function ncn(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:Uae(a,t0e),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:Uae(a,m0e),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const rcn={link:Sf},ocn={strong:n0e,em:y0e,"strike-through":T0e,underline:A0e,code:i0e},icn={number:w0e,bullet:Ry};function scn(e,t){return e.icon?typeof e.icon=="string"?l.jsx(Kln,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?rcn[e.key]||yl:e.type==="listStyle"?icn[e.key]||yl:ocn[e.key]||yl}function AA(){const e=po(),t=M0();return h.useMemo(()=>ke.focusBlock(e),[e,t])}function acn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=po(),s=h.useCallback(async a=>{const c=await r(a),u=ke.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?ecn(i,o,s,t):[],[o,i,s,t])}function lcn(e){let{actions:t}=e;const n=po(),r=M0();return Po(h.useMemo(()=>{const o=ke.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?ke.hasListStyle(n,i.key):ke.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function ccn(e){let{items:t}=e;const n=po(),r=AA(),o=M0();return Po(h.useMemo(()=>t.filter(i=>ke.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const ucn=h.memo(lN),dcn={constrainSize:!0,portal:!0},fcn={padding:2,mode:"bleed"},hcn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=AA(),a=po(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((b,x)=>b.concat(x.actions.map((y,w)=>w===0?{...y,firstInGroup:!0}:y)),[]),[r]),p=lcn({actions:f}),m=h.useCallback(()=>{ke.focus(a)},[a]),v=h.useMemo(()=>f.map(b=>{const x=b.type==="annotation"&&u,y=p.includes(b.key);return h.createElement(cN,{"data-testid":"action-button-".concat(b.key),disabled:d||x,...fcn,dividerBefore:b.firstInGroup,icon:scn(b,y),key:b.key,onClick:()=>b.handle(y),selected:y,text:b.title||b.key,tooltipText:b.title||b.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:l.jsx(se,{icon:Bo,mode:"bleed",padding:2,disabled:d}),popover:dcn}),[d]);return l.jsx(ucn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var Wae=Object.freeze,pcn=Object.defineProperty,pOe=(e,t)=>Wae(pcn(e,"raw",{value:Wae(t||e.slice())})),Yae,qae;const mcn=h.memo(Jt),gcn=P(Ne)(Yae||(Yae=pOe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),vcn=P(se)(qae||(qae=pOe([`
  width: 100%;
`]))),ycn={constrainSize:!0,placement:"bottom-start",portal:"default"},mOe={h1:e=>l.jsx(jIe,{children:e}),h2:e=>l.jsx(TIe,{children:e}),h3:e=>l.jsx(AIe,{children:e}),h4:e=>l.jsx(DIe,{children:e}),h5:e=>l.jsx(IIe,{children:e}),h6:e=>l.jsx(OIe,{children:e}),normal:e=>l.jsx(nN,{children:e}),blockquote:e=>l.jsx(PIe,{"data-option":"blockquote",children:e})},bcn=Object.keys(mOe),xcn=e=>e.preventDefault(),EP={key:"style-none",style:"",title:"No style"},wcn=h.memo(function(t){const{disabled:n,items:r}=t,o=po(),i=AA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=ccn({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let b=r;return g.length===0&&b.length>1&&(b=b.concat([EP]),g.push(EP)),{activeItems:g,items:b}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:EP.title,[c]),f=h.useCallback(g=>{i&&g.style!==i.style&&setTimeout(()=>{ke.toggleBlockStyle(o,g.style),ke.focus(o)})},[o,i]),p=h.useCallback((g,b)=>{const x=bcn.includes(g),y=mOe[g];return x?y(b):l.jsx(B,{children:b})},[]),m=h.useMemo(()=>l.jsx(vcn,{disabled:s,iconRight:Ml,mode:"bleed",onClick:xcn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>l.jsx(Lt,{disabled:s,children:u.map(g=>l.jsx(gcn,{pressed:c.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,c,f,u,p]);return l.jsx(mcn,{popover:ycn,id:"block-style-select",button:m,menu:v})}),Ccn=h.memo(lN),_cn={constrainSize:!0,portal:!0},Scn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=AA(),a=po(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{ke.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||ESe(p.type.name);return l.jsx(cN,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(se,{icon:Zs,mode:"bleed",padding:2,disabled:n}),popover:_cn}),[n]);return l.jsx(Ccn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Gae=Object.freeze,Ecn=Object.defineProperty,Jv=(e,t)=>Gae(Ecn(e,"raw",{value:Gae(t||e.slice())})),Kae,Zae,Xae,Qae,Jae,ele;const kcn=P(Y)(Kae||(Kae=Jv([`
  width: 100%;
`]))),jcn=P(F)(Zae||(Zae=Jv([`
  width: 8em;
`]))),Tcn=P(Y)(Xae||(Xae=Jv([`
  border-right: 1px solid var(--card-border-color);
`]))),Acn=P(F)(Jae||(Jae=Jv([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&fe(Qae||(Qae=Jv([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),Dcn=P(F)(ele||(ele=Jv([`
  border-left: 1px solid var(--card-border-color);
`]))),Icn=300,Ocn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Pcn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,y)=>x+y.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=td(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;bAe({rootElement:f});const b=h.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return l.jsxs(kcn,{align:"center",ref:p,onMouseDown:b,children:[g&&l.jsx(Tcn,{flex:v?1:void 0,children:l.jsx(jcn,{padding:s?2:1,children:l.jsx(wcn,{disabled:o,items:r})})}),l.jsxs(Y,{flex:1,children:[u&&l.jsx(Acn,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(hcn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&l.jsx(F,{flex:v?void 0:1,padding:s?2:1,children:l.jsx(Scn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),l.jsx(Dcn,{padding:s?2:1,children:l.jsx(lt,{content:l.jsxs(Y,{align:"center",padding:1,children:[l.jsx(F,{flex:1,paddingX:1,children:l.jsx(B,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(F,{marginLeft:1,children:l.jsx(_L,{keys:["".concat(Ocn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(se,{padding:2,icon:s?s0e:h0e,mode:"bleed",onClick:a})})})]})});function Rcn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=po(),a=M0(),c=$N(),u=r||!a,{push:d}=zo(),f=h.useCallback(x=>{let y=!1;const w=setTimeout(()=>{y=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})},Icn);return c(x,{}).then(C=>(y&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const y=await f(x),w=ke.insertBlock(s,x,y);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const y=await f(x),w=ke.insertChild(s,x,y);w&&o(w)},[s,o,f]),v=acn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>tcn(s.schemaTypes),[s]),b=h.useMemo(()=>ncn(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(Pcn,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:b,isFullscreen:n,onToggleFullscreen:i})}var tle=Object.freeze,$cn=Object.defineProperty,yf=(e,t)=>tle($cn(e,"raw",{value:tle(t||e.slice())})),nle,rle,ole,ile,sle,ale,lle,cle;const Mcn=P(te)(nle||(nle=yf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),Fcn=P(te)(rle||(rle=yf([`
  z-index: 10;
  line-height: 0;
`]))),Lcn=P(te)(ole||(ole=yf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),Bcn=P(rA)(ile||(ile=yf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),Ncn=P(ao)(sle||(sle=yf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),zcn=P(te)(cle||(cle=yf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),K1.map(e=>Kh(e)).join(" "),K1.map(e=>fe(ale||(ale=yf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,Kh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},K1.map(e=>Kh(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},K1.map(e=>Kh(e)).join(" "),K1.slice(1).map(e=>fe(lle||(lle=yf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,Kh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function Vcn(){const e=po();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function Hcn(e){return h.useMemo(()=>(t,n)=>{if(ke.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;fx(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const Ucn=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&xP[t.style]?xP[t.style]:xP[0])||nN,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(pd,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},ule=e=>l.jsx(l.Fragment,{children:e.children}),Wcn=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:ule,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(ule,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},Ycn={outline:"none"},qcn=e=>l.jsx(Rln,{...e}),Gcn=e=>l.jsx(Ucn,{...e}),Kcn=e=>l.jsx(Wcn,{...e});function Zcn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:b,ariaDescribedBy:x}=e,{isTopLayer:y}=Ka(),w=h.useRef(null),{element:C}=Kf();Ji(h.useCallback(T=>{!y||!o||T.key==="Escape"&&c()},[c,o,y]));const _=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=Vcn(),E=Hcn(v),j=h.useMemo(()=>l.jsx(K5e,{hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:qcn,renderListItem:Kcn,renderPlaceholder:_,renderStyle:Gcn,scrollSelectionIntoView:E,selection:n,style:Ycn,spellCheck:S,"aria-describedby":x}),[t,n,i,a,f,p,m,_,E,S,x]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(Mcn,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(Fcn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(Rcn,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:c,readOnly:d})}),l.jsxs(Lcn,{flex:1,tone:d?"transparent":"default",children:[l.jsx(Bcn,{ref:b,children:l.jsx(Ncn,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(zcn,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Ru,{element:o?v:C,children:j})})})}),l.jsx("div",{"data-portal":"",ref:g})]})]})}var dle=Object.freeze,Xcn=Object.defineProperty,gOe=(e,t)=>dle(Xcn(e,"raw",{value:dle(t||e.slice())})),fle,hle;const Qcn=P.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return fe(fle||(fle=gOe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),oN(s),r.border.width,iN({base:o,border:s,focusRing:n}))}),Jcn=P(es)(hle||(hle=gOe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function eun(e){const t=po(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function tun(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=ion(),i=po(),s=M0();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(fx(n,{scrollMode:"if-needed",block:"start",inline:"start"}),fx(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&yn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&Cl(t[2])?t[2]._key:void 0,b=g&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=b&&b._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,y=m&&(t.length===3&&t[1]==="children"||x);let w=[];y?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(ke.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&ke.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function nun(e){const{changed:t,focused:n,focusPath:r=Un,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:b,readOnly:x,renderAnnotation:y,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=po(),I=Kf().element,[O,$]=h.useState(null),[R,V]=h.useState(null),M=h.useCallback(()=>{g()},[g]),H=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),q=eun(H),U=A&&C?C:void 0,W=A&&_?_:void 0,[Q,N]=h.useState(null),K=h.useCallback(Ce=>{const{children:be,focused:me,path:Ie,selected:Se,schemaType:ot,value:Ze}=Ce;return l.jsx(Von,{floatingBoundary:I,focused:me,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(Ie),readOnly:x,referenceBoundary:R,renderAnnotation:y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:U,renderCustomMarkers:W,renderPreview:T,renderBlock:w,schemaType:ot,selected:Se,value:Ze,children:be})},[U,W,R,a,d,f,p,v,I,b,x,y,w,S,E,j,k,T]),z=h.useCallback(Ce=>{const{focused:be,path:me,selected:Ie,schemaType:Se,value:ot}=Ce;return l.jsx(kon,{floatingBoundary:I,focused:be,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(me),readOnly:x,referenceBoundary:R,relativePath:me,renderAnnotation:y,renderBlock:w,renderBlockActions:U,renderCustomMarkers:W,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:Se,selected:Ie,value:ot})},[I,R,a,d,f,p,v,b,x,y,w,U,W,S,E,j,k,T]),Z=h.useCallback(Ce=>{const{value:be}=Ce;return be._type===D.schemaTypes.block.name?K(Ce):z(Ce)},[D.schemaTypes.block.name,z,K]),G=h.useCallback(Ce=>{const{children:be,focused:me,path:Ie,selected:Se,schemaType:ot,value:Ze}=Ce;return Ze._type===D.schemaTypes.span.name?be:l.jsx(Jon,{floatingBoundary:I,focused:me,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(Ie),readOnly:x,referenceBoundary:R,relativePath:Ie,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ot,selected:Se,value:Ze})},[I,R,D.schemaTypes.span.name,d,f,v,b,x,y,w,_,S,E,j,k,T]),J=h.useCallback(Ce=>{const{children:be,focused:me,path:Ie,selected:Se,schemaType:ot,value:Ze}=Ce;return l.jsx(lin,{editorNodeFocused:me,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(Ie),readOnly:x,referenceBoundary:R,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ot,selected:Se,value:Ze,children:be})},[I,R,n,d,f,v,b,x,y,w,_,S,E,j,k,T]),X=e.elementProps["aria-describedby"],ee=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),oe=h.useMemo(()=>l.jsx(Zcn,{ariaDescribedBy:X,initialSelection:ee,hotkeys:q,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:M,path:b,readOnly:x,renderAnnotation:J,renderBlock:Z,renderChild:G,setPortalElement:N,scrollElement:R,setScrollElement:V}),[X,q,J,Z,G,M,ee,s,a,u,f,m,b,x,R]),de=g0(),le=h.useMemo(()=>({collapsed:O,default:de.element,editor:Q,expanded:de.element}),[de.element,Q,O]);tun({focusPath:r,boundaryElement:R,onItemClose:d});const ve=n||o;return l.jsx(rd,{__unstable_elements:le,children:l.jsx(Dln,{onActivate:c,isOverlayActive:!s,children:l.jsx(ri,{disabled:a,hasFocus:!!n,isChanged:t,path:b,children:l.jsxs(Qcn,{"data-focused":ve?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(F,{"data-wrapper":"",ref:$,children:l.jsx(mm,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(Jcn,{children:oe}):oe})}),l.jsx("div",{"data-border":""})]})})})})}function run(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(Nc,{suffix:l.jsxs(re,{padding:2,children:[r.action&&l.jsxs(on,{columns:[1,2],gap:1,children:[l.jsx(se,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(se,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(F,{padding:3,children:r.action&&l.jsx(B,{as:"p",muted:!0,size:1,children:"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(re,{space:3,children:[l.jsx(B,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(te,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(ir,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function oun(e){const{path:t}=e,{patchChannel:n}=oi().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>l4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:aun(t,a),snapshot:bt(s)?lun(s,t):{},patches:c})}),[t,n])}}function iun(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Fu(e,t):e===t}function l4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!iun(t[n],e[n]))return!1;return!0}function sun(e,t){return e.length===0||l4(t,e)&&!l4(e,t)}function aun(e,t){return t.some(n=>sun(n.path,e)&&(n.type==="set"||n.type==="unset"))}function lun(e,t){return t.reduce((n,r)=>typeof r=="object"?Rje(n,r):Vn(n,r),e)}function cun(e){const{elementProps:t,hotkeys:n,markers:r=Un,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:c,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:b}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&ke.focus(w.current)}}));const{subscribe:y}=oun({path:f}),w=h.useRef(null),[C,_]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[O,$]=h.useState(!1),R=zo(),V=h.useRef([]),M=h.useMemo(()=>new wr,[]),H=h.useMemo(()=>M.asObservable(),[M]),q=h.useRef(null),U=h.useCallback(()=>{w.current&&k(Z=>!Z)},[]);h.useEffect(()=>{S&&b!==S.value&&E(null)},[S,b]),h.useEffect(()=>y(Z=>{let{patches:G,snapshot:J}=Z;M.next({patches:G,snapshot:J})}),[M,y]);const W=h.useMemo(()=>{var Z;const G=[];for(const X of o)if(X.kind==="item")if(!CA(X.item.schemaType))G.push({kind:"objectBlock",member:X,node:X.item});else{(X.item.validation.length>0||X.item.changed||(Z=X.item.presence)!=null&&Z.length)&&G.push({kind:"textBlock",member:X,node:X.item});const oe=X.item.members.find(le=>le.kind==="field"&&le.name==="children");if(oe&&oe.kind==="field"&&GB(oe))for(const le of oe.field.members)le.kind==="item"&&le.item.schemaType.name!=="span"&&G.push({kind:"inlineObject",member:le,node:le.item});const de=X.item.members.filter(ton).find(le=>le.name==="markDefs");if(de)for(const le of de.field.members)le.kind==="item"&&le.item.schemaType.jsonType==="object"&&G.push({kind:"annotation",member:le,node:le.item})}const J=G.map(X=>{const ee=xn(X.node.path),oe=V.current.find(le=>le.key===ee);let de;return X.kind!=="textBlock"&&(de=l.jsx(mIe,{absolutePath:X.node.path,...e})),oe?((X.member.open||oe.node.value!==X.node.value)&&(oe.input=de),oe.member=X.member,oe.node=X.node,oe):{kind:X.kind,key:ee,member:X.member,node:X.node,elementRef:h.createRef(),input:de}});return V.current=J,J},[o,e]);h.useEffect(()=>{O&&A(!0)},[O]);const Q=h.useCallback(Z=>{switch(Z.type){case"mutation":i(ple(Z.patches));break;case"connection":Z.value==="offline"?I(!0):Z.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{Z.selection&&d(Z.selection.focus.path)});break;case"focus":A(!0),$(!0);break;case"blur":x(Z.event),$(!1);break;case"undo":case"redo":i(ple(Z.patches));break;case"invalidValue":E(Z);break;case"error":R.push({status:Z.level,description:Z.description});break}},[x,i,d,R]);h.useEffect(()=>{_(!1)},[b]);const N=h.useCallback(()=>{_(!0)},[]),K=h.useMemo(()=>S&&S.resolution?l.jsx(F,{marginBottom:2,children:l.jsx(run,{onChange:Q,onIgnore:N,resolution:S.resolution,readOnly:D||p})}):null,[Q,N,S,D,p]),z=h.useCallback(()=>{T||(A(!0),w.current&&ke.focus(w.current))},[T]);return l.jsxs(F,{ref:q,children:[!C&&K,(!S||C)&&l.jsx(ron,{markers:r,children:l.jsx(oon,{memberItems:W,children:l.jsx(ke,{ref:w,patches$:H,onChange:Q,maxBlocks:void 0,readOnly:D||p,schemaType:g,value:b,children:l.jsx(nun,{...e,hasFocusWithin:O,hotkeys:n,isActive:T,isFullscreen:j,onActivate:z,onItemRemove:a,onCopy:s,onInsert:c,onPaste:u,onToggleFullscreen:U,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function ple(e){return e.map(t=>({...t,patchType:Kp}))}function c4(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function uun(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&c4(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var mle=Object.freeze,dun=Object.defineProperty,vOe=(e,t)=>mle(dun(e,"raw",{value:mle(t||e.slice())})),gle,vle;const fun=P(te)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ye(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:c4({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:uun({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:c4({color:i.default.disabled.border,width:r.border.width})}}}),hun=P.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ye(o-i.ascenderHeight),paddingRight:ye(o),paddingBottom:ye(o-i.descenderHeight),paddingLeft:ye(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),pun=P(F)(e=>{const{theme:t}=e,n=t.sanity.color.input;return fe(gle||(gle=vOe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),mun=P(F)(vle||(vle=vOe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),yOe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag":"Enter tag and press ENTER"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=cr(t),b=h.useRef(null),x=h.useCallback(E=>{if(Oc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),y=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),l.jsxs(fun,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:b,children:[p&&l.jsx(pun,{hidden:!!(d||a.length),padding:3,children:l.jsx(B,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((E,j)=>l.jsx(mun,{children:l.jsx(gun,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(hun,{...c,disabled:!p,onBlur:y,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});yOe.displayName="TagInput";function gun(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(te,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(Y,{align:"center",children:[l.jsx(F,{flex:1,padding:1,children:l.jsx(B,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(F,{marginLeft:1,children:l.jsx(se,{icon:Ei,mode:"bleed",onClick:s,padding:1})})]})})}function vun(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?et():vt(u.map(d=>d.value)))},[t]);return l.jsx(ri,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(yOe,{onChange:c,readOnly:n,value:a,...o})})}const yun={portal:!0,tone:"default"};function bOe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(F,{paddingX:1,children:l.jsx(mA,{dragHandle:n,tone:"caution",menu:l.jsx(Jt,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(o,"-menuButton"),menu:l.jsx(Lt,{children:l.jsx(Ne,{text:"Remove",tone:"critical",icon:uo,onClick:r})}),popover:yun}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(cOe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function bun(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(qt,{space:2,children:[l.jsx(B,{children:l.jsx(ej,{})}),l.jsxs(B,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(F,{marginTop:4,children:l.jsxs(qt,{space:2,children:[l.jsx(B,{muted:!0,size:1,children:l.jsx(Cf,{})}),l.jsxs(B,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(qt,{space:2,children:[l.jsx(B,{children:l.jsx(Cf,{})}),l.jsxs(B,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var yle=Object.freeze,xun=Object.defineProperty,wun=(e,t)=>yle(xun(e,"raw",{value:yle(t||e.slice())})),ble;const Cun=P(es)(ble||(ble=wun([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var xle=Object.freeze,_un=Object.defineProperty,Sun=(e,t)=>xle(_un(e,"raw",{value:xle(t||e.slice())})),wle;const Eun=P.div(wle||(wle=Sun([`
  position: relative;
`])));function kun(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function jun(e){const t=BIe(e);return ie.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=zo(),f=ie.useCallback((b,x)=>{const{type:y,uploader:w}=x;a==null||a({file:b,schemaType:y,uploader:w})},[a]),p=ie.useCallback(b=>{if(!s)return;const x=b.map(C=>({file:C,uploaderCandidates:kun(c,s,C)})),y=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>l.jsxs(Y,{padding:2,children:[l.jsx(F,{marginLeft:1,children:l.jsx(B,{weight:"semibold",children:_.file.name})}),l.jsx(F,{paddingLeft:2,children:l.jsxs(B,{size:1,children:["(",_.file.type,")"]})})]},S))})}y.forEach(C=>{f(C.file,bm(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,c,f]),[m,v]=ie.useState([]),g=ie.useCallback(()=>v([]),[]);return l.jsx(Eun,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&l.jsx(Cun,{zOffset:10,children:l.jsx(bun,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const uN=NIe(jun(te));function Tun(e,t,n){return Aun(e,t,r=>r===n)}function Aun(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const Dun={portal:!0,tone:"default"},Iun=ie.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,b=h.useCallback((C,_)=>{s({position:C,items:[XB(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),y=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=l.jsx(Jt,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(u,"-menuButton"),popover:Dun,menu:l.jsxs(Lt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:uo,onClick:a}),l.jsx(Ne,{text:"Duplicate",icon:Eu,onClick:x}),l.jsx(vA,{types:i,onInsert:b})]})});return l.jsx(mA,{tone:y,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(Jw,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(q0,{validation:d})}):null,children:l.jsx(Y,{align:m?"flex-end":"center",ref:n,children:l.jsx(Y,{align:"flex-end",flex:1,children:l.jsx(F,{flex:1,marginRight:2,children:f})})})})});function Oun(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=ie.useCallback(d=>{i(o(d))},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(lt,{portal:!0,content:l.jsx(F,{padding:2,sizing:"border",children:l.jsx(B,{size:1,children:"This field is read-only"})}),children:l.jsx(on,{children:l.jsx(se,{icon:Zs,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(on,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:Zs,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(Jt,{button:l.jsx(se,{icon:Zs,mode:"ghost",text:"Add item"}),id:s||"",menu:l.jsx(Lt,{children:t.of.map((d,f)=>{var p,m;const v=Su(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return l.jsx(Ne,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class xOe extends ie.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(Iun,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=Tun(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=Oun,path:d,changed:f}=this.props,p=!r&&Vn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return l.jsxs(re,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(uN,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(re,{space:1,children:m.length===0?l.jsx(te,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(B,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(te,{padding:1,border:!0,children:l.jsx(VB,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:b,id:x}=v;return l.jsxs(HB,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[b.kind==="item"&&l.jsx(ri,{path:b.item.path,isChanged:f,hasFocus:!1,children:l.jsx(prn,{member:b,renderItem:this.renderArrayItem,renderInput:o})}),b.kind==="error"&&l.jsx(bOe,{sortable:p,member:b,onRemove:()=>s(g)})]},b.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:XB,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var Cle=Object.freeze,Pun=Object.defineProperty,DA=(e,t)=>Cle(Pun(e,"raw",{value:Cle(t||e.slice())})),_le,Sle,Ele,kle;const Run=P(Y)(_le||(_le=DA([`
  min-height: 35px;
`]))),$un=P(Y)(Sle||(Sle=DA([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),u4=P(te)(Ele||(Ele=DA([`
  position: absolute;
  top: 0;
  left: 0;
`]))),Mun=P(te)(kle||(kle=DA([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),u4,u4,zB);function wOe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(Mun,{forwardedAs:Y,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(u4,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(UDe,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx($un,{align:"center",marginX:1,children:o}),l.jsxs(Run,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(Y,{children:t}),l.jsx(F,{children:c}),a]})]})}var jle=Object.freeze,Fun=Object.defineProperty,Lun=(e,t)=>jle(Fun(e,"raw",{value:jle(t||e.slice())})),Tle;const Bun=P(te)(Tle||(Tle=Lun([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function Nun(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const zun={portal:!0,tone:"default"},Vun={position:"absolute",top:0,left:0,bottom:0,right:0};function Hun(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);hA(j,m),Ri(w,(W,Q)=>{var N;!W&&Q&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:kx()}],position:"after"})},[v,p]),A=h.useCallback((W,Q)=>{v({items:[K0(Q)],position:W})},[v]),D=H0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(Jw,{presence:D,maxAvatars:1}),[D]),O=wB(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(F,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(q0,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(W=>W.level==="error"),V=O.some(W=>W.level==="warning"),M=h.useMemo(()=>d?null:l.jsx(Jt,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Lt,{children:[l.jsx(Ne,{text:"Remove",tone:"critical",icon:uo,onClick:f}),l.jsx(Ne,{text:"Duplicate",icon:Eu,onClick:T}),l.jsx(vA,{types:E,onInsert:A})]}),popover:zun}),[T,A,f,E,e.inputId,d]),H=Nun({readOnly:d,hasErrors:R,hasWarnings:V}),q=l.jsx(wOe,{menu:M,presence:I,validation:$,tone:H,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(Bun,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&l.jsx(te,{as:Y,style:Vun,children:l.jsxs(Y,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(F,{padding:3,children:l.jsx(ur,{muted:!0})}),l.jsx(B,{muted:!0,size:1,children:"Resolving initial value"})]})})]})}),U=Sp(a);return l.jsxs(l.Fragment,{children:[l.jsx(ri,{path:u,isChanged:y,hasFocus:!!w,children:q}),m&&l.jsx(vIe,{header:d?"View ".concat(U):"Edit ".concat(U),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var Ale=Object.freeze,Uun=Object.defineProperty,Wun=(e,t)=>Ale(Uun(e,"raw",{value:Ale(t||e.slice())})),Dle;const Yun=P(te)(Dle||(Dle=Wun([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function qun(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);lr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(an,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Yun,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(re,{space:4,children:[l.jsx(F,{children:l.jsx(B,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(B,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(F,{children:l.jsxs(B,{size:1,children:[l.jsx(G5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(re,{space:2,children:[l.jsx(B,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(te,{padding:2,overflow:"auto",border:!0,children:l.jsx(ir,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(te,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(re,{space:4,marginTop:2,children:[l.jsx(F,{margin:1,children:l.jsx(B,{align:"center",size:4,children:l.jsx(yl,{})})}),l.jsxs(B,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const Gun={portal:!0,tone:"default"};function Kun(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=fa(),i=h.useCallback(()=>{o(ct.from([et([{_key:t.key}])]))},[o,t.key]);return l.jsx(wOe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(Jt,{button:l.jsx(se,{padding:2,mode:"bleed",icon:Bo}),id:"".concat(r,"-menuButton"),menu:l.jsx(Lt,{children:l.jsx(Ne,{text:"Remove",tone:"critical",icon:uo,onClick:i})}),popover:Gun}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(qun,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const Zun=[];function Xun(e){var t;const{arrayFunctions:n=yB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:b,schemaType:x,value:y=Zun}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(Hun,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(re,{space:3,children:[l.jsx(uN,{types:x.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsxs(re,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(te,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(B,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(te,{border:!0,radius:1,children:l.jsx(VB,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>l.jsxs(HB,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(ZB,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&l.jsx(Kun,{sortable:_,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:K0,readOnly:u,schemaType:x,value:y})]})}function Qun(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const Jun=[];function edn(e){var t;const{arrayFunctions:n=yB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x,resolveUploader:y,schemaType:w,value:C=Jun}=e,[_,S]=h.useState(null),{space:E}=Ts().sanity,j=h.useCallback(K=>{s({items:[K],position:"before",referenceItem:0})},[s]),k=h.useCallback(K=>{s({items:[K],position:"after",referenceItem:-1})},[s]),T=Qun(h.useMemo(()=>o.map(K=>K.key),[o]),Fu),{scrollElement:A,containerElement:D}=Srn(),I=h.useRef(null),O=h.useMemo(()=>Or(u[0])?u[0]._key:u[0],[u]),$=h.useCallback(K=>{const z={...K};if(_!==null&&(z.startIndex=Math.min(K.startIndex,_),z.endIndex=Math.max(K.endIndex,_)),O){const Z=T.findIndex(G=>G===O);Z!==-1&&(z.startIndex=Math.min(z.startIndex,Z),z.endIndex=Math.max(z.endIndex,Z))}return b_e(z)},[_,O,T]),R=h.useCallback((K,z)=>{if(!K.scrollElement)return;const Z=K.scrollElement,G=()=>{var J,X,ee,oe;const de=(X=(J=D.current)==null?void 0:J.getBoundingClientRect().top)!=null?X:0,le=(oe=(ee=I.current)==null?void 0:ee.getBoundingClientRect().top)!=null?oe:0,ve=Math.floor(le-de);z(Z.scrollTop-ve)};return G(),K.scrollElement.addEventListener("scroll",G,{capture:!1,passive:!0}),()=>{Z.removeEventListener("scroll",G)}},[D]),V=h.useCallback(()=>53,[]),M=C_e({count:o.length,estimateSize:V,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:$,getItemKey:h.useCallback(K=>T[K],[T]),scrollToFn:(K,z,Z)=>{K!==Z.scrollOffset&&x_e(K,z,Z)}}),H=M.getVirtualItems(),q=h.useCallback(K=>{var z,Z;const{active:G}=K;S((Z=(z=G.data.current)==null?void 0:z.sortable)==null?void 0:Z.index)},[]),U=h.useCallback(()=>{S(null)},[]),W=((t=w.options)==null?void 0:t.sortable)!==!1,Q=1,N=1;return l.jsxs(re,{space:3,ref:I,children:[l.jsx(uN,{types:w.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsx(re,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(te,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(B,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(te,{border:!0,radius:1,style:{height:"".concat(M.getTotalSize()+H.length*E[Q]+E[N],"px"),width:"100%",position:"relative"},children:l.jsx(VB,{axis:"y",gap:Q,paddingY:N,items:T,onItemMove:a,onItemMoveStart:q,onItemMoveEnd:U,sortable:W,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(H[0].start,"px)")},children:H.map(K=>{const z=o[K.index];return l.jsxs(HB,{ref:M.measureElement,sortable:W,"data-index":K.index,id:z.key,children:[z.kind==="item"&&l.jsx(ZB,{member:z,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x}),z.kind==="error"&&l.jsx(bOe,{sortable:W,member:z,onRemove:()=>e.onItemRemove(z.key)})]},K.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:K0,readOnly:d,schemaType:w,value:C})]})}function COe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(Xun,{...e}):l.jsx(edn,{...e})}const tdn=["string","number","boolean"];function ndn(e){return e.of.every(t=>tdn.includes(t.jsonType))}function rdn(e){return e.of.length===1&&mc("string",e.of[0])}function odn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function idn(e){return e.of.some(t=>mc("block",t))}function sdn(e){var t;return!!((t=e.options)!=null&&t.list)}function adn(e){return rdn(e)&&odn(e)?vun:sdn(e)?uOe:ndn(e)?xOe:idn(e)?cun:COe}function ldn(e){return rF(e)?e:{title:Cm("".concat(e)),value:e}}const Ile={title:"",value:void 0};function _Oe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(ldn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),b=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),y=ie.useCallback(_=>{a(ct.from(typeof(_==null?void 0:_.value)>"u"?et():vt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){y(Ile);return}y(S)},[y,g]),C=v?l.jsx(cdn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:y,readOnly:o}):l.jsx(Rf,{...f,customValidity:i,value:b(m),readOnly:o,onChange:w,children:[Ile,...p].map((_,S)=>l.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return l.jsx(ri,{path:c,isChanged:u,hasFocus:!!d,children:C})}const cdn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?qt:re;return l.jsx(te,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx(udn,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),udn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(Y,{as:"label",align:"center",children:[l.jsx(dQe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(F,{marginLeft:2,children:l.jsx(B,{size:1,weight:"semibold",children:i.title})})]})});function SOe(e){const{validationError:t,elementProps:n}=e;return l.jsx(Rr,{...n,customValidity:t,"data-testid":"string-input"})}function ddn(e){return yIe(e,"list")?_Oe:SOe}const fdn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function SS(e,t){for(const n of fdn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function EOe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=SS(t,"min"),i=SS(t,"integer"),s=SS(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx(Rr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function hdn(e){return yIe(e,"list")?_Oe:EOe}var Ole=Object.freeze,pdn=Object.defineProperty,kOe=(e,t)=>Ole(pdn(e,"raw",{value:Ole(t||e.slice())})),Ple,Rle;const mdn=P(F)(Ple||(Ple=kOe([`
  align-self: center;
`]))),gdn=P(F)(Rle||(Rle=kOe([`
  line-height: 0;
`])));function vdn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?Ij:jwe,p=i?"transparent":void 0;return l.jsx(te,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(Y,{children:[l.jsx(gdn,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(F,{flex:1,paddingY:3,children:l.jsx(zDe,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(mdn,{paddingX:3,paddingY:1,children:l.jsx(btn,{maxAvatars:1,position:"top"})})]})})}function ydn(e){const{validationError:t,elementProps:n}=e;return l.jsx(Rr,{...n,type:"email",inputMode:"email",customValidity:t})}function bdn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(et([a]))},[n]);return l.jsxs(Nc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(B,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Im,{marginTop:4,open:zc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(F,{marginBottom:3,children:l.jsx(B,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(re,{as:"ul",space:3,children:t.map(a=>l.jsx(xdn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function xdn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(te,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(re,{space:2,children:[l.jsxs(te,{border:!0,radius:1,children:[l.jsx(te,{borderBottom:!0,padding:3,children:l.jsx(ir,{weight:"medium",children:t})}),l.jsx(F,{overflow:"auto",padding:3,children:l.jsx(ir,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(B,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(se,{icon:uo,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var $le=Object.freeze,wdn=Object.defineProperty,Cdn=(e,t)=>$le(wdn(e,"raw",{value:$le(t||e.slice())})),Mle;const _dn=P(te)(Mle||(Mle=Cdn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),Sdn=h.forwardRef(function(t,n){const{onClick:r}=t,o=ie.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(qb,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),Edn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Fle=Object.freeze,kdn=Object.defineProperty,jdn=(e,t)=>Fle(kdn(e,"raw",{value:Fle(t||e.slice())})),Lle;const Tdn=P(EXe)(Lle||(Lle=jdn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),Adn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx($j,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(Sdn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},Ddn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx(Rf,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(Edn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},Idn=ie.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(Tdn,{"data-testid":"field-group-root",children:[l.jsx(Adn,{...o,disabled:n,onClick:i}),l.jsx(Ddn,{...o,disabled:n,onSelect:i})]})}),Ble=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:b}=t,{columns:x}=n.options||{},y=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:l.jsx(bdn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>l.jsx(wrn,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(re,{space:5,children:[r.length>0?l.jsx(_dn,{$level:m,"data-testid":"field-groups",children:l.jsx(Idn,{groups:r,inputId:g,onClick:b,shouldAutoFocus:!1})}):null,x?l.jsx(on,{columns:x,gap:4,marginTop:1,children:w()}):w(),y]})});function Odn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(te,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(B,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const Pdn=["January","February","March","April","May","June","July","August","September","October","November","December"],Rdn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$dn=u7(0,24),Mdn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fdn=[1,2,3,4,5,6],Ldn=e=>{const t=gEe(e);return mEe({start:t,end:yEe(t)})},Bdn=e=>e.map(t=>[t,...Fdn.map(n=>Hi(t,n))]),Ndn=e=>Bdn(Ldn(e)).map(t=>({number:vEe(t[0]),days:t}));function zdn(e){return l.jsx(F,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(on,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Rdn.map(t=>l.jsx(F,{paddingY:2,children:l.jsx(B,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),Ndn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Md(r,e.focused),s=e.selected&&Md(r,e.selected),a=Md(r,new Date),c=e.focused&&SEe(r,e.focused);return l.jsx(Odn,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Nle={dayPresets:!1,timePresets:!1},jOe=ie.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=ie.useState(),d=ie.useCallback(v=>{u(v.currentTarget.value)},[]),f=ie.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=ie.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=ie.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return l.jsx(Rr,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),Vdn=e=>{let{onChange:t,...n}=e;const r=ie.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(jOe,{...n,onChange:r,inputMode:"numeric"})},Hdn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Udn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(d5t(kEe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(V8(s,S)),[s,d]),v=h.useCallback(S=>d(f5t(s,S)),[s,d]),g=h.useCallback(S=>{c(K2(sO(S,i.getHours()),i.getMinutes()))},[c,i]),b=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(K2(i,E))},[c,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(sO(i,E))},[c,i]);h.useCallback((S,E)=>{c(sO(K2(i,E),S))},[c,i]);const y=cr(n),w=h.useCallback(()=>{var S,E;(E=(S=y.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[y]),C=h.useCallback(S=>{var E,j;if(Mdn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Hi(s,-7)),S.key==="ArrowDown"&&o(Hi(s,7)),S.key==="ArrowLeft"&&o(Hi(s,-1)),S.key==="ArrowRight"&&o(Hi(s,1)),(j=(E=y.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[y,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[y,w,s]),h.useCallback(()=>g(Hi(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Hi(new Date,1)),[g]);const _=h.useCallback(()=>c(new Date),[c]);return l.jsxs(F,{"data-ui":"Calendar",...u,ref:y,children:[l.jsxs(F,{padding:2,children:[Nle.dayPresets,l.jsxs(Y,{children:[l.jsx(F,{flex:1,children:l.jsx(Wdn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(F,{marginLeft:2,children:l.jsx(Ydn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),l.jsxs(F,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(zdn,{date:s,focused:s,onSelect:g,selected:i}),Hdn]})]}),r&&l.jsxs(F,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(Y,{align:"center",children:[l.jsxs(Y,{align:"center",flex:1,children:[l.jsx(F,{children:l.jsx(Rf,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:$dn.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(F,{paddingX:1,children:l.jsx(B,{children:":"})}),l.jsx(F,{children:l.jsx(Rf,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:b,children:u7(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(F,{marginLeft:2,children:l.jsx(se,{text:"Set to current time",mode:"bleed",onClick:_})})]}),Nle.timePresets]})]})});function Wdn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(Y,{flex:1,children:[l.jsx(se,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:Z5,paddingX:2,radius:0}),l.jsx(F,{flex:1,children:l.jsx(Rf,{radius:0,value:r,onChange:n,children:Pdn.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Dc,onClick:i,paddingX:2,radius:0})]})}function Ydn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(Y,{children:[l.jsx(se,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:Z5,paddingX:2,radius:0}),l.jsx(Vdn,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(se,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Dc,paddingX:2,radius:0})]})}const qdn=ie.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=ie.useState(),c=ie.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(Udn,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),Gdn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=cr(n),m=h.useRef(null),[v,g]=h.useState(!1);lr(()=>g(!1),[d]);const b=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),y=h.useCallback(()=>g(!0),[]),w=l.jsx(F,{padding:1,children:l.jsx(se,{ref:m,icon:vg,mode:"bleed",padding:2,onClick:y,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(jOe,{ref:p,...u,value:o,onChange:i,suffix:v?l.jsx($u,{zOffset:1e3,children:l.jsx(an,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(F,{overflow:"auto",children:l.jsx(id,{onDeactivation:b,children:l.jsx(qdn,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),Kdn=new Date,TOe=ie.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,b]=ie.useState(null);h.useEffect(()=>{b(null)},[m]);const x=ie.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&b(null)):j.isValid?s(f(j.date)):b(E)},[a,s,m,g,f]),y=ie.useCallback(S=>{s(S?f(S):null)},[f,s]),w=cr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?l.jsx(Rr,{value:_,readOnly:!0}):l.jsx(Gdn,{...v,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(Kdn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:y,customValidity:C==null?void 0:C.error})});function Zdn(e){return e instanceof Date&&!isNaN(e.valueOf())}const Xdn="YYYY-MM-DD",Qdn="HH:mm";function Jdn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Xdn,timeFormat:e.timeFormat||Qdn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function d4(e){return e.toISOString()}function efn(e){const t=new Date(e);return Zdn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function tfn(e,t){if(!t||t===1)return e;const n=Gkt(e),r=YEt(n),o=r%t;return d4(o!==0?K2(n,r-o):n)}function nfn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=Jdn(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=tfn(p,a)),t(p===null?et():vt(p))},[t,a]),u=ie.useCallback(f=>OT(f,"".concat(i," ").concat(s)),[i,s]),d=ie.useCallback(f=>S9(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(TOe,{...o,onChange:c,deserialize:efn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:d4,timeStep:a,value:r})}const dN="YYYY-MM-DD",rfn=dN;function ofn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||rfn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const ifn=e=>S9(e,dN),sfn=e=>OT(e,dN);function afn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=ofn(r.options),a=h.useCallback(d=>{n(d===null?et():vt(d))},[n]),c=h.useCallback(d=>OT(d,s),[s]),u=h.useCallback(d=>S9(d,s),[s]);return l.jsx(TOe,{...o,deserialize:ifn,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:sfn,value:i})}var zle=Object.freeze,lfn=Object.defineProperty,cfn=(e,t)=>zle(lfn(e,"raw",{value:zle(t||e.slice())})),Vle;const ufn=P(Twe)(Vle||(Vle=cfn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function dfn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx(ufn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function ffn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=SS(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx(Rr,{type:a,inputMode:"url",customValidity:o,...i})}const hfn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?Mje(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function pfn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||hfn)(e,t,n)}function mfn(e,t){const[n,r]=ie.useState(null),o=ie.useRef(0),i=ie.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function gfn(){const{getClient:e}=Mn(),t=En(),n=Vo(),r=zPe(),o=BPe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function vfn(e,t,n){const r=e.slice(0,-1),o=nm(t,r);return{parentPath:r,parent:o,...n}}async function yfn(e,t,n){return typeof e=="function"?e(t,n):nm(t,e)}function bfn(e){var t;const{getDocument:n}=oi().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(y=>y.level==="error"),[s]),p=gfn(),m=h.useCallback(y=>{if(!y){a(ct.from(et([])));return}a(ct.from([Gi({_type:i.name}),vt(y,["current"])]))},[a,i.name]),[v,g]=mfn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const y=n()||{_type:i.name},w=vfn(r,y,p);return yfn(d,y,w).then(C=>pfn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),b=(v==null?void 0:v.status)==="pending",x=ie.useCallback(y=>m(y.currentTarget.value),[m]);return l.jsx(re,{space:3,children:l.jsxs(Y,{children:[l.jsxs(F,{flex:1,children:[l.jsx(Rr,{customValidity:f.length>0?f[0].message:"",disabled:b,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(v==null?void 0:v.status)==="error"&&l.jsx(te,{padding:2,tone:"critical",children:v.error.message})]}),d&&l.jsx(F,{marginLeft:1,children:l.jsx(se,{mode:"ghost",type:"button",disabled:c||b,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating":"Generate"})})]})})}function xfn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(uOe,{...e}):mln(e)?l.jsx(xOe,{...e}):l.jsx(COe,{...e})}const Hle={document:Ble,object:Ble,array:xfn,boolean:vdn,number:EOe,text:dfn,email:ydn,datetime:nfn,date:afn,url:ffn,image:man,file:ssn,string:SOe,slug:bfn,crossDatasetReference:Nan};function wfn(e){if(mc("array",e))return adn(e);if(mc("reference",e))return hln;if(mc("string",e))return ddn(e);if(mc("number",e))return hdn(e)}function Cfn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=wfn(e);if(n)return n;const o=QB(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>Hle[s.name]);if(i)return Hle[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function _fn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:ah}function Om(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function Sfn(e){return Om({componentProps:e,componentResolver:Cfn})}function Efn(e){return Om({componentProps:e,componentResolver:Urn})}function kfn(e){return Om({componentProps:e,componentResolver:Irn})}function jfn(e){return Om({componentProps:e,componentResolver:_fn})}function Tfn(e){return Om({componentProps:e,componentResolver:cin})}function Afn(e){return Om({componentProps:e,componentResolver:uin})}function Dfn(e){return Om({componentProps:e,componentResolver:din})}function Ifn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function Ofn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function Pfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function Rfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function $fn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function Mfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function Ffn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function Lfn(){return Bl({defaultComponent:Sfn,pick:Ifn})}function Bfn(){return Bl({defaultComponent:Efn,pick:Ofn})}function AOe(){return Bl({defaultComponent:jfn,pick:Pfn})}function Nfn(){return Bl({defaultComponent:kfn,pick:Rfn})}function zfn(){return Bl({defaultComponent:Tfn,pick:$fn})}function Vfn(){return Bl({defaultComponent:Afn,pick:Mfn})}function Hfn(){return Bl({defaultComponent:Dfn,pick:Ffn})}function rC(e){const t=AOe();return l.jsx($Ae,{...e,component:t})}const Ufn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(te,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(B,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(Wfn,{document:a},a._id))]}):l.jsxs(B,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},Wfn=e=>{let{document:t}=e;const n=En(),r=h.useCallback(o=>l.jsx(xm,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(te,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(Y,{align:"center",gap:2,children:l.jsx(rC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},Ule={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Wle={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Yle={height:"100%"},Yfn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(te,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(on,{columns:3,gap:[2,3,4],children:[l.jsxs(Y,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(B,{children:l.jsx($r,{})}),l.jsxs(B,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(te,{__unstable_checkered:!0,border:!0,radius:1,style:Wle,children:l.jsx(Y,{align:"center",justify:"center",style:Yle,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Ule,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(te,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(on,{columns:3,gap:3,children:[l.jsx(Y,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(B,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(te,{__unstable_checkered:!0,border:!0,radius:1,style:Wle,children:l.jsx(Y,{align:"center",justify:"center",style:Yle,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Ule,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},kP="confirmDelete",jP="listUsage";function f4(e){let{asset:t,assetType:n="image",mode:r=jP,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=TGt(t._id),d=r===jP?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,b]=h.useState([]),x=r===kP,y=g.length>0,w=r===jP||y,C=r===kP&&!y,_=x?l.jsxs(on,{padding:2,gap:2,columns:2,children:[l.jsx(se,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(se,{text:"Delete",tone:"critical",icon:uo,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=c.filter(j=>!S.includes(j._id));b(E),p(E.length===0&&!a),v(a)},[a,c]),l.jsxs(Ii,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(F,{padding:4,children:l.jsx(jGt,{text:"Loading..."})}),!m&&l.jsxs(re,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===kP&&l.jsx(Yfn,{asset:t,assetType:n,hasResults:y}),w&&l.jsx(Ufn,{asset:t,referringDocuments:g,assetType:n})]})]})}function DOe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(Jt,{button:l.jsx(se,{padding:2,mode:n?"ghost":o,icon:Bo,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Lt,{children:[l.jsx(Ne,{text:"Show uses",icon:Sf,onClick:()=>{r({type:"showUsage"})}}),l.jsx(Ne,{text:"Delete",icon:uo,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var qle=Object.freeze,qfn=Object.defineProperty,IA=(e,t)=>qle(qfn(e,"raw",{value:qle(t||e.slice())})),Gle,Kle,Zle,Xle;const Gfn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Kfn=P.img(Gle||(Gle=IA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Zfn=P(te)(Kle||(Kle=IA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),h4=P.div(Zle||(Zle=IA([`
  position: relative;
  display: inherit;
`]))),Xfn=P.div(Xle||(Xle=IA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),h4,h4),Qfn=ie.memo(function(t){const n=fr(sn),r=zo(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const b=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),y=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),c(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,c,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&b(),D.type==="showUsage"&&y()},[b,y]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,Gfn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return l.jsxs(h4,{children:[l.jsx(se,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(Zfn,{__unstable_checkered:!0,children:[l.jsx(Kfn,{alt:E,src:A,onClick:s,"data-id":j}),v&&l.jsx(kGt,{})]})}),l.jsx(Xfn,{children:l.jsx(DOe,{isSelected:u,onAction:S})}),(d||p)&&l.jsx(f4,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),Jfn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ehn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],thn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],nhn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Qle=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function rhn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?nhn:thn:n?ehn:Jfn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=Qle(a,s,f);return"".concat(d+g," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=Qle(Number(a),s,f),v=c[p];return"".concat(d+m," ").concat(v)}const TP={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function ohn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function ihn(e){return TP!=null&&TP[e]?TP[e].title:ohn(e)}var Jle=Object.freeze,shn=Object.defineProperty,_u=(e,t)=>Jle(shn(e,"raw",{value:Jle(t||e.slice())})),ece,tce,nce,rce,oce,ice,sce,ace,lce;const p4=P.span(ece||(ece=_u([`
  background-color: transparent;
  flex-shrink: 0;
`]))),hg=P(Y)(tce||(tce=_u([""]))),ahn=P(B)(nce||(nce=_u([""]))),lhn=P(te)(oce||(oce=_u([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),ahn,e=>e.isSelected&&fe(rce||(rce=_u([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),cce=P(se)(ace||(ace=_u([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&fe(ice||(ice=_u([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),p4,hg),e=>!e.isSelected&&fe(sce||(sce=_u([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),chn=P(B)(lce||(lce=_u([`
  overflow-wrap: anywhere;
`]))),uce={position:"relative"},dce={flexShrink:0},AP={minWidth:0},fce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},uhn="Cannot delete current file",dhn=e=>{const t=fr(sn),n=zo(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:b,isMobile:x}=e,{originalFilename:y,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=qo(S,{agoSuffix:!0}),j=ihn(C),k=rhn(_),T=(y||"").length>37,A=()=>{a(!0)},D=H=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:H.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},O=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:H=>{u(!1),D(H),console.error("Could not delete asset",H)}})},$=()=>{i(!1),a(!1)},R=()=>{i(!0)},V=()=>{f(!d)},M=H=>{H.type==="delete"&&A(),H.type==="showUsage"&&R()};return x?l.jsxs(te,{paddingBottom:2,style:uce,children:[l.jsxs(on,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(cce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(Y,{gap:2,flex:2,align:"center",children:[l.jsx(te,{as:p4,padding:2,tone:"transparent",radius:2,children:l.jsx(B,{muted:!0,size:2,style:dce,children:l.jsx(_f,{})})}),l.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:AP,children:y})]})}),l.jsx(Y,{justify:"flex-end",align:"center",paddingRight:1,style:fce,children:l.jsx(se,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?r0e:qa})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(on,{marginTop:3,columns:3,gap:1,children:[l.jsxs(re,{space:2,children:[l.jsx(zt,{size:1,muted:!0,children:"Size"}),l.jsx(B,{size:1,muted:!0,children:k})]}),l.jsxs(re,{space:2,children:[l.jsx(zt,{size:1,muted:!0,children:"Type"}),l.jsx(B,{size:1,muted:!0,children:j})]}),l.jsxs(re,{space:2,children:[l.jsx(zt,{size:1,muted:!0,children:"Date added"}),l.jsx(B,{size:1,muted:!0,children:E})]})]}),l.jsxs(re,{space:2,marginTop:3,children:[l.jsx(se,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:R,icon:Sf}),l.jsx(se,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:uo,disabled:b,title:b?uhn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx(f4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]}):l.jsxs(lhn,{asset:p,paddingBottom:1,style:uce,radius:0,overflow:"hidden",isSelected:b,"aria-selected":"true",children:[l.jsxs(on,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(cce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(y),isSelected:b,children:l.jsxs(hg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(y),children:[l.jsx(te,{as:p4,padding:2,tone:"transparent",radius:2,style:dce,children:l.jsx(B,{muted:!0,size:2,children:l.jsx(_f,{})})}),T&&l.jsx(lt,{content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:y})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:AP,children:y})}),!T&&l.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:AP,children:y})]})}),l.jsx(hg,{align:"center",children:l.jsx(B,{size:1,muted:!0,children:k})}),l.jsx(hg,{align:"center",children:l.jsx(F,{children:l.jsx(chn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(hg,{align:"center",children:l.jsx(B,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),l.jsx(hg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:fce,children:l.jsx(DOe,{border:!1,isSelected:!1,onAction:M})})]}),(o||s)&&l.jsx(f4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]})},fhn={paddingLeft:"2.2rem"},hce={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function hhn(e){const n=pm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(F,{padding:4,children:[l.jsx(te,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(on,{style:hce,children:l.jsx(F,{flex:2,paddingLeft:5,children:l.jsx(zt,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(on,{gap:1,style:hce,children:[l.jsx(F,{flex:2,style:fhn,children:l.jsx(zt,{muted:!0,size:1,children:"Filename"})}),l.jsx(F,{flex:1,children:l.jsx(zt,{muted:!0,size:1,children:"Size"})}),l.jsx(F,{flex:1,children:l.jsx(zt,{muted:!0,size:1,children:"Type"})}),l.jsx(F,{flex:1,children:l.jsx(zt,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(re,{children:[c&&r.length===0&&l.jsx(F,{paddingTop:4,paddingBottom:2,children:l.jsx(Y,{justify:"center",children:l.jsx(ur,{muted:!0})})}),r.map(u=>l.jsx(dhn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var pce=Object.freeze,phn=Object.defineProperty,IOe=(e,t)=>pce(phn(e,"raw",{value:pce(t||e.slice())})),mce,gce;const ES=200,OOe="sanity.imageAsset",mhn="sanity.fileAsset",ghn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},vhn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ES,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OOe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?ghn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},yhn=P(on)(mce||(mce=IOe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),bhn=P(te)(gce||(gce=IOe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),xhn=function(t,n){const r=fr(sn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(hEe())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:b,assetType:x="image",dialogHeaderTitle:y="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(M=>M.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(M=>{const H=M*ES,q=H+ES,U=x==="image",W=U?"asset.image-list":"asset.file-list",Q=U?OOe:mhn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(vhn(H,q,Q,_),{},{tag:W}).subscribe(N=>{f(N.length<ES),u(K=>K.concat(N)),g(!1)}))},[x,_,o]),T=h.useCallback(M=>{u(H=>H.filter(q=>q._id!==M))},[u]),A=h.useCallback(M=>{c.find(q=>q._id===M)&&C([{kind:"assetDocumentId",value:M}])},[c,C]),D=h.useCallback(M=>{M.preventDefault(),A(M.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(M=>{M.key==="Enter"&&(M.preventDefault(),A(M.currentTarget.getAttribute("data-id")))},[A]),O=h.useCallback(()=>{w&&w()},[w]),$=h.useCallback(M=>{M.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const R=h.useMemo(()=>l.jsxs(F,{padding:4,children:[l.jsx(yhn,{gap:2,children:c.map(M=>l.jsx(Qfn,{asset:M,isSelected:b.some(H=>H._id===M._id),onClick:D,onKeyPress:I,onDeleteFinished:T},M._id))}),v&&c.length===0&&l.jsx(Y,{justify:"center",children:l.jsx(ur,{muted:!0})}),!v&&c.length===0&&l.jsx(B,{align:"center",muted:!0,children:"No images"})]}),[c,T,D,I,v,b]),V=h.useMemo(()=>l.jsx(hhn,{isLoading:v,assets:c,selectedAssets:b,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,c,b,D,I,T]);return l.jsxs(Ii,{__unstable_autoFocus:p,header:y,id:i.current,onClickOutside:O,onClose:O,ref:n,width:2,children:[E&&!j&&l.jsx(te,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(Y,{gap:[3,4],align:"center",children:[l.jsx(B,{children:l.jsx(sm,{})}),l.jsxs(B,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&R,x==="file"&&V,c.length>0&&!d&&l.jsx(bhn,{tone:"default",padding:4,children:l.jsx(Y,{direction:"column",children:l.jsx(se,{type:"button",icon:CF,loading:v,onClick:$,text:"Load more",tone:"primary"})})})]})},POe=ie.memo(ie.forwardRef(xhn)),ROe={name:"sanity-default",title:"Uploaded files",component:POe,icon:wF},$Oe={name:"sanity-default",title:"Uploaded images",component:POe,icon:Sl};function whn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function ch(e,t){return e[t]}function Chn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const _hn=[{fieldPath:"_updatedAt",icon:vg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:vg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:Sf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:Ry,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Ry,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Ry,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:K5,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:vg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:vg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:ng,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:_f,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Sl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:x0e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:e0e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:Sf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:ng,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ng,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Ml,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:ng,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:ng,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Shn(e){let{documentId:t,schemaType:n}=e;const r=$i(),{draft:o,published:i,isLoading:s}=ho(()=>aA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=hB({draft:o,published:i,value:a});return s?l.jsx(b0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const a5="yyyy-MM-dd";function Ehn(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function vce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Bu(n)?null:l.jsx(l.Fragment,{children:Ko(n,a5)})}function yce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Bu(n)?null:l.jsx(l.Fragment,{children:Ko(n,a5)})}function khn(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function bce(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Bu(r)||!Bu(n)?null:l.jsxs(l.Fragment,{children:[Ko(n,a5),"  ",Ko(r,a5)]})}function Qm(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function Jm(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",Nr("item",t)]})}function jhn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min,"  ",t.max]})}function Thn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min,"  ",t.max," items"]})}function dl(e){let{value:t}=e;const n=En(),r=t._ref,o=n.get(t._type);return o?l.jsx(Shn,{documentId:r,schemaType:o}):null}function wi(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const MOe=h.createContext(void 0);function Pt(){const e=h.useContext(MOe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function ka(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Pt(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx(Rr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function FOe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Pt(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return l.jsxs(Y,{gap:2,children:[l.jsx(F,{flex:1,children:l.jsx(Rr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(F,{flex:1,children:l.jsx(Rr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function OA(e,t){const n=t.split("."),r=n[0];if(r&&Ha(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?OA(o.type,i):o}}}var xce=Object.freeze,Ahn=Object.defineProperty,LOe=(e,t)=>xce(Ahn(e,"raw",{value:xce(t||e.slice())})),wce,Cce;const Dhn=P(F)(wce||(wce=LOe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),Ihn=P(zt)(Cce||(Cce=LOe([`
  max-width: 150px;
`])));function Ohn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=$i(),{draft:i,published:s,isLoading:a}=ho(()=>aA(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(qt,{space:3,children:[n&&n.length>0&&l.jsx(FB,{presence:n}),l.jsx(Ihn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(Dhn,{children:l.jsx(ah,{...hB({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function fN(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=En().get(o),u=lC(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=bw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return c?l.jsx(F,{...s,children:l.jsx(_p,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(Ohn,{documentId:r,presence:u,schemaType:c})})}):null}const Phn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Rhn="_debug_search_score",BOe=!1,_ce=1e3,NOe="k",$hn=Phn?"Cmd":"Ctrl",Dx=Pf.space[1],Mhn=735,zOe=800,oC=5,X0=2;function PA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function Fhn(e,t){return RA(e).filter(n=>Lhn(n,t)).sort(m4)}function RA(e){return MKt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function m4(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function Lhn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const Bhn=300,DP={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function Nhn(e){return e!==null}function zhn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function VOe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=fr(sn),d=h.useMemo(()=>gB(RA(s),u,{tag:"search.global",unique:!0}),[u,s]),f=Nj(m=>m.pipe(ft(Nhn),ce(zhn),Xn(Vt),FL(v=>Fo((v==null?void 0:v.debounceTime)||Bhn)),bn(i),rt(v=>zr(xe({...DP,loading:!0,options:v.options,terms:v.terms}),$tt(()=>PA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ce(g=>({hits:g})),bn(g=>{let{hits:b}=g;return r==null?void 0:r(b)}),On(g=>(o==null||o(g),xe({...DP,error:g,loading:!1,options:v.options,terms:v.terms})))),xe(Kn).pipe(bn(()=>r==null?void 0:r([])))),xe({loading:!1}))),na((v,g)=>({...v,...g}),DP),bn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const Vhn=40;function hN(e){let{availableCharacters:t=Vhn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=Sce(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(Sce).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function Sce(e){var t;return(t=e.title)!=null?t:e.name}var Ece=Object.freeze,Hhn=Object.defineProperty,Uhn=(e,t)=>Ece(Hhn(e,"raw",{value:Ece(t||e.slice())})),kce;const Whn=()=>!0,Yhn=P(B)(kce||(kce=Uhn([`
  word-break: break-word;
`]))),qhn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=En(),{state:{fullscreen:c}}=Pt(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=VOe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),b=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:Pn(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=hN({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),y=h.useCallback(C=>{const _=C.hit.hit._type;return l.jsx(fN,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return l.jsx(an,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:_,children:T?S:m.terms.query&&l.jsx(F,{padding:4,children:l.jsx(Y,{align:"center",height:"fill",justify:"center",children:l.jsxs(Yhn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["",m.terms.query,""]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:X0,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(wL,{"aria-label":x,filterOption:Whn,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:b,placeholder:x,radius:2,ref:n,renderOption:y,renderPopover:w,value:i==null?void 0:i._ref})})});function vb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Pt(),a=En(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=OA(m,t.fieldPath);if(Rl(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Su).flatMap(g=>g.to);if(Su(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(F,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(re,{space:3,children:[l.jsx(te,{padding:1,radius:1,shadow:1,children:l.jsx(fN,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(se,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(qhn,{onSelect:c,types:u,value:r})})}function Ghn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(Ne,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(Y,{align:"center",justify:"space-between",gap:3,children:l.jsxs(re,{paddingRight:2,space:2,children:[l.jsx(B,{size:1,weight:"regular",children:r}),o&&l.jsx(ir,{muted:!0,size:0,children:o})]})})})}function l5(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Pt(),s=En(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=OA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(fo).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>Khn(p))).filter(fo).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:co([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(Jt,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(Y,{align:"center",gap:2,justify:"space-between",children:[l.jsx(B,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(F,{marginLeft:1,children:l.jsx(B,{size:1,children:l.jsx(Ml,{})})})]})}),id:o||"",menu:l.jsx(Lt,{children:a.map((u,d)=>l.jsx(Ghn,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function Khn(e){return rF(e)?e:{title:Cm("".concat(e)),value:e}}const HOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),UOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),WOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),YOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Qe(e){return JSON.stringify(e)}const Zhn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:Jm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Qe(n)):null},initialValue:null,inputComponent:ka,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:Jm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Qe(n)):null},icon:UOe,initialValue:null,inputComponent:ka,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ",buttonValueComponent:Jm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Qe(n)):null},icon:HOe,initialValue:null,inputComponent:ka,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:Jm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Qe(n)):null},icon:YOe,initialValue:null,inputComponent:ka,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ",buttonValueComponent:Jm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Qe(n)):null},icon:WOe,initialValue:null,inputComponent:ka,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:Jm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Qe(n)):null},initialValue:null,inputComponent:ka,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:Thn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Qe(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Qe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:FOe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Qe(n)," in ").concat(t):null},initialValue:null,inputComponent:l5,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Qe(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:l5,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Qe(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:vb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Qe(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:vb,label:"does not include",type:"arrayReferenceNotIncludes"}},qOe=h.createContext(null);function Xhn(e){let{children:t,workspace:n}=e;return l.jsx(qOe.Provider,{value:n,children:t})}function Nl(){const e=h.useContext(qOe);if(!e)throw new Error("Workspace: missing context value");return e}const kS=h.createContext(null);function pN(e){let{children:t,...n}=e;const r=h.useContext(kS),{unstable_sources:o}=Nl();if("source"in n){const{source:i}=n;return l.jsx(kS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(kS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Mn(){const e=h.useContext(kS);if(!e)throw new Error("Could not find `source` context");return e}function Qhn(e){return l.jsx(F,{...e,children:l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(sr,{tone:"caution",children:l.jsx($r,{})}),l.jsxs(re,{space:4,children:[l.jsx(sr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(sr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(sr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function Jhn(e){let{reference:t}=e;const n=$i(),r=h.useCallback(o=>tIe(n,o),[n]);return l.jsx(Qv,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(tpn,{}),children:o=>l.jsx(epn,{asset:o})})}function epn(e){let{asset:t}=e;return l.jsx(te,{padding:2,shadow:1,children:l.jsxs(Y,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(te,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(B,{children:l.jsx(s0,{})})}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(B,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(B,{size:1,muted:!0,children:ZIe(t.size)})]})]})})}function tpn(){return l.jsx(te,{padding:2,shadow:1,children:l.jsxs(Y,{align:"center",justify:"flex-start",children:[l.jsx(te,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(B,{children:l.jsx(s0,{})})}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(_E,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(_E,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var jce=Object.freeze,npn=Object.defineProperty,mN=(e,t)=>jce(npn(e,"raw",{value:jce(t||e.slice())})),Tce,Ace,Dce;const rpn=P(te)(Tce||(Tce=mN([`
  position: relative;
  padding-bottom: 100%;
`]))),opn=P.img(Ace||(Ace=mN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),ipn=P(Y)(Dce||(Dce=mN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function spn(e){let{reference:t}=e;const n=$i(),r=h.useCallback(o=>eIe(n,o),[n]);return l.jsx(Qv,{observeAsset:r,reference:t,children:o=>l.jsx(apn,{asset:o})})}function apn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(rpn,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx(ipn,{align:"center",justify:"center",children:l.jsx(ur,{})}),l.jsx(opn,{onLoad:i,src:o})]})}function lpn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(Jhn,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx(spn,{reference:t}):null:null}var Ice=Object.freeze,cpn=Object.defineProperty,upn=(e,t)=>Ice(cpn(e,"raw",{value:Ice(t||e.slice())})),Oce;const dpn={file:"sanity.fileAsset",image:"sanity.imageAsset"},fpn=P(F)(Oce||(Oce=upn([`
  width: min(calc(100vw - 40px), 320px);
`])));function zg(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Pt(),{file:d,image:f}=Mn().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===ROe.name);case"image":return f.assetSources.filter(E=>E.name===$Oe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=fr(sn),g=h.useCallback(()=>{c(null),r(null)},[r]),b=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];c(j),b()},[b]),y=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:dpn[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Vn(e,"options.accept",e==="image"?"image/*":"");return l.jsx(fpn,{children:l.jsxs(re,{space:3,children:[i&&w&&l.jsx(mm,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:b,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx(lpn,{reference:o}),l.jsxs(Y,{gap:2,children:[p.length===0&&l.jsx(Qhn,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(Jt,{button:l.jsx(se,{fontSize:C,icon:o?FS:Zo,iconRight:qa,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:l.jsx(Lt,{children:p.map(E=>l.jsx(Ne,{fontSize:C,icon:E.icon||Sl,onClick:()=>y(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(se,{fontSize:C,icon:o?FS:Zo,mode:"ghost",onClick:()=>y(p[0]),style:{flex:o?1:0},text:_})}),o&&l.jsx(se,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const hpn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:zg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:zg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:zg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:zg("image"),label:"is not",type:"assetImageNotEqual"}};function ppn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs(Rf,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const mpn={booleanEqual:{buttonLabel:"is",buttonValueComponent:Ehn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:!0,inputComponent:ppn,label:"is",type:"booleanEqual"}},gpn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Pce=Object.freeze,vpn=Object.defineProperty,ypn=(e,t)=>Pce(vpn(e,"raw",{value:Pce(t||e.slice())})),Rce;const $ce="Include time",bpn=P(B)(Rce||(Rce=ypn([`
  cursor: default;
`])));function gN(e){let{onChange:t,value:n}=e;return l.jsxs(Y,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(re,{children:l.jsx(bpn,{muted:!0,onClick:t,size:1,weight:"medium",children:$ce})}),l.jsx(jwe,{checked:n,label:$ce,onChange:t})]})}const GOe=h.createContext(void 0);function vN(){const e=h.useContext(GOe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const xpn=["January","February","March","April","May","June","July","August","September","October","November","December"],wpn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];u7(0,24);const Cpn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_pn=[1,2,3,4,5,6];function Spn(e){const{focusedDate:t}=vN(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(Y,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(qt,{paddingLeft:2,space:1,children:[l.jsx(B,{weight:"medium",children:xpn[t.getMonth()]}),l.jsx(B,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(F,{children:[l.jsx(se,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(se,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:Z5}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Dc,onClick:s})]})]})}var Mce=Object.freeze,Epn=Object.defineProperty,KOe=(e,t)=>Mce(Epn(e,"raw",{value:Mce(t||e.slice())})),Fce,Lce;const kpn=P.svg(e=>{let{theme:t}=e;return fe(Fce||(Fce=KOe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),jpn=P(te)(Lce||(Lce=KOe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function Tpn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=vN(),u=o&&Md(t,o),d=c&&o&&Md(t,o),f=c&&i&&Md(t,i),p=SEe(t,s),m=s&&Md(t,s),v=Md(t,new Date),g=o&&i&&!d&&!f&&j$(t,o)&&bEe(t,i);return l.jsxs(jpn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&l.jsx(kpn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(B,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const Apn=e=>{const t=gEe(e);return mEe({start:t,end:yEe(t)})},Dpn=e=>e.map(t=>[t,..._pn.map(n=>Hi(t,n))]),Ipn=e=>Dpn(Apn(e)).map(t=>({number:vEe(t[0]),days:t}));var Bce=Object.freeze,Opn=Object.defineProperty,Ppn=(e,t)=>Bce(Opn(e,"raw",{value:Bce(t||e.slice())})),Nce;const Rpn=P(on)(Nce||(Nce=Ppn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function $pn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=vN();return l.jsx(F,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(Rpn,{children:[wpn.map(i=>l.jsx(F,{paddingBottom:3,paddingTop:2,children:l.jsx(B,{align:"center",size:o,weight:"medium",children:i})},i)),Ipn(r).map((i,s)=>i.days.map((a,c)=>l.jsx(Tpn,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const Mpn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function Fpn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),b=h.useCallback(C=>{const _=u5t(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&bEe(_,t),E=n&&j$(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),y=h.useCallback(C=>{var _;if(Cpn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(Hi(f,-7)),C.key==="ArrowDown"&&p(Hi(f,7)),C.key==="ArrowLeft"&&p(Hi(f,-1)),C.key==="ArrowRight"&&p(Hi(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(V8(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&j$(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),l.jsx(GOe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(F,{"data-ui":"Calendar",ref:c,children:[l.jsx(Y,{children:l.jsx(F,{flex:1,children:l.jsx(Spn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(F,{"data-calendar-grid":!0,onKeyDown:y,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx($pn,{onSelect:b}),Mpn]})]})})}function yN(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Pt(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(Fpn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var zce=Object.freeze,Lpn=Object.defineProperty,Bpn=(e,t)=>zce(Lpn(e,"raw",{value:zce(t||e.slice())})),Vce;const Npn=P(F)(e=>{let{background:t,smallClearButton:n}=e;return fe(Vce||(Vce=Bpn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),bN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(Npn,{background:r,smallClearButton:o,children:l.jsx(Rr,{...i,ref:n})})});function gu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=ok(t);break;case"start":o=Ff(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var Hce=Object.freeze,zpn=Object.defineProperty,ZOe=(e,t)=>Hce(zpn(e,"raw",{value:Hce(t||e.slice())})),Uce,Wce;const X_={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},Vpn=P.span(e=>{let{theme:t}=e;return fe(Uce||(Uce=ZOe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),Hpn=P(B)(Wce||(Wce=ZOe([`
  color: `,`;
`])),pe.red[500].hex);function c5(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?X_.datetime.pattern:X_.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const y=new Date(i);return Ko(y,a)}),p=h.useMemo(()=>Ko(r||new Date,a),[a,r]),m=h.useCallback(y=>{let{dateString:w,triggerOnChange:C}=y;if(!w)return;const _=Wkt(w,a,new Date),S=Bu(_);S&&(C&&n(gu({date:_,dateOnly:!t})),f(Ko(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(y=>{f(y.currentTarget.value)},[]),b=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(y=>{y.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const y=i&&new Date(i);y&&m({dateString:Ko(y,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(lt,{content:l.jsxs(Y,{gap:2,children:[l.jsx(Hpn,{size:1,children:l.jsx(aa,{})}),l.jsxs(B,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(Vpn,{children:o?X_.datetime.exampleDate:X_.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(bN,{...s,clearButton:!!d,customValidity:c,onBlur:v,onChange:g,onClear:b,onKeyDown:x,placeholder:p,value:d})})})}function XOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=gu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=gu({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(re,{space:3,children:[l.jsx(c5,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(yN,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(gN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function Yce(e){return l.jsx(XOe,{...e,isDateTime:!1})}function $A(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Pt(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=gu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=gu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(re,{space:3,children:[l.jsx(c5,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(yN,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(gN,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function Upn(e){return l.jsx($A,{...e,direction:"after",isDateTime:!1})}function Wpn(e){return l.jsx($A,{...e,direction:"before",isDateTime:!1})}function qce(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Pt(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(Y,{gap:2,children:[l.jsx(F,{flex:1,children:l.jsx(Rr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(F,{flex:1,children:l.jsxs(Rf,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const Ypn=-7;function QOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useMemo(()=>Hi(new Date,Ypn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Gce({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Gce({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(re,{space:3,children:[l.jsxs(Y,{direction:"column",gap:3,children:[l.jsx(c5,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(c5,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(yN,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(gN,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function Gce(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?gu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?gu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?gu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?gu({date:t,dateOnly:!o,roundDay:"start"}):null}}function qpn(e){return l.jsx(QOe,{...e,isDateTime:!1})}function Kce(e){return l.jsx(XOe,{...e,isDateTime:!0})}function Gpn(e){return l.jsx($A,{...e,direction:"after",isDateTime:!0})}function Kpn(e){return l.jsx($A,{...e,direction:"before",isDateTime:!0})}function Zpn(e){return l.jsx(QOe,{...e,isDateTime:!0})}const ga={dateAfter:{buttonLabel:"after",buttonValueComponent:yce,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:yce,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:vce,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:khn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:vce,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},Xpn={dateAfter:{...ga.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Qe(n==null?void 0:n.date)):null},inputComponent:Upn,type:"dateAfter"},dateBefore:{...ga.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Qe(n==null?void 0:n.date)):null},inputComponent:Wpn,type:"dateBefore"},dateEqual:{...ga.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Qe(n.date)):null},inputComponent:Yce,type:"dateEqual"},dateLast:{...ga.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?nZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Qe(o)):null},inputComponent:qce,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...ga.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Qe(n.date)):null},inputComponent:Yce,type:"dateNotEqual"},dateRange:{...ga.dateRange,buttonValueComponent:bce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Qe(n.dateMin)," && ").concat(t," <= ").concat(Qe(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:tZ().toISOString(),dateMin:null},inputComponent:qpn,type:"dateRange"},dateTimeAfter:{...ga.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Qe(n.date),")"):null},inputComponent:Gpn,type:"dateTimeAfter"},dateTimeBefore:{...ga.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Qe(n.date),")"):null},inputComponent:Kpn,type:"dateTimeBefore"},dateTimeEqual:{...ga.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Bu(r)||!t)return null;const o=(n!=null&&n.includeTime?ZK(r):Ff(r)).toISOString(),i=(n!=null&&n.includeTime?XK(r):ok(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Qe(o),") && dateTime(").concat(t,") < dateTime(").concat(Qe(i),")")},inputComponent:Kce,type:"dateTimeEqual"},dateTimeLast:{...ga.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?nZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Qe(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:qce,type:"dateTimeLast"},dateTimeNotEqual:{...ga.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Bu(r)||!t)return null;const o=(n!=null&&n.includeTime?ZK(r):Ff(r)).toISOString(),i=(n!=null&&n.includeTime?XK(r):ok(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Qe(o),") || dateTime(").concat(t,") > dateTime(").concat(Qe(i),")")},inputComponent:Kce,type:"dateTimeNotEqual"},dateTimeRange:{...ga.dateRange,buttonValueComponent:bce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Qe(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Qe(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:tZ().toISOString(),dateMin:null},inputComponent:Zpn,type:"dateTimeRange"}},Qpn={numberEqual:{buttonLabel:"is",buttonValueComponent:Qm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:null,inputComponent:ka,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:Qm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Qe(n)):null},icon:UOe,initialValue:null,inputComponent:ka,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"",buttonValueComponent:Qm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Qe(n)):null},icon:HOe,initialValue:null,inputComponent:ka,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:Qm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Qe(n)):null},icon:YOe,initialValue:null,inputComponent:ka,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"",buttonValueComponent:Qm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Qe(n)):null},icon:WOe,initialValue:null,inputComponent:ka,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:Qm,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Qe(n)):null},initialValue:null,inputComponent:ka,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:jhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Qe(n==null?void 0:n.min)," && ").concat(t," < ").concat(Qe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:FOe,label:"is between",type:"numberRange"}};function Ia(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx(Rr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const Jpn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Qe(n),")"):null},initialValue:null,inputComponent:Ia,label:"does not contain",type:"portableTextNotMatches"}},emn={referenceEqual:{buttonLabel:"is",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:vb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:dl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Qe(n._ref)):null},initialValue:null,inputComponent:vb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"",buttonValueComponent:dl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Qe(t._ref),")"):null},initialValue:null,inputComponent:zg("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"",buttonValueComponent:dl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Qe(t._ref),")"):null},initialValue:null,inputComponent:zg("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"",buttonValueComponent:dl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Qe(t._ref),")"):null},initialValue:null,inputComponent:vb,label:"document",type:"referencesDocument"}},tmn={slugEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Qe(n),")"):null},initialValue:null,inputComponent:Ia,label:"does not contain",type:"slugNotMatches"}},nmn={stringEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Qe(n)):null},initialValue:null,inputComponent:l5,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Qe(n)):null},initialValue:null,inputComponent:l5,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Qe(n)):null},initialValue:null,inputComponent:Ia,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Qe(n),")"):null},initialValue:null,inputComponent:Ia,label:"does not contain",type:"stringNotMatches"}},rmn={...Zhn,...hpn,...mpn,...Xpn,...gpn,...Qpn,...Jpn,...emn,...tmn,...nmn},omn=Object.values(rmn);function zl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const MA=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>MA(a,[...t,r.name])),o]},imn=[],smn=[],amn=[],lmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(zl(o)))},cmn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},umn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(zl(r)))},dmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(zl(o)))},fmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(zl(o)))},hmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(zl(o)))},pmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(zl(o)));return o(e,n)},mmn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(zl(i)))},gmn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(zl(i)))},vmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(zl(o)))},ymn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(zl(o)))},bmn=e=>{const{config:t,context:n,initialValue:r}=e;return MA(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(zl(f)))},r)};class Zce extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=bt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function ya(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=MA(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new Zce({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new Zce({propertyName:o,path:d,cause:f})}return c})()}class Oa extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>bt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class xN extends Error{constructor(t){super("SchemaError"),this.schema=t}}var Xce=Object.freeze,xmn=Object.defineProperty,wmn=(e,t)=>Xce(xmn(e,"raw",{value:Xce(t||e.slice())})),Qce;function Jce(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const Cmn=P.text(Qce||(Qce=wmn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function _mn(e,t){const n=Jce("".concat(e," ").concat(t)),r=Xve.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=Jce(n.toString()),a=i[Math.floor(s*i.length)],c=pe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=oTe(c,.4),f=azt(c,.4),p=sJ(c,"readable",d)?sJ(c,"readable",f)?czt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(Cmn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const Smn=e=>e.severity==="error";function Emn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Zn.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:_mn(t,n)}const IP=new WeakMap;function kmn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Oa({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=Dmn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{Bmn({workspaces:r})}catch(i){throw new Oa({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(IP.has(i))return IP.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=ya({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:lmn})}catch(_){throw new Oa({name:p.name,type:"source",causes:[_]})}const b=CGt({name:p.name,types:g}),x=b._validation,y=x==null?void 0:x.filter(_=>_.problems.some(Smn));if(x&&(y!=null&&y.length))throw new xN(b);const w=jmn(p),C=w.state.pipe(ce(_=>{let{client:S,authenticated:E,currentUser:j}=_;return Amn({config:p,client:S,currentUser:j,schema:b,authenticated:E,auth:w})}),So(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||un(p.name),auth:w,schema:b,source:C}}),d=a.title||un(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:Imn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:Emn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Pf,title:d,subtitle:a.subtitle,__internal:{sources:u}};return IP.set(i,f),f})}}function jmn(e){if(pqt(e.auth))return e.auth;const t=e.unstable_clientFactory||Q2e,{projectId:n,dataset:r,apiHost:o}=e;return hqt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function Tmn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return Q0t(a,c)}function Amn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=Tmn(n,s),v=[],g={},b=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:b,currentUser:r,dataset:f,projectId:p,schema:o},y=n;x.client=[...Object.keys(n),...Object.keys(y.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?y[A]:y.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=ya({config:t,context:x,propertyName:"schema.templates",reducer:dmn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(fo).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Oa({name:t.name,type:"source",causes:[T]})}let C;try{C=ya({config:t,context:x,initialValue:[],propertyName:"tools",reducer:umn})}catch(T){throw new Oa({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=ya({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:pmn}),I=[];if(I.length)throw new Oa({name:t.name,type:"source",causes:I});return D.map((O,$)=>{const R=S.get(O.templateId);if(!R)throw new Error("Could not find template with ID `".concat(O.templateId,"`"));const V=o.get(R.schemaType);if(!V)throw new Error("Could not find matching schema type `".concat(R.schemaType,"` for template `").concat(R.id,"`"));const M=O.title||R.title,H=(V==null?void 0:V.title)===M||V==null?void 0:V.title;return{id:"".concat(O.templateId,"-").concat($),templateId:O.templateId,type:"initialValueTemplateItem",title:M,subtitle:O.subtitle||H,description:O.description||R.description,icon:O.icon||R.icon||(V==null?void 0:V.icon),initialDocumentId:O.initialDocumentId,parameters:O.parameters,schemaType:R.schemaType}}).filter(O=>{var $;return!A||T.type==="document"?!0:A===(($=S.get(O.templateId))==null?void 0:$.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Oa({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||un(t.name),schema:o,getClient:b,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>ya({config:t,context:{...x,...T},initialValue:smn,propertyName:"document.actions",reducer:hmn}),badges:T=>ya({config:t,context:{...x,...T},initialValue:imn,propertyName:"document.badges",reducer:fmn}),unstable_fieldActions:T=>ya({config:t,context:{...x,...T},initialValue:Sqt,propertyName:"document.unstable_fieldActions",reducer:_qt}),inspectors:T=>ya({config:t,context:{...x,...T},initialValue:Un,propertyName:"document.inspectors",reducer:ymn}),resolveProductionUrl:T=>ya({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:cmn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>ya({config:t,context:{...x,...T},initialValue:amn,propertyName:"document.unstable_languageFilter",reducer:vmn}),unstable_comments:{enabled:T=>bmn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:ya({config:t,context:x,initialValue:[ROe],propertyName:"formBuilder.file.assetSources",reducer:mmn}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:ya({config:t,context:x,initialValue:[$Oe],propertyName:"formBuilder.image.assetSources",reducer:gmn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:_hn,operators:omn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function Dmn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Oa({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function Imn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function Omn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function Pmn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function Rmn(e){const{title:t}=e;return l.jsx(F,{padding:3,children:l.jsx(B,{weight:"bold",children:t})})}const FA=h.createContext(null),LA=h.createContext(null);function JOe(){return GGe()?"dark":"light"}function ePe(e){let{children:t,scheme:n}=e;const r=JOe(),o=n==="system"?r:n;return l.jsx(wE,{scheme:o,theme:Pf,children:t})}const eue="sanityStudio:ui:colorScheme";function $mn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(Fmn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(Mmn,{onSchemeChange:n,children:t})}function Mmn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=tue(localStorage.getItem(eue))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=tue(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(eue,o)},[n,o]),l.jsx(LA.Provider,{value:r.setSnapshot,children:l.jsx(FA.Provider,{value:o,children:l.jsx(ePe,{scheme:o,children:t})})})}function tue(e){switch(e){case"dark":case"light":return e;default:return"system"}}function Fmn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(LA.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(FA.Provider,{value:r,children:l.jsx(ePe,{scheme:r,children:t})})})}function wN(){const e=h.useContext(LA);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function tPe(){const e=h.useContext(FA);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function nPe(){const e=tPe(),t=JOe();return e==="system"?t:e}function Vc(){const e=nPe(),t=wN();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function rPe(e){const t=tPe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:c0e},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:kF},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:DF}],[t,e])}const oPe=h.createContext(null);function Lmn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>kmn(t,{basePath:r}),[t,r]);return l.jsx(oPe.Provider,{value:o,children:n})}function Ay(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:g4(r,t)}function g4(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function iC(){const e=h.useContext(oPe);if(!e)throw new Error("Could not find `workspaces` context");return e}class gc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Ay(n.workspace,n.index)}}function Bmn(e){let{workspaces:t}=e;if(t.length===0)throw new gc("At least one workspace is required.");Nmn(t),zmn(t)}function Nmn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=g4(s,o);if(!i&&!t)throw new gc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new gc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=g4(d.workspace.title,d.index);throw new gc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new gc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function zmn(e){e.length>1&&e.every(Vmn),e.every(Hmn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new gc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Ay(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Ay(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new gc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(Ay(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Ay(i,s))})}function Vmn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new gc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new gc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function Hmn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new gc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function Umn(){return l.jsx(te,{height:"fill",children:l.jsx(Y,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(ao,{width:0,children:l.jsx(te,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(Y,{children:[l.jsx(F,{children:l.jsx(B,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{flex:1,marginLeft:3,space:3,children:[l.jsx(B,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(B,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(B,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function Wmn(e){const{toolName:t}=e;return l.jsx(te,{height:"fill",children:l.jsx(Y,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(ao,{width:0,children:l.jsx(te,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(Y,{children:[l.jsx(F,{children:l.jsx(B,{size:1,children:l.jsx($r,{})})}),l.jsx(re,{flex:1,marginLeft:3,space:3,children:l.jsxs(B,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function yb(){return l.jsxs(Y,{as:te,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(B,{muted:!0,children:"Loading"}),l.jsx(ur,{muted:!0})]})}var nue=Object.freeze,Ymn=Object.defineProperty,iPe=(e,t)=>nue(Ymn(e,"raw",{value:nue(t||e.slice())})),rue,oue;const qmn={error:"critical",warning:"caution"},iue=P.code(rue||(rue=iPe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Gmn=P(B)(oue||(oue=iPe([`
  white-space: pre-line;
`])));function sPe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(re,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=Kmn(i);return l.jsxs(te,{border:!0,padding:4,radius:2,tone:qmn[s.severity],children:[l.jsxs(Y,{children:[l.jsx(F,{marginRight:3,children:l.jsxs(B,{muted:!0,size:1,children:[a&&l.jsx(aa,{}),c&&l.jsx($r,{})]})}),l.jsx(F,{flex:1,children:l.jsx(B,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[Cm(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(F,{marginTop:4,children:l.jsx(te,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(CL,{separator:l.jsx(B,{muted:!0,size:1,children:""}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(Zmn(d.name),":").concat(d.type);return l.jsx(B,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(iue,{children:p})},f)}return d.kind==="property"?l.jsx(B,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(iue,{children:d.name})},f):null})})})}),l.jsx(F,{as:"ul",marginTop:4,children:l.jsx(F,{as:"li",children:l.jsxs(re,{space:3,children:[l.jsx(Gmn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(B,{muted:!0,size:1,children:l.jsx("a",{href:ZSe(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},o)})})}function Kmn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function Zmn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function Xmn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Qmn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed(" Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=Xmn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function Jmn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Qmn(t),[t]),l.jsx(te,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(ao,{width:1,children:l.jsxs(re,{space:5,children:[l.jsx(No,{as:"h1",children:"Schema errors"}),l.jsx(sPe,{problemGroups:r})]})})})}function egn(e){return l.jsx(te,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(Y,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(re,{space:4,children:[l.jsx(No,{as:"h1",children:"Workspace not found"}),l.jsx(qt,{children:l.jsx(se,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const aPe=h.createContext(null);function tgn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function ngn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(j7(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function rgn(e){return h.useMemo(()=>ogn(e),[e])}function ogn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(j7(n),"(\\/|$)"),"i")}})}function ign(e,t){const n=rgn(t),r=h.useMemo(()=>ngn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>tgn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return C7.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const lPe=h.createContext(null);function sgn(e){let{children:t,history:n}=e;return l.jsx(lPe.Provider,{value:n,children:t})}function agn(){const e=h.useContext(lPe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const lgn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx(aPe.Provider,{value:s,children:l.jsx(sgn,{history:r,children:n})})}),cgn=()=>typeof document>"u"?Nzt():Bzt();function ugn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=iC(),s=h.useMemo(()=>o||cgn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=ign(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(lgn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function Q0(){const e=h.useContext(aPe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var sue=Object.freeze,dgn=Object.defineProperty,fgn=(e,t)=>sue(dgn(e,"raw",{value:sue(t||e.slice())})),aue;const lue={"logged-in":"","logged-out":"Signed out","no-access":""},hgn=P(te)(aue||(aue=fgn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),cue=e=>{if(Zn.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function v4(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>cue(i),[i]),c=h.useMemo(()=>cue(s),[s]);return l.jsxs(Y,{align:"center",flex:"none",gap:3,children:[l.jsx(hgn,{radius:2,tone:"transparent",children:a}),l.jsxs(re,{flex:1,space:2,children:[l.jsx(B,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&lue[t]&&l.jsx(F,{paddingLeft:1,children:l.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:lue[t]})}),(r||c)&&l.jsxs(Y,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(B,{children:l.jsx(Ma,{})}),c&&l.jsx(B,{muted:!0,children:c})]})]})}const cPe=oh(e=>Mo(e.map(t=>t.auth.state.pipe(ce(n=>[t.name,n])))).pipe(ce(t=>Object.fromEntries(t)))),pgn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var uue=Object.freeze,mgn=Object.defineProperty,ggn=(e,t)=>uue(mgn(e,"raw",{value:uue(t||e.slice())})),due;const fue=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],vgn=P(B)(due||(due=ggn([`
  a {
    color: inherit;
  }
`])));function hue(e){const{children:t,footer:n,header:r}=e;return l.jsxs(re,{space:6,children:[l.jsx(te,{border:!0,radius:3,overflow:"auto",children:l.jsxs(re,{children:[typeof r=="object"&&l.jsx(F,{children:r}),typeof r=="string"&&l.jsx(F,{paddingY:4,children:l.jsx(No,{align:"center",size:1,children:r})}),l.jsx(F,{paddingX:1,children:l.jsx(te,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(F,{children:n})]})}),l.jsxs(Y,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(B,{size:3,children:l.jsx(Yzt,{})}),l.jsx(Y,{align:"center",gap:2,children:fue.map((o,i)=>l.jsxs(ie.Fragment,{children:[l.jsx(vgn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<fue.length-1&&l.jsx(B,{size:1,muted:!0,children:""})]},o.title))})]})]})}function ygn(){var e;const t=iC(),{activeWorkspace:n,setActiveWorkspace:r}=Q0(),[o]=cPe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(re,{space:2,children:[t.length>1&&l.jsx(Y,{children:l.jsx(se,{fontSize:1,icon:Gx,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(hue,{header:l.jsx(F,{padding:3,children:l.jsx(v4,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(re,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...Ai(a,["type","__internal"]),key:i})})})]}):l.jsx(hue,{header:"Choose your workspace",footer:l.jsx(re,{padding:1,children:l.jsx(se,{as:"a",href:pgn,icon:Zs,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(re,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(te,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(v4,{icon:d==null?void 0:d.icon,iconRight:Dc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(yb,{})}var pue=Object.freeze,bgn=Object.defineProperty,xgn=(e,t)=>pue(bgn(e,"raw",{value:pue(t||e.slice())})),mue;const wgn=P(Lt)(mue||(mue=xgn([`
  max-width: 350px;
  min-width: 250px;
`]))),gue="Select workspace";function uPe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Vc(),i=iC(),{activeWorkspace:s,setActiveWorkspace:a}=Q0(),[c]=cPe(i),{navigateUrl:u}=$c(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?gue:void 0,g=t?void 0:gue;return l.jsx(lt,{content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(re,{children:l.jsx(Jt,{button:l.jsx(se,{icon:Ml,mode:"bleed",text:g,disabled:!c,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(wgn,{children:[l.jsx(F,{paddingX:3,paddingY:3,children:l.jsx(zt,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(b=>{const y=c[b.name].authenticated?"logged-in":b.auth.LoginComponent?"logged-out":"no-access",w=()=>{y==="logged-in"&&b.name!==s.name&&a(b.name),y==="logged-out"&&u({path:b.basePath})};return l.jsx(Ne,{onClick:w,padding:2,pressed:b.name===s.name,children:l.jsx(v4,{icon:b==null?void 0:b.icon,selected:b.name===s.name,state:y,subtitle:b==null?void 0:b.subtitle,title:(b==null?void 0:b.title)||b.name})},b.name)})]}),onClose:f,onOpen:d,popover:p})})})}function dPe(){return l.jsx(te,{height:"fill",overflow:"auto",children:l.jsx(Y,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(ao,{width:0,children:l.jsx(ygn,{})})})})}function Cgn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function fPe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=Q0(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=jAe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(te,{height:"fill",children:l.jsx(Ii,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(re,{paddingX:3,paddingY:2,children:l.jsx(se,{text:"Sign out",onClick:i})}),children:l.jsxs(re,{paddingX:4,paddingY:5,space:4,children:[l.jsx(B,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(B,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var vue=Object.freeze,_gn=Object.defineProperty,Sgn=(e,t)=>vue(_gn(e,"raw",{value:vue(t||e.slice())})),yue;const Egn=P.label(yue||(yue=Sgn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function kgn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(te,{height:"fill",children:l.jsx(Ii,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(re,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(B,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx(Egn,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx(Rr,{value:n,readOnly:!0}),l.jsx(se,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(Y,{align:"center",justify:"center",gap:3,children:[l.jsx(B,{weight:"medium",children:"Continue"}),l.jsx(B,{weight:"medium",children:l.jsx(am,{})})]})})]})})})}function hPe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=bt(r)&&typeof r.message=="string"&&r.message,s=bt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return jzt(a),r instanceof iB?l.jsx(kgn,{projectId:r==null?void 0:r.projectId}):r instanceof xN?l.jsx(Jmn,{schema:r.schema}):r?l.jsx(te,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(ao,{width:3,children:l.jsxs(re,{space:4,children:[l.jsx(No,{children:n}),l.jsx("div",{children:l.jsx(se,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(te,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(re,{space:4,children:[i&&l.jsx(ir,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(ir,{size:1,children:s})]})})]})})}):l.jsx(m0,{onCatch:o,children:t})}var bue=Object.freeze,jgn=Object.defineProperty,Tgn=(e,t)=>bue(jgn(e,"raw",{value:bue(t||e.slice())})),xue;const Agn=P(te)(xue||(xue=Tgn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),pPe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function Dgn(){const{name:e,title:t,tools:n}=Nl(),r=oT(h.useCallback(v=>typeof v.tool=="string"?v.tool:void 0,[])),o=h.useMemo(()=>n.find(v=>v.name===r),[r,n]),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useMemo(()=>{const v=t||un(e);return r?"".concat(un(r)," | ").concat(v):v},[r,e,t]),d=!!(o!=null&&o.controlsDocumentTitle);h.useEffect(()=>{d||(document.title=u)},[u,d]);const f=h.useCallback(v=>{s(v)},[]),p=h.useMemo(()=>({searchFullscreenOpen:i,searchFullscreenPortalEl:a,onSearchFullscreenOpenChange:f}),[i,a,f]),m=xyn();return l.jsxs(Y,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(pPe.Provider,{value:p,children:l.jsx(m,{})}),n.length===0&&l.jsx(Umn,{}),n.length>0&&!o&&r&&l.jsx(Wmn,{toolName:r}),i&&l.jsx(Agn,{ref:c,overflow:"auto"}),l.jsx(hPe,{heading:"The ".concat(o==null?void 0:o.name," tool crashed"),children:l.jsx(te,{flex:1,hidden:i,children:o&&r&&l.jsx(Tht,{scope:r,children:l.jsx(h.Suspense,{fallback:l.jsx(Ign,{}),children:h.createElement(o.component,{tool:o})})})})},o==null?void 0:o.name)]})}function Ign(){return l.jsxs(Y,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(B,{muted:!0,children:"Loading"}),l.jsx(ur,{muted:!0})]})}var wue=Object.freeze,Ogn=Object.defineProperty,Pgn=(e,t)=>wue(Ogn(e,"raw",{value:wue(t||e.slice())})),Cue;const Rgn=P.div(Cue||(Cue=Pgn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),$gn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Mgn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Fgn=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),Lgn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(Rgn,{"data-logo":r,children:[t==="google"&&$gn,t==="github"&&Mgn,t==="sanity"&&l.jsx(Gzt,{}),n&&Fgn]})};var _ue=Object.freeze,Bgn=Object.defineProperty,mPe=(e,t)=>_ue(Bgn(e,"raw",{value:_ue(t||e.slice())})),Sue,Eue;const u5=1,Ngn=P(Lt)(Sue||(Sue=mPe([`
  min-width: 200px;
  max-width: 300px;
`]))),zgn=P(F)(Eue||(Eue=mPe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[u5].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[u5].size});function Vgn(e){let{setScheme:t}=e;const n=rPe(t);return l.jsxs(l.Fragment,{children:[l.jsx(Dr,{}),l.jsx(F,{padding:2,children:l.jsx(zt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(Ne,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(Ma,{})},s)})]})}function Hgn(){const{currentUser:e,projectId:t,auth:n}=Nl(),r=nPe(),o=wN(),i=!!(e&&cAe(e,"administrator")),s=jAe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(Jt,{button:l.jsx(se,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(Y,{align:"center",gap:1,children:[l.jsx(za,{user:"me",size:1}),l.jsx(B,{size:u5,muted:!0,children:l.jsx(qa,{})})]})}),id:"user-menu",menu:l.jsxs(Ngn,{children:[l.jsx(te,{padding:2,children:l.jsxs(Y,{align:"center",children:[l.jsx(lt,{disabled:!s,portal:!0,content:s&&l.jsx(F,{padding:2,children:l.jsxs(B,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(zgn,{marginRight:3,children:[l.jsx(za,{size:u5,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(Lgn,{provider:e.provider})]})}),l.jsxs(re,{space:2,flex:1,children:[l.jsx(B,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(Vgn,{setScheme:o}),l.jsx(Dr,{}),l.jsx(Ne,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:X5}),i&&l.jsx(Ne,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:tj}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx(Dr,{}),l.jsx(Ne,{iconRight:SF,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var kue=Object.freeze,Ugn=Object.defineProperty,Wgn=(e,t)=>kue(Ugn(e,"raw",{value:kue(t||e.slice())})),jue;const Ygn=P(F)(jue||(jue=Wgn([`
  max-width: 300px;
`]))),gPe=33;function qgn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=bw({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(lt,{disabled:t.hasPermission,portal:!0,content:l.jsx(Ygn,{padding:2,children:l.jsx(Tc,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(te,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(B,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Tue=Object.freeze,Ggn=Object.defineProperty,vPe=(e,t)=>Tue(Ggn(e,"raw",{value:Tue(t||e.slice())})),Aue,Due;const OP=P(Y)(Aue||(Aue=vPe([`
  min-height: 100px;
`]))),Kgn=P.strong(Due||(Due=vPe([`
  word-break: break-all;
`])));function Iue(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(qgn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(OP,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(qt,{space:2,children:[l.jsx(ur,{muted:!0,size:1}),l.jsx(B,{muted:!0,size:1,children:"Loading"})]})}):!c&&s?l.jsx(OP,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(B,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(Kgn,{children:["",s,""]})]})}):c?l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Gp?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:gPe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(OP,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(B,{align:"center",muted:!0,size:1,children:"No documents found"})})}function Zgn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function Xgn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function Qgn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>Zgn(t,o)).sort((o,i)=>Xgn(t,o,i))}var Oue=Object.freeze,Jgn=Object.defineProperty,Pm=(e,t)=>Oue(Jgn(e,"raw",{value:Oue(t||e.slice())})),Pue,Rue,$ue,Mue,Fue,Lue,Bue;const evn=P(an)(()=>fe(Pue||(Pue=Pm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),tvn=P(Ii)(()=>fe(Rue||(Rue=Pm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),nvn=P(F)($ue||($ue=Pm([`
  max-width: 300px;
`]))),Nue=P(Y)(Mue||(Mue=Pm([""]))),rvn=P(te)(Fue||(Fue=Pm([`
  min-height: max-content;
`]))),ovn=P(te)(Lue||(Lue=Pm([`
  min-height: max-content;
`]))),ivn=P(Y)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return fe(Bue||(Bue=Pm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),svn=10;function avn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,b]=h.useState(null),{scheme:x}=Vc(),y=Vo(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>Qgn(o,a),[o,a]),j=h.useCallback(M=>{c(M.currentTarget.value)},[]),k=h.useCallback(()=>s(M=>!M),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(M=>{M.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(M=>{(M.key==="Escape"||M.key==="Tab")&&i&&T()},[T,i]);lr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:y,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[y,E,k,r,n,g,a]),O=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:Zo,onChange:j,placeholder:_,ref:b}),[j,r,_,a]),$=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:hp,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),R=h.useMemo(()=>w?t?l.jsx(B,{size:1,children:"New document..."}):l.jsx(Tc,{currentUser:y,operationLabel:"create any document"}):l.jsx(B,{size:1,children:"No document types"}),[t,y,w]),V=h.useMemo(()=>({content:l.jsx(nvn,{padding:2,children:R}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,R]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(lt,{...V,children:l.jsx("div",{children:l.jsx(se,{...$})})}),i&&l.jsx(tvn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(Nue,{direction:"column",flex:1,height:"fill",children:[l.jsx(ovn,{padding:2,borderBottom:!0,children:l.jsx(Rr,{...O})}),l.jsx(Y,{direction:"column",overflow:"hidden",children:l.jsx(Iue,{...I})})]})})]}):l.jsx(evn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(Nue,{direction:"column",flex:1,forwardedAs:id,height:"fill",returnFocus:!0,children:[l.jsx(rvn,{sizing:"border",children:l.jsxs(re,{children:[l.jsx(F,{paddingX:3,paddingY:3,children:l.jsx(F,{paddingY:1,children:l.jsx(zt,{size:1,muted:!0,children:S})})}),l.jsx(te,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx(Rr,{...O,fontSize:1,radius:1})})]})}),l.jsx(ivn,{$itemHeight:gPe,$maxDisplayedItems:svn,direction:"column",overflow:"hidden",children:l.jsx(Iue,{...I})})]}),children:l.jsx("div",{children:l.jsx(lt,{...V,children:l.jsx("div",{children:l.jsx(se,{...$,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function lvn(){const{__internal:{staticInitialValueTemplateItems:e}}=Mn(),[t,n]=MN({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var zue=Object.freeze,cvn=Object.defineProperty,uvn=(e,t)=>zue(cvn(e,"raw",{value:zue(t||e.slice())})),Vue;const dvn=P(te)(Vue||(Vue=uvn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),fvn=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=I0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx(xm,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:jr(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(Ne,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(Y,{align:"center",children:[l.jsx(dvn,{children:l.jsx(za,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(re,{space:2,marginLeft:4,children:[l.jsx(B,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(B,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Hue=Object.freeze,hvn=Object.defineProperty,CN=(e,t)=>Hue(hvn(e,"raw",{value:Hue(t||e.slice())})),Uue,Wue,Yue;const pvn=4,mvn=P(te)(Uue||(Uue=CN([`
  background: transparent;
`]))),gvn=P(Lt)(Wue||(Wue=CN([`
  max-width: 350px;
  min-width: 250px;
`]))),vvn=P(re)(Yue||(Yue=CN([`
  position: sticky;
  bottom: 0;
`])));function yvn(e){const{collapse:t}=e,n=Hxn(),{projectId:r}=Nl(),{scheme:o}=Vc(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(sh,{icon:tj,mode:"bleed",tone:i?"positive":void 0}):l.jsx(se,{mode:"bleed",padding:1,children:l.jsx(mvn,{children:l.jsx(Dj,{maxLength:pvn,"aria-label":"Who is here",children:n.map(p=>l.jsx(za,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(Jt,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(gvn,{padding:1,children:[i&&l.jsx(re,{children:n.map(p=>l.jsx(fvn,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(F,{paddingX:3,paddingY:4,children:l.jsxs(re,{space:3,children:[l.jsx(B,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(B,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(vvn,{space:1,children:[l.jsx(Dr,{}),l.jsx(Ne,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:X5,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var que=Object.freeze,bvn=Object.defineProperty,_N=(e,t)=>que(bvn(e,"raw",{value:que(t||e.slice())})),Gue,Kue,Zue;const Xue={duration:.2},xvn={open:{opacity:1},closed:{opacity:0}},wvn={open:{x:"0%"},closed:{x:"-100%"}},Cvn=P(es)(Gue||(Gue=_N([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),_vn=P(ed(te))(Kue||(Kue=_N([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),Svn=P(ed(te))(Zue||(Zue=_N([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function Evn(e){let{setScheme:t}=e;const n=rPe(t);return l.jsx(l.Fragment,{children:l.jsxs(te,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(F,{padding:2,children:l.jsx(zt,{size:1,muted:!0,children:"Appearance"})}),l.jsx(re,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(re,{as:"li",children:l.jsx(se,{"aria-label":i,icon:o,iconRight:c&&l.jsx(Ma,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const kvn=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=wN(),{auth:a,currentUser:c,projectId:u}=Nl(),d=iC(),f=FPe(),p=!!(c&&cAe(c,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return l.jsx(uL,{children:r&&l.jsx(id,{autoFocus:!0,returnFocus:!0,children:l.jsxs(Cvn,{onKeyDown:m,children:[l.jsx(_vn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:Xue,variants:xvn}),l.jsxs(Svn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Xue,variants:wvn,children:[l.jsx(te,{borderBottom:!0,children:l.jsxs(re,{space:3,padding:3,children:[l.jsxs(Y,{align:"center",children:[l.jsx(Y,{flex:1,align:"center",paddingRight:2,children:l.jsxs(Y,{flex:1,align:"center",children:[l.jsx(F,{children:l.jsx(za,{size:1,user:"me"})}),l.jsx(F,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(B,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(F,{children:l.jsx(se,{icon:Ei,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(uPe,{})]})}),l.jsxs(Y,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(te,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(Y,{direction:"column",children:[s&&l.jsx(Evn,{setScheme:s}),l.jsx(te,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(re,{as:"ul",space:1,children:[l.jsx(re,{as:"li",children:l.jsx(se,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:X5,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(re,{as:"li",children:l.jsx(se,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:tj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(te,{flex:"none",padding:3,borderTop:!0,children:l.jsx(re,{children:l.jsx(se,{iconRight:SF,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function jvn(){var e;const n=((e=En()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Vc(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(sh,{icon:$r,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Ii,{header:l.jsxs(re,{space:3,children:[l.jsx(B,{weight:"semibold",children:"Configuration issues"}),l.jsx(B,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(re,{space:4,padding:4,children:[l.jsxs(No,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(sPe,{problemGroups:n})]})})]})}function Que(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(se,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const Tvn=pi("mod+".concat(NOe)),Avn=pi("escape");function Dvn(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=Ka(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{Tvn(a)&&(a.preventDefault(),t?i():r==null||r()),Avn(a)&&t&&o&&i()},[i,o,t,r]);Ji(s)}function yPe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Pt(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return Dvn({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function Ivn(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Bf(e,t){return t?e[t]:void 0}function Ovn(e,t){var n;return(n=Bf(e,t))==null?void 0:n.initialValue}function y4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Sh(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>sC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Bf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:Pvn({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!Szt(i)).filter(fo).join(" && ")}function Zu(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Wi(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Eh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=PE(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),PE(...a).sort()}function Pvn(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=Zu(n,t),i=ch(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function sC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=ch(n,t.filterName),s=Bf(o,t.operatorType),a=Zu(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var Jue=Object.freeze,Rvn=Object.defineProperty,$vn=(e,t)=>Jue(Rvn(e,"raw",{value:Jue(t||e.slice())})),ede;const Mvn=pi("escape"),Fvn=500,Lvn=P.div(ede||(ede=$vn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function SN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=Ka(),i=h.useCallback(a=>{Mvn(a)&&o&&r()},[o,r]);Ji(i);const s=Bvn(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(Lvn,{onClick:r}),l.jsx(id,{autoFocus:!1,returnFocus:!0,children:l.jsx(te,{display:"flex",overflow:"hidden",radius:X0,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(oC,"px - ").concat(Dx,"px), ").concat(Fvn,"px"),zIndex:1},children:l.jsx(Y,{children:n})})})]})}function PP(e){const t=e.getBoundingClientRect();return t.y+t.height+oC}function Bvn(e){const[t,n]=h.useState(e&&PP(e)),r=h.useCallback(()=>{e&&n(PP(e))},[e]);return h.useEffect(()=>{e&&n(PP(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var tde=Object.freeze,Nvn=Object.defineProperty,bPe=(e,t)=>tde(Nvn(e,"raw",{value:tde(t||e.slice())})),nde,rde;const zvn=P(F)(nde||(nde=bPe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),Vvn=P(Y)(rde||(rde=bPe([`
  box-sizing: border-box;
`]))),xPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Pt();return l.jsx(zvn,{children:l.jsx(Vvn,{align:"center",flex:1,padding:1,children:l.jsx(bN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:Zo,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function Hvn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>qvn(u,i)).map(u=>{const d=ch(r,u.filterName);return d?y4(d,u.id):null}).filter(fo),c=Wvn({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...Ix({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...Uvn({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Ix(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:Zu(t,u),filterDefinition:ch(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function Uvn(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=Zu(n,d);return Zvn(t,f)}),c=t.length>1&&s.length>1?Ix({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||un(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=Zu(n,v);return Yvn([f],g)});return Ix({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function Wvn(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(Kvn).filter(s=>ode(s,r)).map(s=>y4(s)),i=Object.values(n).filter(Gvn).filter(s=>ode(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(y4(a)),s),{});return[...Ix({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return Ix({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function Yvn(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function qvn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function ode(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function Gvn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function Kvn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function Zvn(e,t){return Qb(e,(t==null?void 0:t.documentTypes)||[]).length===0}function wPe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Pt(),o=h.useMemo(()=>{const i=ch(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=Zu(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),""]}):l.jsx("span",{children:o}):null}function Xvn(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Pt(),o=(n=ch(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(yl,{})}function CPe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Pt(),i=Zu(o.fields,t);return l.jsxs(re,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(F,{marginLeft:4,children:l.jsx(B,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(ie.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Dc,{})})]},a))})}),l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(F,{style:{flexShrink:0},children:l.jsx(B,{size:n?1:2,children:l.jsx(Xvn,{filter:t})})}),l.jsx(B,{size:n?1:2,weight:"medium",children:l.jsx(wPe,{filter:t})})]})]})}function _Pe(e){return h.isValidElement(e)?Qvn(rUt(e)):typeof e=="string"?e:""}function Qvn(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const RP=10;function Jvn(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Pt(),s=En(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||un(d==null?void 0:d.name)}).filter(fo).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=OA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&_Pe(m==null?void 0:m.type.description)}return null}).filter(fo).sort(),d=co(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(lt,{content:l.jsx(te,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(re,{padding:3,space:4,children:[n&&l.jsxs(re,{space:2,children:[l.jsx(zt,{muted:!0,size:0,children:"Field name"}),l.jsx(qt,{children:l.jsx(te,{tone:"caution",padding:1,radius:2,children:l.jsx(ir,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(re,{space:3,children:[l.jsx(zt,{muted:!0,size:0,children:"Field description"}),l.jsx(B,{muted:!0,size:0,children:ide(c)})]}),(r==null?void 0:r.description)&&l.jsx(B,{muted:!0,size:0,children:ide(r.description)}),!i.length&&a.length>0&&l.jsxs(re,{space:2,children:[l.jsxs(Y,{align:"center",gap:1,children:[l.jsx(zt,{muted:!0,size:0,children:"Used in document types"}),l.jsx(te,{padding:1,radius:2,tone:"transparent",children:l.jsx(B,{size:0,muted:!0,children:a.length})})]}),l.jsxs(B,{size:0,weight:"regular",muted:!0,children:[a.slice(0,RP).join(", "),(a==null?void 0:a.length)>RP?" +".concat(a.length-RP," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function ide(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),""):e}const e0n=ie.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Pt(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(g=>Wi(g)===Wi(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(F,{...o,children:l.jsx(se,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(Jvn,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:l.jsx(F,{padding:3,children:l.jsx(CPe,{filter:n.filter})})})})})}),t0n=ie.memo(function(t){let{item:n}=t;return l.jsx(F,{paddingTop:1,children:l.jsx(te,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(zt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function n0n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=En(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Pt(),m=h.useMemo(()=>Hvn({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),v=h.useCallback(x=>x.type==="filter"?l.jsx(e0n,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(t0n,{item:x}):null,[t]),g=h.useCallback(x=>{const y=m[x];return y.type!=="filter"||!!f.find(w=>Wi(w)===Wi(y.filter))},[m,f]),b=h.useCallback(x=>{const y=m[x];switch(y.type){case"filter":return[...y.group?[y.group]:[],Wi(y.filter)].join("-");case"header":return"".concat(y.type,"-").concat(y.title);default:return x}},[m]);return l.jsxs(Y,{direction:"column",style:{width:"300px"},children:[l.jsx(xPe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(Y,{children:[m.length>0&&l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:b,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&l.jsx(F,{padding:3,children:l.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function sde(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Pt(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(an,{__unstable_margins:[oC,0,0,0],content:l.jsx(SN,{anchorElement:n,onClose:i,children:l.jsx(n0n,{onClose:i})}),open:e,placement:"bottom-start",radius:X0,portal:!0,children:l.jsx(se,{fontSize:1,icon:Zs,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const r0n=ie.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Pt(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(F,{...o,children:l.jsx(se,{fontSize:1,iconRight:n&&Ma,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var ade=Object.freeze,o0n=Object.defineProperty,i0n=(e,t)=>ade(o0n(e,"raw",{value:ade(t||e.slice())})),lde;const s0n=P(F)(lde||(lde=i0n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function a0n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=En(),{dispatch:s,state:{terms:{types:a}}}=Pt(),[c,u]=h.useState(a),d=c0n(i,a,c,n),f=h.useCallback(y=>r(y.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var y,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(y=o==null?void 0:o.current)==null||y.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(y=>{const w=d[y];switch(w.type){case"divider":return"".concat(w.type,"-").concat(y);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return y}},[d]),g=h.useCallback(y=>y.type==="divider"?l.jsx(F,{paddingY:1,children:l.jsx(Dr,{})}):y.type==="header"?l.jsx(F,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(zt,{muted:!0,size:0,children:y.title})}):y.type==="item"?l.jsx(r0n,{paddingBottom:1,selected:y.selected,type:y.item}):null,[]),b=h.useCallback(y=>d[y].type!=="item",[d]),x=h.useCallback(y=>{const w=d[y];return w.type==="item"&&w.selected},[d]);return l.jsxs(Y,{direction:"column",style:{width:"250px"},children:[l.jsx(xPe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(Y,{children:[d.length>0&&l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&l.jsx(F,{padding:3,children:l.jsxs(B,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(l0n,{onClick:m,selectedTypes:a})]})}function l0n(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(s0n,{padding:1,children:l.jsx(re,{children:l.jsx(se,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function c0n(e,t,n,r){return h.useMemo(()=>{const[o,i]=F8(Fhn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var cde=Object.freeze,u0n=Object.defineProperty,d0n=(e,t)=>cde(u0n(e,"raw",{value:cde(t||e.slice())})),ude;const f0n=P(se)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return fe(ude||(ude=d0n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),h0n=["top-start","bottom-start"];function p0n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Pt(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);lr(c,[n,o]);const d=h.useMemo(()=>hN({types:a}),[a]);return l.jsx(an,{__unstable_margins:[oC,0,0,0],content:l.jsx(SN,{anchorElement:n,onClose:c,children:l.jsx(a0n,{})}),open:e,placement:"bottom-start",fallbackPlacements:h0n,portal:!0,radius:X0,ref:i,children:l.jsx(f0n,{fontSize:1,iconRight:Ml,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var dde=Object.freeze,m0n=Object.defineProperty,g0n=(e,t)=>dde(m0n(e,"raw",{value:dde(t||e.slice())})),fde;const $P=P(F)(fde||(fde=g0n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function SPe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Pt(),s=Bf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(Y,{align:"center",gap:1,children:[l.jsx($P,{$flexShrink:i?1:0,children:l.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(wPe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx($P,{$flexShrink:0,children:l.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx($P,{$flexShrink:1,children:l.jsx(sr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function v0n(e){return l.jsx(F,{...e,children:l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(sr,{tone:"critical",children:l.jsx(aa,{})}),l.jsxs(re,{space:4,children:[l.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(sr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function y0n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(Ne,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(Y,{align:"center",justify:"space-between",gap:3,children:[l.jsx(F,{paddingRight:2,children:l.jsx(B,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(B,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function b0n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Pt(),a=(r=ch(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:Wi(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(qt,{children:l.jsx(Jt,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(Y,{align:"center",gap:2,justify:"space-between",children:[l.jsx(B,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(F,{marginLeft:1,children:l.jsx(B,{size:1,children:l.jsx(Ml,{})})})]})}),id:o||"",menu:l.jsx(Lt,{children:a.map((u,d)=>{if(u.type==="item"){const f=Bf(s.definitions.operators,u.name);return f?l.jsx(y0n,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx(Dr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function x0n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Pt(),a=ch(i.filters,t.filterName),c=Bf(i.operators,t.operatorType),u=Zu(i.fields,t),d=Wi(t),f=h.useCallback(()=>{o({filterKey:Wi(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=c==null?void 0:c.inputComponent;return n?l.jsx(v0n,{padding:4}):l.jsx(m0,{onCatch:m,children:l.jsx(id,{autoFocus:!Gp,returnFocus:!0,children:l.jsxs(Y,{direction:"column-reverse",children:[v&&l.jsx(te,{borderTop:!0,padding:3,children:l.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(te,{padding:3,children:l.jsxs(re,{space:3,children:[l.jsxs(Y,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(F,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx(CPe,{filter:t,small:!s})}),s&&l.jsx(se,{fontSize:2,icon:uo,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(te,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(B,{muted:!0,size:1,children:a.description})}),l.jsx(b0n,{filter:t,operator:c})]})})]})})})}var hde=Object.freeze,w0n=Object.defineProperty,C0n=(e,t)=>hde(w0n(e,"raw",{value:hde(t||e.slice())})),pde;const _0n=P(Y)(pde||(pde=C0n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function S0n(e){let{filter:t}=e;return l.jsxs(_0n,{direction:"column",children:[l.jsx(x0n,{filter:t}),BOe]})}var mde=Object.freeze,E0n=Object.defineProperty,BA=(e,t)=>mde(E0n(e,"raw",{value:mde(t||e.slice())})),gde,vde,yde,bde;const k0n=P(se)(gde||(gde=BA([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ye(t.sanity.radius[2])," ").concat(ye(t.sanity.radius[2])," 0")}),j0n=P(te)(vde||(vde=BA([`
  position: absolute;
  right: 0;
`]))),T0n=P.div(yde||(yde=BA([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),A0n=P(se)(bde||(bde=BA([`
  border: none;
  width: 100%;
`])));function D0n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Pt(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Wi(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=sC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(an,{__unstable_margins:[oC,0,0,0],content:l.jsx(SN,{onClose:c,children:l.jsx(S0n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:X0,children:l.jsxs(T0n,{children:[l.jsx(te,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(A0n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(SPe,{filter:t,showContent:p})})}),!a&&l.jsx(j0n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(k0n,{"aria-label":"Delete filter",fontSize:1,icon:Ei,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function EPe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Pt(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&Wi(r),u=()=>l.jsx(se,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(Y,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(Y,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(p0n,{}),t==null?void 0:t.map(d=>{const f=Wi(d);return l.jsx(D0n,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(sde,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(Y,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(sde,{}),a&&l.jsx(u,{})]}),BOe]})}function I0n(){return l.jsx(Y,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(qt,{space:3,children:[l.jsx(B,{muted:!0,children:"Use"}),l.jsx(B,{muted:!0,children:l.jsx(Q5,{})}),l.jsx(B,{muted:!0,children:"to refine your search"})]})})}function O0n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>hN({availableCharacters:t,types:n}),[t,n]);return l.jsx(te,{border:!0,padding:2,radius:2,children:l.jsx(B,{muted:!0,size:1,children:r})})}var xde=Object.freeze,P0n=Object.defineProperty,R0n=(e,t)=>xde(P0n(e,"raw",{value:xde(t||e.slice())})),wde;const $0n=P(te)(wde||(wde=R0n([`
  cursor: default;
`])));function M0n(e){let{filter:t}=e;return l.jsx($0n,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(SPe,{filter:t})})}var Cde=Object.freeze,F0n=Object.defineProperty,NA=(e,t)=>Cde(F0n(e,"raw",{value:Cde(t||e.slice())})),_de,Sde,Ede,kde;const L0n=40,kPe=P(se)(_de||(_de=NA([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])}),B0n=P(F)(Sde||(Sde=NA([`
  flex-shrink: 3;
`]))),N0n=P(F)(Ede||(Ede=NA([`
  flex-shrink: 2;
`]))),z0n=P.div(kde||(kde=NA([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),kPe);function V0n(e){let{index:t,maxVisibleTypePillChars:n=L0n,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Pt(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(F,{...o,children:l.jsx(kPe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(Y,{align:"stretch",children:[l.jsxs(qt,{paddingY:2,children:[l.jsx(B,{muted:!0,size:1,children:l.jsx(o0e,{})}),l.jsx(B,{children:""})]}),l.jsxs(Y,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(N0n,{paddingY:2,children:l.jsx(B,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(B0n,{children:l.jsx(O0n,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(M0n,{filter:f},p))]}),l.jsx(Y,{align:"center",children:l.jsx(z0n,{onClick:d,children:l.jsx(Y,{padding:2,children:l.jsx(B,{size:1,children:l.jsx(Ei,{})})})})})]})})})}var jde=Object.freeze,H0n=Object.defineProperty,U0n=(e,t)=>jde(H0n(e,"raw",{value:jde(t||e.slice())})),Tde;const W0n=36,Y0n=20,q0n=40,G0n=P(te)(Tde||(Tde=U0n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function jPe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Pt(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=pm(),d=h.useMemo(()=>u<2?Y0n:q0n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return l.jsx(V0n,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(G0n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(F,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(zt,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(F,{children:l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:W0n,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(F,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(se,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(B,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(I0n,{})})}var Ade=Object.freeze,K0n=Object.defineProperty,zA=(e,t)=>Ade(K0n(e,"raw",{value:Ade(t||e.slice())})),Dde,Ide,Ode,Pde;const Z0n=im(Dde||(Dde=zA([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),X0n=P(Zx)(Ide||(Ide=zA([`
  animation: `,` 500ms linear infinite;
`])),Z0n),Q0n=P(F)(Ode||(Ode=zA([`
  position: relative;
`]))),J0n=P.div(Pde||(Pde=zA([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),TPe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Pt(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const b=a.length>0||f.length>0;return l.jsx(te,{flex:"none",children:l.jsxs(Y,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(te,{children:l.jsx(se,{"aria-label":"Close search",icon:Gx,mode:"bleed",onClick:o})}),l.jsx(F,{flex:1,children:l.jsx(bN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?X0n:Zo,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(Q0n,{children:[l.jsx(se,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:Q5,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),b&&l.jsx(J0n,{})]})]})})});function e1n(){return l.jsx(ao,{width:0,children:l.jsxs(re,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(B,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(B,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function t1n(){return l.jsxs(Y,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(F,{marginBottom:1,children:l.jsx(sr,{tone:"critical",children:l.jsx($r,{})})}),l.jsx(sr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(sr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const Zh={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var Rde=Object.freeze,n1n=Object.defineProperty,r1n=(e,t)=>Rde(n1n(e,"raw",{value:Rde(t||e.slice())})),$de;const Mde=[Zh.relevance,{type:"divider"},Zh.createdAsc,Zh.createdDesc,{type:"divider"},Zh.updatedAsc,Zh.updatedDesc],o1n=P(Y)($de||($de=r1n([`
  box-sizing: border-box;
`])));function Fde(e){return e.type==="divider"}function i1n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Pt(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Vt(r,t),[r,t]);return l.jsx(Ne,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(Y,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(B,{size:1,weight:"medium",children:t.title})})})}function s1n(){const{state:{ordering:e}}=Pt(),t=h.useId(),n=Mde.find(r=>Vt(e,r)&&!Fde(r));return n?l.jsx(te,{borderBottom:!0,children:l.jsx(o1n,{align:"center",flex:1,padding:2,children:l.jsx(Jt,{button:l.jsx(se,{mode:"bleed",padding:2,children:l.jsxs(Y,{align:"center",gap:1,justify:"space-between",children:[l.jsx(F,{marginRight:1,children:l.jsx(B,{size:1,children:l.jsx(AF,{})})}),l.jsx(qt,{space:2,children:l.jsx(B,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Lt,{children:Mde.map((r,o)=>Fde(r)?l.jsx(Dr,{},o):l.jsx(i1n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Lde=Object.freeze,a1n=Object.defineProperty,l1n=(e,t)=>Lde(a1n(e,"raw",{value:Lde(t||e.slice())})),Bde;const c1n=P(te)(Bde||(Bde=l1n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function u1n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(lt,{content:l.jsx(F,{padding:2,children:l.jsx(re,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(qt,{space:3,children:[l.jsx(ir,{size:0,weight:"semibold",children:i.path}),l.jsx(ir,{size:0,children:i.why})]},i.path))}):l.jsx(ir,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx(c1n,{padding:1,shadow:1,tone:r,children:l.jsxs(ir,{size:0,children:["score: ",n]})})})})}var Nde=Object.freeze,d1n=Object.defineProperty,f1n=(e,t)=>Nde(d1n(e,"raw",{value:Nde(t||e.slice())})),zde;const h1n=59,p1n=4,m1n=P(Y)(zde||(zde=f1n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function APe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Pt(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),b=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(fN,{documentId:Pn(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&l.jsx(u1n,{data:x})]}),[s,g]);return l.jsx(Y,{children:l.jsx(te,{borderTop:c||!!(v||p||m),flex:1,children:l.jsxs(Y,{direction:"column",height:"fill",children:[p&&l.jsx(s1n,{}),l.jsx(m1n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?l.jsx(t1n,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:h1n,items:d.hits,overscan:p1n,padding:2,paddingBottom:0,ref:i,renderItem:b}),m&&l.jsx(e1n,{})]})})]})})})}var Vde=Object.freeze,g1n=Object.defineProperty,DPe=(e,t)=>Vde(g1n(e,"raw",{value:Vde(t||e.slice())})),Hde,Ude;const v1n=P(te)(Hde||(Hde=DPe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),y1n=P(F)(Ude||(Ude=DPe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function b1n(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Vc(),{state:{filtersVisible:a,terms:c}}=Pt(),u=PA({terms:c});return l.jsx(yPe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(mm,{children:l.jsx(id,{autoFocus:!Gp,returnFocus:!0,children:l.jsx(y1n,{children:l.jsxs(v1n,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(TPe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(te,{borderTop:!0,flex:"none",children:l.jsx(EPe,{})}),u?l.jsx(APe,{inputElement:o}):l.jsx(jPe,{inputElement:o})]})})})})})}var Wde=Object.freeze,x1n=Object.defineProperty,EN=(e,t)=>Wde(x1n(e,"raw",{value:Wde(t||e.slice())})),Yde,qde,Gde;const w1n=P(Y)(Yde||(Yde=EN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),C1n=P(Y)(qde||(qde=EN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),_1n=P(Rr)(Gde||(Gde=EN([`
  padding-right: 60px;
`]))),S1n=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Pt(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(C1n,{align:"center",children:[l.jsx(_1n,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:Zo,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(w1n,{align:"center",height:"fill",marginRight:2,children:[l.jsx(MR,{children:$hn}),l.jsx(MR,{children:NOe.toUpperCase()})]})]})});var Kde=Object.freeze,E1n=Object.defineProperty,jS=(e,t)=>Kde(E1n(e,"raw",{value:Kde(t||e.slice())})),Zde,Xde,Qde,Jde;const k1n=P.div(Zde||(Zde=jS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),j1n=P(te)(Jde||(Jde=jS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?fe(Xde||(Xde=jS([`
          left: `,`px;
        `])),t.x):fe(Qde||(Qde=jS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Dx,"px), ").concat(Mhn,"px)")},e=>{let{$position:t}=e;return t.y},Dx*2,zOe);function T1n(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=Ka(),{scheme:p}=Vc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Pt(),b=PA({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return lr(x,[s]),l.jsx(yPe,{hasValidTerms:b,onClose:n,onOpen:r,open:o,children:l.jsx(mm,{children:l.jsxs(id,{autoFocus:!Gp,disabled:t,returnFocus:!0,children:[l.jsx(k1n,{style:{zIndex:f}}),l.jsxs(j1n,{$position:i,overflow:"hidden",radius:X0,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(TPe,{ariaInputLabel:b?"Search results":"Recent searches",onClose:n,ref:u}),v&&l.jsx(te,{borderTop:!0,flex:"none",children:l.jsx(EPe,{})}),b?l.jsx(APe,{inputElement:c}):l.jsx(jPe,{inputElement:c})]})]})})})}function A1n(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=D1n(e);return l.jsxs(l.Fragment,{children:[l.jsx(S1n,{onOpen:i,ref:t}),s&&l.jsx(T1n,{onClose:o,onOpen:i,open:n,position:s})]})}function efe(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>zOe?t.x-Dx:null,y:t.y-Dx}}function D1n(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(efe(e))},[e]);return h.useEffect(()=>{e&&n(efe(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const I1n="search::recent",O1n=5,Ox=2;function P1n(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=Ox}=e;if(!t||!i||!IPe||!a)return;const u="".concat(I1n,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>sC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(Ai(v,"created")),b={version:c,recentSearches:[v,...bb(u,c).recentSearches.filter(x=>JSON.stringify(Ai(x,"created"))!==g)].slice(0,O1n)};return window.localStorage.setItem(u,JSON.stringify(b)),X1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>X1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...bb(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),X1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=bb(u,c);if(d<0||d>f.recentSearches.length)return X1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),X1({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function bb(e,t){const n=IPe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function X1(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=R1n({lsKey:t,storedSearch:bb(t,s)});return $1n({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function R1n(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==Ox){const r={version:Ox,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function $1n(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=RA(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>sC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:Ox,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),bb(r,a)}const IPe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),M1n=3;function F1n(e,t){var n;const r=RA(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>tfe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(tfe(c)&&(a.documentTypes[c.name]=c),PPe(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Chn(t);return N1n(s,o,i)}function L1n(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function B1n(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function N1n(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=M1n,v=a.name.startsWith("_"),g=a!=null&&a.title?_Pe(a.title):un(a.name),b=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const y=n[a.type],w=t[a.type],C=PPe(a)?a:null,_=w||y||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:b,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:b,filterName:W1n(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(z1n).sort(Y1n)}function z1n(e){return{...e,id:B1n(e)}}function V1n(e){var t;return OPe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function OPe(e){return e.type==="array"}function tfe(e){return e.type==="document"}function PPe(e){return e.type==="object"}function H1n(e){return e.type==="string"}function U1n(e){var t;return H1n(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function W1n(e){if(U1n(e))return"stringList";if(OPe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(V1n(e))return"arrayList"}return e.type}function Y1n(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function RPe(e){return typeof e.__recent<"u"}const b4="core:studio:navbar:search:";zd(b4);function q1n(e){const t="".concat(b4).concat(e);return zd&&zd.enabled(t)?zd(t):zd(b4)}function G1n(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(Rhn)}function K1n(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:G1n(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:Zh.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const Z1n=q1n("reducer");function X1n(e,t){let n="";switch(t.type.startsWith("SEARCH_REQUEST")&&(n=""),t.type.startsWith("RECENT_SEARCHES")&&(n=""),Z1n(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:Zh.relevance,terms:kh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:kh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:kh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:Ovn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Wi(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Wi(u)===t.filterKey),o=Bf(e.definitions.operators,r==null?void 0:r.operatorType),i=Bf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>Wi(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Wi(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(m4);return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(m4),o=Eh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=Zu(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,filter:Sh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Eh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,types:[]})}}default:return e}}function kh(e){if(RPe(e)){const{__recent:t,...n}=e;return n}return e}function Q1n(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=fr(sn),a=En(),c=Vo(),{search:{operators:u,filters:d}}=Mn(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:L1n(F1n(a,d)),filterDefinitions:whn(d),operatorDefinitions:Ivn(u)}),[d,u,a]),b=h.useMemo(()=>P1n({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:c,version:Ox}),[c,f,m,v,g,p,a]),x=h.useMemo(()=>b==null?void 0:b.getRecentSearches(),[b]),y=h.useMemo(()=>K1n({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[c,m,v,n,g,x]),[w,C]=h.useReducer(X1n,y),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(y.ordering),I=h.useRef(y.pageIndex),O=h.useRef(y.terms),{handleSearch:$,searchState:R}=VOe({initialState:{...k,terms:T},onComplete:U=>C({hits:U,type:"SEARCH_REQUEST_COMPLETE"}),onError:U=>C({error:U,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),V=PA({terms:T}),M=_.map(U=>a.get(U)),H=S.filter(U=>sC({fieldDefinitions:m,filter:U,filterDefinitions:v,operatorDefinitions:g})),q=h.useCallback(U=>{r.current=U},[]);return h.useEffect(()=>{const U=!Vt(E,D.current),W=j!==I.current,Q=!Vt(T,O.current);if(U||W||Q){const N=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);$({options:{comments:[...RPe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(H.length)],limit:_ce,offset:j*_ce,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...M?{types:M}:{}}}),I.current=j}D.current=E,O.current=T},[H.length,S,M,$,V,E,j,R.terms,T]),h.useEffect(()=>{!V&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,V,k.hits,T.query,T.types]),l.jsx(MOe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:b,searchCommandList:o,setSearchCommandList:i,setOnClose:q,state:{...w,fullscreen:n}},children:t})}const $Pe="3.19.2";function J1n(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat($Pe)]},tag:"module.version-check",json:!0}).pipe(ce(n=>({...n})))}function eyn(){const e=fr({apiVersion:"1"}),t=h.useMemo(()=>J1n(e),[e]);return lAe(t)}function tyn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(Y,{align:"center",justify:"center",padding:3,children:l.jsx(ur,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:nyn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(ryn,{subSection:a},a._key):null)),l.jsxs(F,{padding:3,children:[l.jsxs(B,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",$Pe]}),!t&&s&&l.jsx(F,{paddingTop:2,children:l.jsxs(B,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const nyn=l.jsxs(l.Fragment,{children:[l.jsx(Ne,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(Ne,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(Ne,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx(Dr,{})]});function ryn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(te,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(zt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(Ne,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(Ne,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx(Dr,{})]})}var nfe=Object.freeze,oyn=Object.defineProperty,iyn=(e,t)=>nfe(oyn(e,"raw",{value:nfe(t||e.slice())})),rfe;const syn=P(Lt)(rfe||(rfe=iyn([`
  max-width: 300px;
  min-width: 200px;
`])));function ayn(){const{scheme:e}=Vc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=eyn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(Y,{children:l.jsx(lt,{content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(Jt,{button:l.jsx(se,{"aria-label":"Help and resources",icon:Ev,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(syn,{children:l.jsx(tyn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var ofe=Object.freeze,lyn=Object.defineProperty,kN=(e,t)=>ofe(lyn(e,"raw",{value:ofe(t||e.slice())})),ife,sfe,afe;const cyn=P(es)(ife||(ife=kN([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),uyn=P(te)(sfe||(sfe=kN([`
  line-height: 0;
`]))),dyn=P(Y)(afe||(afe=kN([`
  width: max-content;
`])));function fyn(){const{name:e,tools:t,...n}=Nl(),r=p0().theme,o=iC(),i=oT(),{scheme:s}=Vc(),{href:a,onClick:c}=A_e({state:{}}),u=pm(),d=typeof i.tool=="string"?i.tool:void 0,f=lvn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(pPe),g=wyn(),b=FPe(),[x,y]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&y(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&zc,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?un(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),O=h.useCallback(()=>{y(!1),_==null||_.focus()},[_]),$=h.useCallback(()=>{y(!0)},[]);return l.jsxs(cyn,{zOffset:100,"data-search-open":m,children:[l.jsx(uyn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(Y,{align:"center",justify:"space-between",children:[l.jsxs(dyn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&l.jsx(F,{marginRight:1,children:l.jsx(se,{mode:"bleed",icon:EF,onClick:$,ref:S})}),!k.brandingCenter&&l.jsx(F,{marginRight:1,children:l.jsx(Que,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),k.workspaces&&l.jsx(F,{marginRight:2,children:l.jsx(uPe,{collapsed:!0})}),l.jsx(F,{marginRight:k.brandingCenter?void 0:2,children:l.jsx(avn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),l.jsx($u,{children:l.jsx(Q1n,{fullscreen:k.searchFullscreen,children:l.jsxs(Ru,{element:document.body,children:[l.jsx(rd,{element:v,children:k.searchFullscreen&&l.jsx(b1n,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&l.jsx(A1n,{})]})})}),k.tools&&l.jsx(te,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(b,{activeToolName:d,closeSidebar:O,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&l.jsx(F,{marginX:1,children:l.jsx(Que,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),l.jsxs(Y,{gap:2,children:[(k.configIssues||k.resources)&&l.jsx(te,{borderRight:!0,children:l.jsxs(Y,{gap:1,paddingX:2,children:[k.configIssues&&l.jsx(jvn,{}),k.resources&&l.jsx(ayn,{})]})}),l.jsxs(Y,{align:"center",gap:1,children:[l.jsx(yvn,{collapse:k.collapsedPresenceMenu}),k.tools&&l.jsx(Hgn,{}),k.searchFullscreen&&l.jsx(se,{"aria-label":"Open search",icon:Zo,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&l.jsx(kvn,{activeToolName:d,isOpen:x,onClose:O,tools:t})]})}const MPe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=oT(h.useCallback(s=>({...s,tool:r,[r]:void 0}),[r]));return l.jsx(rT,{state:i,...o,ref:n})});function hyn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Vc(),[o,i]=h.useState(null);bAe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||un(c.name)||void 0,f=h.forwardRef(function(m,v){return l.jsx(MPe,{...m,ref:v,name:c.name})});return l.jsx(cN,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||yl,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(lN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function pyn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(re,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||un(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(MPe,{...c,ref:u,name:o.name})});return l.jsx(re,{as:"li",children:l.jsx(se,{as:s,icon:o.icon||_0e,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function myn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(pyn,{isVisible:n,...r}):l.jsx(hyn,{...r})}function gyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function vyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function yyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function byn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function FPe(){return Bl({defaultComponent:myn,pick:gyn})}function xyn(){return Bl({defaultComponent:fyn,pick:vyn})}function wyn(){return Bl({defaultComponent:Rmn,pick:byn})}function Cyn(){return Bl({defaultComponent:Dgn,pick:yyn})}const lfe=_Ut.__sanityErrorChannel;function _yn(){const{push:e}=zo();return h.useEffect(()=>{if(lfe)return lfe.subscribe(t=>{t.error&&(Syn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function Syn(e){return e instanceof xN||e instanceof iB||e instanceof Oa}function Eyn(e){let{children:t,AuthenticateComponent:n=dPe,LoadingComponent:r=yb,NotAuthenticatedComponent:o=fPe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=Q0();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function kyn(e){let{children:t}=e;const n=Q0().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(LA.Provider,{value:!1,children:l.jsx(FA.Provider,{value:r,children:l.jsx(wE,{scheme:r,theme:n,tone:"transparent",children:l.jsx($u,{children:t})})})})}return l.jsx(wE,{theme:n,tone:"transparent",children:l.jsx($u,{children:t})})}const jyn={toast:[100,11e3]};var cfe=Object.freeze,Tyn=Object.defineProperty,LPe=(e,t)=>cfe(Tyn(e,"raw",{value:cfe(t||e.slice())})),ufe,dfe;P(Y)(ufe||(ufe=LPe([""])));P(F).attrs({padding:4})(dfe||(dfe=LPe([""])));function Ayn(e){const{basePath:t="/",tools:n}=e,r=gi.create("/:tool",o=>{const i=n.find(s=>s.name===o.tool);return i?gi.scope(i.name,"/",i.router):gi.create("/")});return gi.create(t,[gi.intents("/intent"),r])}function jN(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}function Dyn(e,t){const r=jN(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function Iyn(e,t){return t&&(jN(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function Oyn(e,t){return Dyn(e,Iyn(e,t))}function Pyn(e,t,n){const{intent:r,params:o,payload:i}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!bt(o))throw new Error("intent params must be a string");const s=jN(e),a=t!=null&&t.tool?s.find(u=>u.name===t.tool):null,c=(a?[a,...s]:s).find(u=>u&&typeof u.canHandleIntent=="function"&&u.canHandleIntent(r,o,t&&t[u.name]));if(c!=null&&c.getIntentState){const u=c.getIntentState(r,o,t&&t[c.name],i);return{type:"state",isNotFound:!1,state:{...t,tool:c.name,[c.name]:u}}}return{type:"intent",isNotFound:!0,intent:{name:r,params:o}}}function Ryn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function $yn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=agn(),a=h.useMemo(()=>Ayn({basePath:o,tools:i}),[o,i]),[c,u]=Myn(s,a,i);return c?l.jsx(Aht,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function Myn(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(j7(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?Ryn(t,f):null}},[e,t]),i=C7.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Vt),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=Oyn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=ffe(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=ffe(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function ffe(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=Pyn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function Fyn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=Q0(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=Mo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(On(f=>{if(f instanceof Oa)return xe(f);throw f}))})).pipe(ce(u=>{const d=u.filter(f=>f instanceof Oa);if(d.length)throw new Oa({name:i.name,causes:d,type:"workspace"});return u}),ce(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(Xhn,{workspace:s,children:l.jsx(pN,{source:s.unstable_sources[0],children:l.jsx($yn,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function Lyn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(m0,{onCatch:o,children:l.jsx(Fyn,{...n})})}Ip.registerLanguage(Izt);Ip.registerLanguage(rNe);Ip.registerLanguage(Pzt);Ip.registerLanguage($zt);Ip.registerLanguage(Fzt);function Byn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(Lyn,{LoadingComponent:yb,ConfigErrorsComponent:Cgn,children:l.jsx(XYt,{children:t})});return l.jsx($mn,{onSchemeChange:o,scheme:i,children:l.jsxs(EL,{paddingY:7,zOffset:jyn.toast,children:[l.jsx(_yn,{}),l.jsx(hPe,{children:l.jsx(Lmn,{config:n,basePath:r,children:l.jsx(ugn,{unstable_history:s,NotFoundComponent:egn,LoadingComponent:yb,children:l.jsx(kyn,{children:l.jsx($Zt,{children:a?c:l.jsx(Eyn,{LoadingComponent:yb,AuthenticateComponent:dPe,NotAuthenticatedComponent:fPe,children:c})})})})})})]})})}function Nyn(){const e=Cyn();return l.jsx(e,{})}function hfe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(Byn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(Cqt,{}),l.jsx(Nyn,{})]})}function zyn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=aTe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(hfe,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(hfe,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function fr(e){const t=Mn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const pfe="connecting";function Vyn(e,t){const n=Qa();return ho(()=>n.pair.documentEvents(e,t).pipe(ce(r=>r.type),ce(r=>r!=="reconnect"),rt(r=>r?xe("connected"):Fo(200).pipe(Bj("reconnecting"))),Jo(pfe),Xn()),[n.pair,e,t],pfe)}function BPe(){return Mn().dataset}function Vl(e,t){const n=Qa();return ho(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function NPe(e,t){const n=Qa();return ho(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function TN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=Qa();return ho(()=>{const o=r.pair.editState(e,t).pipe(ra());return n==="low"?nn(o.pipe(Ci(1)),o.pipe(TCe(1),FL(()=>Fo(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function zPe(){return Mn().projectId}function En(){return Mn().schema}const Hyn={isSyncing:!0},mfe={isSyncing:!1};function VPe(e,t){const n=Qa();return ho(()=>n.pair.consistencyStatus(e,t).pipe(ce(r=>r?mfe:Hyn)),[n.pair,t,e],mfe)}function J0(){return Mn().templates}const MP=1e3*5,gfe=1e3*20,x4=1e3*60,Q_=x4*60;function qo(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Uyn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function Uyn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=NEt(r,n),i=HEt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:Ko(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:Ko(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Ko(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=VEt(r,n),a=Nr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:Q_}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:Q_};const c=pEe(r,n),u=Nr("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:Q_}}const b=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":b,refreshInterval:Q_}}const d=MEt(r,n),f=Nr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:x4}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:x4};const p=FEt(r,n),m=Nr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:gfe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:gfe};const v=zEt(r,n),g=Nr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:MP}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:MP}:{timestamp:"just now",refreshInterval:MP}}const Wyn={validation:[],isValidating:!1};function AN(e,t){const n=Qa();return ho(()=>n.pair.validation(e,t),[n.pair,e,t],Wyn)}const vfe={isLoading:!0,enabled:!0,features:[]};function Yyn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let FP;function HPe(e){const t=fr(sn);return FP||(FP=Yyn({versionedClient:t}).pipe(So())),ho(()=>FP.pipe(ce(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),Jo(vfe),On(r=>(console.error(r),xe({isLoading:!1,enabled:!0,features:[]})))),[e],vfe)}const qyn=oh(e=>{let[t,n]=e;return Cr(t.getUser(n).catch(r=>(console.error(r),null)))});function e1(e){const t=FN();return qyn(h.useMemo(()=>[t,e],[e,t]))}function Vo(){const{currentUser:e}=Mn();return e}const yfe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},bfe=e=>({type:"snapshot",document:e}),xfe=e=>e.document,Gyn=e=>{const t=new wr,n=new Mj(!0),r=new wr,o=new wr,i=new wr,s=new wr,a=x=>{const y=new R9t(x);return y.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:yfe(y),mutations:C.mutations,origin:_?"remote":"local"})},y.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:y.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},y.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},y.onConsistencyChanged=w=>{n.next(w)},y.commitHandler=w=>s.next(w),y},c=e.pipe(na((x,y)=>y.type==="snapshot"?(x&&x.commit(),a(y.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',y.type),null):x,null),ft(x=>x!==null),Xn(),pl(1),hl()),u=e.pipe(ft(x=>x.type==="mutation"),Ky(c),ce(x=>{let[y,w]=x;return w.arrive(new Cc(y)),yfe(w)})),d=t.pipe(Ky(c),bn(x=>{let[y,w]=x;y.type==="mutation"&&w.add(new Cc({mutations:y.mutations})),y.type==="commit"&&w.commit()}),Np(Kn),ra()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{c.pipe(Ci(1),bn(x=>x.commit())).subscribe()},g=nn(c.pipe(ce(x=>x.LOCAL)),r.pipe(ce(xfe)),o.pipe(ce(xfe)),u).pipe(ce(bfe),pl(1),hl()),b=nn(c.pipe(ce(x=>x.document.HEAD),ce(bfe)),i).pipe(pl(1),hl());return{updates$:nn(g,d,r,o),consistency$:n.pipe(Xn(),pl(1),hl()),remoteSnapshot$:b,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},Kyn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},wfe=(e,t)=>{const n=Gyn(t),r=Kyn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},Zyn={type:"pending",phase:"begin"},Xyn={type:"pending",phase:"end"};function Qyn(e){return e.type==="mutation"}function Jyn(e){return e.transactionTotalEvents>1}function ebn(e){const t=t7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function tbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return lo(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(t$(s=>s.type==="welcome"?i().pipe(t$(a=>[Cfe(o,a.draft),Cfe(r,a.published)])):xe(s)),na((s,a)=>{if(!Qyn(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=Jyn(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return ebn(d)?{next:d.concat(Xyn),buffer:[]}:{next:d.length===1?[Zyn]:[],buffer:d}},{next:[],buffer:[]}),ut(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ce(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function Cfe(e,t){return{type:"snapshot",documentId:e,document:t}}const _fe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function J_(e){return t=>({...t,version:e})}function nbn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function rbn(e,t){return Cr(nbn(e,t.mutation.params)).pipe(bn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function UPe(e,t){const{publishedId:n,draftId:r}=t,o=tbn(e,t).pipe(ra()),i=o.pipe(ft(d=>d.type==="reconnect")),s=wfe(r,o.pipe(ft(_fe(r)))),a=wfe(n,o.pipe(ft(_fe(n)))),c=o.pipe(ft(d=>d.type==="pending")),u=nn(s.commitRequest$,a.commitRequest$).pipe(ut(d=>rbn(e,d)),Np(Kn),ra());return{transactionsPendingEvents$:c,draft:{...s,events:nn(u,i,s.events).pipe(ce(J_("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ce(J_("draft")))},published:{...a,events:nn(u,i,a.events).pipe(ce(J_("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ce(J_("published")))}}}function Hc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Rm=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function aC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const VA=Hc((e,t,n)=>new ht(r=>{r.next(UPe(e,t))}).pipe(pl(1),hl()),aC);function obn(e){return e.type==="snapshot"}function Sfe(e){return{snapshots$:e.events.pipe(ft(obn),ce(t=>t.document),pl(1),hl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const DN=Hc((e,t,n)=>VA(e,t,n).pipe(ce(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:Sfe(o),draft:Sfe(i)}}),pl(1),hl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),ibn={enabled:!0},Efe={enabled:!1},WPe=Hc((e,t,n)=>{const r=Rm(e.schema,n);return DN(e.client,t,n).pipe(rt(o=>Mo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ce(i=>i.phase==="begin"?ibn:Efe),Jo(Efe))])),ce(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),Jo({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),pl(1),hl())},(e,t,n)=>aC(e.client,t,n)),YPe=Hc((e,t,n)=>DN(e.client,t,n).pipe(rt(r=>Mo([r.draft.snapshots$,r.published.snapshots$]).pipe(ce(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),pl(1),hl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),d5={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Rm(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function w4(e){return Xu(e)?e._strengthenOnPublish?Ai(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(w4):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,w4(r)]}))}const qPe={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Rm(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=w4(Ai(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},GPe={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;Rm(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},KPe={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Kn}},ZPe={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},XPe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Rm(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Ai(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},sbn=["_createdAt","_updatedAt"],QPe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Ai(s,sbn),_id:Rm(n,i)?t:ni(t),_type:s._type},{tag:"document.duplicate"})}},JPe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Rm(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},e3e=Hc((e,t,n)=>VA(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return Mo([o.consistency$,i.consistency$])}),ce(r=>{let[o,i]=r;return o&&i}),Xn(),pl(1),hl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function abn(e){return typeof e>"u"?xe(null):e}const lbn={del:d5,delete:d5,publish:qPe,patch:GPe,commit:KPe,discardChanges:ZPe,unpublish:XPe,duplicate:QPe,restore:JPe},cbn=(e,t,n)=>{const r=lbn[e];return lo(()=>nn(xe(null),abn(r.execute(t,...n)))).pipe(Jtt())},t3e=new wr;function n3e(e,t,n,r){t3e.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const ubn=["publish","unpublish","discardChanges","delete"],r3e=Hc(e=>{const t=t3e.pipe(jCe(o=>o.idPair.publishedId),ut(o=>o.pipe(rt(i=>YPe(e,i.idPair,i.typeName).pipe(Ci(1),rt(s=>{const a=ubn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=e3e(e.client,i.idPair,i.typeName).pipe(ft(Boolean));return(a?c.pipe(Ci(1)):xe(!0)).pipe(rt(()=>cbn(i.operationName,s,i.extraArgs)))}),ce(()=>({type:"success",args:i})),On(s=>xe({type:"error",args:i,error:s})))))),ra()),n=1e3,r=t.pipe(ft(o=>o.type==="success"&&o.args.operationName==="patch"),Zb(n,jl,{leading:!0,trailing:!0}),bn(o=>{n3e("commit",o.args.idPair,o.args.typeName,[])}));return nn(t,r.pipe(Np(Kn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),dbn=Hc((e,t,n)=>VA(e,t,n).pipe(rt(r=>{let{published:o,draft:i}=r;return nn(o.remoteSnapshot$,i.remoteSnapshot$)})),aC),fbn={isValidating:!0,validation:[]};function hbn(e){return Lje(e,(t,n)=>(Xu(n)&&t.add(n._ref),t),new Set)}const pbn=[],mbn=(e,t)=>e(t).pipe(ce(n=>{let{published:r}=n;return r.available})),gbn=200,vbn=1e3;function LP(){return So({bufferSize:1,refCount:!0})}const ybn=Hc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=WPe(e,{draftId:r,publishedId:o},n).pipe(ce(d=>{let{draft:f,published:p}=d;return f||p}),Zb(gbn,jl,{trailing:!0}),Xn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Fu(Ai(d,"_rev","_updatedAt"),Ai(f,"_rev","_updatedAt"))),LP()),a=i.pipe(ce(d=>hbn(d)),ut(d=>Cr(d))).pipe(jCe(d=>d,{duration:()=>Fo(1e3*60*30)}),ut(d=>d.pipe(Ktt(),ut(f=>mbn(e.observeDocumentPairAvailability,f).pipe(ce(p=>[f,p]))))),na((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Xn(Fu),LP()),c=d=>{let{id:f}=d;return yo(a.pipe(kCe(p=>f in p),ce(p=>p[f])))},u=a.pipe(TCe(1),Zb(vbn,jl,{leading:!0,trailing:!0}));return Mo([i,zr(xe(null),u)]).pipe(ce(d=>{let[f]=d;return f}),m7(d=>lo(()=>d!=null&&d._type?zr(xe({isValidating:!0,revision:d._rev}),iGt(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(ce(f=>({validation:f,isValidating:!1})))):xe({validation:pbn,isValidating:!1}))),na((d,f)=>({...d,...f}),fbn),LP())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),bbn=Hc((e,t,n)=>VA(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return nn(o.events,i.events)})),aC);function Zc(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const xbn={commit:Zc("commit"),delete:Zc("delete"),del:Zc("del"),publish:Zc("publish"),patch:Zc("patch"),discardChanges:Zc("discardChanges"),unpublish:Zc("unpublish"),duplicate:Zc("duplicate"),restore:Zc("restore")},wbn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n3e(e,t,n,o)};function Xc(e,t,n){return{disabled:t.disabled(n),execute:wbn(e,n.idPair,n.typeName)}}function Cbn(e){return{commit:Xc("commit",KPe,e),delete:Xc("delete",d5,e),del:Xc("delete",d5,e),publish:Xc("publish",qPe,e),patch:Xc("patch",GPe,e),discardChanges:Xc("discardChanges",ZPe,e),unpublish:Xc("unpublish",XPe,e),duplicate:Xc("duplicate",QPe,e),restore:Xc("restore",JPe,e)}}const _bn=Hc((e,t,n)=>{const r=r3e(e),i=YPe(e,t,n).pipe(ce(Cbn));return zr(xe(xbn),nn(r.pipe(ut(()=>Kn)),i)).pipe(So({refCount:!0,bufferSize:1}))},(e,t,n)=>aC(e.client,t,n)),Sbn=(e,t,n,r)=>lo(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),Ebn=(e,t,n,r)=>lo(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function kfe(e){return e.type==="welcome"}function kbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=Ebn(e,i,n,r).pipe(ut((f,p)=>p===0&&!kfe(f)?Mu(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):xe(f)),ra()),[a,c]=ML(s,kfe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>Sbn(e,o,n,r);return nn(a.pipe(Ci(1)),c.pipe(ft(u),Zb(r.throttleTime||1e3,jl,{leading:!0,trailing:!0}))).pipe(m7(f=>f.type==="mutation"&&f.visibility!=="query"?Fo(1200).pipe(ut(d)):d()))}function jbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return xe(n);const r="*[_id in [$documentId, $draftId]]._type",o=Pn(t),i=ni(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ce(s=>s[0]))}function Xp(e){return _r(e)}const Tbn=["_key","_ref","_weak","_type"];function Abn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function jfe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!Xp(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return C4(e)}catch(r){throw r.message=n(r.message),r}}function C4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(jr(t),'")'));return C4(o,t.concat(i),!0)});if(!Xp(e))return e;const r=n&&!e._key?{_key:$w()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&Dbn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=C4(e[i],t.concat([i])),o),r)}function Dbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(jr(t),'"'));const n=Object.keys(e).filter(r=>!Tbn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(Abn).join(", "),' at path "').concat(jr(t),'"'))}}function IN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];Xp(o)&&Xp(i)&&(n[r]=IN(i,o))}),n}function Ibn(e){return Xp(e)&&typeof e.serialize=="function"}async function HA(e,t,n){return typeof e=="function"?e(t,n):e}async function ON(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(Ibn(t))return ON(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await HA(s,n,r);if(!Xp(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));Xp(a)&&!Object.keys(a).length&&(a={_type:i}),a=jfe(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=IN(await UA(c,n,PN,r)||{},a);return jfe(u,t)}function Obn(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const PN=10;function UA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PN,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Ha(e)?Rbn(e,t,n,r):Rl(e)?Pbn(e,t,n,r):HA(e.initialValue,t,r)}async function Pbn(e,t,n,r){const o=await HA(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=Obn(e,i);return Ha(s)?{...i,...await UA(s,t,n-1,r),_key:$w()}:i}))}async function Rbn(e,t,n,r){const o={...await HA(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await UA(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=IN(i,o);if(!k9(s))return e.name!=="object"&&(s._type=e.name),s}const Tfe={type:"loading"};function $bn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:ni(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Pn(r.documentId)},["_type"]);return nn(i.pipe(ce(c=>({draft:c}))),s.pipe(ce(c=>({published:c})))).pipe(na((c,u)=>({...c,...u}),{}),ft(c=>"draft"in c&&"published"in c),ce(c=>c.draft||c.published),Xn((c,u)=>!!c!=!!u),LL(25)).pipe(rt(c=>{if(c)return xe({type:"success",value:null});if(!r.templateName)return xe({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),xe({isResolving:!1,initialValue:void 0});const d=Cr(ON(e,u,r.templateParams,o)).pipe(ce(f=>({isResolving:!1,initialValue:f}))).pipe(On(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),xe({type:"error",error:f}))));return nn(xe({isResolving:!0}),d).pipe(rt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return xe(v?{type:"error",message:"Failed to resolve initial value"}:p?Tfe:{type:"success",value:m})}))}),Jo(Tfe),Xn())}function Q1(e){if(K7(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:ni(e)}}function Mbn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(sn),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return UPe(a,u)},initialValue(u,d){return $bn(i,o,n,u,d)},listenQuery(u,d,f){return kbn(a,u,d,f)},resolveTypeForDocument(u,d){return jbn(a,u,d)},pair:{consistencyStatus(u,d){return e3e(c.client,Q1(u),d)},documentEvents(u,d){return bbn(c.client,Q1(u),d)},editOperations(u,d){return _bn(c,Q1(u),d)},editState(u,d){return WPe(c,Q1(u),d)},operationEvents(u,d){return r3e({client:a,historyStore:r,schema:i}).pipe(ft(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ce(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return ybn(c,Q1(u),d)}}}}const Afe={isLoaded:!1,documentType:void 0};function Fbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=Qa(),r=Pn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Afe);return h.useEffect(()=>a(Afe),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function Lbn(e,t){const n=$i(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):xe(void 0),[e,n,t]);return lAe(r)}function Bbn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Po(o),s=Qa(),a=RN(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:c}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&d({loading:!1,error:v.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function RN(){const e=Mn(),t=En(),n=Vo(),r=zPe(),o=BPe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function $N(){const e=RN();return h.useCallback((t,n)=>UA(t,n,PN,e),[e])}function Nbn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function zbn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:Pn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:ni(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:ni("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function Vbn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return xe({granted:!1,reason:"Type specified was `*`"});const a=!!Nbn(r,s).liveEdit;return DN(t,{draftId:ni(o),publishedId:Pn(o)},s).pipe(rt(c=>Mo([c.draft.snapshots$,c.published.snapshots$]).pipe(ce(u=>{let[d,f]=u;return{draft:d,published:f}}))),rt(c=>{let{draft:u,published:d}=c;const f=zbn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ce(g=>{let{granted:b,reason:x}=g;return{granted:b,reason:b?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Mo(f).pipe(ce(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):xe({granted:!0,reason:""})}))}const Hbn=oh(Vbn);function uh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=fr(sn),c=En(),u=LN(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return Hbn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function o3e(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const Ubn=oh(o3e);function Wbn(e){let{document:t,permission:n,...r}=e;const o=LN();return Ubn({grantsStore:r.grantsStore||o,document:t,permission:n})}function i3e(e){return typeof e=="object"&&e!==null&&"serialize"in e?i3e(e.serialize()):e}function Ybn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Mo(n.map(i3e).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await ON(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>Cr(s).pipe(rt(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return o3e({grantsStore:t,permission:"create",document:{_id:p?Pn(m):ni(m),...u}}).pipe(ce(v=>{let{granted:g,reason:b}=v;const x=c.title||d.title;return{...c,granted:g,reason:b,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):xe([])}const qbn=oh(Ybn);function MN(e){let{templateItems:t,...n}=e;const r=En(),o=J0(),i=LN(),s=RN();return qbn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Dfe="_debug_",Gbn=typeof window>"u"?xe({}):Ti(window,"hashchange"),s3e=zr(xe(0),Gbn).pipe(ce(()=>typeof document>"u"?"#":document.location.hash),Xn(),ce(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Dfe)).map(t=>t.substring(Dfe.length)))),Kbn=s3e.pipe(ce(e=>e.find(t=>t.startsWith("roles="))),ce(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),Zbn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Ife=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Xbn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Qbn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Ofe=[{filter:'_id in path("**")',permissions:["read","history"]}],Jbn=[{filter:"!locked",permissions:["read","create","update"]}],exn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Pfe={administrator:Zbn,editor:Ife,developer:Xbn,contributor:Qbn,viewer:Ofe,restricted:exn,requiresApproval:Jbn,read:Ofe,write:Ife},txn=Kbn.pipe(ce(e=>e.length?e.filter(t=>!!t&&t in Pfe).flatMap(t=>Pfe[t]||[]):null));async function nxn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function rxn(e){const t={};return e!==null&&(t.identity=e.id),t}const BP=new Map;async function oxn(e,t,n){BP.has(t)||BP.set(t,Xje("*[".concat(t,"]")));const r=BP.get(t),o=rxn(e),{identity:i}=o,s={...o},a=await(await Wje(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function ixn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=lo(()=>xe(r.config())).pipe(rt(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return nxn(r,a,c)})),i=txn.pipe(rt(s=>s?xe(s):o),pl(1),kBt(1e3));return{checkDocumentPermission(s,a){return i.pipe(rt(c=>sxn(n,c,s,a)),Xn(Fu))}}}async function sxn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await oxn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function axn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return lxn(r)}function lxn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Rfe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function cxn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function $fe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class uxn{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Rfe(t.draftId),published:Rfe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),$fe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):$fe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=cxn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=SM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class dxn{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Mfe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Mfe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Mfe(e){return e.draft||e.published}const fxn=50;class hxn{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new uxn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new dxn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=fxn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await axn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function pxn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Ffe(e){return e.draft||e.published}class mxn{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=f5(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class gxn{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=f5(r,this.value[t],this.extractor)}}class vxn{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(pxn(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function f5(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new mxn(e.content,t,r,n);case"object":return new gxn(e.content,t,r,n);case"string":return new vxn(e.content,t,r,n)}return w7(t,r)}function Lfe(e,t,n){return n?_4(e,n.transactionIndex+1,n.chunk.index):t?_4(e,t.start,t.index):null}function Bfe(e,t){return t?_4(e,t.transactionIndex,t.chunk.index):null}function _4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function yxn(e,t,n,r,o,i){const s=f5(n,r,{fromValue(c){return Lfe(e,t,c.endMeta)},fromMeta(c){return Lfe(e,t,c)}}),a=f5(o,i,{fromValue(c){return Bfe(e,c.startMeta)},fromMeta(c){return Bfe(e,c)}});return GT(s,a)}class e2{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function bxn(e){return e==="create"||e==="editDraft"}const xxn=5*60*1e3;function wxn(e,t){return Date.parse(t)-Date.parse(e)<xxn}function Nfe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Vfe(e.draftState,t.draftState),r=Vfe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(bxn(e.type)&&t.type==="editDraft"&&wxn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function zfe(e){const t=!!e;return e&&S4(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Cxn(e){const t=zfe(e.draftEffect),n=zfe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function NP(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&S4(e.draftEffect.apply),o=e.publishedEffect&&S4(e.publishedEffect.apply),i=Cxn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Vfe(e,t){return t==="unknown"?e:t}function S4(e){return e[0]===0&&e[1]===null}let _xn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new e2,this._chunks=new e2,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new e2,this._chunks=new e2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(NP(s),Nfe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(NP(s),Nfe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=NP(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=SM(o,a.draftEffect.revert)),a.publishedEffect&&(i=SM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=rl.wrap(t.draft,null),s=rl.wrap(t.published,null);const a=Sxn(i,s),c=Ffe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),b={chunk:m,transactionIndex:v},x=i,y=s;g.draftEffect&&(i=rl.applyPatch(i,g.draftEffect.apply,b)),g.publishedEffect&&(s=rl.applyPatch(s,g.publishedEffect.apply,b));const w=rl.getType(x)!=="null",C=rl.getType(i)!=="null";rl.getType(s)!=="null"&&!C&&(s=rl.rebaseValue(x,s)),C&&!w&&(i=rl.rebaseValue(y,i))}}const d=rl.getType(i)==="null"?s:i,f=Ffe(n);return yxn(this,u,a,c,d,f)}};function Sxn(e,t){return rl.getType(e)==="null"?t:e}const Hfe=Object.create(null),Exn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},a3e=(e,t,n)=>{const r=Pn(t),o=ni(t),i="".concat(r,"@").concat(n),s=Hfe[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return Hfe[i]=u,u},kxn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new _xn({enableTrace:zc,publishedId:n});return new hxn({client:t,documentId:n,documentType:r,timeline:o})},jxn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},Txn=e=>Lje(e,(t,n)=>Xu(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function E4(e,t){return Array.isArray(e)?t(e.map(n=>E4(n,t)).filter(n=>typeof n<"u")):bt(e)?t(Object.keys(e).reduce((n,r)=>{const o=E4(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const Axn=(e,t)=>E4(e,n=>Xu(n)?t(n):n),Dxn=(e,t)=>Axn(e,n=>t[n._ref]?n:void 0);function Ixn(e,t,n,r){return Cr(a3e(e,t,r)).pipe(ut(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=Txn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ce(s=>Dxn(o,s)))}),ce(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),ut(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function Oxn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>a3e(t,n,r),getHistory:(n,r)=>Exn(t,n,r),getTransactions:n=>jxn(t,n),restore:(n,r,o)=>Ixn(t,n,r,o),getTimelineController:kxn}}const Ufe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function Pxn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=c3e(),a=h.useRef(null),c=h.useRef(Ufe),u=fr(sn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Mj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=dbn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const v=f.pipe(bn(g=>g.setLoadMore(!1)),ce(g=>{var b;const x=g.timeline.mapChunks(_=>_),y=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(b=y==null?void 0:y[0])==null?void 0:b.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),Xn(cF),On(g=>(r==null||r(g),xe(Ufe))),bn(g=>{c.current=g}),bn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function ro(e,t){return C7.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const Rxn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],$xn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],Mxn=lo(()=>Fo(0,1e4)).pipe(Np(Rxn),ce((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:DNt($xn)}]})),So()),Fxn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},Lxn=(e,t)=>{const n=e.request("presence").pipe(ce(Fxn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Kn;return[n.pipe(ra()),r]},l3e="presence_session_id",Bxn=()=>N0t(16);function Nxn(){try{return window.sessionStorage.getItem(l3e)}catch{}return null}function zxn(e){try{window.sessionStorage.setItem(l3e,e)}catch{}return e}const t2=Nxn()||zxn(Bxn());function Vxn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=Lxn(t,t2),s=new Mj([]),a=s.pipe(Xn()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(ft(A=>A.type==="rollCall"),ft(A=>A.sessionId!==t2)),m=Fo(0,3e4),v=lo(()=>nn(a,f)).pipe(rt(()=>m),Ky(s),ce(A=>{let[,D]=A;return D}),Htt(200),rt(A=>u(A)),Np(Kn),ra()),g=lo(()=>d()).pipe(Np(Kn)),b=n.connectionStatus$.pipe(ce(A=>A.type),ft(A=>A==="connected"||A==="error"),Xn()),x=s3e.pipe(ce(A=>A.find(D=>D.startsWith("presence="))),ce(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),y=x.pipe(ft(A=>A.includes("fake_others")),bn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),nnt(Mxn)),w=x.pipe(ce(A=>A.includes("show_own"))),C=nn(g,o).pipe(ft(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=nn(C,y).pipe(na((A,D)=>D.type==="disconnect"?Ai(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=b.pipe(rt(A=>A==="connected"?nn(S,v):$L),ce(A=>Object.values(A)),rt(A=>{const D=co(A.map(I=>I.userId));return Cr(r.getUsers(D)).pipe(ce(I=>A.map(O=>({user:I.find($=>$.id===O.userId),session:O})).filter(j)))}),BL(Ti(window,"beforeunload").pipe(rt(()=>i({type:"disconnect"})))),So({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(ce(A=>{const D=t7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var O;return{user:(O=A.find($=>$.user.id===I))==null?void 0:O.user,sessions:D[I]}})}),Ky(w),ce(A=>{let[D,I]=A;return D.filter(O=>I?!0:!O.sessions.some(R=>R.sessionId===t2))}),ce(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:Dn((D.sessions||[]).map(O=>O.locations||[])).map(O=>({type:O.type,documentId:O.documentId,path:O.path,lastActiveAt:O.lastActiveAt})).reduce((O,$)=>O.concat($),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(Ky(w),rt(D=>{let[I,O]=D;return Cr(I).pipe(ft($=>O||$.session.sessionId!==t2),ent($=>($.session.locations||[]).filter(R=>R.documentId===A).map(R=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:R.path||[],sessionId:$.session.sessionId}))),bCe())}))}}function Hxn(){const[e,t]=h.useState([]),n=BN();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function lC(e){const t=BN(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function Uxn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const Wxn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},Yxn=(e,t)=>{const n=localStorage.getItem(e);return xe(n===null?t:Wxn(n,t))},qxn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),xe(t)),Gxn={get:Yxn,set:qxn},h5=Object.create(null),Kxn=(e,t)=>xe(e in h5?h5[e]:t),Zxn=(e,t)=>(typeof t>"u"||t===null?delete h5[e]:h5[e]=t,xe(t)),Xxn={get:Kxn,set:Zxn};let J1=null;function Qxn(){if(J1!==null)return J1;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),J1=!0}catch{J1=!1}return J1}function Jxn(){return Qxn()?Gxn:Xxn}function ewn(){const e=Jxn(),t=new wr,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(rt(a=>e.set(a.key,a.value).pipe(ce(c=>({key:a.key,value:c}))))),o=(a,c)=>nn(e.get(a,c),r.pipe(ft(u=>u.key===a),ce(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const twn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function nwn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new zNt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>YNt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),twn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>bt(c)&&typeof c.id=="string")}}function FN(){const{getClient:e,currentUser:t}=Mn(),n=hd(),r=e(sn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||nwn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function LN(){const{getClient:e}=Mn(),t=e(sn),n=Vo(),r=hd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||ixn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function c3e(){const e=fr(sn),t=hd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||Oxn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function $i(){const e=fr(sn),t=hd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||PKt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function Qa(){const e=Mn().getClient,t=En(),n=J0(),r=hd(),o=c3e(),i=$i();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||Mbn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function rwn(){const{bifur:e}=Mn().__internal,t=hd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||wqt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function BN(){const{__internal:{bifur:e}}=Mn(),t=hd(),n=FN(),r=rwn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||Vxn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function own(){const e=fr(sn),t=hd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||Uxn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function iwn(){const e=hd(),t=Nl();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||ewn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const swn=/[^\p{Alpha}\p{White_Space}]/gu,awn=new RegExp("\\p{White_Space}+","u"),lwn={small:0,medium:1,large:2};function cwn(e){const t=e.replace(swn,"").split(awn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function za(e){const{user:t,...n}=e;return bt(t)?n.withTooltip?l.jsx(uwn,{...n,user:t}):l.jsx(u3e,{...n,user:t}):l.jsx(dwn,{...e,user:t})}function uwn(e){const{user:{displayName:t}}=e;return l.jsx(lt,{content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(u3e,{...e})})})}const u3e=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=TZt(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx(pwe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&cwn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?lwn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function dwn(e){let{user:t,...n}=e;const[r]=e1(t);return r?l.jsx(za,{...n,user:r}):null}var Wfe=Object.freeze,fwn=Object.defineProperty,hwn=(e,t)=>Wfe(fwn(e,"raw",{value:Wfe(t||e.slice())})),Yfe;const pwn=P(mL)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=pe.purple[r].hex,i=pe.purple[n].hex;return fe(Yfe||(Yfe=hwn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function mwn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(pwn,{...r,fontSize:t,children:n})}function Wh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Or(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Wh(a[s]||{},i,n)}}}const NN=20,gwn=3,Jd={name:"all-fields",title:"All fields",hidden:!1};function vwn(e){return Ha(e.schemaType)}function ywn(e){return tF(e.schemaType)}function bwn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...d3e(e,t)]}function d3e(e,t){return t.length===0?[]:vwn(e)?f3e(e,t):ywn(e)?h3e(e,t):[]}function f3e(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===Jd.name||u&&_w(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||Jd.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&(GB(c)?m.push(...h3e(c.field,i)):uIe(c)&&m.push(...f3e(c.field,i))),m}function h3e(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Or(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?d3e(o.item,r):[]}function oo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function xwn(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function wwn(e,t){const n=ks(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function zN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=gwn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function p3e(e,t,n){return n.name===Jd.name?!0:t===void 0?!1:e.length===0&&n.name===Jd.name?!0:_w(t).includes(n.name)}function qfe(e){return typeof e>"u"||bt(e)}function Cwn(e){return typeof e>"u"||Array.isArray(e)}function _wn(e){return typeof e>"u"||Array.isArray(e)}function Swn(e){return e.length===0||e.every(t=>bt(t))}function Ewn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function kwn(e){return"_key"in e}function jwn(e){return e==null?void 0:e.every(t=>bt(t)&&kwn(t))}function gv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Vt(e,t)}function Gfe(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y;const{parent:w,field:C,index:_}=e,S=rm([...w.path,C.name]),E=Lrn(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!qfe(j))throw new Error("Unexpected non-object value");const T=C.group?_w(C.group):[],A=p3e(w.groups,C.group,w.selectedGroup);if(Ha(C.type)){const D=j==null?void 0:j[C.name],I=bt(k)?k==null?void 0:k[C.name]:void 0;if(!qfe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:ks(D),value:D}};const O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(oo(C.type.hidden,O))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const R=w.readOnly||oo(C.type.readOnly,O),V=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],M=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],H=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],q=VN({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:gv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:V,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:M,collapsedFieldSets:H,readOnly:R,changesOpen:w.changesOpen});if(q===null)return null;const U=zN(C.type.options,E),W=M?M.value:U.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:yi(S,w.openPath),field:q,collapsed:W,collapsible:U.collapsible}}else if(Rl(C.type)){const D=j==null?void 0:j[C.name],I=bt(k)?k==null?void 0:k[C.name]:void 0;if(tF(C.type)){const O=typeof D<"u";if(O&&!Cwn(D)){const U=ks(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:U,value:D}}}if(O&&!Swn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(O&&!jwn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const $=O?Ewn(D):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const R=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[C.name],V=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],M=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],H=w.readOnly||oo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),q=Awn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:gv(D,I),comparisonValue:I,fieldGroupState:R,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:V,collapsedFieldSets:M,level:E,path:S,readOnly:H});return q===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:yi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:q}}else{if(!_wn(D)){const H=ks(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}const O=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],$=(b=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:b[C.name],R=(y=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:y[C.name],V=w.readOnly||oo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),M=Twn({changed:gv(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:O,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:$,collapsedFieldSets:R,level:E,path:S,readOnly:V});return M===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:yi(S,w.openPath),collapsible:!1,collapsed:!1,field:M}}}else{const D=j==null?void 0:j[C.name],I=bt(k)?k==null?void 0:k[C.name]:void 0,O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(oo(C.type.hidden,O))return null;const R=w.readOnly||oo(C.type.readOnly,O),V=m3e({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:R});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:yi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:V}}}function VN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===NN)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||oo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(y=>y.default)||Jd)==null?void 0:n.name,a=[Jd,...i].flatMap(y=>{var w;const C=oo(y.hidden,r),_=y.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?y.name===Jd.name:_,E=e.changesOpen?!S:!1;return C?[]:[{disabled:E,icon:y==null?void 0:y.icon,name:y.name,selected:S,title:y.title}]}),c=a.find(y=>y.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(y=>({single:!0,field:y}))).flatMap((y,w)=>{var C,_,S,E;if(y.single){const O=y.field,$=Gfe({field:O,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:w});return $?[$]:[]}const j=y.fields.map(O=>O.name),k=oo(y.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:wt(e.value,j)}),T=oo(y.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:wt(e.value,j)}),A=y.fields.flatMap(O=>{if(k)return[{kind:"hidden",key:"field-".concat(O.name),name:O.name,index:w}];const $=Gfe({field:O,parent:{...e,readOnly:o||T,groups:a,selectedGroup:c},index:w});return $?[$]:[]}),D=zN(y.options,e.level),I=(S=(_=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[y.name])==null?void 0:_.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(y.name),_inSelectedGroup:p3e(a,y.group,c),groups:y.group?_w(y.group):[],fieldSet:{path:rm(e.path.concat(y.name)),name:y.name,title:y.title,description:y.description,hidden:!1,level:e.level+1,members:A.filter(O=>O.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(E=y==null?void 0:y.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(y=>yn(y.path,e.path)),m=p.length?p:Un,v=e.validation.filter(y=>yn(y.path,e.path)).map(y=>({level:y.level,message:y.item.message,path:y.path})),g=d.filter(y=>y.kind!=="hidden");if(g.length===0&&t)return null;const b=f?a.flatMap(y=>y.name===Jd.name||g.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(y.name):C.groups.includes(y.name)||C.fieldSet.members.some(_=>_.kind!=="error"&&_.groups.includes(y.name)))?y:[]):[],x=g.flatMap(y=>{if(y.kind==="error")return[y];if(y.kind==="field")return y.inSelectedGroup?[y]:[];const w=y.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...y,fieldSet:{...y.fieldSet,members:w}}]:[]});return{value:e.value,changed:gv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:jr(e.path),level:e.level,focused:yn(e.path,e.focusPath),focusPath:lF(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:x,groups:b}}function Twn(e){if(e.level===NN)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(oo(e.schemaType.hidden,t))return null;const r=e.readOnly||oo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>yn(u.path,e.path)),s=i.length?i:Un,a=e.validation.filter(u=>yn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>Iwn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:yn(e.path,e.focusPath),focusPath:lF(e.path,e.focusPath),path:e.path,id:jr(e.path),level:e.level,validation:a,presence:s,members:c}}function Awn(e){if(e.level===NN)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(oo(e.schemaType.hidden,t))return null;const r=e.readOnly||oo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>yn(u.path,e.path)),s=i.length?i:Un,a=e.validation.filter(u=>yn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>Dwn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:yn(e.path,e.focusPath),focusPath:lF(e.path,e.focusPath),path:e.path,id:jr(e.path),level:e.level,validation:a,presence:s,members:c}}function Dwn(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=xwn(u.schemaType,c),p=c._key;if(!f){const j=ks(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=rm([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},b=u.readOnly||oo(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],y=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,_=VN({schemaType:f,level:v,document:u.document,value:c,comparisonValue:C,changed:gv(c,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:y,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:b},!1),S=zN(f.options,v),E=(a=y==null?void 0:y.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:yi(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function Iwn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=wwn(o.schemaType,r),a=rm([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:ks(s),value:c}};const p=o.readOnly||oo(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=m3e({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:yn(a,o.openPath),item:m}}function m3e(e){const t=e.presence.filter(o=>yn(o.path,e.path)),n=t.length?t:Un,r=e.validation.filter(o=>yn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:gv(e.value,e.comparisonValue),value:e.value,level:e.level,id:jr(e.path),readOnly:e.readOnly,focused:yn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function Own(e){return VN(e)}function Pwn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Vo(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=Own({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:rm([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),b=xB(v.current,g);return v.current=b,b},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function Rwn(e){return e.map(Fwn)}function k4(e,t){return Dn(t.map(n=>Mwn(e,n)))}const $wn=e=>t=>!e.includes(t);function Mwn(e,t){return Dn(Object.keys(t).filter($wn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:Xm(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:Xm(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:Xm(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:Xm(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:Xm(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:Xm(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function Fwn(e){if(e.patchType!==Kp&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==Kp)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=Aje(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=fa(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(ct.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(bB.Provider,{value:i,children:t.children})});Pf.fonts.code.family,Pf.fonts.text.family,oc.hex,xa.hex,iy[500].hex,xa.hex,oc.hex,y2[500].hex,y2[500].hex,y2[500].hex,v3[500].hex,iy[500].hex,b3[500].hex,y3[500].hex,iy[500].hex,iy[500].hex,b3[500].hex,y3[500].hex,v3[500].hex,oc.hex,xa.hex;({...Pf});const Lwn=cB(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||_F,component:h.lazy(()=>v8(()=>import("./SanityVision-oM6_d46E-969b24ed.js"),[])),options:o,router:gi.create("/*")}]}});var WA={},Bwn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},Nwn=Bwn,Kfe={"text/plain":"Text","text/html":"Url",default:"Text"},zwn="Copy to clipboard: #{key}, Enter";function Vwn(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Hwn(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=Nwn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=Kfe[t.format]||Kfe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=Vwn("message"in t?t.message:zwn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var Uwn=Hwn;function j4(e){"@babel/helpers - typeof";return j4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j4(e)}Object.defineProperty(WA,"__esModule",{value:!0});WA.CopyToClipboard=void 0;var n2=g3e(h),Wwn=g3e(Uwn),Ywn=["text","onCopy","options","children"];function g3e(e){return e&&e.__esModule?e:{default:e}}function Zfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Xfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zfe(Object(n),!0).forEach(function(r){HN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qwn(e,t){if(e==null)return{};var n=Gwn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gwn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Kwn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zwn(e,t,n){return t&&Qfe(e.prototype,t),n&&Qfe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xwn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},T4(e,t)}function Qwn(e){var t=eCn();return function(){var r=p5(e),o;if(t){var i=p5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Jwn(this,o)}}function Jwn(e,t){if(t&&(j4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v3e(e)}function v3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eCn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p5(e){return p5=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},p5(e)}function HN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y3e=function(e){Xwn(n,e);var t=Qwn(n);function n(){var r;Kwn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),HN(v3e(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=n2.default.Children.only(f),v=(0,Wwn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return Zwn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=qwn(o,Ywn),a=n2.default.Children.only(i);return n2.default.cloneElement(a,Xfe(Xfe({},s),{},{onClick:this.onClick}))}}]),n}(n2.default.PureComponent);WA.CopyToClipboard=y3e;HN(y3e,"defaultProps",{onCopy:void 0,options:void 0});var tCn=WA,A4=tCn.CopyToClipboard;A4.CopyToClipboard=A4;var nCn=A4;const rCn=Oe(nCn);var oCn=Hf,iCn=Wa,sCn="[object Number]";function aCn(e){return typeof e=="number"||iCn(e)&&oCn(e)==sCn}var lCn=aCn;const cCn=Oe(lCn);function Jfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ehe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jfe(Object(n),!0).forEach(function(r){uCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uCn(e,t,n){return t=dCn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dCn(e){var t=fCn(e,"string");return typeof t=="symbol"?t:String(t)}function fCn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m5(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function b3e(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function x3e(e){return b3e(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function w3e(e){return e._type==="@list"}function C3e(e){return e._type==="@span"}function _3e(e){return e._type==="@text"}const the=["strong","em","code","underline","strike-through"];function hCn(e,t,n){if(!m5(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&m5(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>pCn(o,i,s))}function pCn(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=the.indexOf(t),s=the.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function mCn(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(hCn),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(b=>b._key===p),v=m?m._type:p,g={_type:"@span",_key:c._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(m5(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function gCn(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!x3e(i)){n.push(i),r=void 0;continue}if(!r){r=r2(i,o,t),n.push(r);continue}if(vCn(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=r2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=ehe(ehe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&D4(s,i);if(a){r=a,r.children.push(i);continue}r=r2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&D4(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=r2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function vCn(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function r2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function D4(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(w3e(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!m5(i)?D4(i,t):void 0}function S3e(e){let t="";return e.children.forEach(n=>{_3e(n)?t+=n.text:C3e(n)&&(t+=S3e(n))}),t}const yCn="html",bCn=["block","list","listItem","marks","types"],xCn=["listItem"],wCn=["_key"];function nhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nhe(Object(n),!0).forEach(function(r){CCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CCn(e,t,n){return t=_Cn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Cn(e){var t=SCn(e,"string");return typeof t=="symbol"?t:String(t)}function SCn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I4(e,t){if(e==null)return{};var n=ECn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ECn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function kCn(e,t){const n=I4(t,bCn);return ac(ac({},e),{},{block:ey(e,t,"block"),list:ey(e,t,"list"),listItem:ey(e,t,"listItem"),marks:ey(e,t,"marks"),types:ey(e,t,"types")},n)}function ey(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?ac(ac({},o),r):o}const jCn=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},TCn={textDecoration:"underline"},ACn={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:TCn,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:jCn},DCn={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},ICn=e=>{let{children:t}=e;return l.jsx("li",{children:t})},cC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),E3e=e=>cC('block type "'.concat(e,'"'),"types"),OCn=e=>cC('mark type "'.concat(e,'"'),"marks"),PCn=e=>cC('block style "'.concat(e,'"'),"block"),RCn=e=>cC('list style "'.concat(e,'"'),"list"),$Cn=e=>cC('list item style "'.concat(e,'"'),"listItem");function MCn(e){console.warn(e)}const rhe={display:"none"},FCn=e=>{let{value:t,isInline:n}=e;const r=E3e(t._type);return n?l.jsx("span",{style:rhe,children:r}):l.jsx("div",{style:rhe,children:r})},LCn=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},BCn=e=>{let{children:t}=e;return l.jsx("p",{children:t})},NCn=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},zCn=e=>{let{children:t}=e;return l.jsx("li",{children:t})},VCn=()=>l.jsx("br",{}),HCn={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},ohe={types:{},block:HCn,marks:ACn,list:DCn,listItem:ICn,hardBreak:VCn,unknownType:FCn,unknownMark:LCn,unknownList:NCn,unknownListItem:zCn,unknownBlockStyle:BCn};function UCn(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=MCn}=e;const i=o||YCn,s=Array.isArray(t)?t:[t],a=gCn(s,r||yCn),c=h.useMemo(()=>n?kCn(ohe,n):ohe,[n]),u=h.useMemo(()=>WCn(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const WCn=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return w3e(p)?i(p,m,g):x3e(p)?o(p,m,g):C3e(p)?s(p,m,g):r(p)?d(p,m,g,v):b3e(p)?a(p,m,g,v):_3e(p)?c(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=ihe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t($Cn(w),{type:w,nodeType:"listItemStyle"})}let y=v.children;if(f.style&&f.style!=="normal"){const w=I4(f,xCn);y=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:y},m)}function i(f,p,m){const v=f.children.map((y,w)=>n({node:y._key?y:ac(ac({},y),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const y=f.listItem||"bullet";t(RCn(y),{nodeType:"listStyle",type:y})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:b}=f,x=e.marks[g]||e.unknownMark,y=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(OCn(g),{nodeType:"mark",type:g}),l.jsx(x,{text:S3e(f),value:v,markType:g,markKey:b,renderNode:n,children:y},m)}function a(f,p,m,v){const g=ihe({node:f,index:p,isInline:v,renderNode:n}),b=I4(g,wCn),x=b.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(PCn(x),{nodeType:"blockStyle",type:x}),l.jsx(w,ac(ac({},b),{},{value:b.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(E3e(f._type),{nodeType:"block",type:f._type});const b=e.unknownType;return l.jsx(b,ac({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},b=e.types[f._type];return b?l.jsx(b,ac({},g),m):null}return n};function ihe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=mCn(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function YCn(){}var qCn=RSe,GCn=C8,KCn=GCn(function(e,t,n){return t=t.toLowerCase(),e+(n?qCn(t):t)}),ZCn=KCn;const she=Oe(ZCn);var XCn=C8,QCn=XCn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),JCn=QCn;const e_n=Oe(JCn);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ahe=Object.getOwnPropertySymbols,t_n=Object.prototype.hasOwnProperty,n_n=Object.prototype.propertyIsEnumerable;function r_n(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o_n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var i_n=o_n()?Object.assign:function(e,t){for(var n,r=r_n(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)t_n.call(n,s)&&(r[s]=n[s]);if(ahe){o=ahe(n);for(var a=0;a<o.length;a++)n_n.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},o2=i_n,s_n={};function nl(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var lhe="mixins";function a_n(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)c(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=o2({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=o2({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=o2({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&nl(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&nl(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function c(C,_){if(_){nl(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),nl(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,E=S.__reactAutoBindPairs;_.hasOwnProperty(lhe)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==lhe){var k=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,k);else{var A=o.hasOwnProperty(j),D=typeof k=="function",I=D&&!A&&!T&&_.autobind!==!1;if(I)E.push(j,k),S[j]=k;else if(T){var O=o[j];nl(A&&(O==="DEFINE_MANY_MERGED"||O==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",O,j),O==="DEFINE_MANY_MERGED"?S[j]=f(S[j],k):O==="DEFINE_MANY"&&(S[j]=p(S[j],k))}else S[j]=k}}}}function u(C,_){if(_)for(var S in _){var E=_[S];if(_.hasOwnProperty(S)){var j=S in s;nl(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var k=S in C;if(k){var T=i.hasOwnProperty(S)?i[S]:null;nl(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],E);return}C[S]=E}}}function d(C,_){nl(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(nl(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var E=C.apply(this,arguments),j=_.apply(this,arguments);if(E==null)return j;if(j==null)return E;var k={};return d(k,E),d(k,j),k}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function v(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var E=_[S],j=_[S+1];C[E]=m(C,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},y=function(){};o2(y.prototype,e.prototype,x);function w(C){var _=function(E,j,k){this.__reactAutoBindPairs.length&&v(this),this.props=E,this.context=j,this.refs=s_n,this.updater=k||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;nl(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new y,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,_)),c(_,g),c(_,C),c(_,b),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),nl(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var l_n=a_n,g5=h,c_n=l_n;if(typeof g5>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var u_n=new g5.Component().updater,YA=c_n(g5.Component,g5.isValidElement,u_n),d_n=Date.now||f_n;function f_n(){return new Date().getTime()}var che=d_n,h_n=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=che()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=che();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},p_n=m_n;function m_n(e){for(var t=g_n(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=ui(n,r,o,i,t[s+0],7,-680876936),i=ui(i,n,r,o,t[s+1],12,-389564586),o=ui(o,i,n,r,t[s+2],17,606105819),r=ui(r,o,i,n,t[s+3],22,-1044525330),n=ui(n,r,o,i,t[s+4],7,-176418897),i=ui(i,n,r,o,t[s+5],12,1200080426),o=ui(o,i,n,r,t[s+6],17,-1473231341),r=ui(r,o,i,n,t[s+7],22,-45705983),n=ui(n,r,o,i,t[s+8],7,1770035416),i=ui(i,n,r,o,t[s+9],12,-1958414417),o=ui(o,i,n,r,t[s+10],17,-42063),r=ui(r,o,i,n,t[s+11],22,-1990404162),n=ui(n,r,o,i,t[s+12],7,1804603682),i=ui(i,n,r,o,t[s+13],12,-40341101),o=ui(o,i,n,r,t[s+14],17,-1502002290),r=ui(r,o,i,n,t[s+15],22,1236535329),n=di(n,r,o,i,t[s+1],5,-165796510),i=di(i,n,r,o,t[s+6],9,-1069501632),o=di(o,i,n,r,t[s+11],14,643717713),r=di(r,o,i,n,t[s+0],20,-373897302),n=di(n,r,o,i,t[s+5],5,-701558691),i=di(i,n,r,o,t[s+10],9,38016083),o=di(o,i,n,r,t[s+15],14,-660478335),r=di(r,o,i,n,t[s+4],20,-405537848),n=di(n,r,o,i,t[s+9],5,568446438),i=di(i,n,r,o,t[s+14],9,-1019803690),o=di(o,i,n,r,t[s+3],14,-187363961),r=di(r,o,i,n,t[s+8],20,1163531501),n=di(n,r,o,i,t[s+13],5,-1444681467),i=di(i,n,r,o,t[s+2],9,-51403784),o=di(o,i,n,r,t[s+7],14,1735328473),r=di(r,o,i,n,t[s+12],20,-1926607734),n=fi(n,r,o,i,t[s+5],4,-378558),i=fi(i,n,r,o,t[s+8],11,-2022574463),o=fi(o,i,n,r,t[s+11],16,1839030562),r=fi(r,o,i,n,t[s+14],23,-35309556),n=fi(n,r,o,i,t[s+1],4,-1530992060),i=fi(i,n,r,o,t[s+4],11,1272893353),o=fi(o,i,n,r,t[s+7],16,-155497632),r=fi(r,o,i,n,t[s+10],23,-1094730640),n=fi(n,r,o,i,t[s+13],4,681279174),i=fi(i,n,r,o,t[s+0],11,-358537222),o=fi(o,i,n,r,t[s+3],16,-722521979),r=fi(r,o,i,n,t[s+6],23,76029189),n=fi(n,r,o,i,t[s+9],4,-640364487),i=fi(i,n,r,o,t[s+12],11,-421815835),o=fi(o,i,n,r,t[s+15],16,530742520),r=fi(r,o,i,n,t[s+2],23,-995338651),n=hi(n,r,o,i,t[s+0],6,-198630844),i=hi(i,n,r,o,t[s+7],10,1126891415),o=hi(o,i,n,r,t[s+14],15,-1416354905),r=hi(r,o,i,n,t[s+5],21,-57434055),n=hi(n,r,o,i,t[s+12],6,1700485571),i=hi(i,n,r,o,t[s+3],10,-1894986606),o=hi(o,i,n,r,t[s+10],15,-1051523),r=hi(r,o,i,n,t[s+1],21,-2054922799),n=hi(n,r,o,i,t[s+8],6,1873313359),i=hi(i,n,r,o,t[s+15],10,-30611744),o=hi(o,i,n,r,t[s+6],15,-1560198380),r=hi(r,o,i,n,t[s+13],21,1309151649),n=hi(n,r,o,i,t[s+4],6,-145523070),i=hi(i,n,r,o,t[s+11],10,-1120210379),o=hi(o,i,n,r,t[s+2],15,718787259),r=hi(r,o,i,n,t[s+9],21,-343485551),n=ef(n,a),r=ef(r,c),o=ef(o,u),i=ef(i,d)}return i2(n)+i2(r)+i2(o)+i2(i)}var uhe="0123456789abcdef";function UN(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function O4(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function v5(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function ef(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function i2(e){var t="",n;for(n=0;n<=3;n++)t+=uhe.charAt(e>>n*8+4&15)+uhe.charAt(e>>n*8&15);return t}function g_n(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function v_n(e,t){return e<<t|e>>>32-t}function qA(e,t,n,r,o,i){return ef(v_n(ef(ef(t,e),ef(r,i)),o),n)}function ui(e,t,n,r,o,i,s){return qA(UN(v5(t,n),v5(~t,r)),e,t,o,i,s)}function di(e,t,n,r,o,i,s){return qA(UN(v5(t,r),v5(n,~r)),e,t,o,i,s)}function fi(e,t,n,r,o,i,s){return qA(O4(O4(t,n),r),e,t,o,i,s)}function hi(e,t,n,r,o,i,s){return qA(O4(n,UN(t,~r)),e,t,o,i,s)}var y_n=Math.ceil(Math.random()*10),b_n=function(){return++y_n},WN=function(e){return Object.prototype.toString.call(e).slice(8,-1)},x_n=WN;function w_n(e){var t=x_n(e);return t!=="Object"&&t!=="Array"}var k3e=w_n,C_n=h,__n=YA,s2=C_n.createElement,S_n=__n({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return s2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return s2("span",null,e.string.split(e.highlight).map(function(o,i){return s2("span",{key:i},i>0?s2("span",{className:"json-inspector__hl"},r):null,o)}))}}),E_n=h,k_n=YA,j_n=p_n,T_n=b_n,j3e=WN,TS=k3e,A_n=S_n,va=E_n.createElement,D_n=".root.",T3e=k_n({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+T_n(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return va("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},va("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),va("label",{className:"json-inspector__line",htmlFor:e,onClick:r},va("div",{className:"json-inspector__flatpath"},n.path),va("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=j3e(e);switch(t){case"Array":var n=e.length;return va("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[] ":"[] ")+I_n(n));case"Object":var r=Object.keys(e).length;return va("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{} ":"{} ")+O_n(r));default:return va("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!TS(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return va(T3e,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:P_n(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return TS(e.data)||this.state.original||!e.getOriginal||!e.query||zP(this.keypath(),e.query)?null:va("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?va(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!zP(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(D_n.length)},data:function(){return this.state.original||this.props.data},format:function(e){return va(A_n,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),TS(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!zP(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function I_n(e){return e+(e===1?" item":" items")}function O_n(e){return e+(e===1?" property":" properties")}function P_n(e,t){if(TS(t)){var n=j_n(String(t));return e+":"+n}else return e+"["+j3e(t)+"]"}function zP(e,t){return e.indexOf(t)!==-1}var R_n=T3e,A3e=function(){},$_n=h,M_n=YA,F_n=$_n.createElement,L_n=A3e,B_n=M_n({getDefaultProps:function(){return{onChange:L_n}},render:function(){return F_n("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),D3e=function(e){return Object.keys(e).length===0},N_n=Object.keys,z_n=k3e,V_n=D3e,H_n=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return AS(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=AS(n[o],r,t);break}}return n[r]||(n[r]=AS(e,r,t)),n[r]}};function AS(e,t,n){return N_n(e).reduce(function(r,o){var i=e[o],s;return z_n(i)?(VP(t,o,n)||VP(t,i,n))&&(r[o]=i):VP(t,o,n)?r[o]=i:(s=AS(i,t,n),V_n(s)||Object.assign(r,U_n(o,s))),r},{})}function VP(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function U_n(e,t){var n={};return n[e]=t,n}var W_n=WN,HP=".";function P4(e,t){var n=t.split(HP),r=n.shift();if(!r)return e;var o=W_n(e);if(o==="Array"&&e[dhe(r)])return P4(e[dhe(r)],n.join(HP));if(o==="Object"&&e[r])return P4(e[r],n.join(HP))}function dhe(e){return parseInt(e,10)}var Y_n=P4,q_n=h,G_n=YA,K_n=h_n,ty=q_n.createElement,Z_n=R_n,X_n=B_n,Q_n=H_n,J_n=D3e,e2n=Y_n,t2n=A3e,n2n=G_n({getDefaultProps:function(){return{data:null,search:X_n,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:t2n,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&J_n(r);return ty("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?ty("div",{className:"json-inspector__not-found"},"Nothing found"):ty(Z_n,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return ty("div",{className:"json-inspector__toolbar"},ty(e,{onChange:K_n(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:Q_n(e,t)})},getOriginal:function(e){return e2n(this.props.data,e)}});const r2n=Oe(n2n);var o2n=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const i2n=Oe(o2n);function YN(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function I3e(e){const{document:t}=e,r=En().get(t._type),{error:o,value:i}=dB({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const qN=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx(hAe,{onReset:o,hooks:t,args:r,children:n})},s2n=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx(hAe,{...o,hooks:t,args:r,children:n})};function a2n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const l2n=5e3;let UP;const O3e=()=>(UP||(UP=Ti(document,"visibilitychange").pipe(Jo(null),ce(()=>document.visibilityState==="visible"),Xn(),rt(e=>e?Fo(0,l2n):Kn),So({refCount:!0,bufferSize:1}))),UP);function c2n(e,t){let{versionedClient:n}=t;const r=ni(e),o=Pn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ce(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function u2n(e,t){const{versionedClient:n}=t;return O3e().pipe(rt(()=>c2n(e,t)),rt(r=>{if(!r)return xe({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(On(i=>{if(a2n(i)&&i.statusCode===404)return xe({totalCount:0,references:[]});throw i}))}))}const d2n=oh(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),f2n=oh(e=>{let[t,n]=e;return O3e().pipe(rt(()=>u2n(t,{versionedClient:n})))});function h2n(e){const t=fr(sn),n=Qa(),r=Pn(e),[o,i]=d2n(h.useMemo(()=>[r,n],[n,r])),[s,a]=f2n(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function p2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(lt,{portal:!0,content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(sr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(a0,{"aria-label":r})})})}function m2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(lt,{portal:!0,content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(sr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(ku,{})})})}function P3e(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=bt(i.title)&&h.isValidElement(i.title)||lT(i.title)||cCn(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=ho(()=>aA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(qt,{space:4,children:[r&&r.length>0&&l.jsx(FB,{presence:r}),l.jsx(p2n,{document:c}),l.jsx(m2n,{document:a})]});return l.jsx(ah,{...hB({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function cs(){throw new Error("Pane is missing router context")}const GA=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>cs(),ChildLink:()=>cs(),ReferenceChildLink:()=>cs(),handleEditReference:()=>cs(),ParameterizedLink:()=>cs(),replaceCurrent:()=>cs(),closeCurrentAndAfter:()=>cs(),closeCurrent:()=>cs(),duplicateCurrent:()=>cs(),setView:()=>cs(),setParams:()=>cs(),setPayload:()=>cs(),navigateIntent:()=>cs(),createPathWithParams:()=>cs()}),g2n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(GA),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx(rT,{...t,ref:n,state:s})}),R3e=h.createContext(null);function t1(){const e=h.useContext(R3e);if(!e)throw new Error("PaneLayout: missing context value");return e}const v2n=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(GA);return l.jsx(rT,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),kRn=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(v2n,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:jr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),jRn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(GA),{params:s,payload:a,...c}=t,u=Po(s),d=Po(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx(rT,{ref:n,...c,state:f})});function Uc(){return h.useContext(GA)}const fhe=[];function y2n(e){const{onClick:t,type:n,value:r}=e,o=Pn(r==null?void 0:r._id),i=lC(o),s=$i(),{ReferenceChildLink:a}=Uc(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:fhe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(_p,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(P3e,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:fhe,schemaType:n,value:r})})}var hhe=Object.freeze,b2n=Object.defineProperty,uC=(e,t)=>hhe(b2n(e,"raw",{value:hhe(t||e.slice())})),phe,mhe,ghe,vhe,yhe;const $3e=P(F)(phe||(phe=uC([`
  margin-left: auto;
`]))),x2n=P.details(mhe||(mhe=uC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),$3e),w2n=P.summary(ghe||(ghe=uC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),C2n=P.table(vhe||(vhe=uC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.space[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),_2n=P(Y)(yhe||(yhe=uC([`
  min-height: 35px;
`]))),bhe=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(qt,{space:2,children:[l.jsxs(B,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(lt,{portal:!0,placement:"top",content:l.jsx(ao,{width:0,children:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(B,{size:1,muted:!0,children:l.jsx(sm,{})})})]}):null};function S2n(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=En(),d=zo(),f=h.useCallback(b=>{const x=u.get(b._type);return x?l.jsx(y2n,{type:x,value:b,onClick:c}):l.jsx(F,{padding:2,children:l.jsx(ah,{icon:yl,title:"Preview Unavailable",subtitle:"ID: ".concat(b._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(B,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["",r,""]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),l.jsxs(te,{children:[l.jsx(te,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(Y,{children:[l.jsx(B,{"aria-hidden":"true",size:1,children:l.jsx($r,{})}),l.jsx(F,{flex:1,marginLeft:3,children:l.jsx(B,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to ",r,""]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to ",r,""]})})})]})}),l.jsx(F,{flex:"none",marginBottom:4,children:l.jsxs(B,{children:["You may not be able to ",i," ",r," because the following documents refer to it:"]})}),l.jsx(te,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(Y,{direction:"column",children:[n.totalCount>0&&l.jsxs(re,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(b=>l.jsx(F,{as:"li",children:f(b)},b._id)),n.totalCount>n.references.length&&l.jsx(F,{as:"li",padding:3,children:l.jsx(bhe,{...n})})]}),t.totalCount>0&&l.jsxs(x2n,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(w2n,{children:l.jsx(te,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(Y,{align:"center",margin:2,children:[l.jsx(F,{marginLeft:3,marginRight:4,children:l.jsx(B,{size:3,children:l.jsx(wF,{})})}),l.jsxs(Y,{marginRight:4,direction:"column",children:[l.jsx(F,{marginBottom:2,children:l.jsxs(B,{children:[p," in ",v]})}),l.jsx(F,{children:l.jsx(B,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),l.jsx($3e,{children:l.jsx(B,{muted:!0,children:l.jsx(qa,{})})})]})})}),l.jsxs(F,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs(C2n,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(zt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(zt,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(zt,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(b=>"projectId"in b).map((b,x)=>{let{projectId:y,datasetName:w,documentId:C}=b;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(B,{size:1,children:y})}),l.jsx("td",{children:l.jsx(B,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(_2n,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(B,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&l.jsx(rCn,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(se,{title:"Copy ID to clipboard",mode:"bleed",icon:Eu,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),l.jsx(F,{padding:2,children:l.jsx(bhe,{...t})})]})]})]})}),l.jsx(F,{flex:"none",children:l.jsxs(B,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var xhe=Object.freeze,E2n=Object.defineProperty,M3e=(e,t)=>xhe(E2n(e,"raw",{value:xhe(t||e.slice())})),whe,Che;const k2n=P(F).attrs({padding:4})(whe||(whe=M3e([`
  box-sizing: border-box;
`]))),j2n=P(Y).attrs({align:"center",direction:"column",justify:"center"})(Che||(Che=M3e([`
  height: 300px;
`])));function T2n(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=h2n(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=l.jsx(I3e,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),b=!u;return l.jsx(Ii,{width:1,id:s,header:"".concat(v," document?"),footer:l.jsxs(on,{columns:b?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(se,{mode:"ghost",onClick:o,text:"Cancel"}),b&&l.jsx(se,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(k2n,{children:c&&a&&!u?l.jsx(S2n,{crossDatasetReferences:c,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(j2n,{"data-testid":"loading-container",children:[l.jsx(ur,{muted:!0}),l.jsx(F,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:"Looking for referring documents"})})]})})})}function F3e(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Ii,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(Y,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(se,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(F,{padding:4,children:l.jsx(B,{children:"An error occurred while loading referencing documents."})})}):l.jsx(m0,{onCatch:r,children:l.jsx(T2n,{...e})})}const A2n={constrainSize:!0,placement:"left-start",portal:!0};function y5(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx(Dr,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx(Dr,{}),r.title&&l.jsx(F,{padding:2,paddingBottom:1,children:l.jsx(zt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(y5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Dr,{}),l.jsx(SL,{disabled:t,icon:r.icon,popover:A2n,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(y5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Dr,{}),l.jsx(D2n,{disabled:t,node:r})]})}function D2n(e){const{node:t}=e;return t.intent?l.jsx(O2n,{...e,intent:t.intent}):l.jsx(I2n,{...e})}function I2n(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(B,{size:1,children:r.disabled.reason});return l.jsx(Yw,{content:o,placement:"left",children:l.jsx(Ne,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Ma,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function O2n(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(B,{size:1,children:o.disabled.reason}),s=bw({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(Yw,{content:i,placement:"left",children:l.jsx(Ne,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?Ma:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const P2n={constrainSize:!0,placement:"bottom",portal:!0};function R4(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&R4(n.children,t))}function L3e(e){const{nodes:t}=e,n=h.useId(),r=R4(t,"critical"),o=R4(t,"caution");return l.jsx(Jt,{button:l.jsx(sh,{icon:Bo,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Lt,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(y5,{isAfterGroup:c,node:i},i.key)})}),popover:P2n})}const R2n=!1,vv=51,yv=vv*4,B3e=h.createContext(null);var _he=Object.freeze,$2n=Object.defineProperty,M2n=(e,t)=>_he($2n(e,"raw",{value:_he(t||e.slice())})),She;const F2n=P(es)(She||(She=M2n([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function L2n(e){let{disabled:t,element:n}=e;const{resize:r}=t1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(F2n,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Ehe=Object.freeze,B2n=Object.defineProperty,N2n=(e,t)=>Ehe(B2n(e,"raw",{value:Ehe(t||e.slice())})),khe;const z2n=P(te)(khe||(khe=N2n([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),KA=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,b]=h.useState(null),{collapse:x,collapsed:y,expand:w,expandedElement:C,mount:_,panes:S}=t1(),E=S.find(z=>z.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=y?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=cr(n),O=(r=E==null?void 0:E.flex)!=null?r:u,$=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,R=(i=E==null?void 0:E.currentMaxWidth)!=null?i:c,V=h.useCallback(z=>{b(z),I.current=z},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,_,g]);const M=h.useCallback(()=>{g&&x(g)},[x,g]),H=h.useCallback(()=>{g&&w(g)},[w,g]),q=h.useMemo(()=>({collapse:M,collapsed:y?!1:A,expand:H,index:j,isLast:T,rootElement:g}),[A,M,H,T,y,j,g]),U=h.useMemo(()=>{if(!y)return A?vv:$===0||T?f||yv:$||f||yv},[A,$,T,y,f]),W=h.useMemo(()=>{if(A)return vv;if(!(y&&T))return T?p?R??p:void 0:R??p},[A,R,T,y,p]),Q=y&&!T,N=h.useMemo(()=>!T&&!y&&l.jsx(Wu,{zOffset:"paneResizer",children:l.jsx(L2n,{disabled:A||D,element:g})}),[A,T,y,D,g]),K=h.useMemo(()=>({flex:O,minWidth:U,maxWidth:W===1/0?void 0:W}),[O,U,W]);return l.jsxs(l.Fragment,{children:[l.jsx(Wu,{zOffset:"pane",children:l.jsx(B3e.Provider,{value:q,children:l.jsxs(z2n,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:Q,id:d,overflow:y?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:V,style:K,children:[R2n,l.jsx(Ru,{element:g,children:!Q&&l.jsx(Y,{direction:"column",height:"fill",children:s})})]})})}),N]})});function dh(){const e=h.useContext(B3e);if(!e)throw new Error("Pane: missing context value");return e}var jhe=Object.freeze,V2n=Object.defineProperty,H2n=(e,t)=>jhe(V2n(e,"raw",{value:jhe(t||e.slice())})),The;const N3e=P(te)(The||(The=H2n([`
  position: relative;
  outline: none;
`])));N3e.displayName="PaneContent__root";const ZA=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=dh(),{collapsed:u}=t1();return l.jsx(N3e,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Ahe=Object.freeze,U2n=Object.defineProperty,z3e=(e,t)=>Ahe(U2n(e,"raw",{value:Ahe(t||e.slice())})),Dhe,Ihe;const W2n=P(es)(Dhe||(Dhe=z3e([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),Y2n=P(te)(Ihe||(Ihe=z3e([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),q2n=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=dh();return l.jsx(Wu,{zOffset:"paneFooter",children:l.jsx(W2n,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(Y2n,{tone:"inherit",children:l.jsx(F,{padding:o,children:r})})})})});var Ohe=Object.freeze,G2n=Object.defineProperty,n1=(e,t)=>Ohe(G2n(e,"raw",{value:Ohe(t||e.slice())})),Phe,Rhe,$he,Mhe,Fhe,Lhe;const K2n=P(es)(Phe||(Phe=n1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),Z2n=P(Y)(Rhe||(Rhe=n1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),X2n=P(te)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return fe($he||($he=n1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),Q2n=P(ji)(Mhe||(Mhe=n1([`
  width: 66%;
  max-width: 175px;
`]))),J2n=P(B)(Fhe||(Fhe=n1([`
  cursor: default;
  outline: none;
`]))),eSn=P(F)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return fe(Lhe||(Lhe=n1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],At(n.base.bg,0),r[3])}),GN=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=dh(),g=td(v||null),b=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),y=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx($u,{zOffset:100,children:l.jsx(K2n,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(Wu,{zOffset:"paneHeader",children:l.jsxs(te,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(Z2n,{onClick:y,padding:2,sizing:"border",style:b,children:[o&&l.jsx(F,{flex:"none",padding:1,children:o}),l.jsxs(X2n,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx(Q2n,{animated:!0,radius:1}),!s&&l.jsx(J2n,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(Y,{align:"center",hidden:p,children:l.jsx(Wu,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(Y,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(eSn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function V3e(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(tSn,{node:t,padding:n}):t.type==="group"?l.jsx(rSn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function tSn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(nSn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(B,{size:1,children:n.disabled.reason});return l.jsx(Yw,{content:o,placement:"bottom",children:l.jsx(sh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function nSn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(B,{size:1,children:r.disabled.reason}),s=bw({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(Yw,{content:i,placement:"bottom",children:l.jsx(sh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function rSn(e){var t;const{node:n,padding:r}=e;return l.jsx(Jt,{button:l.jsx(sh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:yl,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Lt,{children:n.children.map((o,i)=>{var s;return l.jsx(y5,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var Bhe=Object.freeze,oSn=Object.defineProperty,iSn=(e,t)=>Bhe(oSn(e,"raw",{value:Bhe(t||e.slice())})),Nhe;const sSn=P(te)(Nhe||(Nhe=iSn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function aSn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:yv,c=(i=n.minWidth)!=null?i:yv,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),b=e.left.width+g,x=e.right.width-g,y=b/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:y,leftW:b,rightFlex:w,rightW:x}}function lSn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const zhe=[];function cSn(e,t){const n=new WeakMap;for(const o of t)n.set(o,lSn(e,o));const r=(o,i)=>{const s=n.get(o)||zhe,a=n.get(i)||zhe,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function uSn(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(y){r.add(y),a===y&&(a=null),x()}function f(y){r.delete(y),a=y,x()}function p(y,w){return n.set(y,{...w,original:w}),t.push(y),i&&cSn(i,t),f(y),()=>{const C=t.indexOf(y);C>-1&&t.splice(C,1),n.delete(y),x()}}function m(y,w,C){var _,S,E,j;const k=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[k+1],D=n.get(A);if(D){if(y==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),y==="move"&&o.left&&o.right){c=new Map;const{leftW:I,rightW:O,leftFlex:$,rightFlex:R}=aSn(o,T,D,C);c.set(w,{flex:$,width:I}),c.set(A,{flex:R,width:O}),x()}if(y==="end"){u=!1;const I=c.get(w),O=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=I==null?void 0:I.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(E=T.maxWidth)!=null?E:1/0,flex:(j=O==null?void 0:O.flex)!=null?j:D.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(y){i=y}function g(y){s=y,x()}function b(y){return e.push(y),()=>{const w=e.push(y);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:b};function x(){var y,w,C,_;if(!s)return;const S=[];for(const I of t)I!==a&&S.unshift(I);a&&S.unshift(a);const E=new WeakMap,j=S.length,k=S[0],T=(j-1)*vv;let A=s-T;for(const I of S){const O=n.get(I);if(!O)continue;const $=O.currentMinWidth||O.minWidth||yv,R=I===k,V=r.has(I),M=$>A,H=R?!1:V||M,q=c.get(I);E.set(I,{element:I,collapsed:H,currentMinWidth:(y=q==null?void 0:q.width)!=null?y:O.currentMinWidth,currentMaxWidth:(w=q==null?void 0:q.width)!=null?w:O.currentMaxWidth,flex:(_=(C=q==null?void 0:q.flex)!=null?C:O.flex)!=null?_:1}),H?A-=vv:A-=$-vv}const D=[];for(const I of t){const O=E.get(I);O&&D.push(O)}for(const I of e)I({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function TRn(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>uSn(),[]),[a,c]=h.useState(null),u=td(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(R3e.Provider,{value:v,children:l.jsx(sSn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function KN(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const H3e=Hxt(KN);function U3e(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(W3e(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function W3e(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>W3e(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const dSn=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx(xm,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(se,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(se,{...o,as:i,"data-as":"a",ref:n})});function WP(e){let{reveal:t,loading:n,children:r}=e;const o=Vo();return t?l.jsx(lt,{content:n?l.jsx(F,{padding:2,children:l.jsx(B,{children:"Loading"})}):l.jsx(Tc,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const fSn={constrainSize:!0,placement:"bottom",portal:!0},Vhe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function hSn(e){let{templateItems:t}=e;const n=En(),r=J0(),[o,i]=MN({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(WP,{reveal:!0,loading:i,children:l.jsx(se,{"aria-label":"Insufficient permissions",icon:hp,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=Vhe(n,r,c);return f?l.jsx(WP,{reveal:d,loading:i,children:l.jsx(dSn,{"aria-label":c.title,icon:c.icon||hp,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(Jt,{button:l.jsx(se,{icon:hp,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Lt,{children:[l.jsx(F,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(zt,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=Vhe(n,r,c),m=r.find(g=>g.id===c.templateId);if(!m||!p)return null;const v=h.forwardRef((g,b)=>f?l.jsx("button",{type:"button",disabled:!0,...g,ref:b}):l.jsx(xm,{...g,intent:p.type,params:p.params,ref:b}));return v.displayName="Link",l.jsx(WP,{reveal:f,loading:i,children:l.jsx(Ne,{as:v,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:fSn})}function pSn(e){return e!=null}const mSn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},gSn=h.memo(function(t){const{initialValueTemplateItems:n=Un,menuItems:r=Un,menuItemGroups:o=Un,actionHandlers:i=wUt}=t,s=J0(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),c=h.useMemo(()=>U3e({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(KN),[c]),d=h.useMemo(()=>c.filter(H3e),[c]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:b}=m.intent;if(!b)return null;const x=Array.isArray(b)?b[0]:b,y=Array.isArray(b)?b[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:y,menuItemIndex:v,initialDocumentId:_}}).filter(pSn).map(m=>{let{initialDocumentId:v,item:g,template:b,menuItemIndex:x,templateParams:y}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:b.id,type:"initialValueTemplateItem",title:g.title||b.title,icon:g.icon,description:b.description,parameters:y,schemaType:b.schemaType}}),[r,s]),p=h.useMemo(()=>Mf([...f,...n],m=>mSn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(Y,{gap:1,children:[p.length>0&&l.jsx(hSn,{templateItems:p}),u.map(m=>l.jsx(V3e,{node:m},m.key)),d.length>0&&l.jsx(L3e,{nodes:d})]})}),vSn=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx($r,{})});function ySn(e){const{layout:t,value:n}=e;return l.jsx(ah,{...vSn(n._id,n._type),layout:t})}function Hhe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function bSn(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=En(),m=$i(),{ChildLink:v}=Uc(),g=lC(n),b=!!(i&&i.name&&p.get(i.name)),[x,y]=h.useState(!1),w=h.useMemo(()=>c&&cMe(c)?!i||!b?l.jsx(ySn,{value:c}):l.jsx(P3e,{documentPreviewStore:m,icon:Hhe(t,i,_f),layout:r,schemaType:i,value:c,presence:g}):l.jsx(ah,{status:l.jsx(B,{muted:!0,children:l.jsx(Dc,{})}),icon:Hhe(t,i,p0e),layout:r,title:a}),[m,b,t,r,i,a,c,g]),C=h.useMemo(()=>function(E){return l.jsx(v,{...E,childId:n})},[v,n]),_=h.useCallback(S=>{if(S.metaKey){y(!1);return}y(!0)},[]);return h.useEffect(()=>y(!1),[s]),l.jsx(_p,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const Y3e=h.createContext(null);function hr(){const e=h.useContext(Y3e);if(!e)throw new Error("DocumentPane: missing context value");return e}const xSn={NOTHING_TO_DELETE:"This document doesnt yet exist or is already deleted"},q3e=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=hr(),{delete:s}=Vl(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=uh({id:t,type:n,permission:"delete"}),b=Vo();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:uo,disabled:!0,label:"Delete",title:l.jsx(Tc,{operationLabel:"delete this document",currentUser:b})}:{tone:"critical",icon:uo,disabled:a||!!s.disabled||g,title:s.disabled&&xSn[s.disabled]||"",label:a?"Deleting":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx(F3e,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};q3e.action="delete";const wSn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},G3e=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Vl(t,n),[a,c]=h.useState(!1),[u,d]=uh({id:t,type:n,permission:"discardDraft"}),f=Vo(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:ju,disabled:!0,label:"Discard changes",title:l.jsx(Tc,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:ju,disabled:!!s.disabled||d,title:s.disabled&&wSn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};G3e.action="discardChanges";const CSn={NOTHING_TO_DUPLICATE:"This document doesnt yet exist so theres nothing to duplicate"},K3e=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Vl(t,n),{navigateIntent:i}=$c(),[s,a]=h.useState(!1),[c,u]=uh({id:t,type:n,permission:"duplicate"}),d=Vo(),f=h.useCallback(()=>{const p=ad();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:Eu,disabled:!0,label:"Duplicate",title:l.jsx(Tc,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Eu,disabled:s||!!o.disabled||u,label:s?"Duplicating":"Duplicate",title:o.disabled&&CSn[o.disabled]||"",onHandle:f}};K3e.action="duplicate";const ZN=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Vl(t,n),s=NPe(t,n),{navigateIntent:a}=$c(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:jF,dialog:m,disabled:v}};ZN.action="restore";const _Sn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function SSn(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):_Sn[e]}const Z3e=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=Vl(n,r),d=AN(n,r),f=VPe(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=hr(),b=TN(v,g),x=((b==null?void 0:b.draft)||(b==null?void 0:b.published)||{})._rev,y=d.validation.some(uMe),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=uh({id:n,type:r,permission:"publish"}),k=Vo(),T=qo((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?SSn(u.disabled,T)||"":y?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const R=d.isValidating===!1&&d.revision!==x;!w||_||!R||(y||I(),C(!1))},[_,I,y,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const R=a==="publishing"&&!D;R&&p&&m();const V=R?"published":null,H=setTimeout(()=>{c(V)},R?200:4e3);return()=>clearTimeout(H)},[p,a,D,m]);const O=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:l.jsx(Tc,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const $=!!(w||(t=b==null?void 0:b.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||y||u.disabled);return{disabled:$||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing":"Publish",icon:a==="published"?Ma:a0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:$||w?null:"Ctrl+Alt+P",onHandle:O}};Z3e.action="publish";const ESn={NOT_PUBLISHED:"This document is not published"},X3e=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Vl(t,n),[a,c]=h.useState(!1),[u,d]=uh({id:t,type:n,permission:"unpublish"}),f=Vo(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx(F3e,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:LS,label:"Unpublish",title:l.jsx(Tc,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:LS,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?ESn[s.disabled]:"",onHandle:()=>c(!0),dialog:v}};X3e.action="unpublish";const kSn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},jSn=!1,Q3e={},ARn=Symbol("LOADING_PANE"),J3e="documentPanelPortalElement",eRe={activePanes:[]};function DRn(e){eRe.activePanes=e}function TSn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=eRe.activePanes||[],a=t.id||ad(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:Q3e;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const ASn={};function DSn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function ISn(e){return(e||[]).map(t=>t.map(zSn).join("|")).map(encodeURIComponent).join(";")}function OSn(e){return JSON.stringify(e)}function PSn(e){return VSn(decodeURIComponent(e))}function RSn(e){return ISn(e)}const $Sn=gi.create("/",[gi.intents("/intent"),gi.create("/edit/:type/:editDocumentId",[gi.create({path:"/:params",transform:{params:{toState:DSn,toPath:OSn}}})]),gi.create({path:"/:panes",children:[gi.create("/:action",gi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:PSn,toPath:RSn}}})]),MSn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,FSn=e=>/^[a-z0-9]+=[^=]+/i.test(e),LSn=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),tRe=["view","since","rev","inspect","comment"],BSn=Boolean;function NSn(e,t){return e.reduce((n,r)=>{if(FSn(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else LSn(r)?n.payload=USn(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:ASn,payload:void 0})}function zSn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!tRe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(BSn).flat()).join(",")||","}function VSn(e){return e.indexOf(",{")!==-1?HSn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return NSn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Ai(n.params,tRe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function HSn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(MSn)||[];if(!r){n=n.slice(1);continue}const s=i&&nRe(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function nRe(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function USn(e){return e?nRe(atob(e)):void 0}const WSn=320,YSn=600,$4=320,qSn=540,GSn={},M4="inspect:",KSn=[{id:"inspectors"},{id:"links"}],F4="sanity/desk/history",ZSn="sanity/desk/validation",xb="sanity/desk/comments";var Uhe=Object.freeze,XSn=Object.defineProperty,QSn=(e,t)=>Uhe(XSn(e,"raw",{value:Uhe(t||e.slice())})),Whe;const Yhe=P(pwe)(Whe||(Whe=QSn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),JSn=/[^\p{Alpha}\p{White_Space}]/gu,eEn=new RegExp("\\p{White_Space}+","u");function tEn(e){const t=e.replace(JSn,"").split(eEn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function XA(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>tEn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(Yhe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(Yhe,{...n})}const rRe=25,nEn={minWidth:rRe};function DS(){return l.jsx("div",{style:nEn})}var qhe=Object.freeze,rEn=Object.defineProperty,oEn=(e,t)=>qhe(rEn(e,"raw",{value:qhe(t||e.slice())})),Ghe;const iEn={open:500,close:0},Khe=P.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return fe(Ghe||(Ghe=oEn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function oRe(e){const{selected:t,userId:n}=e,[r,o]=e1(n),i=Vo();return!r||o?l.jsx(Khe,{children:"@Loading"}):l.jsx(lt,{portal:!0,open:t,delay:iEn,content:l.jsxs(Y,{align:"center",padding:2,gap:2,children:[l.jsx(Y,{children:l.jsx(XA,{user:r})}),l.jsx(B,{size:1,children:r.displayName})]}),children:l.jsxs(Khe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var Zhe=Object.freeze,sEn=Object.defineProperty,aEn=(e,t)=>Zhe(sEn(e,"raw",{value:Zhe(t||e.slice())})),Xhe;const lEn=P(B)(Xhe||(Xhe=aEn([`
  word-break: break-word;
`])));function Ms(e){const{children:t}=e;return l.jsx(lEn,{size:1,children:t})}var Qhe=Object.freeze,cEn=Object.defineProperty,uEn=(e,t)=>Qhe(cEn(e,"raw",{value:Qhe(t||e.slice())})),Jhe;const dEn=P(re)(()=>fe(Jhe||(Jhe=uEn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),fEn=[],hEn={block:{normal:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h1:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h2:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h3:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h4:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h5:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},h6:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},code:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},number:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(Ms,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(oRe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function pEn(e){const{blocks:t}=e;return l.jsx(dEn,{children:l.jsx(UCn,{value:t||fEn,components:hEn})})}const mEn=pve({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),gEn=pve({type:"block",name:"block",of:[mEn],styles:[{title:"Normal",value:"normal"}],lists:[]}),vEn=mMe({type:"array",name:"body",of:[gEn]}),yEn=O8.compile({name:"comments",types:[vEn]}),bEn=yEn.get("body"),xEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),CEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_En=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function iRe(e){const t=h.useRef(e);return h.useMemo(()=>!Vt(t.current,e),[e])}function dC(e){return e?e==null?void 0:e.some(t=>{var n;return Vf(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Ks(r)?r.text:r.userId))}):!1}const sRe=ie.createContext(null);function SEn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=po(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),b=h.useMemo(()=>dC(a),[a]),x=iRe(a),y=h.useCallback(()=>{c||ke.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(ke.getSelection(u))},[u]),_=h.useCallback(k=>{const T=ke.getSelection(u),A=T?T.focus.offset:0,D=ke.focusChild(u),I=Ks(D)&&D||void 0,O=k.inputType==="insertText",$=k.inputType==="deleteContentBackward",R=O&&k.data==="@",V=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,M=(I==null?void 0:I.text.substring(A-1,A))===" ",H=O&&k.data===" "&&!p;if(R&&(A<1||M)){C();return}if(H||$&&((I==null?void 0:I.text.length)===1||V===((I==null?void 0:I.text.length)||0)-1)){w();return}if(Ks(D)){let q=D.text.substring(V+1,A);O&&(q+=k.data),$&&(q=q.substring(0,q.length-1)),m(q)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),ke.focus(u),ke.insertChild(u,u.schemaTypes.span,{text:"@"}),g(ke.getSelection(u))},[u]);Ri(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T;const A=u.schemaTypes.inlineObjects.find(O=>O.name==="mention"),[D,I]=v&&ke.findByPath(u,v.focus.path)||[];if(D&&Ks(D)&&I&&A){ke.focus(u);const O=(T=ke.getSelection(u))==null?void 0:T.focus.offset;typeof O<"u"&&(ke.delete(u,{anchor:{path:I,offset:D.text.lastIndexOf("@")},focus:{path:I,offset:O}},{mode:"selected"}),ke.insertChild(u,A,{userId:k}),ke.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:b,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:y,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!c,value:a}),[b,w,u,n,r,y,o,x,S,E,i,d,p,_,C,c,a]);return l.jsx(sRe.Provider,{value:j,children:t})}function aRe(){const e=h.useContext(sRe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var epe=Object.freeze,EEn=Object.defineProperty,kEn=(e,t)=>epe(EEn(e,"raw",{value:epe(t||e.slice())})),tpe;const jEn=P(Y)(tpe||(tpe=kEn([""]))),TEn={width:"50%"};function AEn(e){const{user:t,onSelect:n}=e,[r]=e1(t.id),o=l.jsx(XA,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(B,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(ji,{size:1,style:TEn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(te,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(Y,{align:"center",gap:3,children:[l.jsxs(jEn,{align:"center",gap:2,flex:1,children:[o,l.jsx(F,{children:i})]}),!t.canBeMentioned&&l.jsx(mL,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const npe=[],DEn=P(re)({maxWidth:"220px"}),rpe=41,IEn=4,OEn=7,PEn=P(Y)({maxHeight:rpe*OEn+IEn*2+rpe/2}),REn=ie.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){c(v)}}),[]);const d=h.useCallback(v=>l.jsx(AEn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||npe;const g=$G(a).toLocaleLowerCase(),b=i==null?void 0:i.map(y=>({...y,displayName:$G(y.displayName||"").toLocaleLowerCase()}));return((v=b==null?void 0:b.filter(y=>{var w;return(w=y==null?void 0:y.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((y,w)=>{var C,_;const S=(C=y.displayName)==null?void 0:C.startsWith(g),E=(_=w.displayName)==null?void 0:_.startsWith(g);return S&&!E?-1:!S&&E?1:0}))||npe},[i,a]);if(r)return l.jsx(DEn,{children:l.jsx(Y,{align:"center",justify:"center",padding:4,children:l.jsx(ur,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(Y,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(F,{padding:5,children:l.jsx(B,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(PEn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),$En=e=>{const{children:t}=e;return l.jsx(Ms,{children:t})},MEn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(oRe,{selected:r,userId:n==null?void 0:n.userId}):t},FEn={passive:!0};function LEn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,FEn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var ope=Object.freeze,BEn=Object.defineProperty,lRe=(e,t)=>ope(BEn(e,"raw",{value:ope(t||e.slice())})),ipe,spe;const NEn={outline:"none"},zEn=P(re)(()=>fe(ipe||(ipe=lRe([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),VEn=P(an)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return fe(spe||(spe=lRe([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function HEn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=M0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:b,mentionsMenuOpen:x,mentionsSearchTerm:y,onBeforeInput:w,value:C}=aRe(),_=h.useCallback(()=>l.jsx("span",{children:n}),[n]);lr(h.useCallback(()=>{x&&v()},[v,x]),[a]),h.useEffect(()=>{var k;(k=f.current)==null||k.setSearchTerm(y)},[y]),h.useEffect(()=>{x&&p&&!Vt(p.anchor,p.focus)&&v()},[x,v,p]),Ji(k=>{k.code==="Escape"&&x&&v()});const S=LEn({disabled:!x,rootElement:u.current}),E=h.useCallback(k=>{switch(k.key){case"Enter":if(k.shiftKey)break;if(k.preventDefault(),k.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(k.preventDefault(),k.stopPropagation(),v());break}i&&i(k)},[m,v,x,i,s]),j=h.useMemo(()=>{if(p)return;const k=(C||[]).slice(-1)[0],T=Vf(k)?k.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:k._key},"children",{_key:T._key}],offset:Ks(T)?T.text.length:0};return{focus:A,anchor:A}},[C,p]);return l.jsxs(l.Fragment,{children:[l.jsx(rd,{element:u.current,children:l.jsx(VEn,{arrow:!1,constrainSize:!0,content:l.jsx(REn,{ref:f,loading:b.loading,onSelect:g,options:b.data||[],inputElement:d.current}),disabled:!x,fallbackPlacements:["bottom","top"],open:x,placement:"bottom",portal:!0,ref:c,referenceElement:S})}),l.jsx(zEn,{ref:u,"data-ui":"EditableWrapStack",children:l.jsx(K5e,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:E,ref:d,renderBlock:$En,renderChild:MEn,renderPlaceholder:_,selection:j,style:NEn,tabIndex:t?0:void 0})})]})}var ape=Object.freeze,UEn=Object.defineProperty,XN=(e,t)=>ape(UEn(e,"raw",{value:ape(t||e.slice())})),lpe,cpe,upe;const IS=P(F)(lpe||(lpe=XN([`
  max-height: 20vh;
  overflow-y: auto;
`]))),WEn=P(Dr)({height:20,width:1}),dpe=P(se).attrs({fontSize:1,padding:2})(cpe||(cpe=XN([`
  /* border-radius: 50%; */
`]))),YEn=P(te)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return fe(upe||(upe=XN([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,IS,IS,IS)});function qEn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=e1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:b}=aRe(),x=c?l.jsx(XA,{user:u}):null,y=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return l.jsxs(Y,{align:"flex-start",gap:2,children:[x,l.jsx(YEn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:b?"transparent":"default",children:l.jsxs(re,{children:[l.jsx(IS,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(HEn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(Y,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx(dpe,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:b,icon:wEn,mode:"bleed",onClick:y}),l.jsx(WEn,{}),l.jsx(dpe,{"aria-label":"Send comment",disabled:!d||!m||b,icon:xEn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const GEn=9999999;function KEn(e){const{onClose:t,onConfirm:n}=e,r=Kf(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return l.jsx(swe,{tone:"default",children:l.jsx(rd,{__unstable_elements:{boundary:r.element},children:l.jsx(qR,{zOffset:GEn,children:l.jsx(Ii,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(on,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:o}),l.jsx(se,{onClick:i,text:"Discard",tone:"critical"})]}),children:l.jsx(re,{padding:4,children:l.jsx(B,{children:"Do you want to discard the comment?"})})})})})})}const YP=[],ZEn={behavior:"smooth",block:"center",inline:"center"},QA=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:b,readOnly:x,value:y=YP,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),[T,A]=h.useState(jk()),D=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&ke.focus(S.current)})},[]),I=h.useCallback(()=>{A(jk())},[]),O=h.useCallback(H=>{if(H.type==="ready"&&s&&D(),H.type==="focus"&&_(!0),H.type==="blur"&&_(!1),H.type==="patch"&&S.current){const q=ke.getValue(S.current);u(q||YP)}},[s,u,D]),$=h.useCallback(()=>{var H;(H=E.current)==null||H.scrollIntoView(ZEn)},[]),R=h.useCallback(()=>{g(),I(),D(),$()},[g,D,I,$]),V=h.useCallback(()=>{f(),I()},[f,I]),M=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),D()}}),[D]);return h.useImperativeHandle(n,()=>({focus:D,blur(){S.current&&ke.blur(S.current)},scrollTo:$,reset:I,discardDialogController:M}),[M,D,I,$]),l.jsxs(l.Fragment,{children:[j&&l.jsx(KEn,{onClose:d,onConfirm:V}),l.jsx(re,{ref:E,"data-testid":"comment-input",children:l.jsx(ke,{onChange:O,readOnly:x,ref:S,schemaType:bEn,value:y||YP,children:l.jsx(SEn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:y,children:l.jsx(id,{as:re,disabled:!i||j,children:l.jsx(qEn,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:R,placeholder:b,withAvatar:w})})})},T)})]})}),qP=3;var fpe=Object.freeze,XEn=Object.defineProperty,QEn=(e,t)=>fpe(XEn(e,"raw",{value:fpe(t||e.slice())})),hpe;const JEn={open:500},ekn=P(B)(hpe||(hpe=QEn([`
  min-width: max-content;
`])));function tkn(e){const{children:t,text:n}=e;return l.jsx(lt,{delay:JEn,portal:!0,placement:"top",content:l.jsx(ekn,{size:1,children:n}),padding:2,children:l.jsx(Y,{children:t})})}var ppe=Object.freeze,nkn=Object.defineProperty,rkn=(e,t)=>ppe(nkn(e,"raw",{value:ppe(t||e.slice())})),mpe;const okn={open:500},ikn={placement:"bottom-end",portal:!1},skn=P(te)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return fe(mpe||(mpe=rkn([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function akn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return l.jsx(lJe,{delay:okn,children:l.jsx(Y,{"data-root-menu":r?"true":"false",...p,children:l.jsxs(skn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(tkn,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(se,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?K5:FS,mode:"bleed",onClick:u,padding:2})}),l.jsx(Jt,{id:"comment-actions-menu",button:l.jsx(se,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:Bo,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Lt,{children:[l.jsx(Ne,{fontSize:1,hidden:!n,icon:ku,onClick:s,text:"Edit comment"}),l.jsx(Ne,{fontSize:1,hidden:!t,icon:uo,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx(Dr,{hidden:!t&&!n}),l.jsx(Ne,{fontSize:1,hidden:!o,icon:Sf,onClick:o,text:"Copy link to comment"})]}),popover:ikn})]})})})}var gpe=Object.freeze,lkn=Object.defineProperty,r1=(e,t)=>gpe(lkn(e,"raw",{value:gpe(t||e.slice())})),vpe,ype,bpe,xpe,wpe,Cpe;const Dy=P(es)(vpe||(vpe=r1([""])));function ckn(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return l.jsx(Dy,{onClick:n,children:t})}const ukn={width:"50%"},_pe=P(B)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=pe.gray[n?200:800].hex;return fe(ype||(ype=r1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),dkn=P(re)(bpe||(bpe=r1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),fkn=P(Y)(xpe||(xpe=r1([`
  min-height: `,`px;
`])),rRe),hkn=P(te)(wpe||(wpe=r1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),pkn=P(re)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return fe(Cpe||(Cpe=r1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),Dy,n[1],n[1],Dy,Dy,Dy)}),mkn={agoSuffix:!0};function Spe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:b,authorId:x,message:y,_id:w,lastEditedAt:C}=r,[_]=e1(x),[S,E]=h.useState(y),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(y),[I,O]=h.useState(!1),$=iRe(S),R=h.useMemo(()=>dC(S),[S]),V=h.useRef(null),M=b?new Date(b):new Date,H=qo(M,mkn),q=Ko(M,"PPPPp"),U=C?Ko(new Date(C),"PPPPp"):null,W=i||a,Q=h.useCallback(()=>O(!0),[]),N=h.useCallback(()=>O(!1),[]),K=h.useCallback(()=>u==null?void 0:u(w),[w,u]),z=h.useCallback(Se=>{Se.stopPropagation(),d==null||d(w)},[w,d]),Z=h.useCallback(()=>f(w),[w,f]),G=h.useCallback(()=>{k(!1),E(D.current)},[]),J=h.useCallback(()=>{var Se;if(!R||!$){G();return}(Se=V.current)==null||Se.discardDialogController.open()},[G,$,R]),X=h.useCallback(Se=>{Se.isDefaultPrevented()||(Se.key==="Escape"&&(Se.preventDefault(),Se.stopPropagation(),J()),m&&m(Se))},[m,J]),ee=h.useCallback(()=>{var Se;(Se=V.current)==null||Se.discardDialogController.close()},[]),oe=h.useCallback(()=>{var Se;(Se=V.current)==null||Se.discardDialogController.close(),G()},[G]),de=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),le=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),ve=h.useCallback(()=>{k(Se=>!Se)},[]),Ce=h.useCallback(()=>O(!1),[]),be=h.useCallback(()=>{$||G()},[G,$]),me=h.useCallback(Se=>{Se.key==="Escape"&&!$&&G()},[G,$]);Ri(j,Ce),lr(be,[T]);const Ie=_!=null&&_.displayName?l.jsx(B,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):l.jsx(ji,{size:1,style:ukn});return l.jsxs(pkn,{"data-menu-open":I?"true":"false",onKeyDown:me,ref:A,space:4,children:[l.jsxs(dkn,{space:1,"data-muted":W,children:[l.jsxs(Y,{align:"center",gap:qP,flex:1,children:[l.jsx(XA,{user:_}),l.jsx(Y,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(Y,{align:"flex-end",gap:2,children:[l.jsx(F,{flex:1,children:Ie}),!W&&l.jsxs(Y,{align:"center",gap:1,children:[l.jsx(_pe,{muted:!0,size:0,title:q,children:H}),U&&l.jsx(_pe,{muted:!0,size:0,title:U,children:"(edited)"})]})]})}),!j&&!W&&l.jsx(ckn,{children:l.jsx(akn,{canDelete:t,canEdit:n,isParent:s,onCopyLink:K,onDeleteStart:Z,onEditStart:ve,onMenuClose:N,onMenuOpen:Q,onStatusChange:le,readOnly:g,status:r.status})})]}),j&&l.jsxs(Y,{align:"flex-start",gap:2,children:[l.jsx(DS,{}),l.jsx(re,{flex:1,children:l.jsx(QA,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:E,onDiscardCancel:ee,onDiscardConfirm:oe,onKeyDown:X,onSubmit:de,readOnly:g,ref:V,value:S,withAvatar:!1})})]}),!j&&l.jsxs(Y,{gap:qP,children:[l.jsx(DS,{}),l.jsx(pEn,{blocks:y})]})]}),W&&l.jsxs(fkn,{gap:qP,children:[l.jsx(DS,{}),l.jsxs(Y,{align:"center",gap:1,flex:1,children:[l.jsxs(B,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(Y,{hidden:a,children:l.jsx(hkn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:z,padding:1,radius:2,tone:"primary",children:l.jsx(B,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var Epe=Object.freeze,gkn=Object.defineProperty,vkn=(e,t)=>Epe(gkn(e,"raw",{value:Epe(t||e.slice())})),kpe;const cRe=P(te).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(kpe||(kpe=vkn([`
  // ...
`])));var jpe=Object.freeze,ykn=Object.defineProperty,QN=(e,t)=>jpe(ykn(e,"raw",{value:jpe(t||e.slice())})),Tpe,Ape,Dpe;const ny=[],ry=5,bkn=P(cRe)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return fe(Tpe||(Tpe=QN([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),xkn=P(se)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return fe(Ape||(Ape=QN([`
    font-weight: `,`;
  `])),n)}),wkn=P(se)(Dpe||(Dpe=QN([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),Ckn=ie.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:b,readOnly:x,replies:y=ny}=t,[w,C]=h.useState(ny),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useMemo(()=>dC(w),[w]),T=h.useCallback(()=>{const U={fieldPath:b.target.path.field,message:w,parentCommentId:b._id,status:(b==null?void 0:b.status)||"open",threadId:b.threadId};v==null||v(U),C(ny)},[v,b._id,b==null?void 0:b.status,b.target.path.field,b.threadId,w]),A=h.useCallback(()=>{var U;if(!k){C(ny);return}(U=j.current)==null||U.discardDialogController.open()},[k]),D=h.useCallback(U=>{U.isDefaultPrevented()||U.key==="Escape"&&(U.preventDefault(),U.stopPropagation(),A())},[A]),I=h.useCallback(()=>{var U;(U=j.current)==null||U.discardDialogController.close()},[]),O=h.useCallback(()=>{var U,W;C(ny),(U=j.current)==null||U.discardDialogController.close(),(W=j.current)==null||W.focus()},[]),$=h.useCallback(U=>{U.stopPropagation(),m==null||m({fieldPath:b.target.path.field,origin:"inspector",threadId:b.threadId})},[m,b.target.path.field,b.threadId]),R=h.useCallback(U=>{U.stopPropagation(),S(!1),E.current=!0},[]),V=h.useMemo(()=>_?y==null?void 0:y.slice(-ry):y,[y,_]),M=h.useMemo(()=>y?y.length>ry:!1,[y]),H=h.useMemo(()=>"".concat((y==null?void 0:y.length)-ry," more ").concat((y==null?void 0:y.length)-ry===1?"comment":"comments"),[y==null?void 0:y.length]);h.useEffect(()=>{y.length>ry&&!E.current&&S(!0)},[y]);const q=h.useMemo(()=>V.map(U=>{var W,Q;return l.jsx(re,{as:"li","data-comment-id":U._id,children:l.jsx(Spe,{canDelete:U.authorId===i.id,canEdit:U.authorId===i.id,comment:U,currentUser:i,hasError:((W=U._state)==null?void 0:W.type)==="createError",isRetrying:((Q=U._state)==null?void 0:Q.type)==="createRetrying",mentionOptions:a,onInputKeyDown:D,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},U._id)}),[i,D,a,c,u,d,f,x,V]);return l.jsx(re,{space:2,children:l.jsxs(bkn,{"data-active":s?"true":"false",onClick:$,tone:s?"primary":void 0,children:[l.jsx(wkn,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(re,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(re,{as:"li","data-comment-id":b._id,children:l.jsx(Spe,{canDelete:b.authorId===i.id,canEdit:b.authorId===i.id,comment:b,currentUser:i,hasError:((n=b._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=b._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),M&&!E.current&&l.jsxs(Y,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(DS,{}),l.jsx(xkn,{fontSize:1,iconRight:qa,mode:"bleed",onClick:R,padding:2,space:2,text:H})]}),q,o&&l.jsx(QA,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:I,onDiscardConfirm:O,onKeyDown:D,onSubmit:T,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),_kn={close:0,open:500},Ipe=l.jsx(B,{muted:!0,children:l.jsx(Dc,{})}),GP=(e,t)=>l.jsx(F,{as:"li",children:l.jsx(B,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function Skn(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(lt,{delay:_kn,content:l.jsx(re,{space:2,padding:2,children:i.map(GP)}),children:l.jsx(F,{children:GP("...",s)})}),c&&Ipe]},a):l.jsxs(h.Fragment,{children:[GP(i,s),c&&Ipe]},a)}),[r]);return l.jsx(Y,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ekn=4,Ope=0,Ppe=1,kkn=2;function o1(e){let t=e.length;for(;--t>=0;)e[t]=0}const jkn=0,uRe=1,Tkn=2,Akn=3,Dkn=258,JN=29,fC=256,Px=fC+1+JN,bv=30,ez=19,dRe=2*Px+1,up=15,KP=16,Ikn=7,tz=256,fRe=16,hRe=17,pRe=18,L4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),OS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Okn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),mRe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pkn=512,su=new Array((Px+2)*2);o1(su);const wb=new Array(bv*2);o1(wb);const Rx=new Array(Pkn);o1(Rx);const $x=new Array(Dkn-Akn+1);o1($x);const nz=new Array(JN);o1(nz);const b5=new Array(bv);o1(b5);function ZP(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let gRe,vRe,yRe;function XP(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const bRe=e=>e<256?Rx[e]:Rx[256+(e>>>7)],Mx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Cs=(e,t,n)=>{e.bi_valid>KP-n?(e.bi_buf|=t<<e.bi_valid&65535,Mx(e,e.bi_buf),e.bi_buf=t>>KP-e.bi_valid,e.bi_valid+=n-KP):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},hc=(e,t,n)=>{Cs(e,n[t*2],n[t*2+1])},xRe=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},Rkn=e=>{e.bi_valid===16?(Mx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},$kn=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=up;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<dRe;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},wRe=(e,t,n)=>{const r=new Array(up+1);let o=0,i,s;for(i=1;i<=up;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=xRe(r[a]++,a))}},Mkn=()=>{let e,t,n,r,o;const i=new Array(up+1);for(n=0,r=0;r<JN-1;r++)for(nz[r]=n,e=0;e<1<<L4[r];e++)$x[n++]=r;for($x[n-1]=r,o=0,r=0;r<16;r++)for(b5[r]=o,e=0;e<1<<OS[r];e++)Rx[o++]=r;for(o>>=7;r<bv;r++)for(b5[r]=o<<7,e=0;e<1<<OS[r]-7;e++)Rx[256+o++]=r;for(t=0;t<=up;t++)i[t]=0;for(e=0;e<=143;)su[e*2+1]=8,e++,i[8]++;for(;e<=255;)su[e*2+1]=9,e++,i[9]++;for(;e<=279;)su[e*2+1]=7,e++,i[7]++;for(;e<=287;)su[e*2+1]=8,e++,i[8]++;for(wRe(su,Px+1,i),e=0;e<bv;e++)wb[e*2+1]=5,wb[e*2]=xRe(e,5);gRe=new ZP(su,L4,fC+1,Px,up),vRe=new ZP(wb,OS,0,bv,up),yRe=new ZP(new Array(0),Okn,0,ez,Ikn)},CRe=e=>{let t;for(t=0;t<Px;t++)e.dyn_ltree[t*2]=0;for(t=0;t<bv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<ez;t++)e.bl_tree[t*2]=0;e.dyn_ltree[tz*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},_Re=e=>{e.bi_valid>8?Mx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Rpe=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},QP=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Rpe(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Rpe(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},$pe=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?hc(e,o,t):(s=$x[o],hc(e,s+fC+1,t),a=L4[s],a!==0&&(o-=nz[s],Cs(e,o,a)),r--,s=bRe(r),hc(e,s,n),a=OS[s],a!==0&&(r-=b5[s],Cs(e,r,a)));while(i<e.sym_next);hc(e,tz,t)},B4=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=dRe,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)QP(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],QP(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,QP(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],$kn(e,t),wRe(n,c,e.bl_count)},Mpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[fRe*2]++):a<=10?e.bl_tree[hRe*2]++:e.bl_tree[pRe*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Fpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do hc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(hc(e,i,e.bl_tree),a--),hc(e,fRe,e.bl_tree),Cs(e,a-3,2)):a<=10?(hc(e,hRe,e.bl_tree),Cs(e,a-3,3)):(hc(e,pRe,e.bl_tree),Cs(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},Fkn=e=>{let t;for(Mpe(e,e.dyn_ltree,e.l_desc.max_code),Mpe(e,e.dyn_dtree,e.d_desc.max_code),B4(e,e.bl_desc),t=ez-1;t>=3&&e.bl_tree[mRe[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Lkn=(e,t,n,r)=>{let o;for(Cs(e,t-257,5),Cs(e,n-1,5),Cs(e,r-4,4),o=0;o<r;o++)Cs(e,e.bl_tree[mRe[o]*2+1],3);Fpe(e,e.dyn_ltree,t-1),Fpe(e,e.dyn_dtree,n-1)},Bkn=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Ope;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ppe;for(n=32;n<fC;n++)if(e.dyn_ltree[n*2]!==0)return Ppe;return Ope};let Lpe=!1;const Nkn=e=>{Lpe||(Mkn(),Lpe=!0),e.l_desc=new XP(e.dyn_ltree,gRe),e.d_desc=new XP(e.dyn_dtree,vRe),e.bl_desc=new XP(e.bl_tree,yRe),e.bi_buf=0,e.bi_valid=0,CRe(e)},SRe=(e,t,n,r)=>{Cs(e,(jkn<<1)+(r?1:0),3),_Re(e),Mx(e,n),Mx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},zkn=e=>{Cs(e,uRe<<1,3),hc(e,tz,su),Rkn(e)},Vkn=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===kkn&&(e.strm.data_type=Bkn(e)),B4(e,e.l_desc),B4(e,e.d_desc),s=Fkn(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?SRe(e,t,n,r):e.strategy===Ekn||i===o?(Cs(e,(uRe<<1)+(r?1:0),3),$pe(e,su,wb)):(Cs(e,(Tkn<<1)+(r?1:0),3),Lkn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),$pe(e,e.dyn_ltree,e.dyn_dtree)),CRe(e),r&&_Re(e)},Hkn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[($x[n]+fC+1)*2]++,e.dyn_dtree[bRe(t)*2]++),e.sym_next===e.sym_end);var Ukn=Nkn,Wkn=SRe,Ykn=Vkn,qkn=Hkn,Gkn=zkn,Kkn={_tr_init:Ukn,_tr_stored_block:Wkn,_tr_flush_block:Ykn,_tr_tally:qkn,_tr_align:Gkn};const Zkn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var Fx=Zkn;const Xkn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Qkn=new Uint32Array(Xkn()),Jkn=(e,t,n,r)=>{const o=Qkn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var To=Jkn,Qp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$m={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:e5n,_tr_stored_block:N4,_tr_flush_block:t5n,_tr_tally:bf,_tr_align:n5n}=Kkn,{Z_NO_FLUSH:xf,Z_PARTIAL_FLUSH:r5n,Z_FULL_FLUSH:o5n,Z_FINISH:Ta,Z_BLOCK:Bpe,Z_OK:Wo,Z_STREAM_END:Npe,Z_STREAM_ERROR:_c,Z_DATA_ERROR:i5n,Z_BUF_ERROR:JP,Z_DEFAULT_COMPRESSION:s5n,Z_FILTERED:a5n,Z_HUFFMAN_ONLY:a2,Z_RLE:l5n,Z_FIXED:c5n,Z_DEFAULT_STRATEGY:u5n,Z_UNKNOWN:d5n,Z_DEFLATED:JA}=$m,f5n=9,h5n=15,p5n=8,m5n=29,g5n=256,z4=g5n+1+m5n,v5n=30,y5n=19,b5n=2*z4+1,x5n=15,Yt=3,tf=258,Sc=tf+Yt+1,w5n=32,e0=42,rz=57,V4=69,H4=73,U4=91,W4=103,dp=113,Iy=666,Yi=1,i1=2,Jp=3,s1=4,C5n=3,fp=(e,t)=>(e.msg=Qp[t],t),zpe=e=>e*2-(e>4?9:0),Ld=e=>{let t=e.length;for(;--t>=0;)e[t]=0},_5n=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let S5n=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,wf=S5n;const Fs=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Gs=(e,t)=>{t5n(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Fs(e.strm)},hn=(e,t)=>{e.pending_buf[e.pending++]=t},oy=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Y4=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=Fx(e.adler,t,o,n):e.state.wrap===2&&(e.adler=To(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},ERe=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Sc?e.strstart-(e.w_size-Sc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+tf;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=tf-(p-r),r=p-tf,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},t0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Sc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),_5n(e),r+=t),e.strm.avail_in===0)break;if(n=Y4(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Yt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=wf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=wf(e,e.ins_h,e.window[o+Yt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Yt)););}while(e.lookahead<Sc&&e.strm.avail_in!==0)},kRe=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Ta||t===xf||r!==o+e.strm.avail_in)))break;s=t===Ta&&r===o+e.strm.avail_in?1:0,N4(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Fs(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(Y4(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?s1:t!==xf&&t!==Ta&&e.strm.avail_in===0&&e.strstart===e.block_start?i1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Y4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Ta)&&t!==xf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Ta&&e.strm.avail_in===0&&r===o?1:0,N4(e,e.block_start,r,s),e.block_start+=r,Fs(e.strm)),s?Jp:Yi)},e3=(e,t)=>{let n,r;for(;;){if(e.lookahead<Sc){if(t0(e),e.lookahead<Sc&&t===xf)return Yi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Yt&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Sc&&(e.match_length=ERe(e,n)),e.match_length>=Yt)if(r=bf(e,e.strstart-e.match_start,e.match_length-Yt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Yt){e.match_length--;do e.strstart++,e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wf(e,e.ins_h,e.window[e.strstart+1]);else r=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Gs(e,!1),e.strm.avail_out===0))return Yi}return e.insert=e.strstart<Yt-1?e.strstart:Yt-1,t===Ta?(Gs(e,!0),e.strm.avail_out===0?Jp:s1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Yi:i1},eg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Sc){if(t0(e),e.lookahead<Sc&&t===xf)return Yi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Yt&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Yt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Sc&&(e.match_length=ERe(e,n),e.match_length<=5&&(e.strategy===a5n||e.match_length===Yt&&e.strstart-e.match_start>4096)&&(e.match_length=Yt-1)),e.prev_length>=Yt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Yt,r=bf(e,e.strstart-1-e.prev_match,e.prev_length-Yt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=wf(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Yt-1,e.strstart++,r&&(Gs(e,!1),e.strm.avail_out===0))return Yi}else if(e.match_available){if(r=bf(e,0,e.window[e.strstart-1]),r&&Gs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Yi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=bf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Yt-1?e.strstart:Yt-1,t===Ta?(Gs(e,!0),e.strm.avail_out===0?Jp:s1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Yi:i1},E5n=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=tf){if(t0(e),e.lookahead<=tf&&t===xf)return Yi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Yt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+tf;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=tf-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Yt?(n=bf(e,1,e.match_length-Yt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Gs(e,!1),e.strm.avail_out===0))return Yi}return e.insert=0,t===Ta?(Gs(e,!0),e.strm.avail_out===0?Jp:s1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Yi:i1},k5n=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(t0(e),e.lookahead===0)){if(t===xf)return Yi;break}if(e.match_length=0,n=bf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Gs(e,!1),e.strm.avail_out===0))return Yi}return e.insert=0,t===Ta?(Gs(e,!0),e.strm.avail_out===0?Jp:s1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Yi:i1};function Zl(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Oy=[new Zl(0,0,0,0,kRe),new Zl(4,4,8,4,e3),new Zl(4,5,16,8,e3),new Zl(4,6,32,32,e3),new Zl(4,4,16,16,eg),new Zl(8,16,32,32,eg),new Zl(8,16,128,128,eg),new Zl(8,32,128,256,eg),new Zl(32,128,258,1024,eg),new Zl(32,258,258,4096,eg)],j5n=e=>{e.window_size=2*e.w_size,Ld(e.head),e.max_lazy_match=Oy[e.level].max_lazy,e.good_match=Oy[e.level].good_length,e.nice_match=Oy[e.level].nice_length,e.max_chain_length=Oy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Yt-1,e.match_available=0,e.ins_h=0};function T5n(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=JA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(b5n*2),this.dyn_dtree=new Uint16Array((2*v5n+1)*2),this.bl_tree=new Uint16Array((2*y5n+1)*2),Ld(this.dyn_ltree),Ld(this.dyn_dtree),Ld(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(x5n+1),this.heap=new Uint16Array(2*z4+1),Ld(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*z4+1),Ld(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const hC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==e0&&t.status!==rz&&t.status!==V4&&t.status!==H4&&t.status!==U4&&t.status!==W4&&t.status!==dp&&t.status!==Iy?1:0},jRe=e=>{if(hC(e))return fp(e,_c);e.total_in=e.total_out=0,e.data_type=d5n;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?rz:t.wrap?e0:dp,e.adler=t.wrap===2?0:1,t.last_flush=-2,e5n(t),Wo},TRe=e=>{const t=jRe(e);return t===Wo&&j5n(e.state),t},A5n=(e,t)=>hC(e)||e.state.wrap!==2?_c:(e.state.gzhead=t,Wo),ARe=(e,t,n,r,o,i)=>{if(!e)return _c;let s=1;if(t===s5n&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>f5n||n!==JA||r<8||r>15||t<0||t>9||i<0||i>c5n||r===8&&s!==1)return fp(e,_c);r===8&&(r=9);const a=new T5n;return e.state=a,a.strm=e,a.status=e0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Yt-1)/Yt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,TRe(e)},D5n=(e,t)=>ARe(e,t,JA,h5n,p5n,u5n),I5n=(e,t)=>{if(hC(e)||t>Bpe||t<0)return e?fp(e,_c):_c;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Iy&&t!==Ta)return fp(e,e.avail_out===0?JP:_c);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Fs(e),e.avail_out===0)return n.last_flush=-1,Wo}else if(e.avail_in===0&&zpe(t)<=zpe(r)&&t!==Ta)return fp(e,JP);if(n.status===Iy&&e.avail_in!==0)return fp(e,JP);if(n.status===e0&&n.wrap===0&&(n.status=dp),n.status===e0){let o=JA+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=a2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=w5n),o+=31-o%31,oy(n,o),n.strstart!==0&&(oy(n,e.adler>>>16),oy(n,e.adler&65535)),e.adler=1,n.status=dp,Fs(e),n.pending!==0)return n.last_flush=-1,Wo}if(n.status===rz){if(e.adler=0,hn(n,31),hn(n,139),hn(n,8),n.gzhead)hn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),hn(n,n.gzhead.time&255),hn(n,n.gzhead.time>>8&255),hn(n,n.gzhead.time>>16&255),hn(n,n.gzhead.time>>24&255),hn(n,n.level===9?2:n.strategy>=a2||n.level<2?4:0),hn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(hn(n,n.gzhead.extra.length&255),hn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=To(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=V4;else if(hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,n.level===9?2:n.strategy>=a2||n.level<2?4:0),hn(n,C5n),n.status=dp,Fs(e),n.pending!==0)return n.last_flush=-1,Wo}if(n.status===V4){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=To(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Fs(e),n.pending!==0)return n.last_flush=-1,Wo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=To(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=H4}if(n.status===H4){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=To(e.adler,n.pending_buf,n.pending-o,o)),Fs(e),n.pending!==0)return n.last_flush=-1,Wo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,hn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=To(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=U4}if(n.status===U4){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=To(e.adler,n.pending_buf,n.pending-o,o)),Fs(e),n.pending!==0)return n.last_flush=-1,Wo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,hn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=To(e.adler,n.pending_buf,n.pending-o,o))}n.status=W4}if(n.status===W4){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Fs(e),n.pending!==0))return n.last_flush=-1,Wo;hn(n,e.adler&255),hn(n,e.adler>>8&255),e.adler=0}if(n.status=dp,Fs(e),n.pending!==0)return n.last_flush=-1,Wo}if(e.avail_in!==0||n.lookahead!==0||t!==xf&&n.status!==Iy){let o=n.level===0?kRe(n,t):n.strategy===a2?k5n(n,t):n.strategy===l5n?E5n(n,t):Oy[n.level].func(n,t);if((o===Jp||o===s1)&&(n.status=Iy),o===Yi||o===Jp)return e.avail_out===0&&(n.last_flush=-1),Wo;if(o===i1&&(t===r5n?n5n(n):t!==Bpe&&(N4(n,0,0,!1),t===o5n&&(Ld(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Fs(e),e.avail_out===0))return n.last_flush=-1,Wo}return t!==Ta?Wo:n.wrap<=0?Npe:(n.wrap===2?(hn(n,e.adler&255),hn(n,e.adler>>8&255),hn(n,e.adler>>16&255),hn(n,e.adler>>24&255),hn(n,e.total_in&255),hn(n,e.total_in>>8&255),hn(n,e.total_in>>16&255),hn(n,e.total_in>>24&255)):(oy(n,e.adler>>>16),oy(n,e.adler&65535)),Fs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Wo:Npe)},O5n=e=>{if(hC(e))return _c;const t=e.state.status;return e.state=null,t===dp?fp(e,i5n):Wo},P5n=(e,t)=>{let n=t.length;if(hC(e))return _c;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==e0||r.lookahead)return _c;if(o===1&&(e.adler=Fx(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Ld(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,t0(r);r.lookahead>=Yt;){let c=r.strstart,u=r.lookahead-(Yt-1);do r.ins_h=wf(r,r.ins_h,r.window[c+Yt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Yt-1,t0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Yt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Wo};var R5n=D5n,$5n=ARe,M5n=TRe,F5n=jRe,L5n=A5n,B5n=I5n,N5n=O5n,z5n=P5n,V5n="pako deflate (from Nodeca project)",Cb={deflateInit:R5n,deflateInit2:$5n,deflateReset:M5n,deflateResetKeep:F5n,deflateSetHeader:L5n,deflate:B5n,deflateEnd:N5n,deflateSetDictionary:z5n,deflateInfo:V5n};const H5n=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var U5n=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)H5n(n,r)&&(e[r]=n[r])}}return e},W5n=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},eD={assign:U5n,flattenChunks:W5n};let DRe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{DRe=!1}const Lx=new Uint8Array(256);for(let e=0;e<256;e++)Lx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Lx[254]=Lx[254]=1;var Y5n=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const q5n=(e,t)=>{if(t<65534&&e.subarray&&DRe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var G5n=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=Lx[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return q5n(i,o)},K5n=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Lx[e[n]]>t?n:t},Bx={string2buf:Y5n,buf2string:G5n,utf8border:K5n};function Z5n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var IRe=Z5n;const ORe=Object.prototype.toString,{Z_NO_FLUSH:X5n,Z_SYNC_FLUSH:Q5n,Z_FULL_FLUSH:J5n,Z_FINISH:ejn,Z_OK:x5,Z_STREAM_END:tjn,Z_DEFAULT_COMPRESSION:njn,Z_DEFAULT_STRATEGY:rjn,Z_DEFLATED:ojn}=$m;function pC(e){this.options=eD.assign({level:njn,method:ojn,chunkSize:16384,windowBits:15,memLevel:8,strategy:rjn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IRe,this.strm.avail_out=0;let n=Cb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==x5)throw new Error(Qp[n]);if(t.header&&Cb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Bx.string2buf(t.dictionary):ORe.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Cb.deflateSetDictionary(this.strm,r),n!==x5)throw new Error(Qp[n]);this._dict_set=!0}}pC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?ejn:X5n,typeof e=="string"?n.input=Bx.string2buf(e):ORe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Q5n||i===J5n)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Cb.deflate(n,i),o===tjn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Cb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===x5;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};pC.prototype.onData=function(e){this.chunks.push(e)};pC.prototype.onEnd=function(e){e===x5&&(this.result=eD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function oz(e,t){const n=new pC(t);if(n.push(e,!0),n.err)throw n.msg||Qp[n.err];return n.result}function ijn(e,t){return t=t||{},t.raw=!0,oz(e,t)}function sjn(e,t){return t=t||{},t.gzip=!0,oz(e,t)}var ajn=pC,ljn=oz,cjn=ijn,ujn=sjn,djn=$m,fjn={Deflate:ajn,deflate:ljn,deflateRaw:cjn,gzip:ujn,constants:djn};const l2=16209,hjn=16191;var pjn=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,b=A.distcode,x=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=b[m&y];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>c){t.msg="invalid distance too far back",A.mode=l2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=l2;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=l2;break e}else{w=b[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=hjn;break e}else{t.msg="invalid literal/length code",A.mode=l2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const tg=15,Vpe=852,Hpe=592,Upe=0,t3=1,Wpe=2,mjn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gjn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vjn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yjn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),bjn=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,b=0,x=0,y=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(tg+1),A=new Uint16Array(tg+1);let D=null,I,O,$;for(u=0;u<=tg;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=tg;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),b=1,u=1;u<=tg;u++)if(b<<=1,b-=T[u],b<0)return-1;if(b>0&&(e===Upe||p!==1))return-1;for(A[1]=0,u=1;u<tg;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===Upe?(j=D=s,k=20):e===t3?(j=mjn,D=gjn,k=257):(j=vjn,D=yjn,k=0),y=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===t3&&x>Vpe||e===Wpe&&x>Hpe)return 1;for(;;){I=u-g,s[d]+1<k?(O=0,$=s[d]):s[d]>=k?(O=D[s[d]-k],$=j[s[d]-k]):(O=32+64,$=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(y>>g)+C]=I<<24|O<<16|$|0;while(C!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(y&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,b=1<<v;v+g<p&&(b-=T[v+g],!(b<=0));)v++,b<<=1;if(x+=1<<v,e===t3&&x>Vpe||e===Wpe&&x>Hpe)return 1;_=y&S,o[_]=m<<24|v<<16|E-i|0}}return y!==0&&(o[E+y]=u-g<<24|64<<16|0),a.bits=m,0};var _b=bjn;const xjn=0,PRe=1,RRe=2,{Z_FINISH:Ype,Z_BLOCK:wjn,Z_TREES:c2,Z_OK:em,Z_STREAM_END:Cjn,Z_NEED_DICT:_jn,Z_STREAM_ERROR:Va,Z_DATA_ERROR:$Re,Z_MEM_ERROR:MRe,Z_BUF_ERROR:Sjn,Z_DEFLATED:qpe}=$m,tD=16180,Gpe=16181,Kpe=16182,Zpe=16183,Xpe=16184,Qpe=16185,Jpe=16186,eme=16187,tme=16188,nme=16189,w5=16190,Qc=16191,n3=16192,rme=16193,r3=16194,ome=16195,ime=16196,sme=16197,ame=16198,u2=16199,d2=16200,lme=16201,cme=16202,ume=16203,dme=16204,fme=16205,o3=16206,hme=16207,pme=16208,gr=16209,FRe=16210,LRe=16211,Ejn=852,kjn=592,jjn=15,Tjn=jjn,mme=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ajn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<tD||t.mode>LRe?1:0},BRe=e=>{if(Mm(e))return Va;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=tD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Ejn),t.distcode=t.distdyn=new Int32Array(kjn),t.sane=1,t.back=-1,em},NRe=e=>{if(Mm(e))return Va;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,BRe(e)},zRe=(e,t)=>{let n;if(Mm(e))return Va;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Va:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,NRe(e))},VRe=(e,t)=>{if(!e)return Va;const n=new Ajn;e.state=n,n.strm=e,n.window=null,n.mode=tD;const r=zRe(e,t);return r!==em&&(e.state=null),r},Djn=e=>VRe(e,Tjn);let gme=!0,i3,s3;const Ijn=e=>{if(gme){i3=new Int32Array(512),s3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(_b(PRe,e.lens,0,288,i3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;_b(RRe,e.lens,0,32,s3,0,e.work,{bits:5}),gme=!1}e.lencode=i3,e.lenbits=9,e.distcode=s3,e.distbits=5},HRe=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},Ojn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,v,g,b=0,x,y,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mm(e)||!e.output||!e.input&&e.avail_in!==0)return Va;n=e.state,n.mode===Qc&&(n.mode=n3),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=em;e:for(;;)switch(n.mode){case tD:if(n.wrap===0){n.mode=n3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=To(n.check,k,2,0),u=0,d=0,n.mode=Gpe;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=gr;break}if((u&15)!==qpe){e.msg="unknown compression method",n.mode=gr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=gr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?nme:Qc,u=0,d=0;break;case Gpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==qpe){e.msg="unknown compression method",n.mode=gr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=gr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=To(n.check,k,2,0)),u=0,d=0,n.mode=Kpe;case Kpe:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=To(n.check,k,4,0)),u=0,d=0,n.mode=Zpe;case Zpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=To(n.check,k,2,0)),u=0,d=0,n.mode=Xpe;case Xpe:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=To(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Qpe;case Qpe:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=To(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=Jpe;case Jpe:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=To(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=eme;case eme:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=To(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=tme;case tme:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=gr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Qc;break;case nme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=mme(u),u=0,d=0,n.mode=w5;case w5:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,_jn;e.adler=n.check=1,n.mode=Qc;case Qc:if(t===wjn||t===c2)break e;case n3:if(n.last){u>>>=d&7,d-=d&7,n.mode=o3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=rme;break;case 1:if(Ijn(n),n.mode=u2,t===c2){u>>>=2,d-=2;break e}break;case 2:n.mode=ime;break;case 3:e.msg="invalid block type",n.mode=gr}u>>>=2,d-=2;break;case rme:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=gr;break}if(n.length=u&65535,u=0,d=0,n.mode=r3,t===c2)break e;case r3:n.mode=ome;case ome:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=Qc;break;case ime:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=gr;break}n.have=0,n.mode=sme;case sme:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=_b(xjn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=gr;break}n.have=0,n.mode=ame;case ame:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=gr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=gr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===gr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=gr;break}if(n.lenbits=9,T={bits:n.lenbits},j=_b(PRe,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=gr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=_b(RRe,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=gr;break}if(n.mode=u2,t===c2)break e;case u2:n.mode=d2;case d2:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,pjn(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===Qc&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(y&&!(y&240)){for(C=x,_=y,S=w;b=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,y===0){n.mode=fme;break}if(y&32){n.back=-1,n.mode=Qc;break}if(y&64){e.msg="invalid literal/length code",n.mode=gr;break}n.extra=y&15,n.mode=lme;case lme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=cme;case cme:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(y&240)){for(C=x,_=y,S=w;b=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,y&64){e.msg="invalid distance code",n.mode=gr;break}n.offset=w,n.extra=y&15,n.mode=ume;case ume:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=gr;break}n.mode=dme;case dme:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=gr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=d2);break;case fme:if(c===0)break e;o[s++]=n.length,c--,n.mode=d2;break;case o3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?To(n.check,o,p,s-p):Fx(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:mme(u))!==n.check){e.msg="incorrect data check",n.mode=gr;break}u=0,d=0}n.mode=hme;case hme:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=gr;break}u=0,d=0}n.mode=pme;case pme:j=Cjn;break e;case gr:j=$Re;break e;case FRe:return MRe;case LRe:default:return Va}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<gr&&(n.mode<o3||t!==Ype))&&HRe(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?To(n.check,o,p,e.next_out-p):Fx(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Qc?128:0)+(n.mode===u2||n.mode===r3?256:0),(f===0&&p===0||t===Ype)&&j===em&&(j=Sjn),j},Pjn=e=>{if(Mm(e))return Va;let t=e.state;return t.window&&(t.window=null),e.state=null,em},Rjn=(e,t)=>{if(Mm(e))return Va;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,em):Va},$jn=(e,t)=>{const n=t.length;let r,o,i;return Mm(e)||(r=e.state,r.wrap!==0&&r.mode!==w5)?Va:r.mode===w5&&(o=1,o=Fx(o,t,n,0),o!==r.check)?$Re:(i=HRe(e,t,n,n),i?(r.mode=FRe,MRe):(r.havedict=1,em))};var Mjn=NRe,Fjn=zRe,Ljn=BRe,Bjn=Djn,Njn=VRe,zjn=Ojn,Vjn=Pjn,Hjn=Rjn,Ujn=$jn,Wjn="pako inflate (from Nodeca project)",au={inflateReset:Mjn,inflateReset2:Fjn,inflateResetKeep:Ljn,inflateInit:Bjn,inflateInit2:Njn,inflate:zjn,inflateEnd:Vjn,inflateGetHeader:Hjn,inflateSetDictionary:Ujn,inflateInfo:Wjn};function Yjn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qjn=Yjn;const URe=Object.prototype.toString,{Z_NO_FLUSH:Gjn,Z_FINISH:Kjn,Z_OK:Nx,Z_STREAM_END:a3,Z_NEED_DICT:l3,Z_STREAM_ERROR:Zjn,Z_DATA_ERROR:vme,Z_MEM_ERROR:Xjn}=$m;function mC(e){this.options=eD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IRe,this.strm.avail_out=0;let n=au.inflateInit2(this.strm,t.windowBits);if(n!==Nx)throw new Error(Qp[n]);if(this.header=new qjn,au.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Bx.string2buf(t.dictionary):URe.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=au.inflateSetDictionary(this.strm,t.dictionary),n!==Nx)))throw new Error(Qp[n])}mC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Kjn:Gjn,URe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=au.inflate(n,s),i===l3&&o&&(i=au.inflateSetDictionary(n,o),i===Nx?i=au.inflate(n,s):i===vme&&(i=l3));n.avail_in>0&&i===a3&&n.state.wrap>0&&e[n.next_in]!==0;)au.inflateReset(n),i=au.inflate(n,s);switch(i){case Zjn:case vme:case l3:case Xjn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===a3))if(this.options.to==="string"){let c=Bx.utf8border(n.output,n.next_out),u=n.next_out-c,d=Bx.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Nx&&a===0)){if(i===a3)return i=au.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};mC.prototype.onData=function(e){this.chunks.push(e)};mC.prototype.onEnd=function(e){e===Nx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function iz(e,t){const n=new mC(t);if(n.push(e),n.err)throw n.msg||Qp[n.err];return n.result}function Qjn(e,t){return t=t||{},t.raw=!0,iz(e,t)}var Jjn=mC,eTn=iz,tTn=Qjn,nTn=iz,rTn=$m,oTn={Inflate:Jjn,inflate:eTn,inflateRaw:tTn,ungzip:nTn,constants:rTn};const{Deflate:iTn,deflate:sTn,deflateRaw:aTn,gzip:lTn}=fjn,{Inflate:cTn,inflate:uTn,inflateRaw:dTn,ungzip:fTn}=oTn;var hTn=iTn,pTn=sTn,mTn=aTn,gTn=lTn,vTn=cTn,yTn=uTn,bTn=dTn,xTn=fTn,wTn=$m,WRe={Deflate:hTn,deflate:pTn,deflateRaw:mTn,gzip:gTn,Inflate:vTn,inflate:yTn,inflateRaw:bTn,ungzip:xTn,constants:wTn};function CTn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function YRe(e,t){return n0(e)?e[Number(t)]:e[t]}function qRe(e,t){if(e){var n=t.shift(),r=YRe(e,n);return t.length&&(n0(r)||zx(r))?qRe(r,t):r}}function n0(e){return Array.isArray(e)}function zx(e){return e&&typeof e=="object"}function c3(e,t,n){if(n0(e)){e[Number(t)]=n;return}if(zx(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function yme(e){if(n0(e))return e.slice(0);if(zx(e))return CTn({},e);throw new Error("shallowClone: source must be an object or an array")}function _Tn(e,t){return t?qRe(e,t.split("/")):e}function STn(e,t,n){if(!t){if(n0(n)||zx(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(_Tn(e,t)===n)return e;for(var r=yme(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=YRe(i,a);if(c===void 0&&(c={},c3(i,a,c)),!n0(c)&&!zx(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=yme(i);c3(s,a,u),s=u}else c3(s,a,n)}return r}const xv=[],q4={},ETn="auto",kTn=1,C5=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],bme=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function GRe(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const jTn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function TTn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function KRe(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const ZRe=h.createContext(null);function a1(){const e=h.useContext(ZRe);if(!e)throw new Error("Props: missing context value");return e}const ATn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=a1();return l.jsxs(Y,{as:"label",padding:3,children:[l.jsx(F,{marginRight:2,style:{lineHeight:0},children:l.jsx(Ij,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(F,{paddingY:1,children:l.jsx(B,{size:1,weight:"semibold",children:n.name})})]})}),DTn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=a1();return l.jsxs(F,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(F,{marginTop:2,children:l.jsx(Rr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),ITn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=a1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(F,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(F,{marginTop:2,children:l.jsx(Rf,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),OTn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=a1();return l.jsxs(F,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(F,{marginTop:2,children:l.jsx(Rr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),PTn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=a1();return l.jsxs(F,{padding:3,children:[l.jsx(B,{size:1,weight:"semibold",children:n.name}),l.jsx(F,{marginTop:2,children:l.jsx(Twe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function RTn(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx(ATn,{schema:t,value:n}):t.type==="number"?l.jsx(DTn,{schema:t,value:n}):t.type==="select"?l.jsx(ITn,{schema:t,value:n}):t.type==="string"?l.jsx(OTn,{schema:t,value:n}):t.type==="text"?l.jsx(PTn,{schema:t,value:n}):l.jsx(F,{padding:2,children:l.jsxs(B,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const $Tn=h.memo(function(){const{schemas:t,value:n}=a1();return l.jsxs(F,{padding:2,children:[t.length===0&&l.jsx(F,{padding:2,children:l.jsx(B,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(RTn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),wv=Vt,XRe=h.createContext(null);function Ja(){const e=h.useContext(XRe);if(!e)throw new Error("Workshop: missing context value");return e}const MTn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,FTn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function LTn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return MTn(t)}function BTn(e){const t=FTn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function NTn(e){if(e.length===0)return"";const t=BTn(e);return WRe.inflate(t,{to:"string"})}function zTn(e){if(e.length===0)return"";const t=WRe.deflate(e);return LTn(t)}function VTn(e){return zTn(JSON.stringify(e))}function xme(e){try{return JSON.parse(NTn(e))}catch{return{}}}function HTn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const UTn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=Ja(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:xme(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,b)=>{o({type:"workshop/props/setPropValue",name:g,value:b})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(b=>{const x=HTn(b,g);return wv(b,x)?b:x})}),[r]),h.useEffect(()=>{const g=VTn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:xme(String(s))||{}})))},[s]),l.jsx(ZRe.Provider,{value:v,children:n})});function WTn(){return{name:"props",title:"Properties",inspector:$Tn,provider:UTn}}const QRe=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=xv,collections:v=xv,frameUrl:g="/frame/",scopes:b,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const y=h.useMemo(()=>[WTn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>TTn(b,c),[c,b]),_=h.useMemo(()=>({plugins:y,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:b,story:C,title:x,viewport:f,zoom:p}),[y,n,o,v,s,g,a,c,u,d,w,b,C,x,f,p]);let S=r;for(const E of y)E.provider&&(S=h.createElement(E.provider,{options:E.options||q4},S));return l.jsx(XRe.Provider,{value:_,children:S})});function JRe(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return wv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return wv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return wv(e.payload,n)?e:{...e,payload:n}}return e}const wme=(()=>{try{return{}.ROOT_PATH}catch{return}})(),YTn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,qTn=/\/@fs\//g,GTn=/\?([a-z]{1})=([0-9]+)/g;function Cme(e){let t=decodeURIComponent(e);return t=e.replace(YTn,"").replace(qTn,"/").replace(GTn,""),wme?KTn(t,wme+"/"):t}function KTn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const ZTn=h.memo(function(){const{story:t}=Ja(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(te,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx(QTn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(XTn,{story:t}),children:l.jsx(te,{as:"main",height:"fill",children:l.jsx(m0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),XTn=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),""]}),l.jsx(Y,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(ur,{muted:!0})})]})}),QTn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(F,{padding:4,children:l.jsxs(re,{space:4,children:[l.jsx(No,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(F,{children:l.jsx(se,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(ir,{size:1,children:Cme(n.stack)}),r&&l.jsx(ir,{size:1,children:"Component stack:"+Cme(r.componentStack)})]})})});function e$e(e){return Array.isArray(e)}function t$e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function JTn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(e$e(c)){for(const u of c)if(t$e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function eAn(){const e=typeof window>"u"?{}:jTn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>JTn(),[]),i=h.useMemo(()=>GRe(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(y=>{i.publish(y),o.message.publish(y)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:b},x]=h.useState(()=>eAn());return h.useEffect(()=>i.subscribe(y=>x(w=>JRe(w,y))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(EL,{children:l.jsx(Ru,{element:s,children:l.jsx(rd,{element:c,children:l.jsx(QRe,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:b,children:l.jsxs(te,{height:"fill",ref:a,children:[l.jsx(ZTn,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var _me=Object.freeze,tAn=Object.defineProperty,nAn=(e,t)=>_me(tAn(e,"raw",{value:_me(t||e.slice())})),Sme;Kve(Sme||(Sme=nAn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var Eme=Object.freeze,rAn=Object.defineProperty,oAn=(e,t)=>Eme(rAn(e,"raw",{value:Eme(t||e.slice())})),kme;const iAn=h.memo(qb),sAn=P(te)(kme||(kme=oAn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),aAn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(lAn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(es,{style:i,children:l.jsx(sAn,{padding:2,shadow:1,children:l.jsx($j,{space:1,children:s})})})});function lAn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(iAn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var jme=Object.freeze,cAn=Object.defineProperty,uAn=(e,t)=>jme(cAn(e,"raw",{value:jme(t||e.slice())})),Tme;const dAn=P(te)(Tme||(Tme=uAn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),Ame=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),fAn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=Ja(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(dAn,{display:u,flex:1,children:l.jsxs(Y,{direction:"column",height:"fill",children:[c&&l.jsx(aAn,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(Lwe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(Ame,{component:d.plugin.inspector,options:d.plugin.options||q4})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(F,{flex:1,overflow:"auto",children:l.jsx(Ame,{component:a.plugin.inspector,options:a.plugin.options||q4})})]})})}),Dme=qx;function hAn(){const{broadcast:e,scope:t,story:n,title:r}=Ja(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(pAn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const pAn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(CL,{separator:l.jsx(B,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(B,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(B,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(B,{size:[2,2,1],children:o})]})}),mAn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=Ja(),a=h.useMemo(()=>n==="/"?void 0:KRe({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(se,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:am,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function gAn(){const{broadcast:e,scheme:t}=Ja(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(vAn,{dark:t==="dark",onToggleScheme:n})}const vAn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(se,{fontSize:1,icon:n?kF:DF,mode:"bleed",onClick:r,padding:2})}),yAn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=Ja(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx(xAn,{disabled:!n,setViewport:o,viewport:r})}),bAn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},xAn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(Jt,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:Ml,mode:"ghost",padding:2,style:{minWidth:80},text:(n=C5.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Lt,{children:C5.map(s=>l.jsx(Ne,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:bAn})});function wAn(){const{broadcast:e,story:t,zoom:n}=Ja(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(_An,{disabled:!t,setZoom:r,zoom:n})}const CAn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},_An=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(Jt,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:Ml,mode:"ghost",padding:2,style:{minWidth:80},text:(n=bme.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Lt,{children:bme.map(s=>l.jsx(Ne,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:CAn})}),SAn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=pm(),{story:a,title:c}=Ja();return l.jsx(te,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(Y,{gap:1,children:[l.jsx(F,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:EF,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(Y,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(B,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(hAn,{})]}),l.jsx(F,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:Q5,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(F,{display:["none","none","block"],flex:"none",children:l.jsxs(qt,{space:1,children:[l.jsx(mAn,{}),l.jsx(yAn,{}),l.jsx(wAn,{}),l.jsx(gAn,{})]})})]})})});function n$e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return n$e((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function EAn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=STn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...n$e(e,s,i));return o}const kAn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(re,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(te,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(B,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),jAn=h.memo(function(t){const{items:n}=t;return l.jsx(Vwe,{space:1,children:l.jsx(r$e,{items:n})})}),r$e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=Ja(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(TAn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(Gb,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx(AAn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(Gb,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),TAn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(r$e,{basePath:o,items:r.items}),[r,o]);return l.jsx(Gb,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),AAn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(Gb,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(Gb,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var Ime=Object.freeze,DAn=Object.defineProperty,IAn=(e,t)=>Ime(DAn(e,"raw",{value:Ime(t||e.slice())})),Ome;const OAn=P(te)(Ome||(Ome=IAn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),PAn={flex:"none"},RAn={lineHeight:0},$An=[2,2,1],MAn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=Ja(),s=h.useMemo(()=>EAn(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return xv;const v=a.toLowerCase(),g=[];for(const b of i)for(const x of b.stories)((m=b.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:b,story:x});return g},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),c(""))},[o]);return l.jsx(FAn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),FAn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(OAn,{display:u,flex:1,children:l.jsxs(Y,{direction:"column",height:"fill",children:[l.jsx(es,{style:PAn,children:l.jsx(te,{padding:2,shadow:1,style:RAn,children:l.jsx(Rr,{border:!1,clearButton:!!c,fontSize:$An,icon:Zo,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(te,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(F,{padding:2,children:l.jsx(kAn,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(F,{padding:2,children:l.jsx(jAn,{items:o.items})})]})]})})});var Pme=Object.freeze,LAn=Object.defineProperty,BAn=(e,t)=>Pme(LAn(e,"raw",{value:Pme(t||e.slice())})),Rme;const NAn=P.iframe(Rme||(Rme=BAn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),zAn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=Ja(),p=C5.find(w=>w.name===d)||C5[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>KRe({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),b=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),y=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(te,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(Y,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(ao,{width:0,children:l.jsxs(re,{padding:4,space:4,children:[l.jsx(No,{align:"center",children:u}),l.jsx(B,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(ur,{muted:!0}),l.jsx(ao,{height:"fill",hidden:!o||s==="/",style:b,width:"auto",children:l.jsx(te,{height:"fill",shadow:1,children:l.jsx(NAn,{ref:n,src:g,style:y})})})]})})});function VAn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(e$e(u)){for(const d of u)if(t$e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function $me(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function Mme(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==ETn&&(s.viewport=o),i&&i!==kTn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>GRe(),[]),d=h.useMemo(()=>VAn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:b,payload:x,scheme:y,viewport:w,zoom:C},_]=h.useState(()=>$me(i.get(),a)),S=pm(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(y),I=h.useRef(b),O=h.useRef({scheme:y,viewport:w,zoom:C,...x}),$=h.useCallback(U=>{u.publish(U),d.message.publish(U)},[u,d]),R=h.useMemo(()=>Dme(U=>i.push(U),150),[i]),V=h.useMemo(()=>Dme(U=>i.replace(U),150),[i]),M=h.useCallback(()=>{j(U=>!U),T(!1)},[]),H=h.useCallback(()=>{j(!1),T(U=>!U)},[]),q=h.useRef(S);return h.useEffect(()=>{q.current<2&&S>=2&&(j(!1),T(!1)),q.current=S},[S]),h.useEffect(()=>{j(!1)},[b]),h.useEffect(()=>()=>R.cancel(),[R]),h.useEffect(()=>()=>V.cancel(),[V]),h.useEffect(()=>u.subscribe(U=>{_(W=>{const Q=JRe(W,U),N=!wv(W,Q);if(N){if(U.type==="workshop/setPath"){if(I.current!==Q.path){I.current=Q.path;const K=Mme(Q,!1);R({path:Q.path,query:K})}}else if(U.type!=="workshop/setState"){const K=Mme(Q);wv(O.current,K)||(O.current=K,V({path:Q.path,query:K}))}}return N?Q:W})}),[R,V,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(U=>{const W=$me(U,void 0,g);$({type:"workshop/setState",value:W})}),[$,g,i]),h.useEffect(()=>{D.current=y,s(y)},[s,y]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,$({type:"workshop/setScheme",value:a}))},[$,a]),o.scopes?l.jsx(QRe,{config:o,broadcast:$,channel:u,frameReady:g,origin:"main",path:b,payload:x,scheme:y,viewport:w,zoom:C,children:l.jsx(EL,{children:l.jsx(Ru,{element:f,children:l.jsx(rd,{element:m,children:l.jsxs(Y,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(SAn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:H,onNavigatorToggle:M}),l.jsxs(Y,{flex:1,children:[l.jsx(MAn,{collections:o.collections,expanded:E}),l.jsx(zAn,{frameRef:d.setElement,hidden:E||k}),l.jsx(fAn,{expanded:k})]}),l.jsx("div",{"data-portal":"",ref:v})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function HAn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(xv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(xv)},[a,u]),m=h.useMemo(()=>dC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),b=h.useCallback(()=>{var w,C;d(xv),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),y=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(QA,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:b,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:y,readOnly:c,ref:f,value:u})}var Fme=Object.freeze,UAn=Object.defineProperty,o$e=(e,t)=>Fme(UAn(e,"raw",{value:Fme(t||e.slice())})),Lme,Bme;const WAn=P(Y)(Lme||(Lme=o$e([`
  min-height: 25px;
`]))),YAn=P(se)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return fe(Bme||(Bme=o$e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function qAn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(b=>{const x={fieldPath:i,message:b,parentCommentId:void 0,status:"open",threadId:ad()};c==null||c(x)},[c,i]),p=h.useCallback(b=>{b.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(b=>{b.stopPropagation(),b.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(b=>b.title))||[],[t]),g=v[v.length-1];return l.jsxs(re,{space:2,children:[l.jsx(WAn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(re,{flex:1,children:l.jsx(Y,{align:"center",children:l.jsx(YAn,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(Skn,{maxLength:3,titlePath:v})})})})}),n&&l.jsx(cRe,{onClick:m,tone:s?"primary":void 0,children:l.jsx(HAn,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(re,{space:2,children:r})]})}const Nme={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function GAn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(Y,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(Y,{align:"center",children:l.jsx(B,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(Y,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(Y,{align:"center",gap:2,children:[l.jsx(ur,{muted:!0,size:1}),l.jsx(B,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(Y,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(ao,{width:0,padding:4,children:l.jsxs(re,{space:3,children:[l.jsx(B,{align:"center",size:1,muted:!0,weight:"semibold",children:Nme[t].title}),l.jsx(B,{align:"center",size:1,muted:!0,children:Nme[t].message})]})})}):null}const KAn={behavior:"smooth",block:"start",inline:"nearest"};function ZAn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const XAn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:b,selectedPath:x,status:y}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const k=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));k&&k.scrollIntoView(KAn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(ZAn(r)),[r]),E=!s&&!i&&S.length>0;return l.jsxs(Y,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[l.jsx(GAn,{error:i,hasNoComments:S.length===0,loading:s,status:y}),E&&l.jsx(re,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Ru,{element:w,children:S==null?void 0:S.map(j=>{let[k,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,I=(x==null?void 0:x.fieldPath)===k&&!x.threadId;return l.jsx(re,{as:"li","data-group-id":D,paddingTop:3,children:l.jsx(qAn,{breadcrumbs:A,canCreateNewThread:y==="open",currentUser:o,fieldPath:k,isSelected:I,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:b,children:T.map(O=>{var $,R;const V=O.replies.slice().reverse(),M=y==="open"&&(($=O.parentComment._state)==null?void 0:$.type)!=="createError"&&((R=O.parentComment._state)==null?void 0:R.type)!=="createRetrying",H=(x==null?void 0:x.threadId)===O.parentComment.threadId&&(x==null?void 0:x.fieldPath)===O.parentComment.target.path.field;return l.jsx(Ckn,{canReply:M,currentUser:o,isSelected:H,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:O.parentComment,readOnly:b,replies:V},O.parentComment._id)})},k)},k)})})})]})}),QAn=ie.memo(XAn),JAn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function eDn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=JAn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Ii,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(on,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(se,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(re,{padding:4,space:4,children:[l.jsx(B,{children:c}),s&&l.jsx(sr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var zme=Object.freeze,tDn=Object.defineProperty,sz=(e,t)=>zme(tDn(e,"raw",{value:zme(t||e.slice())})),Vme,Hme,Ume;const nDn=P(F)(Vme||(Vme=sz([`
  max-width: 280px;
`]))),rDn=im(Hme||(Hme=sz([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),oDn=P(an)(Ume||(Ume=sz([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),rDn);function iDn(e){const{onDismiss:t}=e;return l.jsx(oDn,{content:l.jsx(nDn,{padding:4,children:l.jsxs(re,{space:3,children:[l.jsx(B,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(B,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(Y,{justify:"flex-end",marginTop:2,children:l.jsx(se,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const az=h.createContext(null);function sDn(e){const t={};return e!==null&&(t.identity=e.id),t}const u3=new Map;async function aDn(e,t,n){u3.has(t)||u3.set(t,Xje("*[".concat(t,"]")));const r=u3.get(t),o=sDn(e),{identity:i}=o,s={...o},a=await(await Wje(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function lDn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await aDn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const Wme={data:[],error:null,loading:!0};let Yme=null;function cDn(e){const{documentValue:t}=e,n=own(),r=FN(),o=fr(sn),[i,s]=h.useState(Wme),a=h.useMemo(()=>{const u=n.get().pipe(ce(v=>{var g;return(g=v.members)==null?void 0:g.filter(b=>!b.isRobot)})).pipe(rt(async v=>{const g=v.map(x=>{let{id:y}=x;return y});return await r.getUsers(g)}),ce(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=Yme,f=d?xe(d):o.observable.fetch('*[_type == "system.group"]');return Ttt([u,f]).pipe(ut(async v=>{let[g,b]=v;d||(Yme=b);const x=g==null?void 0:g.map(async w=>{const _=[...b.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await lDn(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ce(v=>({error:null,loading:!1,data:bm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=xe(Wme),d=zr(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function uDn(e){const{documentId:t,documentType:n}=e||{},r=En().get(n),{title:o}=Nl(),{createPathWithParams:i,params:s}=Uc(),a=$i(),c=ho(()=>!t||!r?xe(null):aA(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:xb}),b="".concat(window.location.origin).concat(g);return{documentTitle:f,url:b,workspaceTitle:o}},[i,f,s,o])}}function dDn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,b=oT(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=Nl(),y=h.useMemo(()=>x.find(k=>k.name===b),[b,x]),{getNotificationValue:w}=uDn({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||ad(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:O=""}=w({commentId:T})||{},$={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:O},R={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:$,tool:(y==null?void 0:y.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(R),!t){try{await m(R)}catch(V){throw c==null||c(R._id,V),V}return}try{await t.create(R)}catch(V){throw c==null||c(R._id,V),V}},[y==null?void 0:y.name,g,t,r,o,i,w,s,a,c,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function i$e(){const e=h.useContext(az);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function fDn(){const e=h.useContext(f$e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function lz(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=HPe("studioComments"),{enabled:i}=Mn().document.unstable_comments,s=i({documentType:n,documentId:Pn(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const s$e=h.createContext(null),hDn=1,a$e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(hDn),pDn=e=>{try{window.localStorage.setItem(a$e,JSON.stringify(e))}catch{}},mDn=()=>{try{const e=window.localStorage.getItem(a$e);return e?JSON.parse(e):!1}catch{return!1}};function gDn(e){const{children:t}=e,[n,r]=h.useState(mDn()),o=h.useCallback(()=>{r(!0),pDn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(s$e.Provider,{value:i,children:t})}function vDn(){const e=h.useContext(s$e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function l$e(){const e=h.useContext(h$e);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function yDn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function bDn(e,t){switch(t.type){case"COMMENTS_SET":{const n=yDn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const xDn={comments:{}},wDn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},CDn="_createdAt",_Dn="desc",SDn=['_type == "comment"',"target.document._ref == $documentId"],EDn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,kDn="order(".concat(CDn," ").concat(_Dn,")"),qme="*[".concat(SDn.join(" && "),"] ").concat(EDn," | ").concat(kDn);function jDn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(bDn,xDn),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:Pn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(qme,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){c(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(qme,u,wDn).pipe(On(g=>(c(g),xe(g)))):xe(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function c$e(e,t){var n;const r=_l(t),o=r[0];if(o&&Ha(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=jr(r.slice(1));return s?c$e(i.type,s):i}}}function TDn(e,t){if(typeof t=="number")return t;const n=W9(e,t);return n===-1?!1:n}function ADn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=_l(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),b=i.slice(0,u),x=c$e(n,jr(g)),y=c.hasOwnProperty("_key"),w=wl(o,b),C=wl(o,g),_={document:o,currentUser:t,parent:w,value:C};if(y&&Array.isArray(w)){const S=TDn(w,c),E=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:E?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=oo(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:Sp(x.type)}),a=x.type;return}if(Rl(a)){const S=wl(o,b),E=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(O=>O.name===E),k=(f=j==null?void 0:j.fields)==null?void 0:f.find(O=>O.name===c);if(!E&&C){const O=(p=a==null?void 0:a.of)==null?void 0:p.map(V=>V==null?void 0:V.fields).filter(Boolean).flat(),$=O==null?void 0:O.find(V=>(V==null?void 0:V.name)===c),R=oo((m=$==null?void 0:$.type)==null?void 0:m.hidden,_);$&&(s.push({invalid:R,isArrayItem:!1,title:Sp($==null?void 0:$.type)}),a=$==null?void 0:$.type);return}if(!k){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=Sp(k==null?void 0:k.type),A=oo((v=j==null?void 0:j.type)==null?void 0:v.hidden,_),D=oo(k==null?void 0:k.type.hidden,_),I=A||D;s.push({invalid:I,isArrayItem:!1,title:T}),a=k==null?void 0:k.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function DDn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=ADn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const G4=[],u$e={open:G4,resolved:G4},IDn={data:u$e,error:null,loading:!1},ODn={data:[],error:null,loading:!1},d$e=async()=>{await Promise.resolve()},f2={execute:d$e},PDn={comments:IDn,create:f2,edit:f2,getComment:()=>{},getCommentPath:()=>null,isRunningSetup:!1,mentionOptions:ODn,remove:f2,setStatus:d$e,status:"open",update:f2},RDn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=lz({documentId:r,documentType:o});return i?l.jsx($Dn,{...t}):l.jsx(az.Provider,{value:PDn,children:n})}),$Dn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState("open"),{client:a,runSetup:c,isRunningSetup:u}=fDn(),d=Pn(r),f=TN(d,o,"low"),p=h.useMemo(()=>f.draft||f.published,[f.draft,f.published]),{dispatch:m,data:v=G4,error:g,loading:b}=jDn({documentId:d,client:a}),x=cDn(h.useMemo(()=>({documentValue:p}),[p])),y=En().get(o),w=Vo(),{name:C,dataset:_,projectId:S}=Nl(),E=h.useMemo(()=>{if(!y||!w)return u$e;const V=I0(v,["_createdAt"],["desc"]),M=DDn({comments:V,schemaType:y,currentUser:w,documentValue:p});return{open:M.filter(H=>H.parentComment.status==="open"),resolved:M.filter(H=>H.parentComment.status==="resolved")}},[w,v,p,y]),j=h.useCallback(V=>E.open.filter(M=>M.threadId===V).length,[E.open]),k=h.useCallback(V=>v==null?void 0:v.find(M=>M._id===V),[v]),T=h.useCallback(V=>{const M=k(V);return M?M.target.path.field:null},[k]),A=h.useCallback(async V=>{var M,H;const q=((H=(M=v==null?void 0:v.find(U=>U._id===V._id))==null?void 0:M._state)==null?void 0:H.type)==="createError";m({type:"COMMENT_ADDED",payload:{...V,_state:q?{type:"createRetrying"}:void 0}})},[v,m]),D=h.useCallback((V,M)=>{m({type:"COMMENT_UPDATED",payload:{_id:V,...M}})},[m]),I=h.useCallback((V,M)=>{m({type:"COMMENT_UPDATED",payload:{_id:V,...M}})},[m]),O=h.useCallback((V,M)=>{m({type:"COMMENT_UPDATED",payload:{_id:V,_state:{error:M,type:"createError"}}})},[m]),{operation:$}=dDn(h.useMemo(()=>({client:a,currentUser:w,dataset:_,documentId:d,documentType:o,projectId:S,schemaType:y,workspace:C,getThreadLength:j,runSetup:c,onCreate:A,onCreateError:O,onEdit:I,onUpdate:D}),[a,w,_,d,o,S,y,C,j,c,A,O,I,D])),R=h.useMemo(()=>({isRunningSetup:u,status:i,setStatus:s,getComment:k,getCommentPath:T,comments:{data:E,error:g,loading:b||u},create:{execute:$.create},remove:{execute:$.remove},edit:{execute:$.edit},update:{execute:$.update},mentionOptions:x}),[u,i,k,T,E,g,b,$.create,$.remove,$.edit,$.update,x]);return l.jsx(az.Provider,{value:R,children:n})}),f$e=h.createContext(null);function MDn(e){const{children:t}=e,{dataset:n,projectId:r}=Nl(),o=fr(sn),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:"v2022-05-09",dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),c(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){c(!1);return}const b=d(g);s(b),await b.create(m)}catch(v){throw v}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx(f$e.Provider,{value:p,children:t})}const h$e=h.createContext(null),FDn=ie.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(h$e.Provider,{value:s,children:n})}),LDn=P(te)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),BDn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(LDn,{ref:n,children:l.jsxs(Y,{padding:2,children:[l.jsxs(Y,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(B,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(mwn,{})]}),l.jsxs(Y,{flex:"none",padding:1,gap:2,children:[l.jsx(Jt,{id:"comment-status-menu-button",button:l.jsx(se,{text:un(i),fontSize:1,padding:2,mode:"bleed",iconRight:qa,space:2}),menu:l.jsxs(Lt,{style:{width:"180px"},children:[l.jsx(Ne,{fontSize:1,iconRight:i==="open"?Ma:void 0,onClick:s,text:"Open comments"}),l.jsx(Ne,{fontSize:1,iconRight:i==="resolved"?Ma:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(se,{"aria-label":"Close comments",fontSize:1,icon:u0e,mode:"bleed",onClick:r,padding:2})]})]})})});var Gme=Object.freeze,NDn=Object.defineProperty,p$e=(e,t)=>Gme(NDn(e,"raw",{value:Gme(t||e.slice())})),Kme,Zme;const zDn="https://snty.link/comments-beta-feedback",VDn=P.span(Kme||(Kme=p$e([`
  margin-right: 0.2em;
`]))),HDn=P.a(Zme||(Zme=p$e([`
  white-space: nowrap;
`]))),UDn=P(te)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function WDn(){return l.jsx(UDn,{padding:3,children:l.jsxs(B,{muted:!0,size:0,children:["Help us improve the commenting experience."," ",l.jsxs(HDn,{href:zDn,target:"_blank",rel:"noreferrer",children:[l.jsx(VDn,{children:"Share your feedback "})," ",l.jsx(am,{})]})]})})}function YDn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Vo(),{params:m,createPathWithParams:v,setParams:g}=Uc(),b=Po(m)||Q3e,x=h.useRef(b==null?void 0:b.comment),y=h.useRef(!1),w=zo().push,{onPathOpen:C,ready:_}=hr(),{isDismissed:S,setDismissed:E}=vDn(),{comments:j,create:k,edit:T,getComment:A,getCommentPath:D,isRunningSetup:I,mentionOptions:O,remove:$,setStatus:R,status:V,update:M}=i$e(),H=h.useMemo(()=>j.data[V],[j,V]),q=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:U,setSelectedPath:W}=l$e(),Q=h.useCallback(me=>{R(me),W(null)},[W,R]),N=h.useCallback(()=>{t(),W(null)},[t,W]),K=h.useCallback(me=>{const Ie=v({...m,comment:me}),Se="".concat(window.location.origin).concat(Ie);navigator.clipboard.writeText(Se).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),z=h.useCallback(me=>{const Ie=A(me);Ie&&k.execute({fieldPath:Ie.target.path.field,id:Ie._id,message:Ie.message,parentCommentId:Ie.parentCommentId,status:Ie.status,threadId:Ie.threadId})},[k,A]),Z=h.useCallback(()=>{s||(r(!1),i(null))},[s]),G=h.useCallback(me=>{if(W(me),me!=null&&me.fieldPath){const Ie=_l(me.fieldPath);C(Ie)}},[C,W]),J=h.useCallback(me=>{k.execute(me),W({fieldPath:me.fieldPath,origin:"inspector",threadId:me.threadId})},[k,W]),X=h.useCallback(me=>{k.execute(me)},[k]),ee=h.useCallback((me,Ie)=>{T.execute(me,Ie)},[T]),oe=h.useCallback(me=>{var Ie;const Se=H.find(Ze=>{var it;return((it=Ze.parentComment)==null?void 0:it._id)===me}),ot=!!(Se&&((Ie=Se==null?void 0:Se.replies)==null?void 0:Ie.length)>0);r(!0),i({commentId:me,isParent:ot})},[H]),de=h.useCallback(async me=>{try{a(!0),await $.execute(me),Z()}catch(Ie){u(Ie)}finally{a(!1)}},[Z,$]),le=h.useCallback(me=>{const Ie=A(me);Ie&&(W({fieldPath:Ie.target.path.field||null,origin:"inspector",threadId:Ie.threadId||null}),setTimeout(()=>{var Se;(Se=d.current)==null||Se.scrollToComment(me)}))},[A,W]),ve=h.useCallback((me,Ie)=>{M.execute(me,{status:Ie}),Ie==="open"&&(R("open"),le(me))},[le,R,M]),Ce=h.useCallback(()=>{U&&W(null)},[U,W]),be=h.useCallback(()=>{U&&W(null)},[U,W]);return lr(Ce,[f.current]),h.useEffect(()=>{const me=A(x.current||"");!q&&me&&y.current===!1&&(le(me._id),y.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,D,le,q,m,g]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(eDn,{...o,error:c,loading:s,onClose:Z,onConfirm:de}),l.jsxs(Y,{direction:"column",overflow:"hidden",height:"fill",ref:f,onClick:be,children:[l.jsx(iDn,{onDismiss:E,open:!S,placement:"left-start",children:l.jsx(BDn,{onClose:N,onViewChange:Q,view:V})}),p&&l.jsx(QAn,{comments:H,currentUser:p,error:j.error,loading:q,mentionOptions:O,onCopyLink:K,onCreateRetry:z,onDelete:oe,onEdit:ee,onNewThreadCreate:J,onPathSelect:G,onReply:X,onStatusChange:ve,readOnly:I,ref:d,selectedPath:U,status:V}),l.jsx(WDn,{})]})]})}function qDn(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=lz({documentId:t,documentType:n});return{hidden:!r,icon:a0e,showAsAction:!0,title:"Comments"}}const GDn={name:xb,component:YDn,useMenuItem:qDn};var Xme=Object.freeze,KDn=Object.defineProperty,m$e=(e,t)=>Xme(KDn(e,"raw",{value:Xme(t||e.slice())})),Qme,Jme;const ege={open:500},ZDn=P(B)(Qme||(Qme=m$e([`
  width: max-content;
`]))),XDn=P(re)(Jme||(Jme=m$e([`
  width: 320px;
`])));function QDn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),b=h.useRef(null),x=t>0,y=h.useCallback(()=>p(!1),[p]),w=h.useCallback(()=>{c(),y()},[y,c]),C=h.useMemo(()=>dC(m),[m]),_=h.useCallback(()=>{var k;if(!C){y();return}(k=b.current)==null||k.discardDialogController.open()},[y,C]),S=h.useCallback(k=>{k.isDefaultPrevented()||(k.key==="Escape"&&(k.preventDefault(),k.stopPropagation(),_()),d&&d(k))},[d,_]),E=h.useCallback(()=>{var k;(k=b.current)==null||k.discardDialogController.close()},[]),j=h.useCallback(()=>{var k;(k=b.current)==null||k.discardDialogController.close(),y(),u()},[y,u]);if(lr(_,[v]),!x){const k=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),T=l.jsx(XDn,{padding:2,space:4,children:l.jsx(QA,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:E,onDiscardConfirm:j,onKeyDown:S,onSubmit:w,placeholder:k,readOnly:o,ref:b,value:m})});return l.jsx(an,{constrainSize:!0,content:T,fallbackPlacements:["left-start"],open:f,placement:"bottom-end",portal:!0,ref:g,children:l.jsx("div",{children:l.jsx(lt,{delay:ege,disabled:f,portal:!0,placement:"top",content:l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:"Add comment"})}),children:l.jsx(se,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:CEn,mode:"bleed",onClick:a,padding:2,selected:f})})})})}return l.jsx(lt,{portal:!0,placement:"top",content:l.jsx(F,{padding:2,sizing:"border",children:l.jsxs(ZDn,{size:1,children:["View comment",t>1?"s":""]})}),delay:ege,fallbackPlacements:["bottom"],children:l.jsx(se,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(Y,{align:"center",gap:2,children:[l.jsx(B,{size:1,children:l.jsx(_En,{})}),l.jsx(B,{size:0,children:t>9?"9+":t})]})})})}var tge=Object.freeze,JDn=Object.defineProperty,g$e=(e,t)=>tge(JDn(e,"raw",{value:tge(t||e.slice())})),nge,rge;const eIn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function tIn(e){const{documentId:t,documentType:n}=hr(),{isEnabled:r}=lz({documentId:t,documentType:n});return r?l.jsx(oIn,{...e}):e.renderDefault(e)}const oge={behavior:"smooth",block:"start",inline:"nearest"},nIn=P(ed.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=pe.blue[o.dark?900:50].hex;return fe(nge||(nge=g$e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),rIn=P(re)(rge||(rge=g$e([`
  position: relative;
`])));function oIn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),[i,s]=h.useState(!1),a=h.useRef(null),{element:c}=Kf(),{openInspector:u,inspector:d}=hr(),f=Vo(),{comments:p,create:m,isRunningSetup:v,mentionOptions:g,setStatus:b,status:x}=i$e(),{selectedPath:y,setSelectedPath:w}=l$e(),C=h.useMemo(()=>Sp(e.schemaType),[e.schemaType]),_=h.useMemo(()=>p.data[x],[p.data,x]),S=h.useMemo(()=>(d==null?void 0:d.name)===xb,[d==null?void 0:d.name]),E=h.useMemo(()=>!S||(y==null?void 0:y.origin)==="form"?!1:(y==null?void 0:y.fieldPath)===jr(e.path),[S,e.path,y]),j=h.useMemo(()=>{var M;const H=jr(e.path);return(M=_.find(q=>q.fieldPath===H))==null?void 0:M.threadId},[_,e.path]),k=h.useMemo(()=>{const M=jr(e.path);return p.data.open.map(q=>q.fieldPath===M?q.commentsCount:0).reduce((q,U)=>q+U,0)||0},[p.data.open,e.path]),T=k>0,A=h.useCallback(M=>{if(S&&i&&M){const H=document.querySelector('[data-group-id="'.concat(M,'"]'));H&&(H.scrollIntoView(oge),s(!1))}},[i,S]),D=h.useCallback(()=>u(xb),[u]),I=h.useCallback(()=>{T&&x==="resolved"&&b("open"),T?(n(!1),u(xb)):n(M=>!M),j&&(s(!0),A(j),w({fieldPath:jr(e.path),origin:"form",threadId:j}))},[T,x,j,b,u,A,w,e.path]),O=h.useCallback(()=>{if(r){const M=ad(),H={fieldPath:jr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:M};m.execute(H),D(),b("open"),o(null),requestAnimationFrame(()=>{w({fieldPath:jr(e.path),origin:"form",threadId:M}),s(!0),A(M)})}},[m,D,A,e.path,w,b,r]),$=h.useCallback(()=>o(null),[]);h.useEffect(()=>{j&&A(j)},[j,A]);const R=h.useMemo(()=>({...oge,boundary:c,scrollMode:"if-needed",block:"start"}),[c]);h.useEffect(()=>{E&&a.current&&fx(a.current,R)},[c,E,e.path,R]);const V=h.useMemo(()=>({button:f&&l.jsx(QDn,{count:Number(k),currentUser:f,fieldTitle:C,isRunningSetup:v,mentionOptions:g,onChange:o,onClick:I,onCommentAdd:O,onDiscard:$,open:t,setOpen:n,value:r}),hasComments:T,isAddingComment:t}),[f,k,C,g,I,O,$,t,r,v,T]);return l.jsxs(rIn,{ref:a,children:[e.renderDefault({...e,__internal_comments:V}),l.jsx(uL,{children:E&&l.jsx(nIn,{animate:"animate",exit:"exit",initial:"initial",variants:eIn})})]})}function iIn(e){return l.jsx(MDn,{children:l.jsx(gDn,{children:e.renderDefault(e)})})}const sIn=cB({name:"sanity/desk/comments",document:{inspectors:[GDn]},form:{components:{field:tIn}},studio:{components:{layout:iIn}}}),v$e=h.createContext(null);function l1(){const e=h.useContext(v$e);if(!e)throw new Error("DeskTool: missing context value");return e}const aIn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},lIn={create:x3,delete:uo,discardDraft:Ei,initial:x3,editDraft:ku,editLive:ku,publish:a0,unpublish:LS};function y$e(e){return aIn[e]}function cIn(e){return lIn[e]}function uIn(e){let{maxLength:t,userIds:n}=e;return l.jsx(Dj,{maxLength:t,children:n.map(r=>l.jsx(za,{user:r,withTooltip:!0},r))})}var ige=Object.freeze,dIn=Object.defineProperty,kp=(e,t)=>ige(dIn(e,"raw",{value:ige(t||e.slice())})),sge,age,lge,cge,uge,dge,fge;const PS=P(Y)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return fe(sge||(sge=kp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),fIn=P(se)(e=>{let{$selected:t,$disabled:n}=e;return fe(cge||(cge=kp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),PS,PS,t&&fe(age||(age=kp([`
      `,`::before {
        background: transparent;
      }
    `])),PS),n&&fe(lge||(lge=kp([`
      cursor: not-allowed;
    `]))))}),hIn=P(F)(uge||(uge=kp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),pIn=P(B)(dge||(dge=kp([`
  text-transform: capitalize;
`]))),mIn=P(F)(fge||(fge=kp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ye(t.sanity.space[1]))}),hge={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function gIn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=cIn(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const v=new Date(a);return Ko(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx(fIn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":hge[t.type],children:l.jsx(F,{paddingX:2,children:l.jsxs(Y,{align:"stretch",children:[l.jsx(PS,{align:"center",children:l.jsx(hIn,{padding:2,children:l.jsx(B,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(re,{space:2,margin:2,children:[o&&l.jsx(Y,{children:l.jsx(te,{padding:1,radius:2,shadow:1,tone:i?"primary":hge[t.type],children:l.jsx(zt,{muted:!0,size:0,children:"Latest"})})}),l.jsx(F,{children:l.jsx(pIn,{size:1,weight:"medium",children:y$e(c)||l.jsx("code",{children:c})})}),l.jsx(mIn,{paddingX:1,children:l.jsx(B,{size:0,muted:!0,children:p})})]}),l.jsx(Y,{flex:1,justify:"flex-end",align:"center",children:l.jsx(uIn,{maxLength:3,userIds:d})})]})})})}var pge=Object.freeze,vIn=Object.defineProperty,_5=(e,t)=>pge(vIn(e,"raw",{value:pge(t||e.slice())})),mge,gge,vge,yge;const yIn=P(re)(mge||(mge=_5([`
  max-width: 200px;
`]))),bIn=P(Y)(gge||(gge=_5([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),xIn=P(F)(e=>{let{$visible:t}=e;return fe(yge||(yge=_5([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&fe(vge||(vge=_5([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),K4=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const b=g===0,x=d&&g===d.length-1||!1;return l.jsxs(F,{paddingBottom:x?1:0,paddingTop:b?1:0,paddingX:1,children:[l.jsx(gIn,{chunk:m,isFirst:b,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&l.jsx(Y,{align:"center",justify:"center",padding:4,children:l.jsx(ur,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(xIn,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(yIn,{padding:3,space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"No document history"}),l.jsx(B,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(bIn,{direction:"column",children:l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};K4.displayName="Timeline";function wIn(){return l.jsxs(Y,{align:"flex-start",gap:3,padding:4,children:[l.jsx(sr,{tone:"critical",children:l.jsx(aa,{})}),l.jsxs(re,{space:4,children:[l.jsx(sr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(sr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var bge=Object.freeze,CIn=Object.defineProperty,_In=(e,t)=>bge(CIn(e,"raw",{value:bge(t||e.slice())})),xge;const SIn=P(an)(xge||(xge=_In([`
  overflow: hidden;
  overflow: clip;
`])));function b$e(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=hr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),b=zo(),x=ro(c,M=>M.chunks),y=ro(c,M=>M.isLoading),w=ro(c,M=>M.hasMoreChunks),C=ro(c,M=>M.realRevChunk),_=ro(c,M=>M.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(M=>{d&&(M.key==="Escape"||M.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);lr(j,[p,v]),Ji(k);const T=h.useCallback(M=>{try{const[H,q]=c.findRangeForRev(M);i("closed"),o(H,q)}catch(H){b.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),A=h.useCallback(M=>{try{const[H,q]=c.findRangeForSince(M);i("closed"),o(H,q)}catch(H){b.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),D=h.useCallback(()=>{y||c.loadMore()},[y,c]),I=s?l.jsx(wIn,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(K4,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&l.jsx(K4,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),O=EIn((t==null?void 0:t.endTimestamp)||""),$=t?"".concat(ESe(y$e(t.type)),": ").concat(O):"Latest version",R=t?"Since: ".concat(O):"Since: unknown version",V=n==="rev"?$:R;return l.jsx(SIn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:l.jsx(se,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Ml,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?V:"Loading history"})})}function EIn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return Ko(n,"MMM d, yyyy, hh:mm a")},[e])}const kIn=P(te)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function x$e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(kIn,{...s,as:t,children:[l.jsxs(Y,{padding:2,children:[l.jsx(F,{flex:1,padding:3,children:l.jsx(B,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(F,{flex:"none",padding:1,children:l.jsx(se,{"aria-label":r,fontSize:1,icon:Ei,mode:"bleed",onClick:o,padding:2})})]}),n]})}var wge=Object.freeze,jIn=Object.defineProperty,TIn=(e,t)=>wge(jIn(e,"raw",{value:wge(t||e.slice())})),Cge;const AIn=P.div(Cge||(Cge=TIn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function DIn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(AIn,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var _ge=Object.freeze,IIn=Object.defineProperty,OIn=(e,t)=>_ge(IIn(e,"raw",{value:_ge(t||e.slice())})),Sge;const PIn=P(F)(Sge||(Sge=OIn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function RIn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=c.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(PIn,{as:t,...i,ref:a,style:m,children:[n,l.jsx(DIn,{onResize:p,onResizeStart:f})]})}function $In(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=dh(),{closeInspector:i,inspector:s}=hr(),{features:a}=l1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(RIn,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:qSn,minWidth:$4,children:u}):l.jsx(F,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function MIn(){return l.jsx(YN,{ms:300,children:l.jsxs(Y,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(ur,{muted:!0}),l.jsx(F,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function FIn(e){const t=new Map;return lA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var Ege=Object.freeze,LIn=Object.defineProperty,BIn=(e,t)=>Ege(LIn(e,"raw",{value:Ege(t||e.slice())})),kge;const NIn=P(rA)(kge||(kge=BIn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function zIn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=hr(),a=h.useRef(null),c=ro(i,b=>b.diff),u=ro(i,b=>b.onOlderRevision),d=ro(i,b=>b.selectionState),f=ro(i,b=>b.sinceTime),p=d==="loading",m=!u,v=ie.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:vUt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),g=ie.useMemo(()=>c?FIn(c):[],[c]);return l.jsxs(Y,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(x$e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(Y,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(F,{flex:1,children:l.jsx(b$e,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(F,{flex:"none",children:l.jsx(Ki,{annotations:g,description:"Changes by",portal:!0,children:l.jsx(Dj,{maxLength:4,"aria-label":"Changes by",children:g.map(b=>{let{author:x}=b;return l.jsx(za,{user:x},x)})})})})]})}),l.jsx(te,{flex:1,children:l.jsx(Ru,{element:a.current,children:l.jsx(NIn,{"data-ui":"Scroller",ref:a,children:l.jsx(F,{flex:1,padding:4,children:l.jsx(VIn,{diff:c,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function VIn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(n4,{}):o?l.jsx(MIn,{}):n?l.jsx(dDe.Provider,{value:r,children:l.jsx(Xw,{diff:n,schemaType:i})}):l.jsx(n4,{})}const HIn={name:F4,useMenuItem:()=>{const{features:e}=l1();return{hidden:!e.reviewChanges,icon:jF,title:"Review changes"}},component:zIn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function UIn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!bt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!iee(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":bt(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(bt(a)&&a._key){if(!iee(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>bt(d)&&d._key===a._key),!bt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>bt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const WIn={error:aa,warning:$r,info:sm},YIn={error:"critical",warning:"caution",info:"primary"};function qIn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=hr(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(Y,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(x$e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(te,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(F,{padding:2,children:l.jsx(B,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(re,{space:2,children:i.map((c,u)=>l.jsx(GIn,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function GIn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(m0,{onCatch:a,children:[s&&l.jsx(te,{padding:3,radius:2,tone:"critical",children:l.jsxs(B,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(te,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:YIn[t.level],children:l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(F,{flex:"none",children:l.jsx(B,{size:1,children:h.createElement(WIn[t.level])})}),l.jsxs(re,{flex:1,space:2,children:[l.jsx(KIn,{path:t.path,schemaType:r,value:o}),l.jsx(B,{muted:!0,size:1,children:t.item.message})]})]})})]})}function KIn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>UIn({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(B,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function ZIn(e){const{documentId:t,documentType:n}=e,{validation:r}=AN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(gMe),s=o.some(vMe),a=h.useMemo(()=>i?aa:s?$r:K5,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const XIn={name:ZSn,component:qIn,useMenuItem:ZIn},QIn=[Z3e,X3e,G3e,K3e,q3e,ZN],JIn=[kSn],eOn=[XIn,HIn],tOn=cB(e=>({name:"@sanity/desk-tool",document:{actions:t=>Array.from(new Set([...t,...QIn])),badges:t=>Array.from(new Set([...t,...JIn])),inspectors:t=>Array.from(new Set([...t,...eOn]))},plugins:[sIn()],tools:[{name:(e==null?void 0:e.name)||"desk",title:(e==null?void 0:e.title)||"Desk",icon:(e==null?void 0:e.icon)||b0e,component:h.lazy(()=>v8(()=>import("./index-8F-z14WZ-d816be21.js"),[])),canHandleIntent:(t,n)=>!!(t==="edit"&&n.id||t==="create"&&n.type||t==="create"&&n.template),controlsDocumentTitle:!0,getIntentState:TSn,options:e,router:$Sn}]}));class rn extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var In=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(In||{});const nOn=["_id","_type","_createdAt","_updatedAt","_rev"];function Z4(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return nOn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>Z4(c,r)).join(","),"}")}const i=r.length>0&&Z4(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function rOn(e,t){return t.map(n=>Z4(e,n.field.split("."))).join(", ")}const w$e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},oOn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},iOn=w$e,jge=[w$e,oOn];function C$e(e,t,n){return e instanceof Nf?e.serialize({path:n,index:t}):e}class Nf{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new rn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(In.TITLE_REQUIRED)}if(!r&&!o)throw new rn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(In.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new rn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(In.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Nf(this._context);return n.spec={...this.spec,...t||{}},n}}function _$e(e,t,n){return new Nf(e).group("sorting").title("Sort by ".concat(t.title)).icon(AF).action("setSortOrder").params({by:t.by,extendedProjection:n})}function S$e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(jge):jge).map(o=>_$e(e,o,rOn(r,o.by)))}function E$e(e,t,n){return e instanceof Vx?e.serialize({path:n,index:t}):e}class Vx{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new Vx(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new Vx(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new rn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(In.ID_REQUIRED);if(!r)throw new rn("`title` is required for a menu item group",t.path,n).withHelpUrl(In.TITLE_REQUIRED);return{id:n,title:r}}}const k$e=/([^A-Za-z0-9-_.])/;function gC(e,t,n){if(typeof e!="string")throw new rn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(k$e)||[];if(r)throw new rn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new rn("Structure node id cannot start with __edit__",t,n);return e}function nD(e,t){if(t)return t;const n=she(e);return k$e.test(n)?she(Mje(e)):n}class Hx{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:nD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new rn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(In.ID_REQUIRED);if(!s)throw new rn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(In.ID_REQUIRED);return{id:gC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>C$e(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>E$e(a,c,t.path))}}clone(t){const n=new Hx;return n.spec={...this.spec,...t||{}},n}}async function j$e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Pn(t),o=ni(t);return(await e(sn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class cz{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||e_n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new rn("`id` is required for view item",t.path,t.index).withHelpUrl(In.ID_REQUIRED);if(!r)throw new rn("`title` is required for view item",t.path,t.index).withHelpUrl(In.TITLE_REQUIRED);return{id:gC(n,t.path,t.index),title:r,icon:o}}}function sOn(e){return typeof e.serialize=="function"}function T$e(e,t,n){return sOn(e)?e.serialize({path:n,index:t}):e}const aOn=e=>bt(e)&&e.type==="component";class rD extends cz{constructor(t){const n=aOn(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new rn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(In.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new rD;return n.spec={...this.spec,...t||{}},n}}class oD extends cz{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new oD;return n.spec={...this.spec,...t||{}},n}}const A$e=e=>new oD(e),lOn=e=>new rD(e);var cOn=Object.freeze({__proto__:null,ComponentViewBuilder:rD,FormViewBuilder:oD,GenericViewBuilder:cz,component:lOn,form:A$e,maybeSerializeView:T$e});const uOn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await j$e(n,r)),!a)throw new rn("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class zf{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:nD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new rn("`id` is required for document nodes",t,n,r).withHelpUrl(In.ID_REQUIRED);if(!s||!s.id)throw new rn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(In.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new rn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[A$e()]).map((d,f)=>T$e(d,f,t)),c=a.map(d=>d.id),u=co(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new rn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||uOn(this._context),id:gC(i,t,n),type:"document",options:dOn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new zf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function dOn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function fOn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new zf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function hOn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Tge=["default","card","media","detail","block"],D$e=Symbol("Document type list canHandleIntent"),uz=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:dz(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};uz.identity=D$e;class iD{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new rn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(In.ID_REQUIRED);if(!o.templateId)throw new rn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(In.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new rn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(In.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new iD(this._context);return n.spec={...this.spec,...t},n}}function pOn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function mOn(e,t,n){return e instanceof iD?e.serialize({path:n,index:t}):e}function gOn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a=Kxt({type:i&&i.schemaType,template:o.templateId},Boolean),c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Nf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||hp).intent({type:"create",params:c}).serialize()})}function vOn(){}const I$e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&uz(e,t,{pane:r,index:o})};class O$e{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:nD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Tge.includes(o))throw new rn("`layout` must be one of ".concat(Tge.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>mOn(s,a,r));return{id:gC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||vOn,canHandleIntent:this.spec.canHandleIntent||I$e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>C$e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>E$e(s,a,r))}}}const yOn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new rn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(In.QUERY_PROVIDED_FOR_FILTER);return r},bOn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||j$e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new zf(e).id("editor").documentId(t).schemaType(""))};class vC extends O$e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new rn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(In.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new rn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(In.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),ZSe(In.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||bOn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||sn.apiVersion,filter:yOn(this.spec,t)}}}clone(t){const n=new vC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=xOn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=wOn(n.spec)),n}getSpec(){return this.spec}}function xOn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(dz(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:hp}))}function wOn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=dz(n,r);return o.length===1?o[0]:void 0}function dz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=COn(e,t);return n.length===0&&(n=_On(e,t)),n}function COn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function _On(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const SOn=e=>e instanceof c1?"ListBuilder":AOn(e)?"Promise":Array.isArray(e)?"array":typeof e,EOn=e=>e.type==="listItem",kOn=(e,t,n)=>(n.pane.items||[]).filter(IOn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||I$e(e,t,n),jOn=(e,t)=>{const o=(t.parent.items.filter(EOn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function TOn(e,t,n){if(e instanceof u1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||SOn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new rn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(In.INVALID_LIST_ITEM)}return e}function AOn(e){return bt(e)&&typeof e.then=="function"}class c1 extends O$e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new rn("`id` is required for lists",t.path,t.index).withHelpUrl(In.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new rn("`items` must be an array of items",t.path,t.index).withHelpUrl(In.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>TOn(a,c,o)),s=i.filter((a,c)=>Rje(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new rn("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(In.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||kOn,child:this.spec.child||jOn,items:i}}clone(t){const n=new c1(this._context);return n.spec={...this.spec,...t||{}},n}}class u1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:nD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new rn("`id` is required for list items",t.path,t.index).withHelpUrl(In.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new rn("`title` is required for list items",t.path,n).withHelpUrl(In.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new rn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(In.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof Hx||o instanceof vC||o instanceof zf||o instanceof c1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:gC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new u1(this._context);return n.spec={...this.spec,...t||{}},n}}const DOn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new zf(e).id("documentEditor").documentId(n)};class fz extends u1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new rn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(In.SCHEMA_TYPE_REQUIRED);const r=n.child||DOn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new fz(this._context);return n.spec={...this.spec,...t||{}},n}}function IOn(e){return bt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class S5 extends vC{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new S5(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new S5(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===D$e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function OOn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const POn=["sanity.imageAsset","sanity.fileAsset"];function ROn(e){return POn.includes(e)}function $On(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function MOn(e){return e.type==="list"}function FOn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&$On(r)}).filter(n=>!ROn(n))}function P$e(e){return FOn(e).map(n=>R$e(e,n))}function R$e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||un(t);return new u1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=MOn(a)?a.items.find(d=>d.id===i):null;let u=$$e(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function $$e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||un(i),u=OOn(a);return new S5(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(iOn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||uz).menuItems(s.menuItems||[...S$e(e,a),new Nf(e).group("layout").title("Compact view").icon(k0e).action("setLayout").params({layout:"default"}),new Nf(e).group("layout").title("Detailed view").icon(j0e).action("setLayout").params({layout:"detail"})])}function LOn(e){return!e||typeof e=="string"?!1:!!e.icon}function BOn(e){const t=P$e(e);return new c1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>LOn(n.getSchemaType())))}function NOn(e){let{defaultDocumentNode:t,source:n}=e;const r=Pmn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new zf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Pn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>BOn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return $$e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return R$e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return P$e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new zf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return hOn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new c1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new u1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Nf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Vx(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return gOn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new vC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new fz(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return _$e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return S$e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return fOn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return pOn(o,...a)},initialValueTemplateItem:(s,a)=>new iD(o,{id:s,parameters:a,templateId:s}),component:s=>Zn.isValidElementType(s)?new Hx().component(s):new Hx(s),divider:()=>({id:hEe("__divider__"),type:"divider"}),view:cOn,context:o};return i}function IRn(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Mn(),a=Omn(s),c=Qa(),u=h.useMemo(()=>NOn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(v$e.Provider,{value:p,children:r})}function M$e(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(KA,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(GN,{title:s}),l.jsx(ZA,{overflow:"auto",children:l.jsx(F,{paddingX:4,paddingY:5,children:t})})]})}function zOn(e){const t=[{ms:300,message:"Loading"},{ms:5e3,message:"Still loading"}],n=xe(null);return nn(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(Bj(i),CCe(o))}))}var Age=Object.freeze,VOn=Object.defineProperty,HOn=(e,t)=>Age(VOn(e,"raw",{value:Age(t||e.slice())})),Dge;const UOn="Loading",WOn=P(Y)(Dge||(Dge=HOn([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),F$e=h.memo(e=>{const{delay:t=300,flex:n,message:r=zOn,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:UOn);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const y=d.subscribe(p);return()=>y.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,b]=h.useState(!1);h.useEffect(()=>{if(m)return AXe(()=>b(!0))},[m]);const x=l.jsxs(WOn,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[l.jsx(ur,{muted:!0}),(c||f)&&l.jsx(F,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(KA,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(ZA,{children:x})})});F$e.displayName="LoadingPane";function YOn(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function qOn(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const GOn=["patch","commit"],KOn=h.memo(function(){const{push:t}=zo(),{documentId:n,documentType:r}=hr(),o=NPe(n,r),i=h.useRef(o),s=Uc();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:YOn(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!GOn.includes(o.op)&&t({closable:!0,status:"success",title:qOn(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function ZOn(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(M4).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function XOn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:s0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function QOn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:f0e,shortcut:"Ctrl+Alt+O"}:null}function JOn(e){const t=ZOn(e),n=[QOn(e)].filter(Boolean);return[...t,XOn(e),...n]}const ePn=e=>bt(e)&&typeof e._id=="string"&&typeof e._type=="string";function tPn(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Mn().document,s=rnt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(LL(500),rt(a=>ePn(a)?Cr(i({document:a})):xe(void 0)),On(a=>{const c=bt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function nPn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const rPn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Po(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function oPn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(rPn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const L$e=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o}=e,i=En(),s=J0(),{actions:a,badges:c,unstable_fieldActions:u,unstable_languageFilter:d,inspectors:f}=Mn().document,p=BN(),m=Uc(),v=m.setParams,{features:g}=l1(),{push:b}=zo(),{options:x,menuItemGroups:y=KSn,title:w=null,views:C=[]}=r,_=Po(x),S=_.id,E=Pn(S),j=x.type,k=Po(m.params)||GSn,T=Po(m.payload),{templateName:A,templateParams:D}=h.useMemo(()=>nPn(s,{documentType:j,templateName:_.template,templateParams:_.templateParameters,panePayload:T,urlTemplate:k.template}),[j,_,k,T,s]),I=Bbn({documentId:E,documentType:j,templateName:A,templateParams:D}),O=Po(I),{patch:$}=Vl(E,j),R=TN(E,j),{validation:V}=AN(E,j),M=Vyn(E,j),H=i.get(j),q=(R==null?void 0:R.draft)||(R==null?void 0:R.published)||O.value,[U,W]=h.useState(!1),[Q,N]=h.useState([]),K=h.useMemo(()=>a({schemaType:j,documentId:E}),[a,E,j]),z=h.useMemo(()=>c({schemaType:j,documentId:E}),[c,E,j]),Z=h.useMemo(()=>d({schemaType:j,documentId:E}),[E,j,d]),G=Po(V),J=Po(C),[X,ee]=h.useState(()=>k.path?_l(k.path):[]),oe=k.view||J[0]&&J[0].id||null,[de,le]=h.useState("closed"),[ve,Ce]=h.useState(null),be=Pxn({documentId:E,documentType:j,onError:Ce,rev:k.rev,since:k.since}),me=ro(be,Ge=>Ge.onOlderRevision),Ie=ro(be,Ge=>Ge.revTime),Se=ro(be,Ge=>Ge.sinceAttributes),ot=ro(be,Ge=>Ge.timelineDisplayed),Ze=ro(be,Ge=>Ge.timelineReady),it=ro(be,Ge=>Ge.isPristine),_e=h.useMemo(()=>Ze?!(R!=null&&R.draft)&&!(R!=null&&R.published)&&!it:!1,[R==null?void 0:R.draft,R==null?void 0:R.published,it,Ze]),he=tPn(q),[He,Ye]=h.useState([]);h.useEffect(()=>{const Ge=p.documentPresence(E).subscribe(Ln=>{Ye(Ln)});return()=>{Ge.unsubscribe()}},[E,p]);const Me=h.useMemo(()=>f({documentId:E,documentType:j}),[E,j,f]),[Ct,Tt]=h.useState(()=>k.inspect||null),Et=h.useRef(k.inspect);h.useEffect(()=>{Et.current!==k.inspect&&(Et.current=k.inspect,Tt(k.inspect||null))},[k.inspect]);const Zt=Me==null?void 0:Me.find(Ge=>Ge.name===Ct),Mi=Me.find(Ge=>Ge.name===F4),is=(Zt==null?void 0:Zt.name)===F4,Ds=!!q,Wt=h.useMemo(()=>JOn({currentInspector:Zt,features:g,hasValue:Ds,inspectorMenuItems:Q,inspectors:Me,previewUrl:he}),[Zt,g,Ds,Q,Me,he]),Ur=k.inspect==="on",Hl=is?Se:(R==null?void 0:R.published)||null,el=h.useMemo(()=>H?u({documentId:E,documentType:j,schemaType:H}):[],[E,j,u,H]),ii=M==="connected"&&R.ready&&(Ze||!!ve),Fn=h.useMemo(()=>me?ot||{_id:q._id,_type:q._type}:q,[me,ot,q]),Mr=h.useCallback((Ge,Ln)=>{v({...k,since:Ge,rev:Ln||void 0})},[k,v]),Zr=h.useCallback(Ge=>{ee(Ge),p.setLocation([{type:"document",documentId:E,path:Ge,lastActiveAt:new Date().toISOString()}])},[E,p,ee]),We=h.useCallback(Ge=>{ee([])},[ee]),yt=h.useRef(()=>{throw new Error("Nope")});yt.current=Ge=>{$.execute(Rwn(Ge.patches),O.value)};const Qn=h.useCallback(Ge=>yt.current(Ge),[]),gn=h.useCallback(Ge=>{var Ln,kn,Eo,ph;const Yc=Ge&&Me.find(ai=>ai.name===Ge);if(Ge&&!Yc){console.warn('No inspector named "'.concat(Ge,'"'));return}if(Zt){if(Yc){const ai=(kn=(Ln=Yc.onClose)==null?void 0:Ln.call(Yc,{params:k}))!=null?kn:{params:k};Tt(null),Et.current=void 0,v({...ai.params,inspect:void 0});return}if(Zt){const ai=(ph=(Eo=Zt.onClose)==null?void 0:Eo.call(Zt,{params:k}))!=null?ph:{params:k};Tt(null),Et.current=void 0,v({...ai.params,inspect:void 0})}}},[Zt,Me,k,v]),si=h.useCallback((Ge,Ln)=>{var kn,Eo,ph,Yc;const ai=Me.find(_z=>_z.name===Ge);if(!ai){console.warn('No inspector named "'.concat(Ge,'"'));return}if((Zt==null?void 0:Zt.name)===ai.name){v({...k,...Ln,inspect:ai.name});return}let h1=k;Zt&&(h1=((Eo=(kn=ai.onClose)==null?void 0:kn.call(ai,{params:h1}))!=null?Eo:{params:h1}).params);const aMe=(Yc=(ph=ai.onOpen)==null?void 0:ph.call(ai,{params:h1}))!=null?Yc:{params:h1};Tt(ai.name),Et.current=ai.name,v({...aMe.params,...Ln,inspect:ai.name})},[Zt,Me,k,v]),mo=h.useCallback(()=>{Mi&&gn(Mi.name)},[gn,Mi]),ss=h.useCallback(()=>{g.reviewChanges&&Mi&&si(Mi.name)},[g.reviewChanges,si,Mi]),Is=h.useCallback(()=>m.closeCurrent(),[m]),Ul=h.useCallback(()=>m.duplicateCurrent(),[m]),Wc=h.useCallback(function(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Ur;v(Ge?{...k,inspect:"on"}:Ai(k,"inspect"))},[Ur,k,v]),Fm=h.useCallback(Ge=>{if(Ge.action==="production-preview"&&he)return window.open(he),!0;if(Ge.action==="inspect")return Wc(!0),!0;if(Ge.action==="reviewChanges")return ss(),!0;if(typeof Ge.action=="string"&&Ge.action.startsWith(M4)){const Ln=Ge.action.slice(M4.length),kn=Me.find(Eo=>Eo.name===Ln);if(kn)return kn.name===Ct?gn(kn.name):si(kn.name),!0}return!1},[gn,ss,Ct,Me,si,he,Wc]),fh=h.useCallback(Ge=>{for(const Ln of Wt)if(Ln.shortcut&&pi(Ln.shortcut,Ge)){Ge.preventDefault(),Ge.stopPropagation(),Fm(Ln);return}},[Fm,Wt]),hh=h.useCallback(()=>Wc(!1),[Wc]),[d1,Z$e]=h.useState([]),[X$e,gz]=h.useState(),[vz,yz]=h.useState(),[bz,xz]=h.useState(),Q$e=h.useCallback((Ge,Ln)=>{yz(kn=>Wh(kn,Ge,Ln))},[]),J$e=h.useCallback((Ge,Ln)=>{xz(kn=>Wh(kn,Ge,Ln))},[]),eMe=h.useCallback((Ge,Ln)=>gz(kn=>Wh(kn,Ge,Ln)),[]),tMe=q._createdAt?"update":"create",wz=!!(H!=null&&H.liveEdit),sD=q._id?q._id:"dummy-id",nMe=h.useMemo(()=>({...q,_id:wz?Pn(sD):ni(sD)}),[wz,q,sD]),[f1,aD]=Wbn({document:nMe,permission:tMe}),Cz=!(q!=null&&q._id),rMe=h.useMemo(()=>{var Ge;const Ln=!aD&&!(f1!=null&&f1.granted),kn=!UK(H,"update"),Eo=Cz&&!UK(H,"create"),ph=M==="reconnecting",Yc=(Ge=R.transactionSyncLock)==null?void 0:Ge.enabled;return!ii||Ie!==null||Ln||kn||Eo||ph||Yc||U||_e},[M,R.transactionSyncLock,Cz,_e,U,aD,f1==null?void 0:f1.granted,ii,Ie,H]),lD=Pwn(H,{value:Fn,readOnly:rMe,comparisonValue:Hl,focusPath:X,openPath:d1,collapsedPaths:vz,presence:He,validation:G,collapsedFieldSets:bz,fieldGroupState:X$e,changesOpen:is}),yC=h.useRef(lD);yC.current=lD;const cD=h.useCallback(Ge=>{bwn(yC.current,Ge).forEach(kn=>{kn.type==="expandPath"&&yz(Eo=>Wh(Eo,kn.path,!1)),kn.type==="expandFieldSet"&&xz(Eo=>Wh(Eo,kn.path,!1)),kn.type==="setSelectedGroup"&&gz(Eo=>Wh(Eo,kn.path,kn.groupName))}),Z$e(Ge)},[yC]),oMe={actions:K,activeViewId:oe,badges:z,changesOpen:is,closeInspector:gn,collapsedFieldSets:bz,collapsedPaths:vz,compareValue:Hl,connectionState:M,displayed:Fn,documentId:E,documentIdRaw:S,documentType:j,editState:R,fieldActions:el,focusPath:X,inspector:Zt||null,inspectors:Me,menuItems:Wt,onBlur:We,onChange:Qn,onFocus:Zr,onPathOpen:cD,onHistoryClose:mo,onHistoryOpen:ss,onInspectClose:hh,onKeyUp:fh,onMenuAction:Fm,onPaneClose:Is,onPaneSplit:Ul,onSetActiveFieldGroup:eMe,onSetCollapsedPath:Q$e,onSetCollapsedFieldSet:J$e,openInspector:si,index:n,inspectOpen:Ur,validation:G,menuItemGroups:y||[],paneKey:o,previewUrl:he,ready:ii,schemaType:H,isPermissionsLoading:aD,permissions:f1,setTimelineMode:le,setTimelineRange:Mr,setIsDeleting:W,isDeleting:U,isDeleted:_e,timelineError:ve,timelineMode:de,timelineStore:be,title:w,value:q,views:J,formState:lD,unstable_languageFilter:Z};h.useEffect(()=>{M==="reconnecting"&&b({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting"})})},[M,b]),h.useEffect(()=>{var Ge;if(ii&&k.path){const{path:Ln,...kn}=k,Eo=HMe((Ge=yC.current)==null?void 0:Ge.value,_l(Ln));ee(Eo),cD(Eo),m.setParams(kn)}},[k,E,cD,ii,m]);const[iMe,sMe]=h.useState([]);return l.jsxs(Y3e.Provider,{value:oMe,children:[Me.length>0&&l.jsx(oPn,{documentId:E,documentType:j,inspectors:Me,onMenuItems:N}),el.length>0&&H&&l.jsx(Gw,{actions:el,documentId:E,documentType:j,onActions:sMe,path:Un,schemaType:H}),l.jsx(Qw,{actions:iMe,path:Un,children:l.jsx(RDn,{documentId:E,documentType:j,children:l.jsx(FDn,{children:t})})})]})});L$e.displayName="DocumentPaneProvider";function X4(e,t,n){const r=iwn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const pg={id:"parsed",title:"Parsed"},mg={id:"raw",title:"Raw JSON"},iPn=[pg,mg],E5=i2n(1e3);function B$e(e,t){const n=E5.get(e);return n===void 0?(E5.set(e,Array.isArray(t)||bt(t)),B$e(e,t)):n}function sPn(e){const{path:t}=e,n=E5.get(t);n!==void 0&&E5.set(t,!n)}function N$e(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Ige(e){N$e(e.currentTarget)}function aPn(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),N$e(e.currentTarget))}function lPn(e){return bt(e)&&hv(e._id)&&hv(e._type)}var Oge=Object.freeze,cPn=Object.defineProperty,uPn=(e,t)=>Oge(cPn(e,"raw",{value:Oge(t||e.slice())})),Pge;const dPn=P.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return fe(Pge||(Pge=uPn([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: ' ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: ' ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]),ye(o[3]),ye(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]/2),n.syntax.property,n.syntax.constant,ye(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function fPn(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx(Rr,{icon:Zo,onChange:r,placeholder:"Search",radius:2,value:n||""})}function hPn(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=hr(),o="".concat(r,"_inspect_"),[i,s]=X4("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=iPn.find(d=>d.id===i),c=h.useCallback(()=>{s(pg.id)},[s]),u=h.useCallback(()=>{s(mg.id)},[s]);return l.jsx(Ii,{id:"".concat(o,"dialog"),header:lPn(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(I3e,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(Y,{direction:"column",height:"fill",children:[l.jsx(te,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs($j,{space:1,children:[l.jsx(qb,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(pg.id),label:pg.title,onClick:c,selected:a===pg}),l.jsx(qb,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(mg.id),label:mg.title,onClick:u,selected:a===mg})]})}),l.jsxs(Lwe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===pg&&l.jsx(dPn,{children:l.jsx(r2n,{data:t,isExpanded:B$e,onClick:sPn,search:fPn})}),a===mg&&l.jsx(ir,{language:"json",tabIndex:0,onKeyDown:aPn,onDoubleClick:Ige,onFocus:Ige,children:JSON.stringify(t,null,2)})]})]})})}var Rge=Object.freeze,pPn=Object.defineProperty,mPn=(e,t)=>Rge(pPn(e,"raw",{value:Rge(t||e.slice())})),$ge;const gPn=P(te)($ge||($ge=mPn([`
  position: relative;
  z-index: 50;
`])));function vPn(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=hr(),{restore:o}=Vl(n,r),{navigateIntent:i}=$c(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(gPn,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(ao,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(Y,{align:"center",children:[l.jsx(B,{size:1,children:l.jsx(Kx,{})}),l.jsxs(Y,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(B,{size:1,children:"This document has been deleted."}),t&&l.jsx(se,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var Mge=Object.freeze,yPn=Object.defineProperty,z$e=(e,t)=>Mge(yPn(e,"raw",{value:Mge(t||e.slice())})),Fge,Lge;const bPn=P(te)(Fge||(Fge=z$e([`
  position: relative;
  z-index: 50;
`]))),Bge=P(B)(Lge||(Lge=z$e([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),V$e=h.memo(()=>{var e,t,n,r,o,i;const s=$i(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=Uc(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,b=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&_l(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),y=ho(()=>{const _=x==null?void 0:x[0];if(!g||!_||!x)return xe({loading:!1});const S=Pn(g),E=_l(_),j=E.findIndex(k=>typeof k=="object"&&"_key"in k);return zr(xe({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?E:E.slice(0,j)).pipe(LL(750),ce(k=>{let{draft:T,published:A}=k;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=nm(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var _;y.loading||(_=y.result)!=null&&_.refValue&&d({id:y.result.refValue,params:a})},[y.loading,y.result,d,a]);return!g||!x||b||y.loading||!((n=y.result)!=null&&n.availability.draft.available)&&!((r=y.result)!=null&&r.availability.published.available)||((o=y.result)==null?void 0:o.refValue)===p?null:l.jsx(bPn,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(ao,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(Y,{align:"center",children:[l.jsx(B,{size:1,children:l.jsx($r,{})}),(i=y.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(F,{flex:1,marginLeft:3,children:l.jsx(Bge,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(F,{marginLeft:3,children:l.jsx(se,{onClick:w,icon:l0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(F,{flex:1,marginLeft:3,children:l.jsx(Bge,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(F,{marginLeft:3,children:l.jsx(se,{as:f,icon:Ei,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});V$e.displayName="ReferenceChangedBanner";var Nge=Object.freeze,xPn=Object.defineProperty,wPn=(e,t)=>Nge(xPn(e,"raw",{value:Nge(t||e.slice())})),zge;const CPn=P(te)(zge||(zge=wPn([`
  position: relative;
  z-index: 50;
`])));function _Pn(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Vo(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=SPn(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(CPn,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(ao,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(Y,{align:"flex-start",children:[l.jsx(B,{size:1,children:l.jsx(Kx,{})}),l.jsx(F,{flex:1,marginLeft:3,children:l.jsxs(B,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function SPn(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function EPn(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const kPn=1e3*60*60*24*24;function jPn(e){const t=zo(),n=EPn(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:kPn}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const TPn=e=>e.preventDefault(),APn=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:b,onFocus:x,onBlur:y,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=hr(),E=Qa(),j=lC(d),k=h.useMemo(()=>oZt(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;jPn({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const $=E.pair.documentEvents(d,f).pipe(bn(R=>{R.type==="mutation"&&k.publish(DPn(R)),R.type==="rebase"&&k.publish(IPn(R))})).subscribe();return()=>{$.unsubscribe()}},[d,E,f,k]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&k.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[D,I]=h.useState(null);h.useEffect(()=>{g&&!(b!=null&&b.focusPath.length)&&D&&Lv(D)},[g]);const O=h.useCallback($=>{I($),typeof n=="function"?n($):n&&(n.current=$)},[n]);return l.jsx(ao,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(eC,{margins:i,children:l.jsx(F,{as:"form",onSubmit:TPn,ref:O,children:g?b===null?l.jsx(F,{padding:2,children:l.jsx(B,{children:"This form is hidden"})}):l.jsx(nen,{__internal_fieldActions:p,__internal_patchChannel:k,collapsedFieldSets:s,collapsedPaths:a,focusPath:b.focusPath,changed:b.changed,focused:b.focused,groups:b.groups,id:"root",members:b.members,onChange:m,onFieldGroupSelect:S,onPathBlur:y,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:b.readOnly,schemaType:b.schemaType,validation:v,value:b.value}):l.jsx(YN,{ms:300,children:l.jsxs(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(ur,{muted:!0}),l.jsx(F,{marginTop:3,children:l.jsx(B,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function DPn(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:k4(e.origin,t)}}function IPn(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:k4("remote",t).concat(k4("local",n))}}function OPn(){const{activeViewId:e,paneKey:t,views:n}=hr(),r="".concat(t,"tabpanel");return l.jsx($j,{space:1,children:n.map((o,i)=>{var s;return l.jsx(PPn,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function PPn(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=hr(),{setView:s}=Uc(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(qb,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function RPn(){const{connectionState:e,schemaType:t,title:n,value:r}=hr(),o=!!r&&e==="connected",{error:i,value:s}=dB({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const $Pn=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=hr(),{features:m}=l1(),{index:v,BackLink:g,hasGroupSiblings:b}=Uc(),{actions:x}=MB(),y=h.useMemo(()=>U3e({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>y.filter(KN),[y]),C=h.useMemo(()=>y.filter(H3e),[y]),_=f.length>1,S=ro(u,I=>I.revTime),{collapsed:E,isLast:j}=dh(),k=j&&!E?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&b,D=!A&&!m.backButton;return l.jsx(GN,{ref:n,loading:!d,title:l.jsx(RPn,{}),tabs:_&&l.jsx(OPn,{}),tabIndex:k,backButton:m.backButton&&v>0&&l.jsx(se,{as:g,"data-as":"a",icon:Gx,mode:"bleed",padding:2}),subActions:l.jsx(b$e,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(Y,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((I,O)=>h.createElement(I,{key:"language-filter-".concat(O),schemaType:c}))}),w.map(I=>l.jsx(V3e,{node:I},I.key)),l.jsx(L3e,{nodes:C},"context-menu"),T&&l.jsx(lt,{content:l.jsx(B,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(se,{"aria-label":"Split pane right",icon:E0e,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(se,{icon:Ei,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&l.jsx(se,{icon:Ei,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var Vge=Object.freeze,MPn=Object.defineProperty,FPn=(e,t)=>Vge(MPn(e,"raw",{value:Vge(t||e.slice())})),Hge;const LPn=P(F)({position:"relative"}),BPn=P(rA)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:fe(Hge||(Hge=FPn([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),NPn=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:b,isDeleting:x,isDeleted:y,timelineStore:w,formState:C}=hr(),{collapsed:_}=t1(),{collapsed:S}=dh(),E=g0(),{features:j}=l1(),[k,T]=h.useState(null),A=td(k),D=h.useRef(null),[I,O]=h.useState(null),$=h.useRef(null),R=f._createdAt?"update":"create",V=h.useMemo(()=>{if(C)return C.groups.find(z=>z.selected)},[C]),M=h.useMemo(()=>p.find(z=>z.id===s)||p[0]||{type:"form"},[s,p]),H=j.splitPanes&&D.current||E.element,q=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),U=M.type!=="form",W=h.useMemo(()=>M.type==="component"&&M.component&&h.createElement(M.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:M.options,schemaType:v}),[M,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),Q=ro(w,z=>z.lastNonDeletedRevId);h.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),h.useEffect(()=>{H&&i(H)},[H,i]);const N=h.useMemo(()=>r?l.jsx(hPn,{value:a||f}):null,[r,a,f]),K=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx($Pn,{ref:T}),l.jsx(ZA,{children:l.jsxs(Y,{height:"fill",children:[(j.resizablePanes||!K)&&l.jsx(LPn,{flex:2,overflow:"hidden",children:l.jsx(rd,{element:H,__unstable_elements:{documentScrollElement:I},children:l.jsx(Ru,{element:I,children:l.jsxs(Tx,{scrollElement:I,containerElement:$,children:[M.type==="form"&&!b&&m&&l.jsxs(l.Fragment,{children:[l.jsx(_Pn,{granted:!!(g!=null&&g.granted),requiredPermission:R}),!x&&y&&l.jsx(vPn,{revisionId:Q}),l.jsx(V$e,{})]}),l.jsxs(BPn,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:O,children:[l.jsx(APn,{hidden:U,margins:q,ref:$},c+(m?"_ready":"_pending")),W]},"".concat(V==null?void 0:V.name,"-").concat(c,"}")),N,l.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),K&&l.jsx(Ru,{element:o,children:l.jsx($In,{documentId:c,documentType:v.name,flex:1})})]})})]})},H$e=["left","bottom"],zPn={small:0,medium:1,large:2,full:"auto"};function VPn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(an,{content:l.jsx(HPn,{dialog:t}),fallbackPlacements:H$e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function HPn(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=Ka(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return lr(m,[f]),Ji(v),l.jsxs(Y,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(F,{flex:1,overflow:"auto",padding:4,children:l.jsx(B,{children:s})}),l.jsx(F,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(on,{columns:2,gap:2,children:[l.jsx(se,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(se,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function UPn(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(F,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(Wu,{zOffset:"fullscreen",children:l.jsx(Ii,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:zPn[t.width],children:l.jsx(F,{padding:4,children:t.content})})})}function WPn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(an,{content:l.jsx(YPn,{dialog:t}),fallbackPlacements:H$e,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function YPn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=Ka(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return lr(a,[i]),Ji(c),l.jsx("div",{ref:s,children:n})}function Uge(e){const{children:t}=e,{element:n,elements:r}=g0(),o=(r==null?void 0:r[J3e])||n;return l.jsx(rd,{element:o,children:t})}function hz(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(VPn,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(WPn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(Uge,{children:l.jsx(UPn,{dialog:t})});if(t.type==="custom")return l.jsx(Uge,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Ii,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(F,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function qPn(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(Jt,{id:"".concat(r,"-action-menu"),button:l.jsx(se,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:qa,mode:"ghost",ref:o}),menu:l.jsx(Lt,{padding:1,children:t.map((p,m)=>l.jsx(GPn,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(Wu,{zOffset:"paneFooter",children:l.jsx(hz,{dialog:f.dialog,referenceElement:a})})]})}function GPn(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:t.title})});return l.jsx(Ne,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(lt,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(Y,{align:"center",paddingX:3,children:[l.jsxs(Y,{flex:1,paddingY:3,children:[t.icon&&l.jsx(F,{marginRight:3,children:l.jsxs(B,{children:[h.isValidElement(t.icon)&&t.icon,Zn.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(B,{children:t.label})]}),t.shortcut&&l.jsx(F,{marginLeft:3,children:l.jsx(Q7,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function U$e(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(Y,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(B,{size:1,children:o.title}),o.shortcut&&l.jsx(F,{marginLeft:o.title?2:0,children:l.jsx(Q7,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(Y,{children:[o&&l.jsx($u,{zOffset:200,children:l.jsx(lt,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(re,{flex:1,children:l.jsx(se,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(F,{marginLeft:1,children:l.jsx(qPn,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(hz,{dialog:o.dialog,referenceElement:s})]})}const KPn=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=hr();return!t||!o?null:l.jsx(qN,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(U$e,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),ZPn=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=hr(),o=ro(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[ZN],[]);return l.jsx(qN,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(U$e,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),XPn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function QPn(e){let{states:t}=e;return l.jsx(qt,{space:1,children:t.map((n,r)=>l.jsx(lt,{content:n.title&&l.jsx(F,{padding:2,children:l.jsx(B,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(mL,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?XPn[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function JPn(){const{badges:e,editState:t}=hr();return!t||!e?null:l.jsx(s2n,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx(QPn,{states:r})}})}var Wge=Object.freeze,e3n=Object.defineProperty,t3n=(e,t)=>Wge(e3n(e,"raw",{value:Wge(t||e.slice())})),Yge;const n3n=P(Y)(Yge||(Yge=t3n([`
  cursor: default;
`])));function r3n(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=qo(r||"",{minimal:!0,agoSuffix:!0}),a=qo(r||"",{minimal:!0}),c=qo(o||"",{minimal:!0,agoSuffix:!0}),u=qo(o||"",{minimal:!0}),d=qo(o||"",{minimal:!1,agoSuffix:!0}),f=qo(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(n3n,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(lt,{placement:"top",portal:!0,content:l.jsx(re,{padding:3,space:3,children:l.jsx(B,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(se,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(Y,{align:"center",children:[l.jsx(F,{marginRight:t?0:3,children:l.jsx(B,{size:2,"aria-hidden":"true",children:i?l.jsx(C0e,{}):l.jsx(a0,{})})}),!t&&l.jsx(B,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var qge=Object.freeze,o3n=Object.defineProperty,pz=(e,t)=>qge(o3n(e,"raw",{value:qge(t||e.slice())})),Gge,Kge,Zge;const i3n=P(ed.path)(Gge||(Gge=pz([`
  transform-origin: center;
`]))),s3n=e=>l.jsx(ed.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),a3n=e=>l.jsx(i3n,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),l3n=e=>l.jsx(ed.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),c3n=e=>l.jsx(ed.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),u3n=im(Kge||(Kge=pz([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),d3n=P.g(Zge||(Zge=pz([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),u3n),f3n={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},h3n={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},p3n={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},m3n={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},g3n={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function v3n(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(ed.g,{variants:f3n,initial:t,animate:t,children:[l.jsxs(d3n,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(a3n,{variants:p3n,initial:t,animate:t}),l.jsx(s3n,{variants:h3n,initial:t,animate:t})]}),l.jsx(l3n,{variants:m3n,initial:t,animate:t}),l.jsx(c3n,{variants:g3n,initial:t,animate:t})]})}):null}const y3n=ie.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=qo(i||"",{minimal:!0}),c=qo(i||"",{minimal:!0,agoSuffix:!0}),u=qo(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(lt,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(re,{padding:3,space:3,children:[l.jsx(B,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(B,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(se,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(Y,{align:"center",children:[l.jsx(F,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(B,{children:l.jsx(v3n,{status:o})})}),!r&&l.jsx(B,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),b3n=ie.memo(y3n),x3n=1e3,w3n=3e3,C3n=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=hr(),d=VPe(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[b,x]=h.useState(null),y=td(b),w=!y||(y==null?void 0:y.width)<300,[C,_]=h.useState(null),S=ro(c,k=>k.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const k=setTimeout(()=>_("saved"),x3n);return()=>clearTimeout(k)}if(C==="saved"){const k=setTimeout(()=>_(null),w3n);return()=>clearTimeout(k)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const E=h.useMemo(()=>l.jsx(b3n,{lastUpdated:f,status:C||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||v)&&l.jsx(F,{marginRight:1,children:l.jsx(r3n,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return l.jsxs(Y,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(Y,{align:"center",flex:1,children:[E,!w&&l.jsx(F,{marginLeft:3,children:l.jsx(JPn,{})})]})]})});var Xge=Object.freeze,_3n=Object.defineProperty,S3n=(e,t)=>Xge(_3n(e,"raw",{value:Xge(t||e.slice())})),Qge;const E3n=P(F)(Qge||(Qge=S3n([`
  min-width: 10em;
  max-width: 16em;
`])));function k3n(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=hr(),o=ro(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(F,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(Y,{align:"center",children:[l.jsx(F,{flex:[1,2],children:n&&l.jsx(C3n,{})}),l.jsx(E3n,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx(ZPn,{}):l.jsx(KPn,{})})]})}),[t,n,o])}function j3n(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(b=>b.shortcut&&pi(b.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(Wu,{zOffset:"paneFooter",children:l.jsx(hz,{dialog:f.dialog,referenceElement:t})})])}const W$e=ie.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=hr(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx(qN,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(j3n,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});W$e.displayName="DocumentActionShortcuts";var Jge=Object.freeze,T3n=Object.defineProperty,A3n=(e,t)=>Jge(T3n(e,"raw",{value:Jge(t||e.slice())})),eve;const tve=["fixed","fixed","absolute"],D3n=P(dWt)(eve||(eve=A3n([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),ORn=h.memo(function(t){const{name:n}=Mn();return l.jsx(pN,{name:t.pane.source||n,children:l.jsx(I3n,{...t})})});function I3n(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Mn().document,i=Uc(),s=O3n(n.options,i.params),{documentType:a,isLoaded:c}=Fbn(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=MN({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?P3n(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:b,routerPanesState:x}=i,y=((t=x[b+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=y,_=h.useMemo(()=>C?{path:_l(C),state:b>=w-1?"none":b>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,b,w]);return s.type==="*"&&!p?l.jsx(F$e,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document"}):a?l.jsx(L$e,{...m,children:l.jsx(oen,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:_,children:l.jsx(R3n,{})})},"".concat(a,"-").concat(s.id)):l.jsx(M$e,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(re,{space:4,children:l.jsxs(B,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function O3n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=J0();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function P3n(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function R3n(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=hr(),{collapsed:f}=t1(),p=xAe(),[m,v]=h.useState(null),[g,b]=h.useState(null),[x,y]=h.useState(null),[w,C]=h.useState(null),_=td(g),S=_==null?void 0:_.height,E=h.useCallback(T=>{i(T),o(T)},[i,o]),j=YSn+(n?$4:0),k=WSn+(n?$4:0);return u?l.jsxs(W$e,{actionsBoxElement:x,as:KA,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:k,onKeyUp:a,rootRef:v,children:[l.jsx(qR,{position:tve,zOffset:p.portal,children:l.jsx(Y,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(D3n,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:E,children:l.jsx(NPn,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),l.jsx(rd,{__unstable_elements:{[J3e]:w},children:l.jsx(qR,{position:tve,zOffset:p.portal,children:l.jsx(q2n,{ref:b,children:l.jsx(k3n,{actionsBoxRef:y})})})}),l.jsx(KOn,{})]}):l.jsx(M$e,{currentMinWidth:j,flex:2.5,minWidth:k,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(re,{space:4,children:[t&&l.jsxs(B,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(B,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),zc]})})}const nve=100,Q4=2e3,Y$e={by:[{field:"_updatedAt",direction:"desc"}]},$3n={};function M3n(e){return nA(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const F3n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function q$e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(F3n);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function L3n(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function B3n(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=N3n(t,r.field);return o?V3n(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function N3n(e,t){const n=_l(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=z3n(r,o);continue}if(!(Or(o)||vl(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Su(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function z3n(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function V3n(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var rve=Object.freeze,H3n=Object.defineProperty,G$e=(e,t)=>rve(H3n(e,"raw",{value:rve(t||e.slice())})),ove,ive;const U3n=P(F)(ove||(ove=G$e([`
  position: relative;
`]))),W3n=P(F)(ive||(ive=G$e([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),Y3n=[...Array(30).keys()];function q3n(e){const{layout:t}=e;return l.jsx(re,{padding:2,space:1,children:Y3n.map(n=>l.jsx(te,{padding:2,children:l.jsx(ah,{isPlaceholder:!0,layout:t})},n))})}function G3n(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:b}=e,x=En(),{collapsed:y}=t1(),{collapsed:w,index:C}=dh(),[_,S]=h.useState(!1),E=h.useCallback(()=>{c||a||!_||p()},[a,c,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:I}=D;const O=Pn(A._id),$=t===O,R=!s&&$,V=s&&$,M=I===u.length-1,H=M&&a,q=M&&o;return l.jsxs(l.Fragment,{children:[l.jsx(bSn,{icon:b===!1?!1:void 0,id:O,layout:d,marginBottom:1,pressed:R,schemaType:x.get(A._type),selected:V,value:A}),H&&l.jsx(Y,{align:"center",justify:"center",padding:4,children:l.jsx(ur,{muted:!0})}),q&&l.jsx(F,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(B,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",Q4," documents"]})})]})},[t,s,u.length,d,x,b,o,a]),k=h.useMemo(()=>i?l.jsx(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(ao,{width:1,children:l.jsx(F,{paddingX:4,paddingY:5,children:l.jsx(B,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(ao,{width:1,children:l.jsx(F,{paddingX:4,paddingY:5,children:l.jsx(B,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return l.jsx(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(ao,{width:1,children:l.jsxs(re,{paddingX:4,paddingY:5,space:4,children:[l.jsx(No,{as:"h3",children:"Could not fetch list items"}),l.jsxs(B,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(F,{children:l.jsx(se,{icon:l0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return k;if(f==="initial"&&c)return l.jsx(YN,{ms:300,children:l.jsx(q3n,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(C,"-").concat(w);return l.jsx(U3n,{overflow:"hidden",height:"fill",children:l.jsx(W3n,{children:l.jsx(ih,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,E,C,c,u,d,f,m,j,g,_]);return l.jsx(ZA,{overflow:y||f==="initial"?"hidden":"auto",children:T})}const K$e=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=l1(),{collapsed:d,isLast:f}=dh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return l.jsx(GN,{actions:l.jsx(gSn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(se,{as:g2n,"data-as":"a",icon:Gx,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});K$e.displayName="DocumentListPaneHeader";function K3n(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=lo(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(ut((v,g)=>g===0&&v.type!=="welcome"?Mu(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):xe(v)),ra()),[p,m]=ML(f,v=>v.type==="welcome");return nn(p.pipe(Ci(1)),m.pipe(Zb(1e3,jl,{leading:!0,trailing:!0}))).pipe(m7(v=>(c?xe(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(ut(b=>{const x=b.flatMap(E=>n.get(E)||[]),y={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=NAe(y,w),S=()=>t.observable.fetch(C,_);return v.type==="mutation"&&v.visibility!=="query"?Fo(1200).pipe(ut(S)):S()}))))}const Z3n=[],sve={error:null,onRetry:void 0,result:null},X3n={result:null,error:null};function Q3n(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=fr({...sn,apiVersion:i||sn.apiVersion}),a=En(),[c,u]=h.useState(sve),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?M3n(m):Z3n,[m]),[g,b]=h.useState(!1),[x,y]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>q$e(t,n),[t,n]),S=p===null&&!f,E=(m==null?void 0:m.length)===Q4,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),k=h.useCallback(D=>{var I,O;if(D.error){u(D);return}const $=((O=(I=D.result)==null?void 0:I.documents)==null?void 0:O.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){b(!0);return}if($<nve&&$!==0&&!w&&y(!0),(D==null?void 0:D.result)===null){u(V=>({...V.error?D:V}));return}b(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new wr,I=()=>D.next();return K3n({client:s,filter:t,limit:w?Q4:nve,params:n,schema:a,searchQuery:o||"",sort:r||Y$e,staticTypeNames:_?[_]:void 0}).pipe(ce(R=>({result:{documents:R},error:null})),Jo(X3n),On(R=>R instanceof ProgressEvent?Mu(()=>new Error("Request error")):Mu(()=>R)),On((R,V)=>zr(xe({result:null,error:R}),nn(Ti(window,"online"),D).pipe(Ci(1),ut(()=>V)))),na((R,V)=>({...R,...V,onRetry:I})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(k);return()=>{D.unsubscribe()}},[k,T]);const A=h.useCallback(()=>{y(!1),b(!1),u(sve),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:E,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var ave=Object.freeze,J3n=Object.defineProperty,mz=(e,t)=>ave(J3n(e,"raw",{value:ave(t||e.slice())})),lve,cve,uve;const J4=[],eRn=im(lve||(lve=mz([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),tRn=P(Zx)(cve||(cve=mz([`
  animation: `,` 500ms linear infinite;
`])),eRn),nRn=P(te)(uve||(uve=mz([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function rRn(e){const t=h.useRef(e);return Fu(t.current,e)||(t.current=e),t.current}const oRn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Vt(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||J4)}:{...o,selected:!1}})},PRn=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=En(),{name:u}=Mn(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=J4,menuItemGroups:m,menuItems:v,options:g,title:b}=s,{apiVersion:x,defaultOrdering:y=J4,filter:w}=g,C=rRn(g.params||$3n),_=s.source,S=h.useMemo(()=>q$e(w,C),[w,C]),E=(f==null?void 0:f.showIcons)!==!1,[j,k]=X4(S,"layout",d),[T,A]=h.useState(""),[D,I]=h.useState(""),[O,$]=h.useState(null),R=h.useRef(!1),V=h.useMemo(()=>(y==null?void 0:y.length)>0?{by:y}:Y$e,[y]),[M,H]=X4(S,"sortOrder",V),q=S&&M?B3n(M,c.get(S)):M,U=Po(q),W=L3n(w),{error:Q,hasMaxItems:N,isLazyLoading:K,isLoading:z,isSearchReady:Z,items:G,onListChange:J,onRetry:X}=Q3n({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:U}),ee=h.useMemo(()=>oRn({menuItems:v,sortOrderRaw:M,layout:j}),[j,v,M]),oe=Nj(be=>be.pipe(ce(me=>me.target.value),bn(I),FL(me=>me===""?xe(""):Fo(300)),bn(A)),[]),de=h.useCallback(()=>{A(""),I("")},[]),le=h.useCallback(be=>{be.key==="Escape"&&de()},[de]);h.useEffect(()=>(R.current===!1&&!z&&(R.current=!0),()=>{R.current=!1}),[z]),h.useEffect(()=>{de(),R.current=!1},[a,de]);const ve=h.useMemo(()=>z&&G.length===0&&R.current?"spinner":"initial",[z,G.length]),Ce=l.jsx(F,{paddingX:2,paddingBottom:2,children:l.jsx(nRn,{radius:4,tone:"transparent",children:l.jsx(Rr,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!Z,fontSize:[2,2,1],icon:ve==="spinner"?tRn:Zo,onChange:oe,onClear:de,onKeyDown:le,placeholder:"Search list",radius:2,ref:$,spellCheck:!1,value:D})})});return l.jsx(pN,{name:_||u,children:l.jsxs(KA,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[jSn,l.jsx(K$e,{contentAfter:Ce,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:ee,setLayout:k,setSortOrder:H,title:b}),l.jsx(G3n,{childItemId:n,error:Q,filterIsSimpleTypeConstraint:W,hasMaxItems:N,hasSearchQuery:!!T,isActive:o,isLazyLoading:K,isLoading:z,items:G,layout:j,loadingVariant:ve,onListChange:J,onRetry:X,paneTitle:b,searchInputElement:O,showIcons:E},a)]})})}),iRn={}.NEXT_PUBLIC_SANITY_API_VERSION||"2023-11-12",sRn="production",aRn="ul6cobo2",lRn={name:"category",title:"Category",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}},{name:"name",title:"Name",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:90}}]},cRn={name:"collection",title:"Collection",type:"document",fields:[{name:"image",title:"Image",type:"array",of:[{type:"image"}],options:{hotspot:!0}},{name:"name",title:"Name",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:90}},{name:"category",title:"Category",type:"reference",to:[{type:"category"}],options:{list:[{title:"Slug",value:"slug"}]}}]},uRn={name:"product",title:"Product",type:"document",fields:[{name:"image",title:"Image",type:"array",of:[{type:"image"}],options:{hotspot:!0}},{name:"name",title:"Name",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:90}},{name:"collection",title:"Collection name",type:"reference",to:[{type:"collection"}],options:{list:[{title:"Slug",value:"slug"}]}},{name:"price",title:"Price",type:"number"},{name:"details",title:"Details",type:"string"},{name:"sizes",title:"Product Sizes",type:"array",of:[{type:"object",fields:[{name:"size",title:"Size",type:"string"},{name:"addedprice",title:"Added price",type:"number"},{name:"stock",title:"Size stock",type:"number"}]}]},{name:"stock",title:"Stock",type:"number"},{name:"oldprice",title:"Old price",type:"number"}]},dRn={name:"slider",title:"Slider image",type:"document",fields:[{name:"image",title:"Image",type:"array",of:[{type:"image"}],options:{hotspot:!0}},{name:"name",title:"Name",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:90}}]},fRn={name:"voucher",title:"Voucher",type:"document",fields:[{name:"name",title:"Name",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:90}},{name:"discount",title:"Discount in %",type:"number"}]},hRn={types:[lRn,cRn,uRn,fRn,dRn]},pRn={basePath:"/studio-ecommrce",projectId:aRn,dataset:sRn,schema:hRn,plugins:[tOn(),Lwn({defaultApiVersion:iRn})]};zyn(document.getElementById("sanity"),pRn,{reactStrictMode:!1,basePath:"/"});export{No as $,Gx as A,se as B,ih as C,ORn as D,Fj as E,CRn as F,rd as G,ARn as H,Nl as I,DRn as J,m0 as K,F$e as L,pN as M,IRn as N,jr as O,KA as P,v2n as Q,kRn as R,Kb as S,jRn as T,Ai as U,GA as V,ce as W,rn as X,te as Y,ao as Z,jSn as _,PRn as a,re as a0,zt as a1,ir as a2,B as a3,ZSe as a4,l0 as a5,Y as a6,$r as a7,TRn as a8,Jo as a9,Rf as aA,Rr as aB,qt as aC,lt as aD,Eu as aE,aa as aF,_L as aG,ILe as aH,C0e as aI,fr as aJ,ur as aK,t_e as aL,qx as aM,r2n as aN,lr as aO,an as aP,mL as aQ,Ev as aR,pe as aS,na as aa,rt as ab,Xn as ac,Xwe as ad,ad as ae,TN as af,dB as ag,gtt as ah,Cr as ai,xe as aj,zr as ak,$L as al,N0t as am,pl as an,hl as ao,bs as ap,Oe as aq,P0e as ar,ie as as,mRn as at,Zht as au,Lu as av,ye as aw,fe as ax,i2n as ay,on as az,Zn as b,GN as c,gSn as d,g2n as e,F as f,dh as g,t1 as h,bSn as i,l as j,ZA as k,Ht as l,$c as m,oT as n,pn as o,bt as p,Qa as q,h as r,P as s,v8 as t,l1 as u,Vt as v,pi as w,zo as x,En as y,Ts as z};
